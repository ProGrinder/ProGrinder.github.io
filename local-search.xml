<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-80.数独</title>
    <link href="/2023/03/21/Algorithm/Comp/0x20/20230321-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-080-%E6%95%B0%E7%8B%AC/"/>
    <url>/2023/03/21/Algorithm/Comp/0x20/20230321-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-080-%E6%95%B0%E7%8B%AC/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/168/">算法竞赛进阶指南-80.数独</a></p><p><a href="https://baike.baidu.com/item/%E6%95%B0%E7%8B%AC/74847?fr=aladdin">数独</a> 是一种传统益智游戏，你需要把一个 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>9</mn><mo>×</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">9 \times 9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">9</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span></span></span></span> 的数独补充完整，使得数独中每行、每列、每个 $ 3 \times 3 $ 的九宫格内数字 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>∼</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">1 \sim 9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span></span></span></span> 均恰好出现一次。</p><p>请编写一个程序填写数独。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>输入包含多组测试用例。</p><p>每个测试用例占一行，包含 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>81</mn></mrow><annotation encoding="application/x-tex">81</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span><span class="mord">1</span></span></span></span> 个字符，代表数独的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>81</mn></mrow><annotation encoding="application/x-tex">81</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span><span class="mord">1</span></span></span></span> 个格内数据（顺序总体由上到下，同行由左到右）。</p><p>每个字符都是一个数字（<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>−</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">1-9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span></span></span></span>）或一个 <code>.</code>（表示尚未填充）。</p><p>您可以假设输入中的每个谜题都只有一个解决方案。</p><p>文件结尾处为包含单词 <code>end</code> 的单行，表示输入结束。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>每个测试用例，输出一行数据，代表填充完全后的数独。</p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-css" data-language="css"><code class="language-css">4.....8.5.3..........7......2.....6.....8.4......1.......6.3.7.5..2.....1.4............52..8.4......3...9...5.1...6..2..7........3.....6...1..........7.4.......3.end</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">417369825632158947958724316825437169791586432346912758289643571573291684164875293416837529982465371735129468571298643293746185864351297647913852359682714128574936</code></pre><h3 id="method-dfs"><a class="markdownIt-Anchor" href="#method-dfs"></a> Method : DFS</h3><p>最初的dfs：</p><p>step1：每次随机选择一个未填数字的格子</p><p>step2：每次根据数独规则，枚举当前数字可以选哪些有效数字，-&gt;dfs()</p><p>这个无优化的dfs会因为搜索空间太大而TLE，需要做优化：</p><p>step1优化：每次优先选择可选数字最少的格子（优化搜索顺序）<br />具体而言：可以用bitset&lt;9&gt; row[i], col[j], cell[i]来用二进制状态压缩，表示当前某行某列某格的可选数字</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;const int N &#x3D; 9;const int M &#x3D; 81 + 7;int one[1 &lt;&lt; N], map[1 &lt;&lt; N];int row[N], col[N], cell[N][N];char str[M];inline int lowbit(int x) &#123;    return x &amp; -x;&#125;void init() &#123;    for (int i &#x3D; 0; i &lt; N; i ++) &#123;        row[i] &#x3D; (1 &lt;&lt; N) - 1;        col[i] &#x3D; (1 &lt;&lt; N) - 1;    &#125;    for (int i &#x3D; 0; i &lt; 3; i ++) &#123;        for (int j &#x3D; 0; j &lt; 3; j ++) &#123;            cell[i][j] &#x3D; (1 &lt;&lt; N) - 1;        &#125;    &#125;&#125;inline int get(int x, int y) &#123;    return row[x] &amp; col[y] &amp; cell[x &#x2F; 3][y &#x2F; 3];&#125;bool dfs(int cnt) &#123;    &#x2F;&#x2F; boundary    if (cnt &#x3D;&#x3D; 0) return true;        &#x2F;&#x2F; 优化搜索顺序：优先选取可选数量最少的点    int one_min &#x3D; 10;    int x, y;    for (int i &#x3D; 0; i &lt; N; i ++) &#123;        for (int j &#x3D; 0; j &lt; N; j ++) &#123;            if (str[i * 9 + j] &#x3D;&#x3D; &#39;.&#39;) &#123;                int t &#x3D; one[get(i, j)];                if (t &lt; one_min) &#123;                    one_min &#x3D; t;                    x &#x3D; i, y &#x3D; j;                &#125;            &#125;        &#125;    &#125;        &#x2F;&#x2F; 枚举可选数字    for (int i &#x3D; get(x, y); i; i -&#x3D; lowbit(i)) &#123;        int t &#x3D; map[lowbit(i)];                row[x] -&#x3D; 1 &lt;&lt; t;        col[y] -&#x3D; 1 &lt;&lt; t;        cell[x &#x2F; 3][y &#x2F; 3] -&#x3D; 1 &lt;&lt; t;        str[x * 9 + y] &#x3D; &#39;1&#39; + t;                if (dfs(cnt - 1)) return true;                &#x2F;&#x2F; recover        row[x] +&#x3D; 1 &lt;&lt; t;        col[y] +&#x3D; 1&lt;&lt; t;        cell[x &#x2F; 3][y &#x2F; 3] +&#x3D; 1 &lt;&lt; t;        str[x * 9 + y] &#x3D; &#39;.&#39;;    &#125;        return false;&#125;int main() &#123;    &#x2F;&#x2F; 对1~9 (0~8)做映射    for (int i &#x3D; 0; i &lt; N; i ++) map[1 &lt;&lt; i] &#x3D; i;    for (int i &#x3D; 0; i &lt; 1 &lt;&lt; N; i ++) &#123;        for (int j &#x3D; i; j; j -&#x3D; lowbit(j)) &#123;            one[i] ++; &#x2F;&#x2F; i的二进制表示中有one[i]个1        &#125;    &#125;        while (cin &gt;&gt; str, strcmp(str, &quot;end&quot;)) &#123;        init();                int cnt &#x3D; 0;        for (int i &#x3D; 0, k &#x3D; 0; i &lt; N; i ++) &#123;            for (int j &#x3D; 0; j &lt; N; j ++, k ++) &#123;                if (str[k] !&#x3D; &#39;.&#39;) &#123;                    int t &#x3D; str[k] - &#39;1&#39;;                    row[i] -&#x3D; 1 &lt;&lt; t;                    col[j] -&#x3D; 1 &lt;&lt; t;                    cell[i &#x2F; 3][j &#x2F; 3] -&#x3D; 1 &lt;&lt; t;                                    &#125;                else &#123;                    cnt ++;                &#125;            &#125;        &#125;                dfs(cnt);                cout &lt;&lt; str &lt;&lt; endl;        &#x2F;&#x2F; for (int i &#x3D; 0; i &lt; 81; i ++) &#123;        &#x2F;&#x2F;     printf(&quot;%c&quot;, str[i]);        &#x2F;&#x2F; &#125;        &#x2F;&#x2F; puts(&quot;&quot;);    &#125;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>c</mi><mi>n</mi><mi>t</mi><mo>∗</mo><msup><mi>N</mi><mn>2</mn></msup><mo>∗</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(cnt * N^2 * N)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">c</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(N^2)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>。</p></li></ul><h3 id="methoddancing-link-dlx"><a class="markdownIt-Anchor" href="#methoddancing-link-dlx"></a> Method：Dancing Link (DLX)</h3><p>数独这种精确覆盖问题，可以用DLX，等我学会了再补~.</p>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>DFS</tag>
      
      <tag>剪枝</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-79.小猫爬山</title>
    <link href="/2023/03/20/Algorithm/Comp/0x20/20230320-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-079-%E5%B0%8F%E7%8C%AB%E7%88%AC%E5%B1%B1/"/>
    <url>/2023/03/20/Algorithm/Comp/0x20/20230320-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-079-%E5%B0%8F%E7%8C%AB%E7%88%AC%E5%B1%B1/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/167/">算法竞赛进阶指南-79.小猫爬山</a></p><p>翰翰和达达饲养了 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 只小猫，这天，小猫们要去爬山。</p><p>经历了千辛万苦，小猫们终于爬上了山顶，但是疲倦的它们再也不想徒步走下山了（呜咕&gt;_&lt;）。</p><p>翰翰和达达只好花钱让它们坐索道下山。</p><p>索道上的缆车最大承重量为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span></span></span></span>，而 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 只小猫的重量分别是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>C</mi><mn>1</mn></msub><mi mathvariant="normal">、</mi><msub><mi>C</mi><mn>2</mn></msub><mo>…</mo><mo>…</mo><msub><mi>C</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">C_1、C_2……C_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">、</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</p><p>当然，每辆缆车上的小猫的重量之和不能超过 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span></span></span></span>。</p><p>每租用一辆缆车，翰翰和达达就要付 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 美元，所以他们想知道，最少需要付多少美元才能把这 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 只小猫都运送下山？</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 行：包含两个用空格隔开的整数，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span></span></span></span>。</p><p>第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2..</mn><mi>N</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2..N+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord">.</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 行：每行一个整数，其中第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 行的整数表示第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 只小猫的重量 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>C</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">C_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出一个整数，表示最少需要多少美元，也就是最少需要多少辆缆车。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>18</mn></mrow><annotation encoding="application/x-tex">1 \le N \le 18</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">8</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><msub><mi>C</mi><mi>i</mi></msub><mo>≤</mo><mi>W</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>8</mn></msup></mrow><annotation encoding="application/x-tex">1 \le C_i \le W \le 10^8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">5 19961219941229</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">2</code></pre><h3 id="method-dfs"><a class="markdownIt-Anchor" href="#method-dfs"></a> Method : DFS</h3><p>非常典型的一道dfs题目，直接dfs会超时，需要剪枝优化：</p><p>dfs(int u, int k)</p><ul><li>优化搜索顺序：将小猫重量从小到大逆序排序，先搜索重量较大的小猫，这样上层搜索分支就会减少，有利于减少整体分支数量</li><li>最优性剪枝：设定全局最小值，当搜索的任何时刻发现 k 已经&gt;=当前res，则当前分支直接回溯</li></ul><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;cstring&gt;using namespace std;const int N &#x3D; 18 + 7;int n, w;int cat[N], sum[N];int res &#x3D; N;void dfs(int u, int k) &#123;    &#x2F;&#x2F; boundary    if (u &#x3D;&#x3D; n) &#123;        res &#x3D; min(res, k);        return;    &#125;    &#x2F;&#x2F; prune    if (k &gt;&#x3D; res) return;        for (int i &#x3D; 0; i &lt; k; i ++) &#123;        if (sum[i] + cat[u] &lt;&#x3D; w) &#123;            sum[i] +&#x3D; cat[u];            dfs(u + 1, k);            &#x2F;&#x2F; recover            sum[i] -&#x3D; cat[u];        &#125;     &#125;    sum[k] +&#x3D; cat[u];    dfs(u + 1, k + 1);    &#x2F;&#x2F; recover    sum[k] &#x3D; 0;&#125;int main() &#123;    memset(sum, 0 ,sizeof sum);        cin &gt;&gt; n &gt;&gt; w;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        scanf(&quot;%d&quot;, &amp;cat[i]);    &#125;        &#x2F;&#x2F; 优先考虑决策少的元素    sort(cat, cat + n, [](const int a, const int b) &#123;        return a &gt; b;    &#125;);        dfs(0, 1);        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：最坏情况下<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n^2)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>， 每次最多多出k条路径，k最大为n，但由于剪枝，实际会远小于该复杂度。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(N)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul><h3 id="other"><a class="markdownIt-Anchor" href="#other"></a> Other</h3><p>一开始写了一个基于<code>set</code>的贪心方法，每次找当前尽可能能满足的最大重量的🐱，但是这并不是最优解。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;set&gt;#include &lt;iostream&gt;using namespace std;const int N &#x3D; 18 + 7;set&lt;int&gt; c;int n, w;int main() &#123;    cin &gt;&gt; n &gt;&gt; w;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        int x;        scanf(&quot;%d&quot;, &amp;x);        c.insert(x);    &#125;        int res &#x3D; 0;    while (!c.empty()) &#123;        int remain &#x3D; w;        while (remain) &#123;            auto it_upper &#x3D; c.upper_bound(remain);            if (it_upper !&#x3D; c.begin())&#123;                auto upper &#x3D; prev(it_upper);                remain -&#x3D; *upper;                c.erase(upper);            &#125;            else &#123;                break;            &#125;        &#125;        res ++;    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>DFS</tag>
      
      <tag>剪枝</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Large Selective Kernel Network</title>
    <link href="/2023/03/19/AI-Learning/20230319-Large%20Selective%20Kernel%20Network/"/>
    <url>/2023/03/19/AI-Learning/20230319-Large%20Selective%20Kernel%20Network/</url>
    
    <content type="html"><![CDATA[<h1 id="large-selective-kernel-network"><a class="markdownIt-Anchor" href="#large-selective-kernel-network"></a> Large Selective Kernel Network</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><p><strong>论文题目</strong> ：Large Selective Kernel Network for Remote Sensing Object Detection</p><p><strong>论文地址</strong> ：<a href="https://arxiv.org/abs/2303.0903v1">https://arxiv.org/abs/2303.0903v1</a></p><p><strong>论文出处</strong> ：arxiv 2023.03</p><p><strong>代码实现</strong> ：<a href="https://github.com/zcablii/Large-Selective-Kernel-Network">https://github.com/zcablii/Large-Selective-Kernel-Network</a></p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><p>最近，遥感目标检测的研究主要集中在改进BoundingBox的表示上，但忽略了遥感场景中存在的独特先验知识。<br />这种先验知识可能是非常有用的，因为对于微小的遥感物体来说，如果没有充分参考长程上下文的情况下，很容易发生误检。比如下面这种情况：</p><p><img src="/img/article/2023/03/19/2.png" alt="" /></p><p>图a上方，十字路口&amp;T型路口；图a下方，转角(树)&amp;十字路口。<br />图b上方，船or车？船，因为周边是水；图b下方，船or车？车，因为周边也停放了车。</p><p>另外一点，不同的对象类型所需的上下文信息是不同的：</p><p><img src="/img/article/2023/03/19/3.png" alt="" /></p><p>足球场所需要的上下文信息较少，环形交叉路口的需求要更大一些，十字路口通常需要大范围的上下文信息。</p><p>本文中，作者考虑了这些上下文先验，并提出了大型选择性内核网络LSKNet。</p><h2 id="detail"><a class="markdownIt-Anchor" href="#detail"></a> Detail</h2><p><img src="/img/article/2023/03/19/4.png" alt="" /></p><p>SKNet引入了具有不同卷积核的多个分支。不同的卷积核的多个分支，并有选择地沿通道维度组合它们。<br />沿着通道维度进行组合。ResNeSt扩展了SKNet的想法。延伸了SKNet的思想，将输入特征图划分为几组。<br />与SKNet类似，SCNet使用分支注意力来捕捉更丰富的信息和空间注意力来提高定位能力。</p><p>首先，作者提出的选择机制明确的依赖于通过分解的大核的序列；<br />其次，作者的方法是是自适应地将信息聚集到跨越空间维度的大核，而不是像SKNet所使用的通道维度。</p><h3 id="large-kernel-convolution"><a class="markdownIt-Anchor" href="#large-kernel-convolution"></a> Large Kernel Convolution</h3><p>不同的对象类型所需的上下文信息是不同的，因此要对多个不同大小的长程上下文建模，看成一系列感受野RF：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>k</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>≤</mo><msub><mi>k</mi><mi>i</mi></msub><mo separator="true">;</mo><msub><mi>d</mi><mn>1</mn></msub><mo>=</mo><mn>1</mn><mo separator="true">,</mo><msub><mi>d</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>&lt;</mo><msub><mi>d</mi><mi>i</mi></msub><mo>≤</mo><mi>R</mi><msub><mi>F</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>R</mi><msub><mi>F</mi><mn>1</mn></msub><mo>=</mo><msub><mi>k</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>R</mi><msub><mi>F</mi><mi>i</mi></msub><mo>=</mo><msub><mi>d</mi><mi>i</mi></msub><mrow><mo fence="true">(</mo><msub><mi>k</mi><mi>i</mi></msub><mo>−</mo><mn>1</mn><mo fence="true">)</mo></mrow><mo>+</mo><mi>R</mi><msub><mi>F</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}&amp; k_{i-1} \leq k_i ; d_1=1, d_{i-1}&lt;d_i \leq R F_{i-1} \\&amp; R F_1=k_1, R F_i=d_i\left(k_i-1\right)+R F_{i-1}\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0000000000000004em;vertical-align:-1.2500000000000002em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7500000000000002em;"><span style="top:-3.75em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2500000000000002em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2500000000000002em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>其中kernel大小为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span>；引入了一个膨胀率<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span></span></span></span>，确保感受野扩张的足够快</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><msub><mi>F</mi><mi>i</mi></msub><mo>=</mo><msub><mi>d</mi><mi>i</mi></msub><mrow><mo fence="true">(</mo><msub><mi>k</mi><mi>i</mi></msub><mo>−</mo><mn>1</mn><mo fence="true">)</mo></mrow><mo>+</mo><msub><mi>d</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">(</mo><msub><mi>k</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mo>…</mo><mo>+</mo><msub><mi>d</mi><mn>2</mn></msub><mo stretchy="false">(</mo><msub><mi>k</mi><mn>2</mn></msub><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><msub><mi>k</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">RF_i=d_i\left(k_i-1\right)+d_{i-1}(k_{i-1} - 1) + \ldots + d_{2}(k_{2} -1) + k_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p><img src="/img/article/2023/03/19/6.png" alt="" /></p><p>23 = 3 * (7 - 1) + 5 = 18 + 5</p><p>29 = 3 * (7 - 1) + 2 * (5  - 1) + 3 = 18 + 8 + 3</p><ol><li>它明确地产生了具有各种大的特征的多个感受野，这使得后来的内核选择更加容易</li><li>顺序分解比简单地应用一个较大的核更有效，相同的理论感受野下，作者的分解方法大大减少了参数量</li></ol><p>假设存在N个分解的核，每一个都通过<strong>1×1的卷积</strong>进行<strong>进一步处理</strong>，使得特征图的宽高相同，从而允许Channel Concat。</p><h3 id="spatial-kernel-selection"><a class="markdownIt-Anchor" href="#spatial-kernel-selection"></a> Spatial Kernel Selection</h3><p><img src="/img/article/2023/03/19/5.png" alt="" /></p><p>这一步就是从这些感受野中选出一个网络最关注的上下文区域。</p><p>首先是把经过不同核得到的卷积特征连接起来，</p><p>然后在channel再做一次卷积，转换为N个空间注意力图spatial attention maps，</p><p>最后做一个sigmoid掩码加权，然后把这些特征图相加融合起来，得到空间特征注意力。</p><h2 id="result"><a class="markdownIt-Anchor" href="#result"></a> Result</h2><p><img src="/img/article/2023/03/19/7.png" alt="" /></p><p><img src="/img/article/2023/03/19/8.png" alt="" /></p>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-78.可达性统计</title>
    <link href="/2023/03/19/Algorithm/Comp/0x20/20230319-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-078-%E5%8F%AF%E8%BE%BE%E6%80%A7%E7%BB%9F%E8%AE%A1/"/>
    <url>/2023/03/19/Algorithm/Comp/0x20/20230319-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-078-%E5%8F%AF%E8%BE%BE%E6%80%A7%E7%BB%9F%E8%AE%A1/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/166/">算法竞赛进阶指南-78.可达性统计</a></p><p>给定一张 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 个点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span> 条边的有向无环图，分别统计从每个点出发能够到达的点的数量。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行两个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo separator="true">,</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">N,M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>，接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span> 行每行两个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x,y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span>，表示从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span> 的一条有向边。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出共 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 行，表示每个点能够到达的点的数量。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>N</mi><mo separator="true">,</mo><mi>M</mi><mo>≤</mo><mn>30000</mn></mrow><annotation encoding="application/x-tex">1 \le N,M \le 30000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo>≤</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">1 \le x,y \le N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8304100000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">10 103 82 32 55 95 92 33 94 82 104 9</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">1633211111</code></pre><h3 id="method-位运算-拓扑排序"><a class="markdownIt-Anchor" href="#method-位运算-拓扑排序"></a> Method : 位运算 + 拓扑排序</h3><p>设从点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 出发能到达的点构成的集合为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>, 则有显然有：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mi>x</mi><mo stretchy="false">}</mo><mo>∪</mo><mrow><mo fence="true">(</mo><munder><mo>⋃</mo><mrow><mi mathvariant="normal">∃</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow></munder><mi>f</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">f(x)=\{x\} \cup\left(\bigcup_{\exists(x, y)} f(y)\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">x</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.808995em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∃</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">⋃</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.516005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>也就是说从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 出发能够到达的节点, 是<strong>从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 的所有后继节点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span> 出发能够到达的点的并集</strong>，再加上点<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 自身 。<br />所以在计算所有后继节点的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span> 值之后, 就可以计算出该点的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span> 值，(因此可以倒序计算)。<br />这启发我们用拓扑排序算法求出一个拓扑序, 然后按照拓扑序的逆序进行计算（因为在拓扑序中, 对任意一条边 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 都排在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span> 之前)。</p><p>关于状态存储, 由于至多有 30000 个点要存储，因此最坏情况下会产生<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>3000</mn><msup><mn>0</mn><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(30000^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">3</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>个集合，直接存储会<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi><mi>L</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">MLE</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span>。<br />此时我们可以考虑使用位运算状态压缩，用一个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>位二进制数存储每个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>，其中第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>位是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>表示<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>可达<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>，第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>位是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>表示<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>不可达<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>。这样一来，对若干个集合求并集，就相当于对若干个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>位二进制数<strong>按位或</strong>运算，最后统计结果中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>的个数就是从<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>出发能达到的节点数量。<br />而一个 <code>unsigned int</code> 有 32 位，因此一个点的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>位二进制数状态需要 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mi>N</mi><mn>32</mn></mfrac><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\frac{N}{32}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.217331em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.872331em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 个 <code>unsigned int</code>来存储, 即设计数组 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mrow><mtext> </mtext><mi mathvariant="normal">N</mi></mrow><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi mathvariant="normal">N</mi><mi mathvariant="normal">/</mi><mn>32</mn><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f[\mathrm{~N}][\mathrm{N} / 32-1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord"><span class="mspace nobreak"> </span><span class="mord mathrm">N</span></span><span class="mclose">]</span><span class="mopen">[</span><span class="mord"><span class="mord mathrm">N</span></span><span class="mord">/</span><span class="mord">3</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span> 来存储状态 为了方便统计, 考虑用 STL 的 <code>bitset</code>来实现这 30000 个二进制位的存储。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;queue&gt;#include &lt;bitset&gt;#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;const int N &#x3D; 3e4 + 7;const int M &#x3D; N;struct Edge &#123;  int to;  int w;  int nxt;&#125; edge[M];int head[N], idx &#x3D; 1;int deg[N], seq[N];bitset&lt;N&gt; f[N];void add(int from, int to, int w) &#123;    edge[idx].to &#x3D; to, edge[idx].w &#x3D; w, edge[idx].nxt &#x3D; head[from];    head[from] &#x3D; idx ++;    deg[to] ++;&#125;int n, m;bool top_sort() &#123;    queue&lt;int&gt; q;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        if (deg[i] &#x3D;&#x3D; 0) &#123;            q.push(i);        &#125;    &#125;        int cnt &#x3D; 0;    while (!q.empty()) &#123;        int t &#x3D; q.front(); q.pop();                seq[++ cnt] &#x3D; t;        for (int i  &#x3D; head[t]; ~i; i &#x3D; edge[i].nxt) &#123;            int j &#x3D; edge[i].to;            deg[j] --;            if (deg[j] &#x3D;&#x3D; 0) &#123;                q.push(j);            &#125;        &#125;    &#125;        return cnt &#x3D;&#x3D; n;&#125;int main() &#123;    memset(head, -1, sizeof head);        cin &gt;&gt; n &gt;&gt; m;    while (m --) &#123;        int u, v, w;        scanf(&quot;%d %d&quot;, &amp;u, &amp;v);        add(u, v, 1);    &#125;        top_sort();        for (int i &#x3D; n; i &gt;&#x3D; 1; i --) &#123;        int j &#x3D; seq[i];        f[j][j] &#x3D; 1;  &#x2F;&#x2F; j是自身可达的，因此初始N位bitset都置为1        for (int p &#x3D; head[j]; ~p; p &#x3D; edge[p].nxt) &#123;            f[j] |&#x3D; f[edge[p].to];        &#125;    &#125;        for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        printf(&quot;%d\n&quot;, f[i]. count());     &#125;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">(</mo><mi>N</mi><mo>+</mo><mi>M</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>32</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(N(N + M)/ 32)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">3</span><span class="mord">2</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>为对n进行二进制拆分的时间复杂度。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mi mathvariant="normal">/</mi><mn>8</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(N^2 / 8)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord">8</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul><h3 id="other"><a class="markdownIt-Anchor" href="#other"></a> Other</h3><p>一开始笨笨地写了一个时间复杂度最坏能达到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>的一个bfs：</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;queue&gt;#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;const int N &#x3D; 3e4 + 7;const int M &#x3D; N;struct Edge &#123;  int to;  int w;  int nxt;&#125; edge[M];int head[N], idx &#x3D; 1;void add(int from, int to, int w) &#123;    edge[idx].to &#x3D; to;    edge[idx].w &#x3D; w;    edge[idx].nxt &#x3D; head[from];    head[from] &#x3D; idx ++; &#125;int n, m;void bfs() &#123;    for (int u &#x3D; 1; u &lt;&#x3D; n; u ++) &#123;        int cnt &#x3D; 0;        bool visited[N];        memset(visited, 0, sizeof visited);        queue&lt;int&gt; q;        q.push(u);        while (!q.empty()) &#123;            int t &#x3D; q.front(); q.pop();            if (visited[t]) continue;            &#x2F;&#x2F; 没visited过的结点            visited[t] &#x3D; 1;            cnt ++;            for (int i &#x3D; head[t]; ~i; i &#x3D; edge[i].nxt) &#123;                int j &#x3D; edge[i].to;                if (!visited[j]) &#123;                    q.push(j);                &#125;            &#125;        &#125;        printf(&quot;%d\n&quot;, cnt);    &#125;&#125;int main() &#123;    memset(head, -1, sizeof head);        cin &gt;&gt; n &gt;&gt; m;    while (m --) &#123;        int u, v, w;        scanf(&quot;%d %d&quot;, &amp;u, &amp;v);        add(u, v, 1);    &#125;        bfs();        return 0;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>位运算</tag>
      
      <tag>拓扑排序</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2023-03-13-组会</title>
    <link href="/2023/03/13/Seminar/20230313-%E7%BB%84%E4%BC%9A/"/>
    <url>/2023/03/13/Seminar/20230313-%E7%BB%84%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="a4a5cc409355c1fe16fdef7c31e191366f328a0aba236d9c69e1be54c0be6a2a">af01d0b7d63db801117cb0ef9676516de44e7072765389aff9d62cc1f1d3da71904a8a50d1cd9d4df920da3895b7c927527f35105672f964b95c71d7add65ace6648ce31489cc722c8d800d4699c099735497fa034727d41377e8967c6c6f9d3e00865d3abe492f26e1a2efc94f288088d3130a926360a8d422253c602974054ec974db5ab9b591c5e82bafbcb5bb24882a58b29c789ab38489fe3c41f286e10902306987e727ba822add7a05d865de6b2e3f6e35862db75feededd38ef0e412508391a116732c70b075c054e7fd37bf107ea0ca460b6fc3c146acba2e0a2c4126913ba6d9913d9437eb624ddcaf3d7c2f4461925b95d6ddb6400c125a8d55f2e1f71763f5ddf2fbff811a8efdaa3bf97a51102f102922924d577ed9f65db33aaae8455e4ab8a8d89af623841b3c42588137bbeb014bf91a6d55b15f859cea586d9405fc2d51a7c12c7f637c28dc420b4dbb7f41b6f4c5dd2827fd87004685e2105df127390fe06072ec599d8e256bb1f14e36a93c9bdc75087307cb0ed6807141df8cfa322ced69168364a8a2d964c476688627c242f202aad6017a453ad647fed9e4b32c3fcbc306bdb805d802e81c3389c2fecd6df146908898db27f9aed2f7fb13e26a8b0522efc469b8a778c6572f56e8e2bb7d28dca862b29683f01d72a13fde41d91ed0ae94a1928d89e47092f0021d32693eed7e2d7df3ea138ab3a849b59779ea1862f3a3d61a66e111f13b33f125e5d810beaf27f740f1c3534e5eaa8d46f95a4a6801a26881d489f3d8b50ea2ea6afe0e5d9a218cd7ea053881ed8209289a4db68a8fbb0b78aeb23bbd9af5c7db11380517876b35aa5af4bdbaf467a5357a4ff8b8e75fd187dd296167296acff1bab393c0da85df37ea2a1d848deb7c384f7de499b35c5f821a9323f84d869e54effa9f07b6cdaae6b65e16749a73738879980dc199bccdfce9c09d4f9e8e1236864b70d640e92461a1e5c0de783074fc44121cf8c4b05f2fb279f93d9b5c1f276b19570c5591d1c83eee9d58d3e533a0668cc02725e928f301d737dabcb630eee1cad73b61b0b9b28ce06817ae8994bc5bc0f6959ae1c8f5412b31cf5e6c754886571fb7e210f94a280fa886d35880eb92edff704fae62fadf8bf95f9fb3594c36a41277b23918bd586aec58469fe8ff435a56d863bc21c1150e6b90fa19efd58c7a33df68634c9224f05a94d6b3559a5bfd04ec3d4d0b6acf66d6de34e17b88857ba2312e18ff7a801d381c965b25a1752f7e327f2bf6b7455a6f142cfe06f7607ada58326ed11d6ceb6d7695a55d57e9dac13fd7e091b9afc0c25f098f0193c90f12fb10a82b47e6015acf7c0ee399e6d68cbb1ae5388a88d2dc12ed7703418deaf1c2407952a6a2a5a2b1ac5728ef2ea9704abf48bd160abd3d8b812f93c74adae54ab6e269d5006934a4fb2d8074f4cf033ee6a85d80ba42a63058d48384ecb83afe40f28cd85ba72148593928fc8f1959b49bc9620f287ec5d25d3df0d44253b2b55df528d7c4604f897f2c963092a0728920f5c69e32b65122ff891ade69932485a9619f06926952e63bbeecd5eab406dbd573ae15b21964f144c014a60d0d812b6d3935e8fac3608d51a0149316f008cbd6a5baed0b80c5891ff2942d9811dcd9bb9e93fd29d00537759ae2556d4dbc5555357da301ed973f31634fcc3f24798dc8956538be85863fb424848bf8e2cd956c87bf367929a50d7d5b8b739a97fe55a0ed489cca7e635f9df4d708aafab3fa6dca8d0335584165db85ce4effbf7f49cebe08dad7e906d6458ab02c883427057b314fbd566bf46ee537e26573b9423ce440a9945a2d31197c9f119c63214575038baa26a663f63cf9787109bab8657e133a130d22454a75b268429576f02d7f7f08026b88976594c8dec552223c93804a435a489f048b988e4dbe93b13302f1feceacc2a1fe30a5017a74089ce7568b151f048b852a4eca74913a99705d8fc2d4ea83cb06a204131dd6239dedf8b032d9daefc9a5b119fca92415197d473bc1cfe27d61ebc2455840077d37a15cb3de32c4fbca057977c773cc727a5be86ff9509bbaff1b36bed0a6b02aafd69ccc123094ba655936162364c4add42732554da9095a247931a4ae7e9c4990f30d4653f97273ec69994f73e74bd51052c01752d84aec5cf77396ad1322a9093d773d0f9b555ce5f4ea27cecbe37d6f19a8a5c87f81886e12f80cd86a0c34f967fad9efa1a2a9b3033209f6945c221a514b9a89fe5979fc76d34345222042b15c1092e41b0b58df2ae46474a3afd042aa20e64320c08481f27fa90b392a081f840c90faa65dd45e18215ab8de0eaec9c75a5200745e3a3f4ed30e15a981944203a6d93f4d155909cde68a23643366b9e73b37fde964db85f4c9f6fd5559693690e2e246551f5f0bb7c2ac69cc78b2401f7902efbc3a78d0f86f09737a5b4470065cab5da52f4c0e4543a240b2ca41b5cc5b3ca6674a6b4889bd3e1bdd2fac5068e1a4f80a267965e78f2f6b9b018cdf731ea6dd8f15d5afea9e273177a7ada49097ce47f44718de127747d45a8e99562918c25fb32dd60dfe2e4d329e2ca3f00adb52792541afc4f97c00108aca9bf9d17f865649467a32138b6ab3830f220c5a3628c014c67272d55338aae7d56260bd7ada3dffd26dcc29d52d6dfc589e5dfa7015954c27c21682dee4bf9e1fe5a3c2ac29f16cc11aad2133526ad6063f2a7ab71dfeaa23c58441bd8951d750538ba6490b73aa4e6b74a1b7644a6a3f5808ecbf5ecf5eba8c4ad467bcca8522ca53027c9694f692e1a2e662acac60eb5cf57efd9fe9091ededfb16dc52dec9d71e21547151cb49dfac7cc72e839b5de0cb45cc425a1d1bb4010fea6c1c32b3e2c65cec449d2881c26434cbb8cd0477f2b017145bda43998a053a13d01efa2b42b5058535364b46138a07ff937491eb1518cab3dc0571dce91bcab97fbc709bdd9f62ab64e39f2aec9f10c28fc9208c0c28973be6029eafc1eb09373d17a83941726e3f29b77e0de5b172c60fc8dc77cedcbc3a25e5b05e6f33a190fe996b8c2780a969b1e1c6d68b7e642c965977063d6ab725237db36668f3364f63250b582cbaa1d4e0efcc8b1785c7e26913c6d5f0f36ff0ca9b47634906fb80d71fe16e01ead3b60078ec14ed84d8d78fa341ead0c36cf4cf793f1d73c630730f6fe9fe3b9e9e4e669333de754780e3df36324edd00d305b62c137ef249252ab7144722403b28f114c9f6ce0fd7b1a72be27d4f0a0b66f9538f5cc60a11e4c2ac01399a80910056c4ecf8f5eeb3db6c9e30d0e7443f9818227f5a9f7728420921c8bf0b0ae8f38546c75cc651238474ea72707382a6428a8a4d6cecb054136805fc61c1612e6a44285f4b1e566137d629b9217ecc7656944dacbedebb94c8479ae8d04db32eb02ef054dc046cd076e4e26182a8316e1734165b08b795d0b1d60bed824f7cb0bbb0f93dc5efc47ead1587f658cadd0880139c4c023c4ddc48f76f7e0022fa17a3c2a092a483093d789dcd6c443b26336a70ed38fcce0fd7841fdf9e5c8995a0d6be3a0fcfb87ccfe712fd37bcd980782ffbdfb1d0b7637dcc77f327466f7cc88b475aabe679c40c74eb5fdf6001cbf5f5583794c4903252dd7ec30c9e13a0ee468762700480286f084b3e69fa467689ca00f1209122481bb233ad8dc8b12c7e134f19509362cc085584d72dff36ee4c1c6fece653574ac53447e08659d2b6f7eb592a5d65d08bba4665cbb461b9813caecdf8c75ee9f82a09dd9f4a9556656b810d6c7dce76ba126cda8b8dbe115531ea4a80b5e8f674740d70566a970c0fd125105e556a5132fa4140c57130ec9321256286732fcf986c181c961d6b08a4b3ccb131a4495d6d02c17740a03f7ac66e82e4640b532c7d7c422a75307a02717921c0dae1963ac372742ab88f5cfca32ad16a67e45f300a398caad96a103b10aca6d83709af25359ad92e4bfd1b6a5e53ddfadcb14d7b696e42540570aeddd891f08feda66bdbe62686b56f8cdc5f0474d03367cde84d9802e5717bf8be6e2547e27bef9a8d8f6b4386063989f0ce6a09d884e4eecfbef33058a56c8d34c4007fce88b8cd6418aa3a4355245866ce3158a6d46c6fbeb4c1c1a2e9c5e026f645071e7b83fcecde139918daba3a3170a2c2efbf91634ae004b379f836f3eaa692cf38cc41442c680cec037093c99ab78fa983fd3985ceb89d396558c3ad5471fe4325ab3eafde44df317eacaf117cb5576f28852eee4b06684241106f9a9c4797cd9af80c3716a82517222e042b33370b7735350939c70a1ab357bd110ecad6265fc87c5300fcb678d72eb25e4a33b830186f4218175b2577569fbc74d3f68df05c3fc25b8563cd1af07468469020ddea214418e2783c2ab1ef85c65357a2dc56f96138ef0511141e0365c609299c4672833c31a117e24382527cf45ebfc9532a040393bb261de2519fc5247312ef6d9e927217746fc6281a149744aaab682cd5763d9091aecc162de17acfffde3e50ee39ff68996d5c210998d00c6ed3d1030367f3b94ee3e192be331b4652f3df14011804053dad68f4110ede5d78589702188fe6e26bba36c4c3141249ffe50f0a138be2f790c0d4792187661c4ef43fec3f3ad44f9b66cd8bef57d2e606fe37b10d38ba40a22ad5d225c35974b33ce5713a89eb430870f0715f885cd5e2815b3be8624189fdeeec1933a603588a78566f5b11dd7b63185bcf894a33f92641dc682a34d2092cb6289f1c943e14615c4913429392b26775e6c754144bde1b2cbbb7a06e2296c1730e0fdb6b07a39c2d9e605fae31398da06739891c373216e49f7e33af902e8b426f2fc3abadb989449be2d1ded8a641ca11c1338bfd6c5654928713fa918ade7c0a20e7ca1b084ec74ec350756ee7b1deafe197e2c5a5dd06d02ffabeee9d2a8ecf6b2db68e1b031484703f3f7136bb5bbbe0b2276e6fa8ba17a3065eff82e8dd027b9557bc2641ce596c7e76011ee71188407967cbe38ff979f7e664df111f9abe29fe9f4148407622563d9cb288e63de2ab6f07d92d7ecbfc1f80264900821dbcca588bce74663db49cf268ca3130f59de7ebbe143fced1a8640a66a6ca2a1dcda444b0edcdfd04a6c3bd8d3c634b6dedaac994a2dccf51844127a5512124e52f042fd0245a563d7c364a313d58582f772416e4b36c144a0635d8b691b9392c4a7b77419411de8f3fd92684681e133ba6bf585fd46ba5e143c99c0cf3da8d4f8f4266944ad9f7f49c2bf8de678882feb0ca2fa53a34d50202f8d97fcf39267820957b099bc9715c3c452da8971b6dbbcdc491e5b01743a92109600d9da59a7554ba966af6b2e40c24f8aeded9976c19c0f799766715c957c9ba6518586b261bf48f05a34d58cced2d936f4bc06aefafa60d39e6afc673e3626e3f52440d7b4d24025d41168d156d7db4432808c3f95a2da1ac07fa6e9d907761b97fbd612d1abf4de7aa0b51331898e8f7718b2ca230f5dc3f6610014ab80e5ee6b9b7b25ffa4f56eddece18d947282787d39d900c20cae77cc93313aa4916d2ddfb523edb05c14b6fa6330f6e3a52c065dbacf4b8fb44554f2ae2b940f74ce7ec51c6851d9db1a47f91602fa18472a83c0909e8066eb60c4436ab6c0bef0722b3b77e7e343bde8ded4e00da9939a65d163dbd80722dbe8ee01d563ddf51b5536e67a57c137e0860d711560b94ca7acd9400759bb404b81cd5ba5027734c574cbb07fc5b35c9620db441f9acc2e31b512ed345494a6792852fabe89442c7cf5ea528923ce13411591405f1b64bf7fcab67bfed01e9374c3bc9dea23e364c3f158a9a2832816ea5e8d2d587b3880a71cdcd43e861d75b33aacb862c4253c560347f070b47f948692f2de994f305f03b4488f2bf46510b71c1c977a5c00d80bfd52c2fb136e1a2f874659b7deb1658b3de344ae2978db59d340ef98da192d375e76f8138a86b34b61e4ebc72ded8bbecbf3cb19cf9eb8defddd9cc5515db108d169027e9ad81f48ecca11b3d36dd73f568bb9d88b3c505233d3cc643ab760840fdeff5ef74acca100d6e2051779763e98cccd887c113885519f56ca8e3a8e03594c2cdf9463b84041013130e980903e990df3ad644252cda00350f8a1a5dcb7d4db7a96db0761a7bad0305735afd3d8c9a5361cd1dec968690581d84c95183821e0fa4dd406eb4c1336e5e4f85033cb676f79420bc96742098b939d327c05369782670ece8c3c43e3fa2e778c212f4fef1467bd9ff7a3425067da4a253f5b784dc2574b9b24cea6caaad543c390be744697fb64f93bb1a79830d2d144ed32497f78a4059b6834b65f9d1b295fc1fd9e050db494a4f05463b2edd87ad60559eb3f31061ec8a69d7f817bf41057758da749c82c8b4a8d8f1c858d3e6c32c665da26c5f9666f9dce08c718df38da569f527b2b54a7e9bd8c26d0a057437a973380641088383e0fa70c86abccfaf76b612e40e0ae5ff56b456765782f2bbef34a45e1c5501a6e4578f5b4e8fc29fbf702928b82610ebd975f76fa28e3a2d0e9ff8289191c32633fbe63811644f76e6a6e34c849dc2aab590bd7c4b12758ca174397c38dcea4c2f7e60cda69ee8a6e582e9dfb81e1e937f0149f63c54bfbbe80da796a7c30604017f167ae25dfb9cd89e5b31a7f772d54e05def348a3dae36afe276fb137498ee20d2cb7972072c9b89dd27534c3a9b466dab990c1cab59a6570578de19374e9f86c586208a51f940ecfa0528e9ba1b053f109850a1467dc084c53a172fd3fe3a30b720e2398363ac3385a52af7a34fb8ae85ae7c4302f8bcd8a1d33dc3d549ba6561562da7ae43a272ff76a941d9c4cfb16c2523aaf7b0222a7a89e8c869dc6fa46b8cbeac73779ce86934ef69bad901fbf0cda3a63c69fce62d4d44f419956e6eed3c355c57e23a8de50919922e0c73daa9a6e01e93ea7d6a9be10127196db2ca476380f146a17805fb4c843b8fe34344095db50ebce0f523707095e548cf585152cb35947899cab0321d880981c450371b186a28bd24ef95dd34ff781895e20809d7650f37a5bd50b8686d0fef5ce2addde9b48624e4f2430c916facda1faf0996af9eff6e1c6beb4aa1a2befe14146402bf1a14c10a4a13d4a9bcc16d36803cdd9a2ba1be2c175296b555882c20d550fb8a8e75ab6e2bb0a65e12442f0284821419af92ddc15f469446c664f1e3b82058ed5c1eafa78c7191e01ab834486e25df8d269c614b02f2464f804bddcf6c092aedef55599eff2733fd8ea893a30893a3e828c610688a0374fb24c1c7400c3af31d2fcc6e88647d6532b1b1c98fb5720d7b1dbdaf15008695232163cd6aff45716f7125d458a6924fea8b2207611dfd2ee522e3ce62345268e63d3daa8f4117440c29e98be30f2ab00fa7741327fe303d640f0e41f68994c63247244fe54cbf9ddce262b88ef9005a253cac280451d87f86fe31c2f6ee858e9f27510f870cff8363c7bb030589056bc4216f967d9385a50a3c0b7e76f55b3fa986c3305ad46dfbbf46834c6d49666e46e913847ac984be674a8707b21ab52e6f38ef0dafdea699ccf4ecf22970fa237cdc06582b7b0e00a7ef0a301b4db46f40558f3bf2e23358737ff3ef24ce9028ac46b2c62a3f6029bfbcea055a66b03d28d967aacde5da1f4ff8801b51217fd2550cabc9e1c5dd7c051bd9704975b3920dd156aa38a980ec2832fd74bbe0037900616a13074691ef6b522063bdefbc2a797e495c27ab43a171dd3cd57381a9bf86f86e1a67b60166c4ef1e102cc7765c766f97b6864cdf5dd0aa2c8ef6d35c7ae98d957dbc6d4f6fd72601ffcdd192aa087b06bbb0f9a54c2ec53b8c1bf93584895ee54b0346287e3ab6961a2215e017ea373816ae15da1617b58d8b0f920c5804d44a923600b5e625c135daa52c442d1ee6dd1acc3f49b98823df5e07eda3fbed8b2e937a602e0a53f64e86a4b8f7c0ecae9681b06536f04c35c415ac6dba5495b333c50ef64a7108ff6c1f7de9b6efad59e7ee3470a187eba1619da94aedf69d034fffd9b7f86d8757abc3ed7efc1a3ad4bea738f328ba6c765654bf1b14c2838189b6ccf1c8fdabf373317d697cef69dfa74303f43a297c909bacbbbd3621ef92b4829580333b405bf0847932aae357858e5b26d9f4c8501cbabc8dd27f5278acad2d87c4f4c14a0e52141bc68a8266c9d6b049e3b4176cd0e706c199bbeb2a947801bb845bd786f76d87ab2eded890bc06719e95d65db1e1ab074e3cf75d4628c43ac566c2621f8d211d8b81328ac132c8f356a9b21c7a81352f68ab1c2b06e8574cfe03bcba4cb057c811f7e8bdfb73e1369e562dc320bcaa197bda0b10140eb50f6e5424ddb1deb76219bff83e46adcf999146a6d948c22c789d34bbefbee8ce88f3b43805a4c5a9168917d94728fe56cc178c33bb4925edbdf44480ce18f1d3c6ca317450c574f13c8d9b7a95310e4260deb86f7777b447533e6988285a2b10a328f91a1e8a7deb73155e2f289402b01326c9d584285b34597f10b6c56a64e8c17f42254e844bda8d430401077346d6c09e87575672ffbea55fbeb432846bccee661109572647a29c700d6cf102b951a67360df5aa700517bc9eda66f347e68dec8089125b17bad46f8d4874b074dcc66df73c2d8216fb7163d45904e97a72fc731a5656236584dda6a1b624b821786eec5954bf37f9c3199ae0a0892fcd28693bb111cc7a0b15c14d0bca184a3ff5f661b4dd0371f861b6dd49f7cf6972862c554adfde7277609773a76f7935869cd36946c6cf91b02a13c22bc92afb794e182fece2d8a1b5115fe45f371ca05df5fc6d5b30c54ce4bec67ec8193e24675de636ecb14983078c2fea1312fb2280c629130f7e24960f99ebcbcb6f3268f023d2693efb11ad8139a9584546a3e0970740ca7b8c7d9b977753000fe4b83e830a55beb47f94d3c2e92c721f8a80658815af2f4ba5f7937b86f3dba3a1ab495cb75e89c24571f098fbf24b8d0b5d5e57243e52b98bc67b8d49268d8f6c6f8ba2eaddc18a515a00203ce15a90c5da4bb31aaed772de0b0d306dc50574b369aa01e986b6c321a8b2041578b1f54293ef98cafb6bbd316b861948ce590c56a633dabb6fda89e478819790b1b91fe60e341dbd345ea7e375f3e4dea3f64aec22d4c406fdea8879c64a199a44d2ab7fc875beb40fab8289e34411f314ad27d5d49875dc8ced32f81d64063ffde13d732462d5fbee27293b44f11afd350ae0b2a7256047822a7984f2c90b22b4684ce92fbe14adf308561fb67147e430cf96dca2612f0bbf56e0c751f0904b843a46817359115d00bb38699b3c01c18e117c3baa8accf993db585d0ac43eb6eea56a8b9fda7f170dd57130d43d40786f57a38d2ae67429280bc7714d9c3d8dc9713b97cd6e1eb2aa602656ef0217338d17990c854da162f19ade072afdc354dd1a94b9cca8b04615366e06a88d3e9553556444f32588400cfd59eb560f770e6e41e445a098a743689f9ac08d64c57788f7f833d2460e7d9da06ecc575b9f7b554b4a2138fe4ddd3452197a58120b6a3921e60207a8c03ed2848ec731e99e3ec4f10fb35edcf0e03240bd024915c2b6e7f2476ed29221395c1a1dc66ded7fa42fb27cbadf71a02878040e1280696eea0e4b18fc6662aedc1b40c8fa6a66c1c1d0d91252615ac6ca2d6ec3e2b6b0a4b67045178df0ffd1f411c19465ea1796881929af1321fda18b5215a8b8280ac30a6f4da1cdc74875e16eddbd70c73547a44b2569ca099fb917bd99fbf9f14dc089b63a30fbf1ddddbe40fb772780305457bc6e48bbf4cf687c8a44d2b7bca78155a00a55d0079f480ab02e8c4ef10411c749fb378639ac4283c4d8e13b60e373f9f8394fd09658feb540dc4c0f521fbff0cb6753af77f3509f69f0c4bfbbbbd8237733e2477c91005620b3ee454a49ed87844b683ccbe737cce3c68b2fec5f6e1312e3d1406be206d33ba12e22d104367956b07fa4d2a9bb9c3935a0d3a1d81e25e71dd73d81eb0718b9543c33941088a7ea8edb54a880152a58471d5973045f21097bd28bfcfe24d7008909dcd6983c1689bfe72d5aa641619d5745adc4047aebcf3c20de595f5b6c9a6e848fc6fbf79e69e19cdaa41df103c59520f5b35f44ac8f4a0fc8697028fb5fe6c2cef6fb44b12ae6d40c6a49f6a60c6b7863a4a34a6350475a6e0ecf228b5621beb98e753f851b45884371f00bee694c2a327a8c80a4967615dd33daa44047d926a8223481160b9a331855414256a8dffc72ee331ada2dd30de7cc1ee31c605410b2b3a2cbdea53fb4634039eb4788ecd96256b0e317a2a9c49bdab696530eea875e8db0c6f63cc3cd5b3185e18cd7d29a2eaf269bdcb35379eae624381d043891d8790326f4d818770558b98a5e4a4a64837ff9399e786912494f9c7e4bf0b4e5ee2ce771f0c36bb8b41130dc67e93bf4712d21427dd694ca8060dff20edd94519d0eb9154d1587179aacb565fdcc15da65aba8cfbd79fce2bd4b320d21fe088beda701babe02ea684dc8410a5b47bf498fcc8a08ad9f86be86ced9f09310ba407a1355a209ae1d2afac33da429b424f3d897e27641e7722c379eb09d5749a7854f1dce935f96a323092e3fbf6d8a79a96c4c40c43638823b0be42ed4c548e11e57fe55de163ca86b92c7ab5b6b1ad66c604cff03b44cfec915e3957605d122be19e2327a8aed9aca980dc0fabb7c95bf9023965ffe0bd8ee7cce7c79607f8f19eec3f19901e26afc88c56e9ee4edeade1944cd2015a4a3c1e78154b040174b31ca824de96999220e0f00bbf3707d79c21d1b594d97a7a0692480dcb0e1e4c35634ebc76e67c5facced90043d50407c8f785a6fa8fad64f56010374b8011201a49d9d8983bcfbcd696b644a9dc2b3e28afc99c1d4d36fe1197dbecc5db432aea3f8befffa7bb87b2a9142e3395dd6db0a4d071b17d80d61aff1892129432e3d926417418efe5ca47e9fc3465fc9959625226ef7d9cc3212f16db4de22c0f18d7de7042a291181294678b1038ef3f23e8aad329d1b5dbd0cf037b6c0f8bccdc207a03d82da7fcbeb8b1bdb3dc00fa445a90cde86fea3f42df84886227afd403b87d548338bcf19864b83f1db0fcc5a0e8dc031a165a327ae5a278c64cc6aaf9a69502b6d9781a465e56560e8013d3a7361301bb639f858ec433d7da812fff2a7d5a0d061d1577327ce5f1dbe45fffbdb3fa9d959acc133e98cc089dbbdef0a4384540489b799f0a780eff921ea52a94cbe2da257235def564d6e5c9ad1e60a0893c8015c36591249c39250e0d08d22861cac9abbebc40d825ebfb263d636b9dd4a50ff06c5f4f090d2082f503825457cd879058e13ba4290e11c448abd9a30d35d3d008e501c97657a8acc08f4cc74eb0699025616d6f900006bd0912f625a660169638f1f206bcc79b38550cc4a6bf460c210dcda645a47c0db11a9e9259a397e521fb3e175f8d325c74a062b35f39488da506fe94b92db56b145a57dab4a87e728a8301b5f35792b7078a2cca65bad6b275ccacf0524c4cc5701212cf68e70784d4e29d023a1bc6f3f1d085e39cd84c4d369d7abf1884ea741e8dfc495a169f7af2643e3bd956cd4e2f5ef813883bc229c0b50d66e391fb695967569b5a3049c340ac8867d25afa2eea3e347ed5bbeb57408d680fd1768a6dd33a3433a1a188f31c453a792d2c41d7997fd75da532c1fab4ac49ace96ca2dec18901fef159437b2efced9f8c84212f03d9e2b38604daee9b0f4a90790b6de846b697069daef415c06ced04a7c2af79481fb844720a3a072621a5f6841cb0de7a3154ade55f162ed06d199a235c8b5b8fecd65f45e617b76c2a71d9873f15ad0c429f2ff8916abe3ae1b285697921eb6b316ba8e8f52e3fc704a341809d5801e25c6920b21acb1f5240259139f08958ae92d1a58d354c80185dbf5a54341bdc88fcfd578e0c8d74cdb40769b09718520c471e20dd03244663e8c948dad2ad698ef6d57ed1901c7451a331c73476fa47ddad50616f3355980f2caa92d61743f3f8c765478cf1f69f54404a779fba27e691bb5a63e274ea4b63872ab484534d42736f205f848e5a4ce81229acd88d496ebe1b9c2783067204db17fe163a322a985179acc4d2e2aaf17cf8d5f8c1f5345c78c28a5959f5ef95d834e0a898ecffe099fed3c628483a8c96b774bcb3aef27b088695b0bbcd5f47f859203bb53bd899de3da63dd18201c6b5e62d580b419b3a42a3179b7929bd92a4075e1f4f9d239b169a21ddc4193a9100ff6a6de12914f63f0ecbd30163564c0fffdecfac50d4e6d057ba9ff79c6e7a9c5de630ba6677515b98e78bf236c5fec187e73312aea8d8873eaf9486baa4ab7d3e49483df13b069aa9c077d98f1309af2afbf2b0748872e5c49bc23e42555dbcdd022552a45dd6d1807271ecf24431d86cfb506a186f1373a5b85b0a43f51c17315f92ac74b96f51da22c0a66a0b7cae44d52088b81c3fe588e2c528b10c91d6046c068b7835ae33c87fbcb2fc127a773cb9ac0dab8ca0292b7bbb1ce629674431b881766bac08370d2b0f66de8cd486c72d0263df5f9e9e986b72cebf75b9ef8515817273ee66aa0c5769b17c108d98c032cebedeb94ac580cfa90999738652713447a73085d0f6a80b878271c459d1ccb808cdc0f0c754842bba621aff1cafff878483817af5751f0cc6c7b1bf6baddd4bf12fd0731b7352c8c0e248080370ddfc8c8f9bf124967518bb0ea16441806bb902c5f018f090f4151ba57cfccc464bb6a7d891e898d5ad1aa9d3fabe41ca6574da2452c75d15c95b20d6394c9f2cdab52ad0e1da2960dc01ead1e7676d9fdd7a69a8c8cc46f8347a80c3a41ce68c6397ef06ae1acb59240b3b770be1f852871952b58652ccb8fd2b3ea066296dfabe5fc4f22f5f8bf7ef09abe9b52d2e87f8aecd8f72b368c97be950a6f88006485b4fd5db0ae289393fb4b83b8dbc4a69d54e7f229a1a0ca0af42fb2201ef6ec8ba6e677c8c19773157bec7a68970288645adb5c248bc5a09f75ca45978ff56b0bd38e45d26b6f726d491f470976500654e8c626989b251ac2a53975166200e8382b3845c459d1b78cf5b69ce1402d5e3f008882c1f6ded86852fbb538d913e25cc3f2db8bdf0b70cdd8ae0126dc1a94e4c3f7042972ad57cb07eb2392bf9101bc9f64cba4d13b6ae4688917545b5220d960db8a8b44b91e2a8ad3be6fc6e54efae6defc9c8bc91d1ee584dd1dedaabb956a67fb2b3fae69a438b02247e98bdbf656807ef5796c31f7cc52d1896733b968ebee44f4d004110698af55c0fc31b35ed27b1ad3f41316cf54d3c74626d15589d2682b6df624f4fdaf991c3ad9f24bc4715dab61a488aedf10c1266dadf9aa6117f7a0471667da93d9265d9eb64a413e2253d2700b7f7b1cc4c5cdd434f223776af618b6ee9ba605d2da9cf9b0a6a2ef58527a75d0c60c3fae5ea07208f2d6d43bc644122c2248d25cf433aa41599b9d8b0c2c3285df1163840b4daec45ca9297e932f1b2f2b050cd1878b4d5888873f9c65f4c05427245809bcd804af9011baab0eaae2c33d759b83e9d76db857e57f4fe7b85e6a0780274b711f230bb631d16bbb11a701441f89253d05a2deb217cd49a3e040c32937e5a50ff5c75c42511af307c0f21c22ee2bc7aee0e18b18c808901e21163ed23839636ed44e827d0f1246f0761867e206e613cf97f12bd3e6886dc9167789d40db6d2409df41327cee57c0ecf95e31ac8a67f571c608ce6bfaa8c23f478966b7b44fbe916990d3e81836f711a9a9a25ad8d17bbc65b7fdfae3c54674f456e7c5c1bc80014c9d787e5646e3341ccfdc4bc4a1fc1d17aa789df0b461c234339d4f928062ce8e287b326bf7638d79215ed85d05c99dbc3682cc609433930ed582bed16f0c0e1640ab0cdf3ebbcdfdccfd0c88de1ec2e1a6804896b329fc1cc703f0cf72e1a75005dc0d2aafd552695ebb2d6512817439b18c0b5ad73267bbdc716511b1982f832003a0ed3d8ac7c9658efe454984d8dfe8218aa4a90775be837b51086bc6ad9ccb6a64c53109d390a7a75edf8b5fe3d1a9df4f32b0afe6ef940c7b1683cba4ba1a9b7c253f3d34ba8b6cba29dda65cef3fd88423c55495db13897a17b89a5a0dee5d457013dbf37a77f438476e6abe5ba717878954aea908332f0498997960a6d4310d8a8a96ab020d7d9d9627d66b1730474d39e187d3d299f183c107efb5a3805034d6fff2749598d29dcede2f79bf672e0ca720e9671d3a942e4aaa6bab6b006bfb4f9c0782ff3eb9c7132ee68acd1d582cd50b431c374148c384b1970b2ccef1a44a7840e078087d3cd9d0a46e66715e2d473e344be32e4f72c96111794c63b3834059656d650f73b4d01f2fb208dcef6688b66e57b02c1e3964c12d456b5f518beae13f72b18bf880f070d96aa5b0607909fb4f1c2d085643e947a209d5d504b00eb10e37ea91af3fe044beb00f3ebdb2fa13e81a96a6875d627b9826b99df8940f79e78eb7508e2e48a5975b9b7805eeeaf6b98bd8355472a629ec849a491b4d43778506d3e5092873c497ce142a4b2e9ea067532187fef1387c0f19beb6b84df04cc010e2398d5b2000bae2067eacada5a96068d4955e234fe00706a646268183261e5efee0768ac0be04000fcd93aeabea56a1f79803cfad4471089cbb1f38bf1aa4f2eaf40fc8ab65ad78ede6008ad5314ad622f960a90d62eb306ba382510a8ee4e451922f1a551facf875bbc599058b42c2feda7149ebec39414851360c0bd21c72e06b5231ee9eaea5728108479da989af971710fb13cd5a5f595d61dbe1cbac5c7b3565a9fce4dbc84304f6151947f84061356683db3de0611c353b25b3df75bcc46d5debde576c0b18dac7e7eb0ba787aca18f614f049cade5849096ee449ad37dc2a5835d2aa229eed7ea7ef04ee7aaa21b552807c71765b568a0ecd2dbc0e339808af624e4bf110a2ffb400e1d6dcb8bbdfcc76db54c9554de6b1932dbd5286716a55534ead1809321c992dee87a0b441e9348f58525cbb902d3af1f3d2e10fd8a46a07315286117ecf31dc96c37bd0d03e161600e661c592c786cb24ebf0141d42a8aeaff742887bbde92fdb95811582141ed40e4a5765604d8ad91dba2ad5da5775b8ce72fc059f794ba480f0be4321d0c85ddd99e2d1e5918a02e4dcca69588f78e67246a1dd2f0dd53f099e4669d18b190e25449c5878d80ef629f5cf9caf24983488a48a49184f417cdab083add9cea11204212468e5be3619b3dc8fb4d7a48d81d1e40ac864e8cabaa32d84e5698816e1534cb0e81fd07fa8398bda37da9faebe6818f8454a47fd404adc577e648ca49649df5c50788c52f418cd65cc08cdc8c222fb37a6df5fb2fdb344d996bb219e61590ad9c0514ccbb0f47bb785ec3ea46038a259ccc5f46a6c36e772d5afdd26ee3bf45dcbef86f12eef0f470a776fedab74459cd82c2b02773e50159606a55ceea0ae39fb9692119ec5cdd8c14fd3aa6d8e0489e8aad2a2decc7cc857e873f64415bfac3ac489ed7fb8bc6994fd06a4cc903f1ed39b5dec84eb8eb49267dada97cc31b18e9e9266b1cb62dad74108f0f8ff57416243f3f86f3234a7826b37f83953b7e99567f425eabf38df7266fcfabaa51f2c0cce14a4898383ac07de523937002c4b226a62f3ae17b7499780bf872e22325c1a757e9bb1dd6310675f8ce02886e78a96f1a849d9dc03d7bb14926f58af5627dc0dc585dcd1aac69de883246de4f9d6231e2a8b1e5ea16c35bbea0e81b4abade3159d851e428e856171065c470b22b07896a0083b55c563c9dca26cc875f0483178dcc50c82ad430b8575c44064d41cd1d69bf58218ba25844ece71fc5e16b78b8504d566ca937f918a5e0e7db29a4282fcfe3690a2a712fa63cc437321eb2472bef9af281c8be7d8b050104572f991aa3be46c12a21305ae3ba0cdc651de6803f5da235d609d1a965fe4507ba5804520e8992c67856ddacf0a25aee7f969fd8994838a737423541760e356ab201187ae1c6245bdaf2bcbe8b2b260d0ffdca83445ea8ced0ead0c1bfe07fc46779b9f88d8ba32eea36514def2424d23e902b64b47e0bb9e0111d2edc2df4649480dfec53f226e916ba658092c2d43c2ae38c00044ae5c538a35427ebb2a08ae7287d4168fc9db86fcffefbddbd49f20004a85fb7c29ffd7b92de0b271a56425974b8a57acb2faaab55855229a5b466e64df3fa8cb19e2896888b48c1a47360fb08ee55a9da8576fdd10d4ba751f631062f4da077b5691e00fc0bae7bd0b45b2b678cc00c005644012f4c6a3f2cac2f54f310a224a0835f3c290c007d4f4e1980c192f943ba852ad53e11225d4738dc5f2329b90a36018001829924a2204c16f3a36f13e8defede266f09934d3614e53ee4a2d6e698bc106df0ae76830995b917535d52fddf0edc4322b2c256dd5aa035056fab43dd0c817d9effedff5a580b51302bdb3c7879a83fb668eb5474414a9e8eb7344abf8d75c9476eae2dc9298011b6d0d90277b982b3c22074d6f1216923e79deba27fa9738e153df175d057bbd80c22c9c8148da45a10e75804fc3d70c92b1dbc7cf9d36e4691e8899205cb46c47f59dcaed2b2fcd48cc47d91df88963a9fa145d11986831548bc052574176af41af59f9daf3f13d8a0d787dc3a263ab70a93371a460ae959d52e8a61d6149b7c0d73e4fd9fbe3db9a5019f06bda094445061e097b27a186d92eb442b75dd441edb9f742201475d43bef25b2d6566b629da5a85b48333d7bed4806f8f4ea2bce37e9fdb19fbcc626ea2813f880c4ffab60997f39823f9b888b91431af579b508c0bcc1343d32d5ebbdebc98113e2027b474cd7fc319d0046d00f946111653c56b080faa9b2d41ceb76299eb56b0496b6c7890bef54f5a172b77be8739ccebbe0e5be57261efb326033ac18512935a275659702eb4314d1d9455202754b3dd4bd58e52ea51f2953654d0f2d60342e241f4ab7ad3c87dcabcf9c6ff051e09d3e9adadf5bd92af00985b4d193a01fc00fa74b9c37679d6d49d6d4c4a60eda8cec54260e07bf9ffc4c6a89af28bf93440d258b63fe5ed25675ed015b04bc6be4602cd6f17a7a59abada6a6fbd701f934869b7e11aae29e346cfb326c2a714cc7f5e217c4c36ec3eee534e8aa7949a963f2d65e84e8cfb1a410c517e41cef274aa3c131d82dd91d922a2d80a515e1d36ac4cc81000f005529690680c87c0c714caec9f3dd5884729cc76655baadff426e93eed945e3a2c0e0ac1dae1ff1252b480dbb26c9d6ac5e94436712536cca5790ad838806a3447ddd7c91de2e650ccbf3cd1810169f292d1976be0666a54855a25a3a01724f26bd2172c7cb8e59aeeb1c59bfa184c0e7e32e841d41c43fbc574470d2676290f3e3d2af44ba31840ff3b04da22f6e4f681c4bc955a5c6fceb65634394e53e53123badeee79e95caaa221f12fcb92ffa60c7de5a5707b64e5e3908dba265139240c1d464a4a280b6d3becc7e1ea53b2d08d21ef870fa398923a20b054a7852f58d57e1290755988db368f37d7bc9035b4bbca7f76852bf812db54aa442e44efb8cb95cfe32d96b9a9a245938f986effa6ecd7887942ab221a686d6153d0717b0e061007c5537449ca734abbbb39ee6662c19322a9c89f509c19f00400ec62688e0ae47c9c3c4f67ad3432979e9d673f2ffe8ea790226cf52051488f7254508eccd38e4f16863d1dd6bce1900c1a91adeacb6ffe0ea483d285ce34e2befb736712aa9b840e9a5c28087067ddfc1cd628ce44a9d237e3d51b68a065930cb4a14944acb4808e730599ed686aeb8d990e22d7101fb227d5ff6418b9a295b677aac5375f93ee27c13b91c6c45d230fc0285f3f10ce0dbe0532e3231db4e5022bdab886116c4f8d1a92bbf9467fd4ba11c6f25c7a4e234075d7bb9613a5bb8663e032f7282dc4a06f212b70b62964af05bd94f09c630a5b57ccd9f52ae810354e1200c020a0e7cddb2398341dda73f660c749ac3ada02fb6c1361a1f8b5985afc9d355fdb5f6463bb1903c03f8661c6518e065efe2d1f9096c61835531f7f06909c87af7bbebf2ce8545bf74eb1829e5504cc642347f33cb7d863095a196e9b8d17261c8d1d2f431730acc6e76338ca21b4aaafa7c20224cd774788e087f296c2b925404ee0721d56f1f3da943c7392b3c95953ba34bc404c653b3f3da5f8aeaecf3abf5a04e6c435d6651cf1d93a925f4d0271456f68a2e758f9cfdfa5b7340cb07deaceae366c20d86f91baa00a17479c2d9c67cb6c4ca7129ea99598d8208f9e8bd154ee275b2b3543fa8753d4930c5b166dad05f8454f7216ff6ef562a82302c3f9262c732faa8c2db5b0b9dba3be2c7d0193cb4f7a7fa8211a35d2818bc75895940f674c068babef37452d00f9ebf630e4fea4afba04436ef7fbf9f5a53cfadf86d6decf8f293af093098d80de96610c172f062bcbaf6e818d4ce01f9ec8f45ed3e0f02dcdc1b7e0ea018e89ae6e5e1e1ad6966c2597722c7b03c889cc2b05b90c7839c1bf10ab2d6059107a10241bc46f8ca04efc87990b56077c83e5ec8a7215c23135bbaf9fd92edc7e15ccbbbdf36c355d55e63d5ae6632fd4152909259dc44f8aa302d2e8cc9af2546aa68d5dbe8a267ee7d52af0830b2f112019ecb6574616d9c2e7d522e502550a3d78cd39d5f3d7f44b1cc44055b0420dc72ba850f36743824414b599ad93abe65942704928372cfd5cb2e90933b4234a23a604ba186c1f4ce56802d653426506ebce28ccb74922bc408b216f00cc5b472e9145c489e3c140a77a70fc102c7e2b6866bdf564dffcd05eba13f787d5c71b6a342a69520caa0bd27983ce4b0d15703ebad485812de030bfc01170d6ae6ef9ed93441f08efcbf9060264091c70a7e1e03685506cbc0abc88880dce67fff41b5e07c1e113a42d31c7567b485e471e68387fec7364f0afbe254639b05b71099527c6faf2e66d6a12f34d698174eb0ca878561a015447fb9cd4ec5e178908d721715b50083e15b7b8f7ab6c9085846bba405ab7ea349ff04c5c768aac4c3fc41b2fcd4bcc1410c43dd65b841e7f6d046197a29d6a06f1e0f2382df607c41fb941c2b5e22da01aec8ec9205b16fde331cd319c7e1315425ed10213b15986f6466d62a1b69ad7bb574e7cf6dfe7504259086392a62ab5c1ae85ad10f1e6e36565fe5cf77c5f130d65b3701de91141508da81295ef67893ffbb089f62eb6ab470ca440d25f0d5d5ae0337b9a99de1121f783c88def31474c0dc4cd7813978c3ac7c87e4017d633ef3fc59073ec99455c9aa04fe24d1ddb2bf9d189242f8300c3d3c9d554df6c65ea7ac1ebbf9474abaaec630f8388935f77a51c0086d7d9d2a1ef1efac376cc142fbe390d756019ce933aea0ac406f4a1db1a43be5513b6d1e01d4f88272d5aba35a86dee40bf348770f47fd45b9affc8d14f2b9dceec84206ffa1d60b15ab78fdd34ecb3883b60d38672cac48c4d4c2ee47f378cbfc38ae96b986dc5e6fad6565a49930f9e4428abc20627cf7a42ab33f302dc44ce91256f5d73e9a36ad6d6f892f20737467daea84e97b3ef7c91023266a6e98bc412c8a27ba664d9ca9471389b2351962c3cc37bcec5fb813159205fd441aed4d81d99c9ba496efc8a7be13a2813fdfe46c796aa8d000e71263cb5035db0bfa5e22827782f8080be1e77c5a90b2e5a4cca39bc9ac14e0800ce91bdc98576608ceff8390a75d669ceb4fdbfd4f135177768284e0b31dac6fff5da52a269f90a0f27f305e1cb07a289a8d347cfc351dc84b73c76d2418a9e0fa774af1b2d204205f1583b5cf68629634dcbcc6dd200efd1447bf0bd0cf880e6822f32c63ae45b72ecffb31defe0c385b58e4a7428692cd6bcc304264fadd9d9a84da2fb2c234c3e53549e63483d57b0516eaa48f6b37ca34b9e92109133e8e1f054151b65542083c5f42fce2b094c3c3b8c6b968a3275a4375cda0862d73a996c81bb2ef66d2297675a73bbdf1ec366f65ded10adfd1a936c890ddd564d923741434c20d5a1ee184718c0ab61608119bb5464c0372cfced5eb36407a766ae7a956267d6064a1b3db645cf9ba232383627082983a9fd108e64296d5b3dc58e978e601cfd2cbb64fbf05f967c1c6fc9c080ea6e507e09e33714b3c0ad80dda1eab3ddf51acc98fd51023e576bcd08512d60f05734f5c0eb46af2afa68646671a5936a38d0364c27f5b83be36535dafd32fd622e3645d7a7eae5fab02c3d1239d4a3ff69a2d381e5e97f3816122cbe7241918d0fe302442820db06d58e4eb230a87713350ce729e253d2f84b23575cfea21074de68def4098cedcc2b0d3dbc21e650cde93649753736c9e0b7f57c0a2be115cc73ce31ea8dc28863c597f0c13a9b8e77a686f308274686b306b43e7b65832b50378832781cd4e7e38404c294047a6ba2572a365bf70f295a285559f9b32ad6a1aedb31eb5df1281478460943070c89c4bb2ce70d552f2a05b12eb8e96531e47b170f416663c664cc62b0424fb7f70209b0dda7ac39ed68d844bc95a898204639d50a4bee4b22a794dfee2426aa4c0ae6842f706eef94135f0a55da23f186f98a6934bbe77746d84d964f5cbcdc505327c59826d4c0ad0f7a93f3100cc17d168d05d096129e5d30349196b39b877539ec9afef50af088101831880346717db132b3c5f69a71e906a1fda99cbec2cfd4c753b9c49f71f6d3f8e617646ada13afa1dbef461f3eea2feac8b5ce7e8c2321afecd688aedb07f8feb5700a31e80d1ac15ff21624249e277eba9f3c680157d6f161099e483fbfa3849eb3ffa650ed38d77e6c4f4b93cdb9babe27632072522fdbfb9cb6076bb6b6908fcdae6c0c0f8799957de56193500ad23adee333f834a030daf1279b21c5ef3c9b5b026297af3aa08e9bfc5e2cced968e0cfb21fae52d435e19b0b112d316dbc0b58a657246f7f071fbbf8bba50dcc51a7fa6c0f24f9cbf856765b04250f3efbfe6edd35f2040563d991ba2a9dcc1fa7ef81d0e240b08c065d85376dc7341e977b416777e369eef6309a752eead533c38e5dffaf9fd67e16c44b39b638a7a9afe2e78102b34d8a144783f8ad6b9fde0135eb1012da13348708763f6a561dbace34f7b83791a58f558f9a4a397a096947f90beccdbf6880bd03cc989a7a477ae1e06ccfb7e6f7aea2ebbc7a871cbde9583e2252a3f58341f37de970e67d9d51a6596cfbbeb0c08296db3b6130990656197d37a3042400ab55b4a2a2b3ec1eb0b7331ac5fb34ad9adf62996ed93a5ff51d6e6cc139519a1ce57bb4ab47de90c2f7886a31b6d50f51d884a44931534304d6eb14e060e4585dc7c69a3e8728de375f0fd97e2d69e6d37e445493d959a5d4fe1165db32581563a0e8fe6c962b325727e70034779eed0435c37a88616fc7b256d6932c55d422fd9a7f5d294bad4bea52d6812d77c5489c288d17f84b143b7721e3ff932811386400c24bb23a6e8f310caefe5a3f718bb49021c82ea2c8f8ea6d09a0bae84ee33a6b41b53864d4f75be9a4b5d112609154a7f163b5ea333debb41cf21dbcae9407cf55f6f03accc7f04e47a5d8bea0bc88ed9b35241f2db0d9c0c13fedc8334e79eaba6f08242f1f0b684efafbbb5a54b8b79a4d35580d79349efb66f19c061393f07334e8cf4ca7406f39786bda0045d74ca8b91cc64afd190e4a044f64ebd730631b18fa104a60cab2b38458188f354d706bce3b57923e53c49503161e1fcc1099e0c4f34467f294ad15cc9e80ee5434357701c373a21f1da0005e9cb4d020ead70004e0e199d3d62d8143135f4e8c732bf18c9c8dab9ad7b6646d6c5e5018474348780cf00be5258c21351f591b91e0bf1dbcb996bf51c94cbb0f2aba2661e0536664d42bfec9c1a59cca18e046bf98f0c4bfeffbd61d8b495188d65b94ca210fd77cfd9a2edcd2e6e46112420db2c7d25ef2fe2f4567df39fd6c00faa1d120c743300b2a4e88a1e2cb1d3951c375f2882d338423c8435bdd38e7a2f40cd8cba1f8c0f16d75c09fe1df73c8e4ecec4ac6733e07ebf5ec6da19ff149a7b98a1f3070804370cc1046b0c6b2835be4d0de5386f82b6f1240d27680f4ac4fb9587d321bfcce4f4d9eb43b80b1d2adeead77a2cf37344058d30c984503212d77327b66dcb84912b54ce6f99da97ed47848ed364942207ad1644b1a14f98cdcd42138e97632b3726abfdc821fda97dea670dfee6933e7b3d85aa0494e673a2c0d174185e34cf1f77ee5d50dcb92b8c4d7159ac7cb16ffad19a7310ad6b5df9ef166938097aaa04b52ff59dcaf4d9793aa6fc9eb6deb9b4ce8a7e2b17a74613519d9b577cbaae79a88cd6418120d891bc907db1d48035840d764db805cdb1ceaaef6720869ea75bbfee400ff92cf786ad9960c7158a186353d8c8966f05d924781d935223b49440caf26fbad9254123b9b239ffa6e1c2207c5b5d156aa0c05c02f9d840f33f398b40eb96615a054a0b3f1937a9fb6a86aeb78b7f03e75fbf314e317266b8299f9b325d9cd99fc8cc6a095d23e70128651011507ee551088504f2807f7784114db087f760818e2a4d6644bb634ee4ee415330fd73fcad93e3d742bf795ae5529e8dc06bdb8a40cb06767e28af98363f0dcdd07c3182ff8df98e9e8fda71a5707067840c303251d3fd97a4503a8eb30ca883844647a0883a149593a2d991738d6c8ba5259225017afdd513709590943ebd9b538a98dd57f1141351d013d6dfa2b0d8de413b00a084fc39ab86b57d05fa019e4a63b8d16fdca763eaf51a38b2600595cd3fe8812f418a18bbe1ac97ced8614fea228bb917a01d03dc6e442b831cd4574c035b914722c9f61c123c977adbc4fa38257ab609476caf95031f8d7b33129173cb3b784d3c27abec24b6659e8038e55de8b8d5671891070bbf85beded8e6ca5a5192c41bf7e3426e56bd364d46c32a0505adcd4a550c8393ead1cf23c6fece2c2695b51e3749237e68c97e09a906c38818024493451c9bd99023d0c3eea28df2e5b4c0291be2b34639e5b3737f26b9548251f1c23df87fcbaf55491b079995ab010f74ba1c6bba64f4ed45e44cb96d645d3bf1387c035ea92b865940402ed501499698e5ff613e4f58455942320f1baa3d995b6691fae9d2db16f43efba9542260fdfeb12cf48bde0f1e3c1fa64d59087fd0896326953e793848dc905453a12579dec1aed737cc1293424efcf83e6c24d20e2aa150c4860010e4d2396430c3625d163e02027c825e985abdc3a55cc76058ad3dc44951fe2363444183fc9c4af1ae6bcc1940d6d6b5da1350398df998d0bee3051eebf2b07edb3a444c70afe74ab5b55ad419ab4abf756a0b8a50d155f4d77ac9cc9325ca8197507257ab062635837049435f63b915983fe7c78450d7a9c42080d8c1082fec0486395420af538f2ee271b9bf3ee6dc881753d2418a79b86dbe83f0f9450b9a96f8d633b92ef1bc989ef0bffb28d5358c8868c10e69220c4c5ecb7f7aa1b6d72174ca0c8eab0806f08c1330ecf408ee7e314d3f141ab6a0014c40646926eb0562d0a54f3580e021326099dea438935d238a760298fed48673e84bd50d7596b386674494d3e7ddcc5b27a9fc8ddf792aa321773c6216158837f82b7c0b2ab15fe21eeea9fe17a83cc7f4cbbd5407f6ccd10ec823cb334185ef2db6fdd655b1c60159fbea93d99ce4209c689a2971515a0ce5dfba7ab8b58d6d3413ec3745e5d376b75e291ffb2d4b1706d44732dc21105eedc82b9322dc1fd9f9247875c52a587dbcadf1e03f31b08f640556eeb410e476f893659df21a221a7d236a3bd8b9266652cdd71aad62b9ece849b23f04eeee254a786770eb07b47f02a3b83a42da9c5289d6e2d7227aed36a4e2e4c299727ff234c67c5f897e5c08f01293b4716b77aacc2af6a69895db4b35c266d4216dd965f89d47dc18362d11601d6f7e2ee018c1ddd98ee9c12b318b63b710323eee58d82ba5b4bebad333b29255eb5f2fcb6e061bab11ac69908fb84b12b838eaa10cc166424dcd994662d8679bc44a2f90891595bf0e5cf05757d3de4fa6ba974151e6b7f128114a2abddccb882d52cf1eb6d14298a385189efd12b86987fa196feeebb8a975c54f1396c90a47d0b06f0f8241ab61167f4605de6db4bff71517ae72db6f9fda00886944eff715e97722b75a6aa1e0fa8f2dbc328b6829f0678093445a8ccf1cc8669c4c8d4a0d2a14048594ffafdc11be37d55965da87173e04946b3fcc2360c1a449f877a65502db13eba67d4650f0d1cc21dae14cd4f67700d0d8b32acdafc2ebf603e923a318ac4077f2c9121d2d7d5dbbcdfa8707f76191ec77f6fd94e2549bd7806c6609fb6f63d128f86cc3b52b62d6621077814871cc4a7828a473ca9e002c384e4f487bdc5fda29d1b0de6ee0836d0c31a41216ffa011ad652cef79c2bc05d34d4bc5bcc865d6a2c0c92b1be1e77c8ffce36a61cee195af238aa289d4723c986cd6c0b6bf4850fd5d757b064970466ed6a9fccd02ddb8b4a089e343e76338d78124183de2db2f52c3107a2d694ea71e3b05279d66185cc16ff851979c2989f37752e616426781d57f8422c4c8711bcc20f7faa2dd7c22cdce0c59759e301fce120467acf6f6ed6e51bbf6172d088e3e0c64e021e37694af2135f5e9ab43bf2763f35357e3715b68223ff465e8673e65c383bece488be27d54b9088f461fdff576bd5fac89130b8fe9e9fe1aada7e6e276ec1c085cb7e41744064ddedd3644a269125a520fecc38dd9938e2b5b26151c80fd007c8bf67ffa33878e330007ba5efab3ebb8c723ccc3b2f04e2fd71df9c41095b62499e50c9bd515d9d2e70c478ad0c9321d864ccfdfecfc88e735f3a56ce2bfa577ce1028e69e8372cd04a6ebd464cd434bbe783745e00d7810940735c5c58a01e2c2f1d16cda3c908421ac193c3521d67145c7153e4a7c49a8f91ad6e6f221bbb6d2da35a6e956636e74984f46329d16e0bfebc24b698b7095d813b54447332bb41b3da64cd31b55402d1bd77235cf1228430034fea56d3f12a1f6b1bd2a31ccf1f80328bb03a750c56177c1e6a8f48164e312a52c53bd5de1430c9bc178374bb9a17be15dd5da93cc86346470f206212e2be957b11571cb9b05c978ba850d5bfddfae1aaca61d783ae1c74b59ae3d9892be2640e47f1fbdcd3c79e6e654fcb51937ab787c0f42917d1f1a799e6e7c8879c7a50b0e4f5055e6e59c3355a16ff0afc1247d84b6d469521d3ce17902cb409024fb99e074a584ea2df9a3af19ab3b4d51066e03416a79fda304dc9d2aca8908abc25ab88dd8d2bb2b4f70fb9d4540a96db7cc3ac79825fe21dd70897ba42f0c17fc28d26768f91a8a8bd2cd41e3f4c81e359cc2f2ebc2f1b0738f3498564e186e8004209d1621140872951a0394efa6f82f15afd48d8911e5f5b0f66072ca347e54b4b22fc7b488e33b1509c6ab5957eaad3267584ad1a08bdc4d4a40177541afdda8405880ad62a068a6b62e6832704cd1c74a6d3c5bf4cb21a89259fe46788c3a30512bbf34c8c136effeb7073d3c8fe422e955a757cadeb141622fb53843898e4cf95464bd84e39f00b8edb62c8c8849539985967735c921dbd106ae7215f95abbe203891a6239cf96473e2a0f4c29373663357e1781665dd2340b6d4c3dec1e49ca2c5491bc33309f826bd02b42c6297321840d6b60315d0b5af3b206697a57a9fdcfe4a5df5f253fd3c490b232aad82aa3dfc283b32431b2d394ff7156d9b0fd1a159fccea496257985574e9d8d6917ba5e494137b58d36bdefa7d43c668ea8c24ce33f55cf017aad738fc50bd1e43e6edbdebb3a463ca57625aa8617e20177b703f56ccadafa56cda2e64dbacbac03b06b58fe3a58bf29c1de7577afcd56083757477562e17713b424d8aa96530981bcb6a325abd01557c97f3afacfb6ff95dacfb0d64ca479f2520ad013afe53af407eea33c02a8515dccd5a4ba58cb75ddf6e87d314b895231c908f98a9aa7e3d7fa74146f6a3515c97edef02f7bdf2a121bd86def21d6112f2fc01e1249f41ba122a4aa183c936ccd1f5604b43573cec5d3f7b51d71a0772a17f7702bed2f9b4db9b4c966b1c9cf9a7404e2b1155afcb9023b59f645f74c9a807e4a71746414617998b321f8a61a8f2b48c769822268bc8c214b9a7e315fcabe00aa8eea2f0774fc78a27144da16a077f9f8e10e740ea178b65feba8f1882de9a4413b80ccd58e1a7b385416b6f0ec95504052aae3f0f5c8888a7fa5ece7501e0007affa4cee458126e621eac7e8d5</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>组会</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2023-03-06-组会</title>
    <link href="/2023/03/05/Seminar/20230306-%E7%BB%84%E4%BC%9A/"/>
    <url>/2023/03/05/Seminar/20230306-%E7%BB%84%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<h2 id="其它方式的缺点"><a class="markdownIt-Anchor" href="#其它方式的缺点"></a> 其它方式的缺点</h2><h3 id="oriented-r-cnn"><a class="markdownIt-Anchor" href="#oriented-r-cnn"></a> Oriented R-CNN</h3><div class="group-image-container"><div class="group-image-row">        <div class="group-image-wrap">            <img src="/img/article/2023/03/05/2.png" lazyload />        </div>        <div class="group-image-wrap">            <img src="/img/article/2023/03/05/3.png" lazyload />        </div></div></div><p>最主要的缺点就是第一阶段生成的是平行四边形，而不是矩形：</p><ul><li><p>RRoI Align只能提取倾斜矩形框的特征，并不能提取倾斜平行四边形特征，<br />因此需要后处理(延长较短对角线)来转换成旋转矩形</p></li><li><p>第一阶段RPN阶段的bbox是六参数的表达方式<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>w</mi><mo separator="true">,</mo><mi>h</mi><mo separator="true">,</mo><mi mathvariant="normal">Δ</mi><mi>α</mi><mo separator="true">,</mo><mi mathvariant="normal">Δ</mi><mi>β</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y, w, h, \Delta\alpha, \Delta\beta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">h</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mclose">)</span></span></span></span><br />第二阶段RCNN阶段的bbox参数表达回归到了五参数的表达方式<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>w</mi><mo separator="true">,</mo><mi>h</mi><mo separator="true">,</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y, w, h, \theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">h</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span>，<br />这种不一致性会使检测器混淆学习过程中两个阶段之间的不同bbox回归方式。</p></li><li><p>RPN阶段形成的proposal  bbox  和 RCNN阶段形成的predict  bbox，其角度是不一致的</p><blockquote><p>RPN阶段会计算loss， RCNN阶段也会计算loss<br />那么计算loss时，角度不一致的导致loss收敛始终会有瓶颈：<br />比如假设第二阶段pridect bbox的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span>与GT的完全相同，那么第一阶段proposal就会有这个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span>的偏差</p></blockquote><p>当然第二阶段也会有bbox regression，对角度有进行一个微调，可能会使得最终二者<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span>很小</p></li></ul><h3 id="qpdet"><a class="markdownIt-Anchor" href="#qpdet"></a> QPDet</h3><ul><li>弧度制<br />计算loss的时候需要把GT<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>w</mi><mo separator="true">,</mo><mi>h</mi><mo separator="true">,</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y, w, h, \theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">h</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span>先转化到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>r</mi><mo separator="true">,</mo><mi mathvariant="normal">Δ</mi><mi>α</mi><mo separator="true">,</mo><mi mathvariant="normal">Δ</mi><mi>β</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y, r, \Delta\alpha, \Delta\beta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mclose">)</span></span></span></span><br />那么把<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span> 转为弧度制后会有精度损失，而且<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>α</mi></mrow><annotation encoding="application/x-tex">\Delta \alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span>偏移量也是在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mo>−</mo><mfrac><mi>π</mi><mn>2</mn></mfrac><mo separator="true">,</mo><mfrac><mi>π</mi><mn>2</mn></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(-\frac{\pi}{2},\frac{\pi}{2})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.095em;vertical-align:-0.345em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span>，带<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span></span></span></span>也会有精度损失</li></ul><p>作者用的是{1:1 , 1 : 2, 1 : 4}的水平anchor，是怎么得到这个圆的，这个还太没搞明白</p><h2 id="我们方式的优点-缺点"><a class="markdownIt-Anchor" href="#我们方式的优点-缺点"></a> 我们方式的优点、缺点</h2><h3 id="优点"><a class="markdownIt-Anchor" href="#优点"></a> 优点</h3><p>不需要任何的后处理（without any postprocessing），直接生成的就是矩形</p><ul><li>如果也同样是设计这种两阶段的检测器，我们的bbox表达方式在两个阶段都是一致的，第二阶段的回归起点直接就是第一阶段生成的proposal的顶点。</li></ul><h3 id="缺点"><a class="markdownIt-Anchor" href="#缺点"></a> 缺点</h3><p>0°和90°的边界情况的表示： 0°和90°只能表示成正方形…，可能是一种不足</p><p><img src="/img/article/2023/02/22/9.png" alt="" /></p><p>其实不算什么缺点，因为像其它的表达方式，其边界情况也是一个正方形。</p><ul><li>如果设计成两阶段检测器，这只是第一阶段的proposal而不是最终的predict bbox，到第二阶段bbox regression会再精修一次</li><li>如果设计成一阶段检测器，就再加一个bbox refine模块</li></ul>]]></content>
    
    
    <categories>
      
      <category>组会</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-63.荷马史诗</title>
    <link href="/2023/03/04/Algorithm/Comp/0x10/20230304-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-063-%E8%8D%B7%E9%A9%AC%E5%8F%B2%E8%AF%97/"/>
    <url>/2023/03/04/Algorithm/Comp/0x10/20230304-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-063-%E8%8D%B7%E9%A9%AC%E5%8F%B2%E8%AF%97/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/151/">算法竞赛进阶指南-63.荷马史诗</a></p><p>追逐影子的人，自己就是影子。 ——荷马</p><p>达达最近迷上了文学。</p><p>她喜欢在一个慵懒的午后，细细地品上一杯卡布奇诺，静静地阅读她爱不释手的《荷马史诗》。</p><p>但是由《奥德赛》和《伊利亚特》组成的鸿篇巨制《荷马史诗》实在是太长了，达达想通过一种编码方式使得它变得短一些。</p><p>一部《荷马史诗》中有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 种不同的单词，从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 进行编号。其中第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 种单词出现的总次数为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">w_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</p><p>达达想要用 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span> 进制串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 来替换第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 种单词，使得其满足如下要求:</p><p>对于任意的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>≤</mo><mi>n</mi><mi mathvariant="normal">，</mi><mi>i</mi><mi mathvariant="normal">≠</mi><mi>j</mi></mrow><annotation encoding="application/x-tex">1≤i,j≤n，i≠j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span></span></span></span>，都有：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 不是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">s_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 的前缀。</p><p>现在达达想要知道，如何选择 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，才能使替换以后得到的新的《荷马史诗》长度最小。</p><p>在确保总长度最小的情况下，达达还想知道最长的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 的最短长度是多少？</p><p>一个字符串被称为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span> 进制字符串，当且仅当它的每个字符是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mi mathvariant="normal">−</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">k−1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord">−</span><span class="mord">1</span></span></span></span> 之间（包括 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mi mathvariant="normal">−</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">k−1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord">−</span><span class="mord">1</span></span></span></span>）的整数。</p><p>字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>t</mi><mi>r</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">Str1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord">1</span></span></span></span> 被称为字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>t</mi><mi>r</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">Str2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord">2</span></span></span></span> 的前缀，当且仅当：存在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>t</mi><mo>≤</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">1≤t≤m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>，使得 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>t</mi><mi>r</mi><mn>1</mn><mo>=</mo><mi>S</mi><mi>t</mi><mi>r</mi><mn>2</mn><mo stretchy="false">[</mo><mn>1..</mn><mi>t</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Str1=Str2[1..t]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord">2</span><span class="mopen">[</span><span class="mord">1</span><span class="mord">.</span><span class="mord">.</span><span class="mord mathdefault">t</span><span class="mclose">]</span></span></span></span>。</p><p>其中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 是字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>t</mi><mi>r</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">Str2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord">2</span></span></span></span> 的长度，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>t</mi><mi>r</mi><mn>2</mn><mo stretchy="false">[</mo><mn>1..</mn><mi>t</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Str2[1..t]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord">2</span><span class="mopen">[</span><span class="mord">1</span><span class="mord">.</span><span class="mord">.</span><span class="mord mathdefault">t</span><span class="mclose">]</span></span></span></span> 表示 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>t</mi><mi>r</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">Str2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord">2</span></span></span></span> 的前 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span> 个字符组成的字符串。</p><p><strong>注意</strong>:请使用 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>64</mn></mrow><annotation encoding="application/x-tex">64</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">4</span></span></span></span> 位整数进行输入输出、储存和计算。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>输入文件的第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 行包含 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 个正整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo separator="true">,</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">n,k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span>，中间用单个空格隔开，表示共有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 种单词，需要使用 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span> 进制字符串进行替换。</p><p>第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mo>∼</mo><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2 \sim n+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 行：第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 行包含 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 个非负整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">w_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，表示第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 种单词的出现次数。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出文件包括 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 行。</p><p>第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 行输出 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 个整数，为《荷马史诗》经过重新编码以后的最短长度。</p><p>第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 行输出 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 个整数，为保证最短总长度的情况下，最长字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">s_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 的最短长度。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">2 \le n \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mo>≤</mo><mi>k</mi><mo>≤</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">2 \le k \le 9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83041em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><msub><mi>w</mi><mi>i</mi></msub><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>12</mn></msup></mrow><annotation encoding="application/x-tex">1 \le w_i \le 10^{12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7859700000000001em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">4 21122</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">122</code></pre><h3 id="method-优先队列-huffman树"><a class="markdownIt-Anchor" href="#method-优先队列-huffman树"></a> Method : 优先队列 + huffman树</h3><p>这道题和上一道题合并果子一样都是huffman树，只不过合并果子是二进制编码，每次从集合中取出最小的两个树合并；而该题是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span>进制编码，每次从集合中取出最小的k个数合并成1个新的结点加入到集合中，每这样操作依次，集合中会减少<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span>个点新增1个点，即每次操作集合会减少<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">k-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>个点。</p><p>但是我们并不能保证<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>k</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>∣</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(k - 1)\mid (n - 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，因此最后一次操作很可能可合并的点数少于k个结点，而越晚合并，一个结点被结算的次数越少，因此可以填入<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(n - 1) % k - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>个空结点，使得<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>k</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>∣</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(k - 1)\mid(n - 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，这些空结点会在最初就合并掉，而且对结果没有贡献。</p><p>另外，要使得合并后的树的深度最小，就需要优先合并高度较低的结点。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;queue&gt;#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;typedef long long LL;typedef pair&lt;LL, int&gt; PLI;int n, k;priority_queue&lt;PLI, vector&lt;PLI&gt;, greater&lt;PLI&gt;&gt; pq;int main() &#123;    cin &gt;&gt; n &gt;&gt; k;        for (int i &#x3D; 0; i &lt; n; i ++) &#123;        LL x;        scanf(&quot;%lld&quot;, &amp;x);        pq.push(&#123;x, 0&#125;);    &#125;        while ((n - 1) % (k - 1) !&#x3D; 0) &#123;        pq.push(&#123;0LL, 0&#125;);        n ++;    &#125;        LL res &#x3D; 0;    while (pq.size() &gt; 1) &#123;        LL sum &#x3D; 0; int dep &#x3D; 0;        for (int i &#x3D; 0; i &lt; k; i ++) &#123;            auto t &#x3D; pq.top(); pq.pop();            sum +&#x3D; t.first;            dep &#x3D; max(dep, t.second);        &#125;        res +&#x3D; sum;        pq.push(&#123;sum, dep + 1&#125;);    &#125;        cout &lt;&lt; res &lt;&lt; endl;    cout &lt;&lt; pq.top().second &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mrow><mo fence="true">⌊</mo><mfrac><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></mfrac><mo fence="true">⌋</mo></mrow><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O((\left \lfloor  \frac{n - 1}{k - 1}\right \rfloor  + 1)\log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.253331em;vertical-align:-0.403331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mopen">(</span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.403331em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">⌋</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>为优先队列的插入、弹出时间复杂度。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul><p>如果每轮合并的石子 可以是任意 的两堆 石子, 那么用到的就是经典的 Huffman Tree 的二叉堆模型<br />如果每轮合并的石子 可以是任意 的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span> 堆石子, 那么用到的就是经典的 Huffman Tree 的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span> 叉堆模型</p><p>k叉堆中，记得需要填空结点, 使得 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mo>−</mo><mn>1</mn><mo>∣</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">k-1 \mid n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span><br />二叉堆中, 由于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mo>−</mo><mn>1</mn><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">k-1=1,1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span></span></span></span> 能整除一切正整数, 所以不需要关心这一问题</p>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>二叉堆</tag>
      
      <tag>贪心</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-62.合并果子</title>
    <link href="/2023/03/03/Algorithm/Comp/0x10/20230303-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-062-%E5%90%88%E5%B9%B6%E6%9E%9C%E5%AD%90/"/>
    <url>/2023/03/03/Algorithm/Comp/0x10/20230303-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-062-%E5%90%88%E5%B9%B6%E6%9E%9C%E5%AD%90/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/150/">算法竞赛进阶指南-62.合并果子</a></p><p>在一个果园里，达达已经将所有的果子打了下来，而且按果子的不同种类分成了不同的堆。</p><p>达达决定把所有的果子合成一堆。</p><p>每一次合并，达达可以把两堆果子合并到一起，消耗的体力等于两堆果子的重量之和。</p><p>可以看出，所有的果子经过 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 次合并之后，就只剩下一堆了。</p><p>达达在合并果子时总共消耗的体力等于每次合并所耗体力之和。</p><p>因为还要花大力气把这些果子搬回家，所以达达在合并果子时要尽可能地节省体力。</p><p>假定每个果子重量都为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，并且已知果子的种类数和每种果子的数目，你的任务是设计出合并的次序方案，使达达耗费的体力最少，并输出这个最小的体力耗费值。</p><p>例如有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span> 种果子，数目依次为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi mathvariant="normal">，</mi><mn>2</mn><mi mathvariant="normal">，</mi><mn>9</mn></mrow><annotation encoding="application/x-tex">1，2，9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord cjk_fallback">，</span><span class="mord">2</span><span class="mord cjk_fallback">，</span><span class="mord">9</span></span></span></span>。</p><p>可以先将 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi mathvariant="normal">、</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">1、2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord cjk_fallback">、</span><span class="mord">2</span></span></span></span> 堆合并，新堆数目为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span>，耗费体力为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span>。</p><p>接着，将新堆与原先的第三堆合并，又得到新的堆，数目为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>12</mn></mrow><annotation encoding="application/x-tex">12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">2</span></span></span></span>，耗费体力为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>12</mn></mrow><annotation encoding="application/x-tex">12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">2</span></span></span></span>。</p><p>所以达达总共耗费体力<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>=</mo><mn>3</mn><mo>+</mo><mn>12</mn><mo>=</mo><mn>15</mn></mrow><annotation encoding="application/x-tex">=3+12=15</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">5</span></span></span></span>。</p><p>可以证明 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>15</mn></mrow><annotation encoding="application/x-tex">15</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">5</span></span></span></span> 为最小的体力耗费值。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>输入包括两行，第一行是一个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>，表示果子的种类数。</p><p>第二行包含 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 个整数，用空格分隔，第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 种果子的数目。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出包括一行，这一行只包含一个整数，也就是最小的体力耗费值。</p><p>输入数据保证这个值小于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mn>31</mn></msup></mrow><annotation encoding="application/x-tex">2^{31}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><msub><mi>a</mi><mi>i</mi></msub><mo>≤</mo><mn>20000</mn></mrow><annotation encoding="application/x-tex">1 \le a_i \le 20000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7859700000000001em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">3 1 2 9</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">15</code></pre><h3 id="method-优先队列-huffman树"><a class="markdownIt-Anchor" href="#method-优先队列-huffman树"></a> Method : 优先队列 + huffman树</h3><p>二叉树对应的哈夫曼编码很好理解，相当于二进制编码，<br />每次从n个数的集合中取出最小的两个数合并，将合并结果加入原集合中，递归处理即可。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;queue&gt;#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;typedef long long LL;int n;int main() &#123;    priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt;&gt; pq;        cin &gt;&gt; n;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        int x;        scanf(&quot;%d&quot;, &amp;x);        pq.push(x);    &#125;        LL res &#x3D; 0;    while (pq.size() !&#x3D; 1) &#123;        int t1 &#x3D; pq.top(); pq.pop();        int t2 &#x3D; pq.top(); pq.pop();        res +&#x3D; (t1 + t2);        pq.push(t1 + t2);    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n \log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>为堆的插入、弹出时间复杂度，共要合并<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>次。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>二叉堆</tag>
      
      <tag>贪心</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-61.数据备份</title>
    <link href="/2023/03/02/Algorithm/Comp/0x10/20230302-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-061-%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD/"/>
    <url>/2023/03/02/Algorithm/Comp/0x10/20230302-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-061-%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/149/">算法竞赛进阶指南-61.数据备份</a></p><p>你在一家 IT 公司为大型写字楼或办公楼的计算机数据做备份。</p><p>然而数据备份的工作是枯燥乏味的，因此你想设计一个系统让不同的办公楼彼此之间互相备份，而你则坐在家中尽享计算机游戏的乐趣。</p><p>已知办公楼都位于同一条街上，你决定给这些办公楼配对（两个一组）。</p><p>每一对办公楼可以通过在这两个建筑物之间铺设网络电缆使得它们可以互相备份。</p><p>然而，网络电缆的费用很高。</p><p>当地电信公司仅能为你提供 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> 条网络电缆，这意味着你仅能为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> 对办公楼（总计 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>K</mi></mrow><annotation encoding="application/x-tex">2K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> 个办公楼）安排备份。</p><p>任意一个办公楼都属于唯一的配对组（换句话说，这 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>K</mi></mrow><annotation encoding="application/x-tex">2K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> 个办公楼一定是相异的）。</p><p>此外，电信公司需按网络电缆的长度（公里数）收费。</p><p>因而，你需要选择这 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> 对办公楼使得电缆的总长度尽可能短。</p><p>换句话说，你需要选择这 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> 对办公楼，使得每一对办公楼之间的距离之和（总距离）尽可能小。</p><p>下面给出一个示例，假定你有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span> 个客户，其办公楼都在一条街上，如下图所示。</p><p>这 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span> 个办公楼分别位于距离大街起点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi>k</mi><mi>m</mi><mo separator="true">,</mo><mn>3</mn><mi>k</mi><mi>m</mi><mo separator="true">,</mo><mn>4</mn><mi>k</mi><mi>m</mi><mo separator="true">,</mo><mn>6</mn><mi>k</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">1km, 3km, 4km, 6km</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">6</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">m</span></span></span></span> 和 $ 12km $ 处。</p><p>电信公司仅为你提供 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">K=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 条电缆。</p><p>上例中最好的配对方案是将第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 个和第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 个办公楼相连，第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span> 个和第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 个办公楼相连。</p><p>这样可按要求使用 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">K=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 条电缆。</p><p>第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 条电缆的长度是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn><mi>k</mi><mi>m</mi><mo>−</mo><mn>1</mn><mi>k</mi><mi>m</mi><mo>=</mo><mn>2</mn><mi>k</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">3km-1km=2km</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">m</span></span></span></span>，第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 条电缆的长度是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><mi>k</mi><mi>m</mi><mo>−</mo><mn>4</mn><mi>k</mi><mi>m</mi><mo>=</mo><mn>2</mn><mi>k</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">6km-4km=2km</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord">6</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">m</span></span></span></span>。</p><p>这种配对方案需要总长 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>4</mn><mi>k</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">4km</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">m</span></span></span></span> 的网络电缆，满足距离之和最小的要求。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行输入整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span>，其中 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 表示办公楼的数目，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> 表示可利用的网络电缆的数目。</p><p>接下来的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 行每行仅包含一个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>，表示每个办公楼到大街起点处的距离。</p><p>这些整数将按照从小到大的顺序依次出现。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出应由一个正整数组成，给出将 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>K</mi></mrow><annotation encoding="application/x-tex">2K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> 个相异的办公楼连成 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> 对所需的网络电缆的最小总长度。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">2 \le n \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>K</mi><mo>≤</mo><mi>n</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">1 \le K \le n/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord">/</span><span class="mord">2</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><mi>s</mi><mo>≤</mo><mn>1000000000</mn></mrow><annotation encoding="application/x-tex">0 \le s \le 1000000000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">5 2 134612</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">4</code></pre><h3 id="method-双向链表-优先队列"><a class="markdownIt-Anchor" href="#method-双向链表-优先队列"></a> Method : 双向链表 + 优先队列</h3><p>题目意思其实也讲得很明白，数轴上给出<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>个点，要求选出其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>K</mi></mrow><annotation encoding="application/x-tex">2K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span>个点形成<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span>对，问这<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span>对点之间的距离的最小总长度。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;queue&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;typedef pair&lt;LL, int&gt; PLI;const int N &#x3D; 1e5 + 7;const int SIZE &#x3D; N &lt;&lt; 1; &#x2F;&#x2F;149493最低通过struct Node &#123;    LL val;    int l, r;&#125;;Node node[SIZE];int head, tail, idx;void init() &#123;    idx &#x3D; 2;    head &#x3D; 0, tail &#x3D; 1;    node[head].r &#x3D; tail;    node[tail].l &#x3D; head;&#125;int insert(int pos, int val) &#123;    node[idx].val &#x3D; val;    node[idx].r &#x3D; node[pos].r;    node[idx].l &#x3D; pos;    node[node[pos].r].l &#x3D; idx;    node[pos].r &#x3D; idx;        return idx ++;&#125;void remove(int pos) &#123;    node[pos].val &#x3D; -1;    node[node[pos].l].r &#x3D; node[pos].r;    node[node[pos].r].l &#x3D; node[pos].l;&#125;priority_queue&lt;PLI, vector&lt;PLI&gt;, greater&lt;PLI&gt;&gt; pq;LL d[N];int n, k;int main() &#123;    init();    node[head].val &#x3D; node[tail].val &#x3D; 1e10;    scanf(&quot;%d %d&quot;, &amp;n, &amp;k);    for (int i &#x3D; 0; i &lt; n; i ++) scanf(&quot;%lld&quot;, &amp;d[i]);    for (int i &#x3D; n - 1; i &gt; 0; i --) &#123;        d[i] -&#x3D; d[i - 1];        pq.push(&#123;d[i], insert(node[tail].l, d[i])&#125;);    &#125;        LL res &#x3D; 0;    while (k) &#123;        auto t &#x3D; pq.top(); pq.pop();                LL v &#x3D; t.first,  p &#x3D; t.second;        if (v !&#x3D; node[p].val) continue;                res +&#x3D; v;        LL d &#x3D; node[node[p].l].val + node[node[p].r].val - v;        pq.push(&#123;d, insert(node[p].r, d)&#125;);                remove(node[p].l);        remove(node[p].r);        remove(p);        k --;    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n\log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>为维护堆的时间复杂度。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>2</mn><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(2N)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>二叉堆</tag>
      
      <tag>贪心</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Effective C++</title>
    <link href="/2023/03/01/Programing/20230301-%E3%80%8AEffective%20C++%E3%80%8B-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    <url>/2023/03/01/Programing/20230301-%E3%80%8AEffective%20C++%E3%80%8B-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="preface"><a class="markdownIt-Anchor" href="#preface"></a> Preface</h2><p>最近在读《Effective C++》，这本著作的作者(Meyers)和译者(侯捷)都是C++大师，书中的55个条款让我受益良多。由此我想记下一些自己的总结，帮助我在未来想要回顾某一条款的内容时，最大限度地节约我的时间。</p><p>以下条款有以下几点需要注意：</p><p>不考虑多线程</p><p>书中没有C++11后的新特性，个人会参考一些资料进行补充</p><p>打⭐️的条款是个人认为比较重要而常用的</p><h2 id="一-让自己习惯c"><a class="markdownIt-Anchor" href="#一-让自己习惯c"></a> 一、让自己习惯C++</h2><h3 id="条款01视c-为一个联邦"><a class="markdownIt-Anchor" href="#条款01视c-为一个联邦"></a> 条款01：视C++ 为一个联邦</h3><p>C++ 是一个语言联邦，其由四个主要的次语言构成：</p><ul><li><strong>C</strong>： C++ 仍然以C为基础语法，因此C可以说是C++ 最重要的一部分。</li><li><strong>Object-Oriented C++</strong>： C++ 引入了面向对象的设计理念，C with Class。</li><li><strong>Template C++</strong>：C++ 泛型编程，进一步拔高了 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span> 和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mi>u</mi><mi>n</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">function</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">u</span><span class="mord mathdefault">n</span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span></span></span></span>的复用性。</li><li><strong>STL</strong>：C++ 标准模板库，最常用的一套template程序库，包含函数、算法、容器、迭代器。</li></ul><h3 id="条款02尽量以const-enum-inline-替换define"><a class="markdownIt-Anchor" href="#条款02尽量以const-enum-inline-替换define"></a> 条款02：尽量以const, enum, inline 替换#define</h3><ul><li><p>在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span><strong>外</strong>定义一个(静态)常量，使用<code>const</code>/<code>static const</code></p></li><li><p>在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span><strong>内</strong>定义一个(静态)常量，使用<strong>enum hack</strong>，如以下示例：</p><pre class="language-c++" data-language="c++"><code class="language-c++">class GamePlayer &#123;private:enum &#123;NumTurns &#x3D; 5&#125;;             &#x2F;&#x2F; enum hack&#x2F;&#x2F; static const int NumTurns &#x3D; 5;&#x2F;&#x2F; 是声明式而非定义式    int scores[NumTurns]&#125;</code></pre><blockquote><p>取enum的地址是不合法的（不存在指针指向），enum不会导致非必要的内存分配。</p></blockquote></li><li><p>当需要多次调用某个函数时，可以考虑使用<code>inline</code>/<code>static inline</code>，而非#define函数宏</p></li></ul><h3 id="条款03尽可能使用const-️"><a class="markdownIt-Anchor" href="#条款03尽可能使用const-️"></a> 条款03：尽可能使用<code>const</code>  ⭐️</h3><p><code>const</code>关键字的作用其实很简单：使得被修饰的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>o</mi><mi>b</mi><mi>j</mi><mi>e</mi><mi>c</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">object</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">o</span><span class="mord mathdefault">b</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span></span></span></span>或<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mi>u</mi><mi>n</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">function</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">u</span><span class="mord mathdefault">n</span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span></span></span></span>变成可读不可写（<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mi>e</mi><mi>a</mi><mi>d</mi><mtext> </mtext><mi>o</mi><mi>n</mi><mi>l</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">read\ only</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mspace"> </span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span>）。</p><p>那么怎样才叫尽可能使用？ =&gt; <strong>只要 [某个值始终不发生变化] 是一个事实，你就应该使用<code>const</code></strong>。</p><hr /><ul><li><p>const指针用法：</p><p><strong><code>const</code>在星号左边，表示被指<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>o</mi><mi>b</mi><mi>j</mi><mi>e</mi><mi>c</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">object</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">o</span><span class="mord mathdefault">b</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span></span></span></span>是常量；<code>const</code>在星号右边，表示指针自身是常量。</strong></p></li><li><p>const迭代器用法：</p>  <pre class="language-c++" data-language="c++"><code class="language-c++">const std::vector&lt;int&gt;::iterator iter;     &#x2F;&#x2F; 相当于T* const，指针自身是常量std::vector&lt;int&gt;::const_iterator iter;     &#x2F;&#x2F; 相当于const T*，被指object是常量</code></pre></li><li><p>const成员函数：</p><p><strong>const成员函数只能被const对象调用</strong>，在const成员函数内只能修改<code>mutable</code>修饰的成员变量。</p>  <pre class="language-c++" data-language="c++"><code class="language-c++">class CTextBlock &#123;private:    char* pText;    mutable std::size_t textLength;        &#x2F;&#x2F; 总是可被更改的变量    mutable bool lengthIsValid;            &#x2F;&#x2F; 即使是在const成员函数内public:    ...std:size_t length() const &#123;        if (!lengthIsValid) &#123;            textLength &#x3D; std:strlen(pText);            lengthIsValid &#x3D; true;        &#125;    &#125;&#125;</code></pre></li></ul><h3 id="条款04确定对象被使用前已先被初始化"><a class="markdownIt-Anchor" href="#条款04确定对象被使用前已先被初始化"></a> 条款04：确定对象被使用前已先被初始化</h3><ul><li><p>C内置类型的变量：使用前需要进行手动初始化，否则其初始值不固定（不一定是0或NULL）</p></li><li><p>类内成员变量：用member initialization list(成员初值列)<strong>按类内声明次序</strong>初始化，如下所示</p><pre class="language-c++" data-language="c++"><code class="language-c++">class ABEntry &#123;private:    std::string name;    std::string address;    std::list&lt;PhoneNumber&gt; phones;    int numTimesConsulted;             &#x2F;&#x2F; int是内置类型，初始化效率无影响public :    ABEntry (const std::string&amp; _name, const std::string&amp; _address,            const std::list&lt;PhoneNumber&gt; _phones)      : name(_name),   &#x2F;&#x2F; member initialization list    address(_address),    phone(_phone),    numTimesConsulted(0)              &#123; &#125;                                &#x2F;&#x2F; 构造函数内不需要做任何动作&#125;</code></pre><blockquote><p>如果在构造函数内对成员变量赋值，成员变量（非内置类型）会先调用default构造函数初始化，再立即调用copy assignment(赋值)操作符对变量进行赋值，因而效率较低。</p><p>而使用member initialization list初始化，成员变量（非内置类型）只会调用一次copy构造函数。</p></blockquote></li><li><p>用reference returning防止 <strong>[文件间]</strong> 的初始化次序问题</p><pre class="language-c++" data-language="c++"><code class="language-c++">  </code></pre></li></ul><hr /><h2 id="二-构造析构赋值运算"><a class="markdownIt-Anchor" href="#二-构造析构赋值运算"></a> 二、构造/析构/赋值运算</h2><h3 id="条款05了解c-默默编写并调用了哪些函数"><a class="markdownIt-Anchor" href="#条款05了解c-默默编写并调用了哪些函数"></a> 条款05：了解C++ 默默编写并调用了哪些函数</h3><p>编译器会自动为class创建copy构造函数、析构函数以及操作符，同时如果你没有声明任何构造函数，编译器也会为你声明一个default构造函数，这些自动创建的函数都是<code>public</code>且<code>inline</code>的。</p><pre class="language-c++" data-language="c++"><code class="language-c++">class Empty &#123;public:    Empty() &#123;&#125;                                   &#x2F;&#x2F; 默认构造函数 default constructor    ~Empty() &#123;&#125;                                  &#x2F;&#x2F; 析构函数            destructor        Empty (const Empty&amp; rhs) &#123;&#125;                  &#x2F;&#x2F; 拷贝构造函数    copy constructor    Empty&amp; operator&#x3D;(const Empty&amp; rhs) &#123;&#125;        &#x2F;&#x2F; 赋值操作符      copy assignment operator        Empty (const Empty&amp;&amp; rhs) &#123;&#125;                 &#x2F;&#x2F; 移动构造函数 C++11, move constructor    Empty&amp; operator&#x3D;(Empty&amp;&amp;) &#123;&#125;                 &#x2F;&#x2F; 移动拷贝函数 C++11, move assignment operator&#125; </code></pre><blockquote><p><strong>注意</strong>：唯有当这些函数需要被调用，才会被编译器创建出来。</p></blockquote><h3 id="条款06若不想使用编译器自动生成函数就该明确拒绝"><a class="markdownIt-Anchor" href="#条款06若不想使用编译器自动生成函数就该明确拒绝"></a> 条款06：若不想使用编译器自动生成函数，就该明确拒绝</h3><p>承接上一个条款，如果你不需要自动创建的函数，你可以把这些函数声明在<code>private</code>内，并且不实现。</p><pre class="language-c++" data-language="c++"><code class="language-c++">class HomeForSale &#123;private:    &#x2F;&#x2F; 在private内只有声明没有定义，并且形参连名字都没有    HomeForSale(const HomeForSale&amp;);    HomeForSale&amp; operator&#x3D;(const HomeForSale&amp;);public:    ...&#125;</code></pre><blockquote><p>在C++ 11中，<strong>禁止编译器默认生成的函数</strong>，建议声明在<code>private</code>内并且同时使用<code>=delete</code></p></blockquote><h3 id="条款07为多态基类声明virtual析构函数"><a class="markdownIt-Anchor" href="#条款07为多态基类声明virtual析构函数"></a> 条款07：为多态基类声明<code>virtual</code>析构函数</h3><ul><li><p><strong>带有多态性质的基类必须将析构函数声明为<code>virtual</code>函数。</strong></p><blockquote><p>防止指向子类的基类指针在被释放时只销毁了<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi><mtext> </mtext><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">base\ class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mspace"> </span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span>而没销毁<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>e</mi><mi>r</mi><mi>i</mi><mi>v</mi><mi>e</mi><mi>d</mi><mtext> </mtext><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">derived\ class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span><span class="mspace"> </span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span>,导致内存泄漏。</p></blockquote></li><li><p>普通的基类，如果设计目的不是为了多态用途(如STL)，则不该声明<code>virtual</code>析构函数。</p><blockquote><p>在C++ 11中，可以在类中声明为<code>final</code>，这样禁止派生可以防止误继承造成上述问题。</p></blockquote></li></ul><h3 id="条款08别让异常逃离析构函数"><a class="markdownIt-Anchor" href="#条款08别让异常逃离析构函数"></a> 条款08：别让异常逃离析构函数</h3><p>析构函数一般情况下不应抛出异常，因为很大可能发生各种未定义的问题，包括但不限于内存泄漏、程序崩溃、所有权锁死等。如果某些操作真的很容易抛出异常(如资源的归还等)，请把这些操作移到析构函数之外，提供一个普通函数做类似的清理工作，在析构函数中只负责记录，我们需要时刻保证析构函数能够执行到底。</p><h3 id="条款09绝不在构造和析构过程中调用virtual函数"><a class="markdownIt-Anchor" href="#条款09绝不在构造和析构过程中调用virtual函数"></a> 条款09：绝不在构造和析构过程中调用<code>virtual</code>函数</h3><p><strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi><mtext> </mtext><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">base\ class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mspace"> </span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span>构造期间<code>virtual</code>函数不会下降到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>e</mi><mi>r</mi><mi>i</mi><mi>v</mi><mi>e</mi><mi>d</mi><mtext> </mtext><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">derived\ class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span><span class="mspace"> </span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span>阶层，同理适用于析构过程</strong>。</p><p>当一个子类对象在构造过程中，首先调用的是基类的构造函数，在基类构造期间，该对象会一直被视为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi><mtext> </mtext><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">base\ class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mspace"> </span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span>类型，自然在基类构造函数中调用的虚函数将会是基类的虚函数版本，而不是子类的虚函数。</p><h3 id="条款10令operator-返回一个reference-to-this"><a class="markdownIt-Anchor" href="#条款10令operator-返回一个reference-to-this"></a> 条款10：令operator= 返回一个reference to *this</h3><pre class="language-c++" data-language="c++"><code class="language-c++">Weight&amp; operator&#x3D;(const Weiget&amp; rhs) &#123;     &#x2F;&#x2F; 返回一个reference，指向当前对象...    return *this;                          &#x2F;&#x2F; return reference to *this&#125;&#x2F;&#x2F; 同样适用于 operator +&#x3D;, -&#x3D;, *&#x3D;, \&#x3D;等等。</code></pre><p>在设计接口时一个重要的原则是：<strong>让自己的接口和内置类型相同功能的接口尽可能相似</strong></p><p>令operator= 返回一个reference to *this，这样做可以让你的赋值操作符实现“连等”的效果：</p><pre class="language-c++" data-language="c++"><code class="language-c++">x &#x3D; y &#x3D; z &#x3D; 10;</code></pre><h3 id="条款11在operator-中处理自我赋值"><a class="markdownIt-Anchor" href="#条款11在operator-中处理自我赋值"></a> 条款11：在operator= 中处理“自我赋值”</h3><p>使用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>o</mi><mi>p</mi><mi>y</mi><mtext> </mtext><mi>a</mi><mi>n</mi><mi>d</mi><mtext> </mtext><mi>s</mi><mi>w</mi><mi>a</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">copy\ and\ swap</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace"> </span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mspace"> </span><span class="mord mathdefault">s</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">a</span><span class="mord mathdefault">p</span></span></span></span>技术</p><pre class="language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; copy and swapWeight&amp; operator&#x3D;(Weight rhs) &#123;            &#x2F;&#x2F; 按值传递，形参产生实参副本    swap(rhs);     &#x2F;&#x2F; 使用swap()将形参数据与*this数据交换    return *this;&#125;</code></pre><h3 id="条款12复制对象时勿忘其每一个成分"><a class="markdownIt-Anchor" href="#条款12复制对象时勿忘其每一个成分"></a> 条款12：复制对象时勿忘其每一个成分</h3><p>如果你为一个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span>声明了copy构造函数和copy assignment操作符，需要注意：</p><ul><li>每当你新增一个成员变量，你必须同时要修改该<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span>的所有<strong>构造函数</strong>以及<strong>任何形式的operator=</strong> 赋值操作符(如+=、-=、*=等)，在这些函数里面加上该新增的成员变量的copy。</li><li>如果是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>e</mi><mi>r</mi><mi>i</mi><mi>v</mi><mi>e</mi><mi>d</mi><mtext> </mtext><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">derived\ class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span><span class="mspace"> </span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span>，确保在拷贝构造函数中调用了<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi><mtext> </mtext><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">base\ class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mspace"> </span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span>的拷贝构造,在operator=赋值操作符调用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi><mtext> </mtext><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">base\ class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mspace"> </span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span>的operator=赋值操作符。</li></ul><p>除此之外，<strong>拷贝构造函数和拷贝赋值操作符，他们两个中任意一个不要去调用另一个</strong>，这虽然看上去是一个避免代码重复好方法，但是是荒谬的。其根本原因在于拷贝构造函数在构造一个对象——这个对象在调用之前并不存在；而赋值操作符在改变一个对象——这个对象是已经构造好了的。因此前者调用后者是在给一个还未构造好的对象赋值；而后者调用前者就像是在构造一个已经存在了的对象。比较好的代码复用方式如下：</p><pre class="language-c++" data-language="c++"><code class="language-c++">class Weight &#123;private:    void init(const Weight&amp; rhs) &#123;...&#125;    public:    Weight(const Weight&amp; rhs) &#123;        init(rhs);    &#125;    Weight&amp; operator&#x3D; (const Weight&amp; rhs) &#123;        init(rhs);    &#125;&#125;</code></pre><hr /><h2 id="三-资源管理"><a class="markdownIt-Anchor" href="#三-资源管理"></a> 三、资源管理</h2><h3 id="条款13-以对象管理资源-️"><a class="markdownIt-Anchor" href="#条款13-以对象管理资源-️"></a> 条款13： 以对象管理资源 ⭐️</h3><p><strong>资源获取时机便是初始化时机</strong>（<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mi>e</mi><mi>s</mi><mi>o</mi><mi>u</mi><mi>r</mi><mi>c</mi><mi>e</mi><mtext> </mtext><mi>A</mi><mi>c</mi><mi>q</mi><mi>u</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mtext> </mtext><mi>I</mi><mi>s</mi><mtext> </mtext><mi>I</mi><mi>n</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>a</mi><mi>l</mi><mi>i</mi><mi>z</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo separator="true">,</mo><mi>R</mi><mi>A</mi><mi>I</mi><mi>I</mi></mrow><annotation encoding="application/x-tex">Resource\ Acquisition\ Is\ Initialization,RAII</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">c</span><span class="mord mathdefault">e</span><span class="mspace"> </span><span class="mord mathdefault">A</span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mord mathdefault">u</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">s</span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">n</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span></span></span></span>）</p><p>使用资源管理类(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mi>A</mi><mi>I</mi><mi>I</mi><mtext> </mtext><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">RAII\ class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mspace"> </span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span>)，例如智能指针<code>auto_ptr</code>或<code>share_ptr</code>来管理资源(<code>share_ptr</code>往往是较佳选择)，<br />可以避免出现因异常导致丢失对资源的控制权或因忘记释放资源而造成的资源泄漏(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi>e</mi><mi>a</mi><mi>p</mi><mo>−</mo><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">heap-based</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span></span></span></span>)：</p><pre class="language-c++" data-language="c++"><code class="language-c++">std::auto_ptr&lt;Investment&gt; pInv(createInvestment());std::share_ptr&lt;Investment&gt; pInv(createInvestment());</code></pre><ul><li><p><code>auto_ptr</code>和<code>share_ptr</code>的析构函数都能自动对其所指向的对象调用<code>delete</code>，释放所指对象内存。</p></li><li><p>受<code>auto_ptr</code>管理的资源只能<strong>同时存在1个</strong><code>auto_ptr</code>指向它<br />当<code>auto_ptr</code>发生copy时，右值<code>auto_ptr</code>变成<code>nullptr</code>，左值<code>auto_ptr</code>变成该资源的唯一指向。</p></li><li><p><code>share_ptr</code>，也叫引用计数型智慧指针(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mi>e</mi><mi>f</mi><mi>e</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>−</mo><mi>C</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>t</mi><mi>i</mi><mi>n</mi><mi>g</mi><mtext> </mtext><mi>S</mi><mi>m</mi><mi>a</mi><mi>r</mi><mi>t</mi><mtext> </mtext><mi>P</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi><mo separator="true">,</mo><mi>R</mi><mi>C</mi><mi>S</mi><mi>P</mi></mrow><annotation encoding="application/x-tex">Reference-Counting\ Smart\ Pointer,RCSP</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">c</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">t</span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault">o</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span>)，可以持续追踪有多少对象指向某笔资源，当无人指向它时自动删除该资源，行为类似于垃圾回收。</p></li></ul><h3 id="条款14在资源管理类中小心copying行为"><a class="markdownIt-Anchor" href="#条款14在资源管理类中小心copying行为"></a> 条款14：在资源管理类中小心copying行为</h3><p>智能指针比较适合管理<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mi>e</mi><mi>a</mi><mi>p</mi><mo>−</mo><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">heap-based</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span></span></span></span>资源，当其不满足需要时，可以自定义资源管理类<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mi>A</mi><mi>I</mi><mi>I</mi><mtext> </mtext><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">RAII\ class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mspace"> </span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span>，但此时需要考虑<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mi>A</mi><mi>I</mi><mi>I</mi></mrow><annotation encoding="application/x-tex">RAII</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span></span></span></span>对象的copying行为的实现：</p><ul><li>禁止copying：类似于条款06的做法，把copy函数放在<code>private</code>内，并且不实现。</li><li>复制底部资源：深拷贝</li><li>转移底部资源：类似<code>auto_ptr</code>，copy时做转移，保证只有一个指向</li><li>reference-counting：类似<code>share_ptr</code>，做引用计数</li></ul><p><code>share_ptr</code>支持定制删除器<code>deleter()</code>，这可以防范DLL问题，可以用来自动解除互斥锁(mutex)等等。</p><h3 id="条款15在资源管理类中提供对原始资源的访问"><a class="markdownIt-Anchor" href="#条款15在资源管理类中提供对原始资源的访问"></a> 条款15：在资源管理类中提供对原始资源的访问</h3><ul><li><code>shared_ptr</code> 和<code>auto_ptr</code>：<ul><li>都提供一个<code>get()</code>成员函数，用来执行<strong>显式转换</strong>，也就是它会返回智能指针内部的原始指针的副本</li><li>都重载了<code>operator-&gt;</code>和<code>operator*</code>指针取值操作符，允许智能指针<strong>隐式转换</strong>为原始指针</li></ul></li><li>自定义资源管理类<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mi>A</mi><mi>I</mi><mi>I</mi><mtext> </mtext><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">RAII\ class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mspace"> </span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span>：<ul><li>提倡编写 <code>get()</code> 函数，提供显式转换</li><li>谨慎考虑重载<code>operator-&gt;</code>和<code>operator*</code>，隐式转换会增加错误风险（如：产生虚吊指针）。</li></ul></li></ul><h3 id="条款16成对使用new和delete时要采用相同形式"><a class="markdownIt-Anchor" href="#条款16成对使用new和delete时要采用相同形式"></a> 条款16：成对使用<code>new</code>和<code>delete</code>时要采用相同形式</h3><ul><li>对于<strong>单一对象</strong>：请成对使用<code>new</code>和<code>delete</code></li><li>对于<strong>对象数组</strong>：请成对使用<code>new xxx[]</code>和<code>delete[] xxx</code></li></ul><p>不成对使用容易造成Unfined Behavior.</p><h3 id="条款17以独立语句将newd对象置入智能指针"><a class="markdownIt-Anchor" href="#条款17以独立语句将newd对象置入智能指针"></a> 条款17：以独立语句将newd对象置入智能指针</h3><p>因为C++的函数参数核算次序是不固定的（主要跟<strong>编译器</strong>有关），因此如果核算次序如下：</p><ol><li>执行<code>new Widget</code></li><li>调用<code>priority()</code></li><li>调用<code>shared_ptr</code>的构造函数</li></ol><p>如果step2中的<code>priority()</code>函数在执行过程中抛出异常，那么step1中的内存将发生泄漏</p><pre class="language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; processWidget(std::tr1::shared_ptr&lt;Widget&gt;(new Widget), priority());std::tr1::shared_ptr&lt;Widget&gt; pw(new Widget); &#x2F;&#x2F; 独立语句将new对象置入智能指针processWidget(pw, priority());               &#x2F;&#x2F; 以保证这个函数不会发生内存泄漏</code></pre><hr /><h2 id="四-设计与声明"><a class="markdownIt-Anchor" href="#四-设计与声明"></a> 四、设计与声明</h2><h3 id="条款18让接口容易被正确使用"><a class="markdownIt-Anchor" href="#条款18让接口容易被正确使用"></a> 条款18：让接口容易被正确使用</h3><p>本条款的核心在于如何<strong>帮助你的客户在使用你的接口时避免他们犯错误</strong>：</p><ul><li><p>提供<strong>行为一致</strong>的接口</p><ul><li>例如每个STL容器都有一个名为size的函数，其功能都是返回容器当前大小</li><li>通用操作接口应表现出与内置类型的一致性，如重载<code>operator *</code>而不是设计<code>mul()</code>函数</li></ul></li><li><p>使用<strong>外覆类型（wrapper）<strong>提醒调用者传参错误检查，将参数的附加条件限制在</strong>类型本身</strong></p></li></ul><h3 id="条款19设计class犹如设计type"><a class="markdownIt-Anchor" href="#条款19设计class犹如设计type"></a> 条款19：设计class犹如设计type</h3><p>如果想要设计出优秀的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">class</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span></span></span></span>，你应该在设计时思考以下问题：</p><ul><li>对象该如何创建销毁：包括构造函数、析构函数以及new和delete操作符的重构需求。</li><li>对象的构造函数与赋值行为应有何区别：构造函数和赋值操作符的区别，重点在资源管理上。</li><li>对象被拷贝时应考虑的行为：拷贝构造函数的设计。</li><li>对象的合法值是什么？最好在语法层面、至少在编译前应对用户做出监督。</li><li>新的类型是否应该复合某个继承体系，这就包含虚函数的覆盖问题。</li><li>新类型和已有类型之间的隐式转换问题，这意味着类型转换函数和非explicit函数之间的取舍。</li><li>新类型是否需要重载操作符，需要重载哪些操作符？</li><li>什么样的接口应当暴露在外，而什么样的技术应当封装在内?（<code>public</code>和<code>private</code>）</li><li>新类型的效率、资源获取归还、线程安全性和异常安全性如何保证？</li><li>这个类是否具备template的潜质：如果有的话，就应改为模板类。</li></ul><h3 id="条款20宁以pass-by-reference-to-const替换pass-by-type"><a class="markdownIt-Anchor" href="#条款20宁以pass-by-reference-to-const替换pass-by-type"></a> 条款20：宁以pass-by-reference-to-const替换pass-by-type</h3><h3 id="条款21必须返回对象时别妄想返回其reference"><a class="markdownIt-Anchor" href="#条款21必须返回对象时别妄想返回其reference"></a> 条款21：必须返回对象时，别妄想返回其reference</h3><h3 id="条款22将成员变量声明为private"><a class="markdownIt-Anchor" href="#条款22将成员变量声明为private"></a> 条款22：将成员变量声明为private</h3><h3 id="条款23宁以non-member-non-friend替换member函数"><a class="markdownIt-Anchor" href="#条款23宁以non-member-non-friend替换member函数"></a> 条款23：宁以non-member、non-friend替换member函数</h3><h3 id="条款24若所有参数皆需类型转换请为此采用non-member函数"><a class="markdownIt-Anchor" href="#条款24若所有参数皆需类型转换请为此采用non-member函数"></a> 条款24：若所有参数皆需类型转换，请为此采用non-member函数</h3><h3 id="条款25考虑写出一个不抛出异常的swap函数"><a class="markdownIt-Anchor" href="#条款25考虑写出一个不抛出异常的swap函数"></a> 条款25：考虑写出一个不抛出异常的swap函数</h3><hr /><h2 id="五-实现"><a class="markdownIt-Anchor" href="#五-实现"></a> 五、实现</h2><h3 id="条款26尽可能延后变量定义式的出现时间"><a class="markdownIt-Anchor" href="#条款26尽可能延后变量定义式的出现时间"></a> 条款26：尽可能延后变量定义式的出现时间</h3><h3 id="条款27尽量少做转型动作"><a class="markdownIt-Anchor" href="#条款27尽量少做转型动作"></a> 条款27：尽量少做转型动作</h3><h3 id="条款28避免返回hanles指向对象内部成分"><a class="markdownIt-Anchor" href="#条款28避免返回hanles指向对象内部成分"></a> 条款28：避免返回hanles指向对象内部成分</h3><h3 id="条款29为异常安全而努力是值得的"><a class="markdownIt-Anchor" href="#条款29为异常安全而努力是值得的"></a> 条款29：为“异常安全”而努力是值得的</h3><h3 id="条款30透彻了解inlining的里里外外"><a class="markdownIt-Anchor" href="#条款30透彻了解inlining的里里外外"></a> 条款30：透彻了解inlining的里里外外</h3><h3 id="条款31将文件的编译依存关系降至最低"><a class="markdownIt-Anchor" href="#条款31将文件的编译依存关系降至最低"></a> 条款31：将文件的编译依存关系降至最低</h3><hr /><h2 id="六-继承与面向对象设计"><a class="markdownIt-Anchor" href="#六-继承与面向对象设计"></a> 六、继承与面向对象设计</h2><h2 id="七-模板与泛型编程"><a class="markdownIt-Anchor" href="#七-模板与泛型编程"></a> 七、模板与泛型编程</h2><h3 id=""><a class="markdownIt-Anchor" href="#"></a> </h3><h2 id="一些查阅"><a class="markdownIt-Anchor" href="#一些查阅"></a> 一些查阅</h2><ul><li><p>关键字<code>static</code>  的作用:</p><ol><li>修饰局部变量，修饰为<strong>静态变量</strong>–其生命周期发生变化：</li></ol><blockquote><p>普通的的局部变量，存放在Stack段；<br />用malloc、new等函数声明的局部变量，由用户手动控制，存放在Heap段，用free、delete释放；<br />未初始化的全局变量和静态变量存放在BSS段，初始化后的全局变量和静态变量存放在Data段。</p></blockquote></li><li><p>重载<code>operator()</code>与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">m</span><span class="mord mathdefault">b</span><span class="mord mathdefault">d</span><span class="mord mathdefault">a</span></span></span></span>表达式的作用与区别：</p><p>功能上都是创建一个函数对象（仿函数，Functor），但是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">m</span><span class="mord mathdefault">b</span><span class="mord mathdefault">d</span><span class="mord mathdefault">a</span></span></span></span>是<strong>匿名</strong>函数对象；因此还是有区别的：</p><ul><li>对象性质不同：重载 <code>operator()</code> 的函数对象是一个具有状态的对象，可以在其成员变量中保存一些信息，而lambda 匿名函数不具有状态，只是一个纯粹的函数，不能在其内部保存任何信息。</li><li>作用域不同：重载 <code>operator()</code> 的函数对象可以在多个函数或者方法之间共享，也可以作为成员变量或者全局变量使用。而 lambda 匿名函数通常只能在定义它的函数或者方法内部使用。</li></ul></li><li><p>为什么C++不提倡使用<code>vector&lt;bool&gt;</code>？</p><p>因为<code>vector&lt;bool&gt;</code>实际上是<code>vector&lt;bit&gt;</code>，我们知道，为了C++ 数据类型都必须是可寻址的（单个字节才可以寻址），因此在C++中普通的<code>bool</code>都是占1个字节(8bits)的。而在<code>vector&lt;bool&gt;</code>中的每个<code>bool</code>只占1个bits，<strong>这意味着无法将其地址分配给 <code>bool*</code>，因此<code>bool *pb =&amp;v[0];</code> 不是有效代码</strong>。</p><pre class="language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; CLASS vector&lt;bool&gt;template&lt;class _Alloc&gt;class vector&lt;bool, _Alloc&gt;: public _Vb_val&lt;_Alloc&gt;&#123;&#x2F;&#x2F; varying size array of bits...&#125;</code></pre><p>参考自：<a href="https://stackoverflow.com/questions/17794569/why-isnt-vectorbool-a-stl-container">https://stackoverflow.com/questions/17794569/why-isnt-vectorbool-a-stl-container</a></p><p>比较好的代替写法，就是<code>vector&lt;uint8_t&gt;</code>, <code>vector&lt;unsigned char&gt;</code>,还有<code>std::basic_string&lt;bool&gt;</code></p></li><li><p>关键字<code>explicit</code>的作用：</p><p><code>explicit</code>用于修饰类构造函数，当一个类构造函数被声明为 <code>explicit</code> 时，它将不再被用于隐式转换</p><pre class="language-c++" data-language="c++"><code class="language-c++">class Example &#123;public:    explicit Example(int value) : m_value(value) &#123;&#125;private:    int m_value;&#125;;void foo(Example ex) &#123;    &#x2F;&#x2F; Do something with ex&#125;int main() &#123;    &#x2F;&#x2F; This will not compile because the constructor is explicit    &#x2F;&#x2F; foo(5);        &#x2F;&#x2F; This will compile because we explicitly call the constructor    foo(Example(5));&#125;</code></pre></li></ul><h2 id="reference"><a class="markdownIt-Anchor" href="#reference"></a> Reference</h2><p><a href="https://normaluhr.github.io/2020/12/31/Effective-C++/">https://normaluhr.github.io/2020/12/31/Effective-C++/</a></p>]]></content>
    
    
    <categories>
      
      <category>书屋</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-60.序列</title>
    <link href="/2023/03/01/Algorithm/Comp/0x10/20230301-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-060-%E5%BA%8F%E5%88%97/"/>
    <url>/2023/03/01/Algorithm/Comp/0x10/20230301-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-060-%E5%BA%8F%E5%88%97/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/148/">算法竞赛进阶指南-60.序列</a></p><p>给定 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 个序列，每个包含 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 个非负整数。</p><p>现在我们可以从每个序列中选择一个数字以形成具有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 个整数的序列。</p><p>很明显，我们一共可以得到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>n</mi><mi>m</mi></msup></mrow><annotation encoding="application/x-tex">n^m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span></span></span> 个这种序列，然后我们可以计算每个序列中的数字之和，并得到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>n</mi><mi>m</mi></msup></mrow><annotation encoding="application/x-tex">n^m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span></span></span> 个值。</p><p>现在请你求出这些序列和之中最小的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 个值。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行输入一个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>，代表输入中包含测试用例的数量。</p><p>接下来输入 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span> 组测试用例。</p><p>对于每组测试用例，第一行输入两个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>。</p><p>接下在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 行输入 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 个整数序列，数列中的整数均不超过 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>10000</mn></mrow><annotation encoding="application/x-tex">10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>对于每组测试用例，均以递增顺序输出最小的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 个序列和，数值之间用空格隔开。</p><p>每组输出占一行。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>m</mi><mo>≤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">0 &lt; m \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>n</mi><mo>≤</mo><mn>2000</mn></mrow><annotation encoding="application/x-tex">0 &lt; n \le 2000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">12 31 2 32 2 3</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">3 3 4</code></pre><h3 id="method-优先队列"><a class="markdownIt-Anchor" href="#method-优先队列"></a> Method : 优先队列</h3><p>首先只考虑两个序列：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>3</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>a</mi><mi>n</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A = [a_1, a_2, a_3, ... a_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>b</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>b</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>b</mi><mn>3</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>b</mi><mi>n</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">B = [b_1, b_2, b_3, ... b_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span><br />把数组A进行排序，得到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>A</mi><mo mathvariant="normal">′</mo></msup><mo>=</mo><mo stretchy="false">[</mo><msubsup><mi>a</mi><mn>1</mn><mo mathvariant="normal">′</mo></msubsup><mo separator="true">,</mo><msubsup><mi>a</mi><mn>2</mn><mo mathvariant="normal">′</mo></msubsup><mo separator="true">,</mo><msubsup><mi>a</mi><mn>3</mn><mo mathvariant="normal">′</mo></msubsup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msubsup><mi>a</mi><mi>n</mi><mo mathvariant="normal">′</mo></msubsup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A&#x27; = [a&#x27;_1, a&#x27;_2, a&#x27;_3, ... a&#x27;_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>，</p><p><strong>分组</strong>：那么可以得到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>n</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">n^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>个和，写成如下<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>组长度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>的序列，那么<strong>每个序列内部都是有序的</strong>（从小到大）<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><msub><mi>b</mi><mn>1</mn></msub><mo>+</mo><msubsup><mi>a</mi><mn>1</mn><mo mathvariant="normal">′</mo></msubsup><mo separator="true">,</mo><msub><mi>b</mi><mn>1</mn></msub><mo>+</mo><msubsup><mi>a</mi><mn>2</mn><mo mathvariant="normal">′</mo></msubsup><mo separator="true">,</mo><msub><mi>b</mi><mn>1</mn></msub><mo>+</mo><msubsup><mi>a</mi><mn>3</mn><mo mathvariant="normal">′</mo></msubsup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>b</mi><mn>1</mn></msub><mo>+</mo><msubsup><mi>a</mi><mi>n</mi><mo mathvariant="normal">′</mo></msubsup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[b_1 + a&#x27;_1, b_1 + a&#x27;_2, b_1 + a&#x27;_3, ... b_1 + a&#x27;_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><msub><mi>b</mi><mn>2</mn></msub><mo>+</mo><msubsup><mi>a</mi><mn>1</mn><mo mathvariant="normal">′</mo></msubsup><mo separator="true">,</mo><msub><mi>b</mi><mn>2</mn></msub><mo>+</mo><msubsup><mi>a</mi><mn>2</mn><mo mathvariant="normal">′</mo></msubsup><mo separator="true">,</mo><msub><mi>b</mi><mn>2</mn></msub><mo>+</mo><msubsup><mi>a</mi><mn>3</mn><mo mathvariant="normal">′</mo></msubsup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>b</mi><mn>2</mn></msub><mo>+</mo><msubsup><mi>a</mi><mi>n</mi><mo mathvariant="normal">′</mo></msubsup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[b_2 + a&#x27;_1, b_2 + a&#x27;_2, b_2 + a&#x27;_3, ... b_2 + a&#x27;_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><msub><mi>b</mi><mn>3</mn></msub><mo>+</mo><msubsup><mi>a</mi><mn>1</mn><mo mathvariant="normal">′</mo></msubsup><mo separator="true">,</mo><msub><mi>b</mi><mn>3</mn></msub><mo>+</mo><msubsup><mi>a</mi><mn>2</mn><mo mathvariant="normal">′</mo></msubsup><mo separator="true">,</mo><msub><mi>b</mi><mn>3</mn></msub><mo>+</mo><msubsup><mi>a</mi><mn>3</mn><mo mathvariant="normal">′</mo></msubsup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>b</mi><mn>3</mn></msub><mo>+</mo><msubsup><mi>a</mi><mi>n</mi><mo mathvariant="normal">′</mo></msubsup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[b_3 + a&#x27;_1, b_3 + a&#x27;_2, b_3 + a&#x27;_3, ... b_3 + a&#x27;_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><msub><mi>b</mi><mi>n</mi></msub><mo>+</mo><msubsup><mi>a</mi><mn>1</mn><mo mathvariant="normal">′</mo></msubsup><mo separator="true">,</mo><msub><mi>b</mi><mi>n</mi></msub><mo>+</mo><msubsup><mi>a</mi><mn>2</mn><mo mathvariant="normal">′</mo></msubsup><mo separator="true">,</mo><msub><mi>b</mi><mi>n</mi></msub><mo>+</mo><msubsup><mi>a</mi><mn>3</mn><mo mathvariant="normal">′</mo></msubsup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>b</mi><mi>n</mi></msub><mo>+</mo><msubsup><mi>a</mi><mi>n</mi><mo mathvariant="normal">′</mo></msubsup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[b_n + a&#x27;_1, b_n + a&#x27;_2, b_n + a&#x27;_3, ... b_n + a&#x27;_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span><br />那么首先从这n组序列中选出最小的数，就是比较第一列的数，不妨假设最小的数是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>b</mi><mn>2</mn></msub><mo>+</mo><msubsup><mi>a</mi><mn>1</mn><mo mathvariant="normal">′</mo></msubsup></mrow><annotation encoding="application/x-tex">b_2 + a&#x27;_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span></span></span>，那么第二组的指针就向后移动，把<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>b</mi><mn>2</mn></msub><mo>+</mo><msubsup><mi>a</mi><mn>2</mn><mo mathvariant="normal">′</mo></msubsup></mrow><annotation encoding="application/x-tex">b_2 + a&#x27;_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span></span></span>加进来继续比较，选出第二小的数…依次类推，可以得到两个序列的前n小和。<br />可以用一个堆来维护，时间复杂度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n \log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></p><p>对于m个序列，我们仍然可以先只考虑两个序列，筛选出这两个序列的前n小和后，将其作为一个新的序列，继续与下一个序列求前n小和，一共需要求m - 1次，因此总时间复杂度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(mn \log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;queue&gt;#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;cstring&gt;using namespace std;typedef pair&lt;int, int&gt; PII; &#x2F;&#x2F; &#123;当前的数, 当前数所在序列的下标&#125;const int N &#x3D; 2000 + 7;int T;int m, n;int a[N], b[N], tmp[N];void merge() &#123;    priority_queue&lt;PII, vector&lt;PII&gt;, greater&lt;PII&gt;&gt; pq;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        pq.push(&#123;a[0] + b[i], 0&#125;);    &#125;        for (int i &#x3D; 0; i &lt; n; i ++) &#123;        auto t &#x3D; pq.top(); pq.pop();        tmp[i] &#x3D; t.first;        pq.push(&#123;t.first + a[t.second + 1] - a[t.second], t.second + 1&#125;);    &#125;        &#x2F;&#x2F; copy    memcpy(a, tmp, sizeof tmp);&#125;int main() &#123;    cin &gt;&gt; T;    while (T --) &#123;        scanf(&quot;%d %d&quot;, &amp;m, &amp;n);        for (int j &#x3D; 0; j &lt; n; j ++) scanf(&quot;%d&quot;, &amp;a[j]);        sort(a, a + n);        for (int i &#x3D; 1; i &lt; m ; i ++) &#123;            for (int j &#x3D; 0; j &lt; n; j ++) scanf(&quot;%d&quot;, &amp;b[j]);            merge();        &#125;        for (int i &#x3D; 0; i &lt; n; i ++) printf(&quot;%d &quot;, a[i]);        puts(&quot;&quot;);    &#125;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(mn\log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>次堆的push() &amp; pop()，需要进行<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">m - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>次求前n小和操作。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>二叉堆</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-59.超市</title>
    <link href="/2023/02/28/Algorithm/Comp/0x10/20230228-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-059-%E8%B6%85%E5%B8%82/"/>
    <url>/2023/02/28/Algorithm/Comp/0x10/20230228-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-059-%E8%B6%85%E5%B8%82/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/147/">算法竞赛进阶指南-59.超市</a></p><p>超市里有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 件商品，每件商品都有利润 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">p_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和过期时间 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">d_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，每天只能卖一件商品，过期商品不能再卖。</p><p>求合理安排每天卖的商品的情况下，可以得到的最大收益是多少。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>输入包含多组测试用例。</p><p>每组测试用例，以输入整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 开始，接下来输入 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 对 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">p_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">d_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，分别代表第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 件商品的利润和过期时间。</p><p>在输入中，数据之间可以自由穿插任意个空格或空行，输入至文件结尾时终止输入，保证数据正确。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>对于每组产品，输出一个该组的最大收益值。</p><p>每个结果占一行。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">0 \le N \le 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><msub><mi>p</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>d</mi><mi>i</mi></msub><mo>≤</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">1 \le p_i,d_i \le 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span><br />最多有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>14</mn></mrow><annotation encoding="application/x-tex">14</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">4</span></span></span></span> 组测试样例</p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">4  50 2  10 1   20 2   30 17  20 1   2 1   10 3  100 2   8 2   5 20  50 10</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">80185</code></pre><h3 id="method-贪心-优先队列"><a class="markdownIt-Anchor" href="#method-贪心-优先队列"></a> Method : 贪心 + 优先队列</h3><blockquote><p>贪心策略：对于每个时间t，我们希望对于当前所有未过期的商品，在t天内尽可能选取利润前t大的商品</p></blockquote><p>具体做法就是，首先按照过期时间来排序，然后按该次序从前往后遍历商品，并以商品价值建立一个小根堆：</p><p>把当前商品插入到堆中，如果当前商品的过期时间&gt;堆中的商品数，因为之前所有的商品的过期时间都&lt;=该商品的过期时间，所以如果以当前堆中的商品数为售卖天数t，必然不能把这些商品都卖光，因此需要弹出价值最小的商品(堆顶)。</p><p>这道题虽然思维难度不高，但是让我懂得了结构体的优先队列该怎么写最优美(重载<code>operator &gt;</code>)。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;queue&gt;#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;const int N &#x3D; 1e4 + 7;struct Good &#123;    int value;    int time;    bool operator &gt;(const Good&amp; rhs) const&#123;        return value &gt; rhs.value;    &#125;&#125;;Good g[N];int main() &#123;    int n;    while (cin &gt;&gt; n) &#123;        for (int i &#x3D; 0; i &lt; n; i ++) &#123;            scanf(&quot;%d %d&quot;, &amp;g[i].value, &amp;g[i].time);        &#125;        sort(g, g + n, [](const Good&amp; a, const Good&amp; b) &#123;            if (a.time &#x3D;&#x3D; b.time) return a.value &lt; b.value;            return a.time &lt; b.time;        &#125;);                priority_queue&lt;Good, vector&lt;Good&gt;, greater&lt;Good&gt;&gt; pq;        for (int i &#x3D; 0; i &lt; n; i ++) &#123;            pq.push(g[i]);            if (pq.size() &gt; g[i].time) pq.pop();        &#125;                int res &#x3D; 0;        while (!pq.empty()) &#123;            res +&#x3D; pq.top().value; pq.pop();        &#125;        printf(&quot;%d\n&quot;, res);    &#125;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>2</mn><mo>∗</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(2*n\log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，sort是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>的，n次循环*pq的push() or pop也是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(N)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>贪心</tag>
      
      <tag>优先队列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-58.最长异或值路径</title>
    <link href="/2023/02/27/Algorithm/Comp/0x10/20230227-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-058-%E6%9C%80%E9%95%BF%E5%BC%82%E6%88%96%E5%80%BC%E8%B7%AF%E5%BE%84/"/>
    <url>/2023/02/27/Algorithm/Comp/0x10/20230227-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-058-%E6%9C%80%E9%95%BF%E5%BC%82%E6%88%96%E5%80%BC%E8%B7%AF%E5%BE%84/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/146/">算法竞赛进阶指南-58.最长异或值路径</a></p><p>给定一个树，树上的边都具有权值。</p><p>树中一条路径的异或长度被定义为路径上所有边的权值的异或和：</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mrow></mrow><mrow><mi>x</mi><mi>o</mi><mi>r</mi></mrow></msub><mi>l</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>h</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>⊕</mo><mrow><mi>e</mi><mo>∈</mo><mi>p</mi></mrow></msub><mi>w</mi><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">_{xor}lenth(p) = ⊕_{e\in p}w(e)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mbin">⊕</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.22737000000000002em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="mrel mtight">∈</span><span class="mord mathdefault mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mclose">)</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⊕</mo></mrow><annotation encoding="application/x-tex">⊕</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">⊕</span></span></span></span> 为异或符号。</p><p>给定上述的具有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 个节点的树，你能找到异或长度最大的路径吗？</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行包含整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>，表示树的节点数目。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 行，每行包括三个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi><mi mathvariant="normal">，</mi><mi>v</mi><mi mathvariant="normal">，</mi><mi>w</mi></mrow><annotation encoding="application/x-tex">u，v，w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">u</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span>，表示节点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">u</span></span></span></span> 和节点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span> 之间有一条边权重为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span>。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出一个整数，表示异或长度最大的路径的最大异或和。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo>&lt;</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">0 \le u,v &lt; n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><mi>w</mi><mo>&lt;</mo><msup><mn>2</mn><mn>31</mn></msup></mrow><annotation encoding="application/x-tex">0 \le w &lt;2^{31}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">40 1 31 2 41 3 6</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">7</code></pre><h4 id="样例解释"><a class="markdownIt-Anchor" href="#样例解释"></a> 样例解释</h4><p>样例中最长异或值路径应为 <code>0-&gt;1-&gt;2</code>，值为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>7</mn><mo stretchy="false">(</mo><mo>=</mo><mn>3</mn><mo>⊕</mo><mn>4</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">7 (=3 ⊕ 4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">7</span><span class="mopen">(</span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mclose">)</span></span></span></span></p><h3 id="method-位运算-二进制拆分"><a class="markdownIt-Anchor" href="#method-位运算-二进制拆分"></a> Method : 位运算-二进制拆分</h3><p>注意到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi><mo stretchy="false">)</mo><mo>⊕</mo><mi>f</mi><mo stretchy="false">(</mo><mi>b</mi><mo separator="true">,</mo><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(a, b) = f(a, root) \oplus  f(b, root)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span>，因此<br />求出树上每个点到根结点的异或路径<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>(dfs)，然后存入Trie，就能转化成上一题 <a href="https://www.acwing.com/problem/content/145/">算法竞赛进阶指南-57.最大异或对</a></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;cstring&gt;#include &lt;algorithm&gt;using namespace std;const int N &#x3D; 1e5 + 7;const int M &#x3D; N * 31;const int ALPHABETS_SIZE &#x3D; 2;struct Edge&#123;    int to;    int w;  &#x2F;&#x2F; 无权图，可以没有w或者w置为1    int nxt;&#125;;struct Trie &#123;private:    int son[M][ALPHABETS_SIZE], idx &#x3D; 0;public:    void insert(int x) &#123;        int p &#x3D; 0;        for (int i &#x3D; 30; i &gt;&#x3D; 0; i --) &#123;            int t &#x3D; x &gt;&gt; i &amp; 1;            if (!son[p][t]) &#123;                son[p][t] &#x3D; ++idx;            &#125;            p &#x3D; son[p][t];        &#125;    &#125;        int query(int x) &#123;        int res &#x3D; 0;        int p &#x3D; 0;        for (int i &#x3D; 30; i &gt;&#x3D; 0; i --) &#123;            int t &#x3D; x &gt;&gt; i &amp; 1;            if (son[p][!t]) &#123;                p &#x3D; son[p][!t];                res &#x3D; (res &lt;&lt; 1) + !t;            &#125;            else &#123;                p &#x3D; son[p][t];                res &#x3D; (res &lt;&lt; 1) + t;            &#125;        &#125;        return res;    &#125;&#125;;int a[N];Trie trie;&#x2F;&#x2F; 链式前向星int head[N], idx &#x3D; 0;Edge edge[2 * N];void add(int from, int to , int w) &#123;    edge[idx].to &#x3D; to;    edge[idx].w &#x3D; w;    edge[idx].nxt &#x3D; head[from];    head[from] &#x3D; idx ++;&#125;void dfs(int u, int father, int sum) &#123;    a[u] &#x3D; sum;    for (int i &#x3D; head[u]; i !&#x3D; -1; i &#x3D; edge[i].nxt) &#123;        int j &#x3D; edge[i].to;        if (j !&#x3D; father) dfs(j, u, sum ^ edge[i].w);    &#125;&#125;int main() &#123;    int n;    cin &gt;&gt; n;    memset(head, -1, sizeof head);    for (int i &#x3D; 0; i &lt; n - 1; i ++) &#123;        int u, v, w;        scanf(&quot;%d %d %d&quot;, &amp;u, &amp;v, &amp;w);        add(u, v, w);        add(v, u, w);    &#125;        dfs(0, -1, 0);        int res &#x3D; 0;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        trie.insert(a[i]);        int t &#x3D; trie.query(a[i]);        res &#x3D; max(res, a[i] ^ t);    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>31</mn><mo>∗</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(31 * n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">3</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中31是二进制位枚举，n是枚举a[i]。</li><li>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>M</mi><mo>∗</mo><mi>A</mi><mi>L</mi><mi>P</mi><mi>H</mi><mi>A</mi><mi>B</mi><mi>E</mi><mi>T</mi><mi mathvariant="normal">_</mi><mi>S</mi><mi>I</mi><mi>Z</mi><mi>E</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(M * ALPHABET\_SIZE)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span></span></span>，M是字符串个数 * 单个字符串的最大长度。</li></ul><p>本题同样卡vector&lt;Trie*&gt;，链表new动态分配内存导致MLE</p>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Trie</tag>
      
      <tag>贪心</tag>
      
      <tag>树上差分</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-57.最大异或对</title>
    <link href="/2023/02/26/Algorithm/Comp/0x10/20230226-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-057-%E6%9C%80%E5%A4%A7%E5%BC%82%E6%88%96%E5%92%8C/"/>
    <url>/2023/02/26/Algorithm/Comp/0x10/20230226-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-057-%E6%9C%80%E5%A4%A7%E5%BC%82%E6%88%96%E5%92%8C/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/145/">算法竞赛进阶指南-57.最大异或对</a></p><p>在给定的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub><mi mathvariant="normal">，</mi><msub><mi>A</mi><mn>2</mn></msub><mo>…</mo><mo>…</mo><msub><mi>A</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">A_1，A_2……A_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">，</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 中选出两个进行 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">xor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>（异或）运算，得到的结果最大是多少？</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行输入一个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>。</p><p>第二行输入 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">A_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>～<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">A_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出一个整数表示答案。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1 \le N \le 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><msub><mi>A</mi><mi>i</mi></msub><mo>&lt;</mo><msup><mn>2</mn><mn>31</mn></msup></mrow><annotation encoding="application/x-tex">0 \le A_i &lt; 2^{31}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">31 2 3</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">3</code></pre><h3 id="method-trie"><a class="markdownIt-Anchor" href="#method-trie"></a> Method : Trie</h3><p>考虑暴力做法<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><pre class="language-c++" data-language="c++"><code class="language-c++">int res &#x3D; 0;for (int i &#x3D; 0; i &lt; n; i ++) &#123;for (int j &#x3D; 0; j &lt; i; j ++) &#123;res &#x3D; max(res, a[i] ^ a[j]);&#125;&#125;</code></pre><p>因为异或是位运算，所以以2进制的角度考虑，将所有<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>以2进制位拆解，从高位到低位存入(因为要选最大值，优先从高位考虑)01字典树。</p><p>在01字典树中，每次优先选择使当前高位为1的数（对于异或运算就是选与当前相反的数字)。就能把暴力做法的内层循环从<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>优化到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>31</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(31)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">3</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;const int N &#x3D; 1e5 + 7, M &#x3D; N * 31;const int ALPHABETS_SIZE &#x3D; 2;struct Trie &#123;private:    int son[M][ALPHABETS_SIZE], idx;public:    &#x2F;&#x2F; Trie() : son(ALPHABETS_SIZE, nullptr) &#123;&#125;    &#x2F;&#x2F; ~Trie() &#123;    &#x2F;&#x2F;     for (auto&amp; s : son) delete(s);    &#x2F;&#x2F; &#125;        void insert(int x) &#123;        int p &#x3D; 0;        for (int i &#x3D; 30; i &gt;&#x3D; 0; i --) &#123;            int t &#x3D; x &gt;&gt; i &amp; 1;            if (!son[p][t]) &#123;                son[p][t] &#x3D; ++idx;            &#125;            p &#x3D; son[p][t];        &#125;    &#125;        int query(int x) &#123;        int res &#x3D; 0;        int p &#x3D; 0;        for (int i &#x3D; 30; i &gt;&#x3D; 0; i --) &#123;            int t &#x3D; x &gt;&gt; i &amp; 1;            if (son[p][!t]) &#123;                p &#x3D; son[p][!t];                res &#x3D; (res &lt;&lt; 1) + !t;            &#125;            else &#123;                p &#x3D; son[p][t];                res &#x3D; (res &lt;&lt; 1) + t;            &#125;        &#125;        return res;    &#125;&#125;;int a[N];Trie trie;int main() &#123;    int n;    cin &gt;&gt; n;    for (int i &#x3D; 0 ; i &lt; n; i ++) &#123;        scanf(&quot;%d&quot;, &amp;a[i]);    &#125;        int res &#x3D; 0;        for (int i &#x3D; 0; i &lt; n; i ++) &#123;        trie.insert(a[i]);        int t &#x3D; trie.query(a[i]);        res &#x3D; max(res, a[i] ^ t);    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>31</mn><mo>∗</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(31 * n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">3</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中31是二进制位枚举，n是枚举a[i]。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>M</mi><mo>∗</mo><mi>A</mi><mi>L</mi><mi>P</mi><mi>H</mi><mi>A</mi><mi>B</mi><mi>E</mi><mi>T</mi><mi mathvariant="normal">_</mi><mi>S</mi><mi>I</mi><mi>Z</mi><mi>E</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(M * ALPHABET\_SIZE)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span></span></span>，M是字符串个数 * 单个字符串的最大长度。</p></li></ul><p>附一个使用vector，new动态分配内存被卡MLE的。Memory Limit Exceeded</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;const int N &#x3D; 1e5 + 7;const int ALPHABETS_SIZE &#x3D; 2;struct Trie &#123;private:    int cnt;    vector&lt;Trie*&gt; son;public:    Trie() : cnt(0), son(ALPHABETS_SIZE, nullptr) &#123;&#125;    ~Trie() &#123;        for (auto&amp; s : son) delete(s);    &#125;        void insert(int x) &#123;        Trie* p &#x3D; this;        for (int i &#x3D; 30; i &gt;&#x3D; 0; i --) &#123;            int t &#x3D; x &gt;&gt; i &amp; 1;            if (!p-&gt;son[t]) &#123;                p-&gt;son[t] &#x3D; new Trie();            &#125;            p &#x3D; p-&gt;son[t];        &#125;        p-&gt;cnt++;    &#125;        int query(int x) &#123;        int res &#x3D; 0;        Trie*p &#x3D; this;        for (int i &#x3D; 30; i &gt;&#x3D; 0; i --) &#123;            int t &#x3D; x &gt;&gt; i &amp; 1;            if (p-&gt;son[!t]) &#123;                p &#x3D; p-&gt;son[!t];                res &#x3D; (res &lt;&lt; 1) + !t;            &#125;            else &#123;                p &#x3D; p-&gt;son[t];                res &#x3D; (res &lt;&lt; 1) + t;            &#125;        &#125;        return res;    &#125;&#125;;vector&lt;int&gt; a(N);Trie trie;int main() &#123;    int n;    cin &gt;&gt; n;    for (int i &#x3D; 0 ; i &lt; n; i ++) &#123;        scanf(&quot;%d&quot;, &amp;a[i]);    &#125;        int res &#x3D; 0;        for (int i &#x3D; 0; i &lt; n; i ++) &#123;        trie.insert(a[i]);        int t &#x3D; trie.query(a[i]);        res &#x3D; max(res, a[i] ^ t);    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Trie</tag>
      
      <tag>贪心</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-56.前缀统计</title>
    <link href="/2023/02/25/Algorithm/Comp/0x10/20230225-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-056-%E5%89%8D%E7%BC%80%E7%BB%9F%E8%AE%A1/"/>
    <url>/2023/02/25/Algorithm/Comp/0x10/20230225-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-056-%E5%89%8D%E7%BC%80%E7%BB%9F%E8%AE%A1/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/144/">算法竞赛进阶指南-56.前缀统计</a></p><p>给定 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 个字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>S</mi><mn>2</mn></msub><mo>…</mo><msub><mi>S</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">S_1,S_2…S_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，接下来进行 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span> 次询问，每次询问给定一个字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>，求 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mn>1</mn></msub><mo>∼</mo><msub><mi>S</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">S_1 \sim S_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 中有多少个字符串是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span> 的前缀。</p><p>输入字符串的总长度不超过 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">10^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span>，仅包含小写字母。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行输入两个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mi mathvariant="normal">，</mi><mi>M</mi></mrow><annotation encoding="application/x-tex">N，M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 行每行输入一个字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span> 行每行一个字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span> 用以询问。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>对于每个询问，输出一个整数表示答案。</p><p>每个答案占一行。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>N</mi><mo separator="true">,</mo><mi>M</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1 \le N,M \le 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">3 2abbcabcabcefg</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">20</code></pre><h3 id="method-trie"><a class="markdownIt-Anchor" href="#method-trie"></a> Method : Trie</h3><p>Trie模板题</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;string&gt;#include &lt;unordered_map&gt;#include &lt;iostream&gt;using namespace std;struct Trie &#123;private:    int cnt;    unordered_map&lt;char, Trie*&gt; son;public:    Trie() : cnt(0) &#123;&#125;    ~Trie() &#123;        for (auto &amp;s : son) &#123;            delete(s.second);        &#125;    &#125;        void insert(const string&amp; s) &#123;        Trie* p &#x3D; this;        for (char c : s) &#123;            if (!p-&gt;son[c]) &#123;                p-&gt;son[c] &#x3D; new Trie();            &#125;            p &#x3D; p-&gt;son[c];        &#125;        p-&gt;cnt ++;    &#125;        int query(const string&amp; s) &#123;        Trie*p &#x3D; this;        for (char c : s) &#123;            if (!p-&gt;son[c]) &#123;                return 0;            &#125;            p &#x3D; p-&gt;son[c];        &#125;        return p-&gt;cnt;    &#125;        int start_with(const string&amp; s) &#123;        int res &#x3D; 0;                Trie* p &#x3D; this;        for (char c : s) &#123;            if (!p-&gt;son[c])&#123;                break;            &#125;            p &#x3D; p-&gt;son[c];            res +&#x3D; p-&gt;cnt;        &#125;                return res;    &#125;&#125;;int main() &#123;    Trie trie;        int n, m;    cin &gt;&gt; n &gt;&gt; m;        for (int i &#x3D; 0; i &lt; n; i ++) &#123;        string s;        cin &gt;&gt; s;        trie.insert(s);    &#125;        for (int i &#x3D; 0; i &lt; m; i ++) &#123;        string s;        cin &gt;&gt; s;        printf(&quot;%d\n&quot;, trie.start_with(s));    &#125;            return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>∗</mo><mi>L</mi><mo>+</mo><mi>m</mi><mo>∗</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n* L + m * L)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>为Trie中字符串的平均长度。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>∗</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n * L)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>为Trie中字符串的平均长度。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Trie</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-55.周期</title>
    <link href="/2023/02/24/Algorithm/Comp/0x10/20230224-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-055-%E5%91%A8%E6%9C%9F/"/>
    <url>/2023/02/24/Algorithm/Comp/0x10/20230224-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-055-%E5%91%A8%E6%9C%9F/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/143/">算法竞赛进阶指南-55.周期</a></p><p>一个字符串的前缀是从第一个字符开始的连续若干个字符，例如 <code>abaab</code> 共有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span> 个前缀，分别是 <code>a</code>，<code>ab</code>，<code>aba</code>，<code>abaa</code>，<code>abaab</code>。</p><p>我们希望知道一个 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 位字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span> 的前缀是否具有循环节。</p><p>换言之，对于每一个从头开始的长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i&gt;1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69862em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>）的前缀，是否由重复出现的子串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> 组成，即 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>A</mi><mi>A</mi><mo>…</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">AAA…A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">A</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">A</span></span></span></span> （<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> 重复出现 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> 次,<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">K&gt;1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>）。</p><p>如果存在，请找出最短的循环节对应的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> 值（也就是这个前缀串的所有可能重复节中，最大的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> 值）。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>输入包括多组测试数据，每组测试数据包括两行。</p><p>第一行输入字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span> 的长度 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>。</p><p>第二行输入字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>。</p><p>输入数据以只包括一个 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 的行作为结尾。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>对于每组测试数据，第一行输出 <code>Test case #</code> 和测试数据的编号。</p><p>接下来的每一行，输出具有循环节的前缀的长度 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 和其对应 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span>，中间用一个空格隔开。</p><p>前缀长度需要升序排列。</p><p>在每组测试数据的最后输出一个空行。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>1000000</mn></mrow><annotation encoding="application/x-tex">2 \le N \le 1000000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">3aaa4abcd12aabaabaabaab0</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-bash" data-language="bash"><code class="language-bash">Test case #12 23 3Test case #2Test case #32 26 29 312 4</code></pre><h3 id="method-kmp"><a class="markdownIt-Anchor" href="#method-kmp"></a> Method : KMP</h3><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>x</mi><mi>t</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">nxt[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>的含义：对于字符串的前缀子串<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">S[0, i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>x</mi><mi>t</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">nxt[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>是该前缀子串所有相等的前后缀里长度的最大值。</p><p>令<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mo>=</mo><mi>n</mi><mo>−</mo><mi>n</mi><mi>x</mi><mi>t</mi><mo stretchy="false">[</mo><mi>n</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">T = n - nxt[n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">n</span><span class="mclose">]</span></span></span></span>，则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>是最小循环节，并且如果<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mo>∤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">T\nmid n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.99253em;vertical-align:-0.25142em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">∤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>，则题目无解。</p><p>证明1：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>是一个最小循环节。</p><blockquote><p>反证法：假设<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∃</mi><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup><mo>&lt;</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">\exists T&#x27; &lt; T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.790992em;vertical-align:-0.0391em;"></span><span class="mord">∃</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>，<br />那么有<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>−</mo><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup><mo>&gt;</mo><mi>n</mi><mo>−</mo><mi>T</mi><mo>=</mo><mi>n</mi><mi>x</mi><mi>t</mi><mo stretchy="false">[</mo><mi>n</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">n - T&#x27; &gt; n - T = nxt[n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.790992em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">n</span><span class="mclose">]</span></span></span></span>，与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>x</mi><mi>t</mi><mo stretchy="false">[</mo><mi>n</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">nxt[n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">n</span><span class="mclose">]</span></span></span></span>是所有相等的前后缀里长度的最大值这一点矛盾。</p></blockquote><p>证明2：如果字符串中存在更大的循环节<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>，则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>必然是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>的整数倍，即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mo>∣</mo><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T \mid T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>。</p><blockquote><p>反证法：假设<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∃</mi><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup><mo>&gt;</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">\exists T&#x27; &gt; T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.790992em;vertical-align:-0.0391em;"></span><span class="mord">∃</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>，且<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mo>∤</mo><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T \nmid T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.99253em;vertical-align:-0.25142em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">∤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>,<br />那么设<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>=</mo><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>T</mi><mo separator="true">,</mo><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d = gcd(T, T&#x27;)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">c</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，易知<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>∣</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">d \mid T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>，因此<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>&lt;</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">d &lt; T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>。<br />由裴蜀定理，可知<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>=</mo><mi>x</mi><mi>T</mi><mo>+</mo><mi>y</mi><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">d = xT + yT&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.946332em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>成立，不妨假设<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>&gt;</mo><mn>0</mn><mo separator="true">,</mo><mi>y</mi><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x &gt; 0, y &lt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，那么对于原字符串<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>：<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>i</mi><mo>∈</mo><mi>n</mi><mo separator="true">,</mo><msub><mi>S</mi><mi>i</mi></msub><mo>=</mo><msub><mi>S</mi><mrow><mi>i</mi><mo>+</mo><mi>T</mi></mrow></msub><mo>=</mo><msub><mi>S</mi><mrow><mi>i</mi><mo>+</mo><mn>2</mn><mi>T</mi></mrow></msub><mo>=</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>S</mi><mi>i</mi></msub><mo>+</mo><mi>x</mi><mi>T</mi><mo>=</mo><msub><mi>S</mi><mrow><mi>i</mi><mo>+</mo><mi>x</mi><mi>T</mi><mo>−</mo><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow></msub><mo>=</mo><msub><mi>S</mi><mrow><mi>i</mi><mo>+</mo><mi>x</mi><mi>T</mi><mo>−</mo><mn>2</mn><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow></msub><mo>=</mo><msub><mi>S</mi><mrow><mi>i</mi><mo>+</mo><mi>x</mi><mi>T</mi><mo>−</mo><mi>y</mi><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow></msub><mo>=</mo><msub><mi>s</mi><mrow><mi>i</mi><mo>+</mo><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\forall i\in n,  S_i = S_{i + T} = S_{i + 2 T} = ... S_i+xT = S_{i + xT -T&#x27;} = S_{i + xT - 2T&#x27;} = S_{i + xT - yT&#x27;} = s_{i + d}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord">∀</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mbin mtight">−</span><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span><br />得到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub><mo>=</mo><msub><mi>S</mi><mrow><mi>i</mi><mo>+</mo><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">S_i = S_{i + d}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>，由定义可知<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span></span></span></span>是一个循环节，又因为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>&lt;</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">d &lt; T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>，与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>是最小循环节矛盾。</p></blockquote><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;string&gt;#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;const int N &#x3D; 1e6 + 7;int n;string s;vector&lt;int&gt; get_next(string&amp; p) &#123;    int m &#x3D; p.size();        vector&lt;int&gt; nxt(m);    nxt[0] &#x3D; -1;    for (int i &#x3D; 1, j &#x3D; -1; i &lt; m; i ++) &#123;        while (~j &amp;&amp; p[i] !&#x3D; p[j + 1]) j &#x3D; nxt[j];        if (p[i] &#x3D;&#x3D; p[j + 1]) j ++;        nxt[i] &#x3D; j;    &#125;        return nxt;&#125;int main() &#123;    int T &#x3D; 1;    while (scanf(&quot;%d&quot;, &amp;n), n) &#123;        cin &gt;&gt; s;                vector&lt;int&gt; nxt &#x3D; get_next(s);                printf(&quot;Test case #%d\n&quot;, T ++);        for (int i &#x3D; 1; i &lt; n; i ++) &#123;            int t &#x3D; i - nxt[i];            if (t !&#x3D; 0 &amp;&amp; (i + 1) % t &#x3D;&#x3D; 0 &amp;&amp; (i + 1) &#x2F; t &gt; 1) &#123;                printf(&quot;%d %d\n&quot;, (i + 1) , (i + 1) &#x2F; t);            &#125;         &#125;        puts(&quot;&quot;);    &#125;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>2</mn><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>n</mi></mrow><annotation encoding="application/x-tex">2n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault">n</span></span></span></span>为函数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>e</mi><mi>t</mi><mi mathvariant="normal">_</mi><mi>n</mi><mi>e</mi><mi>x</mi><mi>t</mi><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">get\_next()</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mclose">)</span></span></span></span>的时间复杂度。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>x</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">nxt</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span></span></span></span> 数组实际上只用了<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>的空间。</p></li></ul><p>证明参考：<a href="https://www.acwing.com/video/4635/">https://www.acwing.com/video/4635/</a></p>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>KMP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-54.后缀数组</title>
    <link href="/2023/02/23/Algorithm/Comp/0x10/20230223-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-054-%E5%90%8E%E7%BC%80%E6%95%B0%E7%BB%84/"/>
    <url>/2023/02/23/Algorithm/Comp/0x10/20230223-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-054-%E5%90%8E%E7%BC%80%E6%95%B0%E7%BB%84/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/142/">算法竞赛进阶指南-54.后缀数组</a></p><p>后缀数组 (SA) 是一种重要的数据结构，通常使用倍增或者 DC3 算法实现，这超出了我们的讨论范围。</p><p>在本题中，我们希望使用快排、Hash 与二分实现一个简单的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msup><mi>g</mi><mn>2</mn></msup><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlog^2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 的后缀数组求法。</p><p>详细地说，给定一个长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 的字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>（下标 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>∼</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 \sim n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>），我们可以用整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span>(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><mi>k</mi><mo>&lt;</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">0 \le k &lt; n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>) 表示字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span> 的后缀 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mo stretchy="false">(</mo><mi>k</mi><mo>∼</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">S(k \sim n-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>。</p><p>把字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span> 的所有后缀按照字典序排列，排名为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 的后缀记为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>A</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">SA[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">A</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>。</p><p>额外地，我们考虑排名为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 的后缀与排名为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 的后缀，把二者的最长公共前缀的长度记为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Height[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">e</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">h</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>。</p><p>我们的任务就是求出 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>A</mi></mrow><annotation encoding="application/x-tex">SA</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">A</span></span></span></span> 与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">Height</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">e</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">h</span><span class="mord mathdefault">t</span></span></span></span> 这两个数组。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>输入一个字符串，其长度不超过 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>30</mn></mrow><annotation encoding="application/x-tex">30</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">0</span></span></span></span> 万。</p><p>字符串由小写字母构成。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>第一行为数组 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>A</mi></mrow><annotation encoding="application/x-tex">SA</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">A</span></span></span></span>，相邻两个整数用 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 个空格隔开。</p><p>第二行为数组 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">Height</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">e</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">h</span><span class="mord mathdefault">t</span></span></span></span>，相邻两个整数用 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 个空格隔开，我们规定 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">Height[1]=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">e</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">h</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>。</p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-nginx" data-language="nginx"><code class="language-nginx">ponoiiipoi</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">9 4 5 6 2 8 3 1 7 00 1 2 1 0 0 2 1 0 2</code></pre><h3 id="method-快排二分字符串前缀哈希"><a class="markdownIt-Anchor" href="#method-快排二分字符串前缀哈希"></a> Method : 快排+二分+字符串前缀哈希</h3><p>首先搞明白题目意思：题目样例中的10个后缀</p><pre class="language-none"><code class="language-none">0 ponoiiipoi1 onoiiipoi2 noiiipoi3 oiiipoi4 iiipoi5 iipoi6 ipoi7 poi8 oi9 i输出：(1) 字典序排序后的下标(2) 排序后，每两个相邻后缀的最长公共前缀长度</code></pre><p>然后依照题意，要以字典序对这些后缀排序：</p><p>快排本身<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，然后如果每次扫描字符串按字典序比较<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，总时间复杂度会达到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>。</p><p>我们可以考虑使用二分+字符串前缀哈希，将字典序比较优化成<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>：<br />在快速排序比较后缀p和后缀q时，可以使用<strong>二分法</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，比较<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mo stretchy="false">[</mo><mi>p</mi><mo>∼</mo><mi>p</mi><mo>+</mo><mi>m</mi><mi>i</mi><mi>d</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">S[p \sim p + mid - 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mopen">[</span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mo stretchy="false">[</mo><mi>q</mi><mo>∼</mo><mi>q</mi><mo>+</mo><mi>m</mi><mi>i</mi><mi>d</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">S[q \sim q + mid - 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>的字符串前缀哈希值是否相等，从而求得后缀p和后缀q的<strong>最长公共前缀长度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>e</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">len</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span></span></span></span></strong>，然后再比较两个字符串的下一个字符<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>(也就是第一个不相等的位置)<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mo stretchy="false">[</mo><mi>p</mi><mo>+</mo><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">S[p + len]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mopen">[</span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mclose">]</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mo stretchy="false">[</mo><mi>q</mi><mo>+</mo><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">S[q + len]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mclose">]</span></span></span></span>，就能确定这两个字符串的字典序大小了。</p><p>然后就是喜闻乐见的日常cin&gt;&gt;字符串被卡，要开O2优化才能过。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#pragma GCC optimize(2)#include &lt;string&gt;#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;limits.h&gt;using namespace std;typedef unsigned long long ULL;const int N &#x3D; 3e5 + 7;const int P &#x3D; 131;string s;            &#x2F;&#x2F; 字符串int n ;              &#x2F;&#x2F; s的长度vector&lt;ULL&gt; h;       &#x2F;&#x2F; hashvector&lt;int&gt; sa(N);   &#x2F;&#x2F; 后缀按字典序排序后的下标&#x2F;&#x2F; 字符串hashvector&lt;ULL&gt; p(N);vector&lt;ULL&gt; get_prefix_hash(const string&amp; s) &#123;    int n &#x3D; s.size();    vector&lt;ULL&gt; h(n + 1);    h[0] &#x3D; 0;    p[0] &#x3D; 1;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        h[i] &#x3D; h[i - 1] * P + s[i - 1];        p[i] &#x3D; p[i - 1] * P;    &#125;    return h;&#125;ULL get_substr_hash(const vector&lt;ULL&gt;&amp; h, int l, int r) &#123;    return h[r] - h[l - 1] * p[r - l + 1];&#125;int get_max_common_prefix(int a, int b) &#123;    int l &#x3D; 0, r &#x3D; min(n - a + 1, n - b + 1);    while (l !&#x3D; r + 1) &#123;        int mid &#x3D; l + r &gt;&gt; 1;        if (get_substr_hash(h, a, a + mid - 1) !&#x3D; get_substr_hash(h, b, b + mid - 1)) &#123;            &#x2F;&#x2F; 前缀不等，缩小len            r &#x3D; mid - 1;        &#125;        else &#123;            &#x2F;&#x2F; 前缀相等，扩大len            l &#x3D; mid + 1;        &#125;    &#125;    return r;&#125;bool cmp(int a, int b) &#123;    int len &#x3D; get_max_common_prefix(a, b);    int a_nxt &#x3D; a + len &gt; n ? INT_MIN : s[a + len - 1];    int b_nxt &#x3D; b + len &gt; n ? INT_MIN : s[b + len - 1];    return a_nxt &lt; b_nxt;&#125;void quick_sort(vector&lt;int&gt;&amp; arr, int l, int r) &#123;    if (l &gt;&#x3D; r) return;    int x &#x3D; arr[l + (r - l) &#x2F; 2];    int i &#x3D; l - 1, j &#x3D; r + 1;    while (i &lt; j) &#123;        do i ++; while (cmp(arr[i], x) &#x3D;&#x3D; 1);        do j --; while (cmp(x, arr[j]) &#x3D;&#x3D; 1);        if (i &lt; j) swap(arr[i], arr[j]);    &#125;    quick_sort(arr, l, j);    quick_sort(arr, j + 1, r);&#125;int main() &#123;    cin &gt;&gt; s;    n &#x3D; s.size();    h &#x3D; get_prefix_hash(s);    &#x2F;&#x2F; 初始化sa    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        sa[i] &#x3D; i;    &#125;    quick_sort(sa, 1, n);    &#x2F;&#x2F; sort(sa.begin() + 1, sa.begin() + 1 + n, cmp);    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        printf(&quot;%d &quot;, sa[i] - 1);    &#125;    puts(&quot;&quot;);    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        if (i &#x3D;&#x3D; 1) printf(&quot;0 &quot;);        else printf(&quot;%d &quot;, get_max_common_prefix(sa[i - 1], sa[i]));    &#125;    puts(&quot;&quot;);    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><msup><mo><mi>log</mi><mo>⁡</mo></mo><mn>2</mn></msup><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n\log^2 n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.148448em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8984479999999999em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>为快排，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>为字典序比较(二分+字符串hash)。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(N)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>hash</tag>
      
      <tag>二分</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2023-02-23-组会</title>
    <link href="/2023/02/22/Seminar/20230223-%E7%BB%84%E4%BC%9A/"/>
    <url>/2023/02/22/Seminar/20230223-%E7%BB%84%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="8a7e2bceae766c1c1e2f02b8ffe68a460a3ad072775f168528638852bceca6d1">af01d0b7d63db801117cb0ef9676516d1010832fe78f9875c491b5fd4aa4c0097aba9f40ca988e3f59bc8c82df36da00ee386f1b83b27a662f2a537f813089b75d1d93750f847094bc6e60b2e2c7f3437ed4e7bf43e42e90eeb6664748ee7f1f8775360c51bce9de0fd630ae43ecf12444f208e87cea802e98ae62adfd5bcb87d9aa09790a3b5eb672ca75eefc8d10d42c9af9bb0f040f4f352ef326187d6f85cc6268f9caeecdf3c558aa8b6ca9f9aae822f82805b72fa75ea22c5bd06e0608db3471daa208c93b18d9effbfcb83f5211503bfb25dfee9b046bf9ea85b862eadcfd3d54a21f97a75a587035766c2c5a2ea09e8c9b576094376a5cf0f303ba8957f4dc863c8ae01f97600e3c4227326051520fec558e490ef46078249ed83061e49f3d4cbe8119716b52faf6ba9392a525f054d37bf6a9639879adc520405e2bbfb7b05b26240106885dc1bf7328af8967f2f35beb9d382e8f74204593c8dda6c58676312bfd6fd36fbaca53bafdf14a27601d64170a891dbef876f10767a8b1b6797d6f79ae599e989c8d42a1d4d0e0cda3e79608ffcd8a356b32999e5bd3398ef14672e3a0e3a4edcac5dbbc1bcca0d1a28374c0b271a0ca162d5c9f1a28ef530d44bc6158990c0c6686ea1e665e422d55e17bcba185f5b837fa728ea69315f38b3e3772a0e381911395316aa7307384cf5a219f4b67e2ee89f80a2c104292544086fc141b54d31166bccaa820a5faa63c308a932a2756b49a0c6f39e4fb9b259af711844ec84eb00078008d59a5171a16f4b43890fe3d614e393c02179a0921d444a31271ce7dda6aad1fe547ff0c1e128244b878aafc318cba370c2bc1a3931c9d31952da62e34fee9e51804e62657d4244086cfdd0451e0894ec8452e0790f08bb2589c37fe7c427b5740cc01c1f64da22c7f1419e78ecaf2a5c31c3f6c147ce430db901398fce5a34e6ef8859aef20c67ab3d68e8b9c2bcc8b4d74e0d5fc28d4a002ade6c7259f952a2b73488b8aa0cf360322eab92c0b5d3689c7558fd68ac4a532923a40719aa5ab2b39f36755f11ecc150f0c832053574630f5f021a4d1d0f362c4ce02e570aec5900ddcd516e4037c96b5420236e15a5986ca8f2da35162971bb02259165d4f909a9c38c9b378b3ead2761b87a859c63d132b7737c0f2837a4e27bda39fbb537c5b0fc06c56855d4856304a1f633479a7e94bf8c93ff2a360ed3804f4a2fa383670dedc4c7ffd8c2f9272e02f85165344c86596602979a95ade53fde3aeee2e85777d3fb54b356476b6dd5bfb7458b61978d30045ccafab1973a744b130a598c80b2df5bec32c2cc94518599f78531e3c33939a189a49ab774121d9467a16fc680bce4b2e1a2f42f36be67a7efddc4413e6cf0d0f76762a339a1979c2e524e7110bb60b9f68c75c60f89ceb51682004324aff23c0179767aff99f17b0363e375783b01bfd62eb62d560672c320c29b755ba00f3a21b9bc265f40b86b8e122548b2c7f4b41a2e95e2d5a307816dc39662cf826fe462316424077f1f2fa3aa3465d0e13624c9a266c8254bd6c9ebd3e9928232a2d52e2cab7a8484c71da5be1feeb6cb982bdf6729782df879c23f606a43be65801ea7b91d64271f5b48e88e5fef4f0045e56cfd96fe89171b46cb3795acb36e7deaca8381af3526cc799d22e4349b16382aa9aba516c822c37ec44804e9833974f598001e2373dcb5c743e74e9c787d1e963a73b031b479d2d120df280081a54108b9d96fa265f09c6f52334c6e1036e4a6ffac2f489fd4c8331e438c5079f4eac286723504c7aabf417d7c0a16b164031f8e8d1edabad6c0a7155589c96c735fafa94cd5bc5b94a2a41d20b8733a1c1f418b82fc2d3f92969ed1f6ca8dd1f21be8e1f405e662403d079859a7b4c499d2acb3ee182b3de2210f62618614c31f03c6cbeb2b1fe6b4e6fac8fb33f50df79baabe47e56aab374c0be092ed4761838fffbe533e3d15d37cfef94ea091da2055af1c8f65214d9318c628d327c3169f9b6aa0d143f876aecb367b0a7fb35d2c9a6454641c650deeab323eb385b17e3b8ac5e3f3ab6b01d272ced057203627b57760b5e62ab862e0a2f8f3ba5788baffc80e8725c9578813b997fa2cb3a00ef2f1dcb058490405f460906380cc186cb965a54617f4b373d28c1b58f71f077b0ec25599a33310ebfbae5aceae1ab783c1c2c4a9b864a087b92afcede5f52fe3d11f14c6314fe4e7369af685033d6155f35f63f177665d67a212dd0df685077000fc38e4c41ef9fa8d648b66b211de1e3905ed8aa55babcf692d32652f4d5e50260f075ae7a008d563b455cf4313e4bcc54b77cc423a2c120f9670e5bedd2edd6b18e2df52fbf1fe1b8b4ee158b607f0e20200b8d96f2c94746f856db0599da7fc31ea45b553206d718f309b1e79a797091c1e9e64249dbf8e09585f154f975f78fabc442a510e7f9cc9ded9f5317d0b15f654dea98510f67c243aa5ee901e35a4860ffd92bd36b4718ee8fda7d153daa3493ae964a6696cdb420a2cf0e5b860e69eaca307ac232b85e546a327949f5b8019a62d67d582646d35602ff03839bb784ba00612f6aecd1e6936870baef024124d8bafdb8647bedd94a5f3d14a0b40c7d75f2e8a7f552e52bff59388e03038fe21764abb4612f3197ec7ebaeb4131905d00a7b2773943856b8efb44d260d1c5ce00d7413ac00bf56aaf3a73db095ad00a46a8efbbc96b99563b187cbaa4d7a18b05b94fdd52ba0d7971362c6ee2293db3105bbd53f0cb8bc65611ffdc25b95621b5e628872a57aaa4541c73f1e34d5eac6096e396a3c92c9e7b0d2eb134c2be9e781b2f4192afd008c338ae4e9627abc52c68614750fb5a75cef00b409e7edb332e12ce6817ecc53412cd27eac9e1d79d8fe0274c1829c6f132d91cbd50b6a4be9c7ea310858a457f5ff18f88313aace2023c165dd98e98464e73641830c2d475d4a72c0950763550cbb1d08b701d55bddf59543d98959d8d0f0347bab1cc9bfa34cd45eb984a21be630bbb9d536980f79fb26d0088a33447b0f834ae9892782eb51a0635600b3bff7c66010ec6fce16050dd5e5207fb2975d104c7312d57d2763f6369e97cb04f7f07f1c3627aa957020afd283078fd6353f94be61fd05a9c1ff66ebc3a5f9704c0d3fcf0db3a65c67824c2ad99b109ede6d72167df93b9b4d89eb9204ca1a90c0d8075aee0ff9b9880cb6d05493f90275e8167c75f69b5feb21ff2b71a2c59debfd616e1b46a3216cf40a7faab828f6c1a91b93f483775251ca25b1f2a6a2a82267a309064c1bca2bb731e3a66a8458712eec1a75411f9b8d203c6b6aa5f5db54899a55dcbe34fdf76cb7a59d40fc528a888aa842ef54725e7b7f5dad2bf7bcd7b62b9f9020b4b67e9dd71598e166f2e680c81b0df59a5c3deb0d1f322e90eb73139793bcffa8307af8ba20fc9cdbc6c1ac8d8690ce1f6b64babc539b77d50cf21bfeb5363d045a0b23133702cc092b32c55a07fd112c240d680274e46d0a30791685439403a9d670ed36f1cbc916da5233023d200b89b2b289f5fcc49eb6b4dc301eee6939e8bed6cbb040fe00b2f4ee613f0314a6b51a7789965ec8a7b18467e03abfce799063b818e2867b0590167608ff631c06bb0314df5227926debad395716c1b755e768586929ee4ffb0b3480aad42a4e1e11e2693b8b60e7fffba66918e983a9ff679e962961eee1faca4893249cbaa8bd90f925e3ffec7fc0fbab4b96914024c27205a0267d6ad1bae678e0f0f69b39b5029edbc3f91a4b28d0bbfb70453d71b391b507ddbde6928724900046fb155ce6437bb5980d79a3c2c96b32b835accfc6c999d25e82d8d437cbf78707fe44165ffa147da0b4920ad3c4dbc122a48d9918748ab38504840aa610465c5438e17f42450f45a817baa65f01a360b147300454fd7a1ef1fad4629d4f6c2a2e27175ecbd3d6e696a8349a337fb131e0b8ca75b80df7c9599688380b5d0a740048d605f8eaf3dd5b76321ef41ffa0500bc808d62799a18c2586e558e2256bb232567b5a869dfb20101145e586403a1f30802e7b144d4f77fd3ed75ef9f408212b4b24c78d5ee10ec40f525337222ef55116d5dc7a73eeb291e07b0c6f126c5c13913ce7a3cd69b5f0e932337081f0866f4f7283dcbf6317d9d907b802634f74f261765c949343a43977e901b5896b20eedcb4ba7601c681db04f48a97c7c72826e64e302e724d0821b0422b16861dd4a1e84524b5b7ad6f5cff4088c7bff5f9bbc9ec4bd94cef09c688b3aa3ddb5acd11bc99858d99a07c3de8d7c6de061ba6d35084663a2dc1dfa6b5d32c5bea23d0fa392bbeac033e8e8b3f359b9fd665b56207ff91298f0415bfb5df60f82774a7615ecbf3855ce7f4bdf3fa97b219cb8f7edc22e0088cbae47d8147e5d0f2ae8317226bb1fefa461f084f833230824f78c963020f7cd870303770e9bba77ecfd8fceb55cafc3b65c90096589672fbb7c1965eded3a253d47737405f6856f63522817b6ecef6f6bc0cca075e77c3964d3b9fbcc96696e338c274a5692b86e0e66fdbb51ba6fa595c4f6f302d58b200831f8730dec0eb41854d875173e7c36e7d974191fcca84577262b2b2dc3b40f39a72b3b14b56b1d733035fa09bdf875548a6a8624d2d2fa8f5a51bd3263afcb85e1e286856c6e149e4fc84be7aa39003e455f5682983639f1c6f0a7a98dbead3ef7dab30c17d3e49f08fc0ce75a26b29dde9ae0c9e7367965e5b5884e819b234109d3b9a69d07235c38e095a115d43d475787a655d18a39784b844b2927a97559444e7261b3e19d873c13e1ebf35a0a191435c30b1951f9bd108e22cf86ac5451106e511bc53baefb8a6928b69f1ee373bf245107ece16916761213a32d4e1e1134d2685b57376de080430bc9c52d515e78411e4fa4764188470cf2a97ac7f33d5aafe13bdbd9945cf612730750e88072dc99838a539148109179a8857a796b093c3fffc292c01f1bb87b394365662191fb1cbedae48c835a8e9e3a44062e93a1448cfa3462b91b80386b984edfd13f63ea5356fc55ba23705bdaaf03c227a38509af11fbecb80b0dc7cf69656d0fc9884ab624aed1a4de6d4f44f8d0b9ddb675180527a02a2d92869955fba5935b94b05d1639cd27be20b991b86b73a8784dfffe4cae147a7708da112319bbdc3ee3af693bf86ddc39124cf0d2b785ed054ddccdae193a1c7539d93b1b63776de7a8726f22b552ccfe5665bb659bfebaaf44554025e944b7580445b9c7b63def08097d3e778a3c1238f3e97d528f25d2189b0cf9d616fa6ef711a0bfb70ba2e0628944a368e368468a1cc2ee8586de0a3cea16d051cddb6264301a4a3ffe890bf0dee65e97152ffdd5979b2006db0405a64d3a120823197b64b9a91aed2dc2bf82d82b9170c3f112e3414592b6a938f53931317e007a324855d50e5b959eb5ab980e3678261ec6a61a879a3b964002f9d2fb4ef368bb9d68efd0f58050f9d20e84641b9af21d63385100e408a57fbcc76c405065760064e2e6dd38ae82ac927b56293cbaf5861c61d8ea03abe038a575d8ed7d2162b6a54720e17c4bfb713399d27dd7b2d3d3418aa11402556066c07f12e5511414cc23bd49e70788bce24e82060b2f7cb07d07d09bcc0a928f55203ea4f1286b428161bfabf377f6b0b6bb7bb400649134f972725ccbdcdfc81fd8d629e058a617c52f3a9abeb3f0a4c11c3458032868ba33abfab7e0d2c5d26719ef48db9cd1c510f39a01716c48fa618c227b0ca819065ef5f1524494503918010bb27b438a3a37978d46a5b7c6522167bd6ab94cdd27739d27f83a47af7ca9b1f3a266fddef00da4e98783ebcf523e543b2d938fcc60a6985cad135707550dd413b8bbfc1fe008010d501a6d7a60eec050906a4963a157ac04b13693f5d9ed32ed84e3a8e0108c935163ee99f57dd1322e8e7cf189a2bfb5e4aba1abeb5ced93f6acbc1354ff8d16d81aaee44c2d214f2b4cfb835ce76abcaf35c90afdb1dd91b13d2687b7be411d869a2517fa2a16b4c96d795fc4345f8f32bb49de1b79e8b2cb1ca56924479a82766e01762c16865168cbd6c489fc1fe408684d396c20f310bf8cab76b45e9c9983e927517c0e20b42a6ac3a0ae84d177bb55f05a5f2fc0222c4b01c46436877d9f557079ad077def4ddc8f438953a4836bb6ae1d0a8e2111105b769ffd282487f63a8f9941a0369557dce14563d85037a355802959de87ae1e4c6aa74fa48f029827a137f0ac31d2584516fe8794b737960f0bc9894a946351e9921efe6a167b9169baf1b9700db4ddb50cbd32e412ede39660958ab173fa5cf990dba9b7f3f0cb0726480dfdb7911fe80fba84f96777386280e80e8a4ef2796af2aeae02c949a9a008f0020bb23961fdfb6d88ef3a040c457a173b13a86ddcc7eaf37798f9423e6b64c6f0d3176241f6486273136a60e425096a69c442f9db3f9f270b980b43de2de2fc79b2c747945d7622f1a48b688887bde54bf3832664cdb62320c50dabbaa26a7aaff0b905ea5b02d55882920e7239025a2cbbcda91b277f572a50f2e7a8cc795f4ca7fef2505b7a34079660dc6e8033d014427c258af27993c3ec27bec63fb4d4acdb5f631471ad054b6adb1be31571ab4ee036e5c5a00766873e008b8d3f431c29ce196c3e409529c335da7f90a8b143ed752937e7181316a0a4e6d166e8f04ebd7256fd5a4349cf012caf5b4e7cc8546598ec7058050081d9a74d3ef2135c12da39ce523dd91e0c12b426513512a1eb1196cd3d6623673f2c90284dd7d13633e73232fab25e5dec3a29569c441f997183c801573f36ac496f8d719c7ec9a35c05e5774a3ae05ea306262732af6458881a428ac751b6a89a2caff7e3341381f8d16604832be1d980ba339f5f9513ed2fcadea457861dcc3ab64c2a264e9356d98280846584b155146b75cc3769a92e636f427fcf63f74c4e23a3479257055e875d5465bb8e3e8ec2b4b37fd9523722cc715a3de20d2b22876eacabd830bc8a87006859e57135b2436b25177e7fdddefffdb73a6a9fe3ce9f3672db511f45b6599219400f4bb01bc54fb0b7ea0ce77fbae8ce132e519cad861366ecc5bffe73598cc7465fcd216aeb2f32fcf3f9d2ffa56dd4402210a7c9f218e0749a5159557050c7776b2ff08f9e85331cf08226692a56a40bf1c1443684ce9043c51b0977b19739d1a10146db069d012fd00d9dfa3f3e4c7a4c6c29592753e99e5de9219c4cb28e5b8617e534a7c5a0bc419cb80a60e7bf2ed4cf256730212a23c9058fc71ef6693058559900749bf06eb810d5db39341b6b1ba61aa812ecf0da15f3903458e26bc3cd766b74a99bbd0ab65f27738cea81ba9df0198aabfdc7157bcdf470ed219c088ad8f675ab0b8dd17eaeccac72f67f0d7c10b78997abd68dae133c73fc2d392c6244be2c7d4fcadc775f5704ae3bd9137aff0d19da18e00fe2651268f329d0024eaf082d5c5ccc8a2e9ca80d9f0d3d296951f7954e58b38350a284a6e793196ad55f0f4a7b361a23c3bc4cb3685ab07a7a085272cdc1f7f496b688a4575e4fd8d1c2b0ef685f53fc422bdaebeb86ad3e82a62a7916a00669de448d757003361344ef87e3e112152782198db56dd3d1ec55d849f0e3310988607d272202ad3bf0c34679edb9006d2cffd6c34e210da53977226cb6394833d50024ea5415830af0cdfe5b1c0561b1b08751bde17bef6ecce5bccdb0b0712460f576db3e26f183bc4d3dcc1d3f356b75bae5235feffb564e7489fc27845fea63eb6fc84f378db1717228f2bf5615ae6f12a379d8f3595165dad5677e91165423db1490fe586651e5b3f1cee7baba6c4eb7077a845a0faa64288f8e0007e878f93875bde90195d1f6a85f1266c1da2d3b081d143a0b20d68b7684751e455a0ee246681c614b49c2907fd32c5e3aee98026afa9e95ea02031e3f86dc391b6d0a1a99b4c20fef813f61e911dbfaeef40c3d81670f7090ecf3f118c162029417543f3ceac85497b64f63d7476f7c694edba6d91e5a9c0a7202d3af06bf41215908e3e9426a74013ddd6ef806cff5ea041c2dbae22bc176baf3caa4ecac2b589067c36ba503ef8aa01d4e894d3044d813788c81788c7b011e7e03780778ab017b3ba9af991093f9e573664c11df97fa49244585c61eed8170290fb557a2d43b7245371d608225be017efc6279b6687f42e7593a04fd7fad2768a195d504fb21473304d1fcb3b66cba19709c10a18cfa37395f272dc0e57d45118479428664b543255c8169141e84844d5cd8ed5a4d24b5ca338a3ded91b636146cdbdec7df0ea6399d302a80d9746d543a9eac0ff5c9be9b97ecd96fc32579a2a9a1d2ae4bc4049fa61db88700407f16652bef57c6b156d99de0fd4c5ed012efcd61aabc07f8a39b13fcb861b9da6ef019f00b6ef8f4a94080be7caeb0ebf82b90494d398f7485917424787d265c1978cda50bb8fae68407491aa058ab32a3557426dd8bd85343acb6c898d9c9e184ef7164f774d6598feb114e77910acbb56bd58dc18947b4fe004fee140fa14919540c8ddd3c0048a887807f9a73cd07411d6a68999a6475a88391e0dffb553e137e15d4602ac26ab16730831e622267356ded9e97101b62e5d1b51129d01e725439fd7f6b38734c9fb5cdd15f440239490dcc76052cff1c5bee1621a6fc45a28c11d5f4cef49165ae4c11bca76ff9cdcd8b1f899fce380d98abf620c5c698aada8a50783392bad51df2be88dc1474af50894665ed0832f6923c7de5e10da9ab26ef09d4dfe14ef4fc590cfd3d270dd624361cc502cb2fb90f1b155f2740f2de6c0bf790bf7f07bb7e6ca1749628428fc52c3bddf1b20cf0b34990fa232e1c8581a520259b29e14c9304fc5c0a873928fa4a3b85886f1e7c93aed333da97337225ddfc74f7b8eccf677fcbe54aa9a2bae5a1c9003534365a1897977d81998808853a2a46752246bc883a696b346e0366a0c3a40428ad4f2c0008748c643c853c7f088d20f7af6cf2c476f2025b465be8bbb823d35cfd450f093cd1f6dd73a737574506329916b73475ba490afea04d50298447b82c744eac88c577712852bd208e726f88a29922c46dd62701160c2aa7bac33d47e58b25b3d0c08ef68cf7aa9b88d945d85c9f11702a78551d4e7e5bd95b1bc686d3c7f9143510a7c1f9f2522d0b59c5f86c393c665ce01d501eb905193b7d012af12c6ea28f93fc3317d6407020fd80c7f9a524fcab916b0dac16634c9d307435f2eb0b4351820f63389d3b97096f4aad02db695d988b9ebbf145e29585d05126fb23316b31d6ace310168c6089a2d869ccb0a4ac3fa08d7147daefe04c58a20d968d6cdbd4ac878d1f47c8274201935f8dc4e0b301efc242a044fc8516afd60a9641a327b91ab209a0ddc6b0219ee5eaaf7f4fdbe89db9301ebb38f9e03d37c48adc8ff2ce1931db0bf5ebcfb618c03431ea49c2aba893eae58fea06446f1d7a3a907536dbceacadcd9a61e7c2cfc986f98a698767a30a4abe21d6dc83af0c07e7394e121cc094024ed208ad1f4869be268f91c23fbb90b1900fa9f751b014cbde203f5cede57f970dacdee0d5193df7a1f33bf91875798836da48868239d6ea5df0394a33e87d7371f936a4eaa30bf1e29ae8718e63fa7bf82289a0134c1e740da9276832a123d7334a57c892f7784892889b98aeafd121f4b3d9300eb153f6363e915530e0855f6081bc4ba745636285accfe61b66fe0ee00df71e496fbf7703fe8c64ac39e1b130e0e8bab9cb9b0cd680b1093ae8092a8e5673b3e12bf631d586e765e7490c08743a10151dbe219dd30782b93f1f2e1a9bcfd7dbcb0fdd46e0caaecbc27f6dfdeb7676aa5373dae80216e022f4c139123dcf0c4d944a7d403ff108b83e438721b9be6c4a63447f17f796063996a55cf2883f68380270783e1b1fe3628e1b9775249c4d2a70675f145ea628a909973f30d2445303f5966caa299207ccaff3b95d18a42f34a9730eb0def90369d54a8d58072c20d59bcc7fca6a1758dd14a98af1ec043b3479da4df12027e539ad2f250d4757e71e076dc9135be36eb50054be4e7234f6f42c47d2a2f4f40da4748fca73ba422663d33ab4e2fc7bd23d87d21837f627447c87e2075af28eb9e3c726ab485ec6002adddc4e6f8e082dd16442a2af3c7696e2b417ec29bbf3f426487862b49b5d178db9cd98f18e3b3953d3dea69ffed2e5101d9eea0470be893154d7e3d2cda818f4ccba58011bba777b0239fb90f5e0ef952b34e2f6c2ebfe33f0f221adacd0b569d99af9da10a452334af8123df7d7b93e3abbc4c8090f8a7c35f02bdd063c1d918a63153de1005d56df0b2419a73b59c11833f3d54e95c8af5081db29a27471fe24865e0f485f660541ccf3f74c76fa6993e276b5a18d4a05b1819fb0e6ace2a798a2812419f3c899bcbc33562d2dd093287de10818e5a149150902121856bbb51d0382ab6d9416c1b333b4efbbc6e0ad3da5a58c4e59da0bd49c3413e347776880b9b9d561348b6f760c7546efa736301a1094498e47e769dfb78baf2843636bb9bab0e2bf0ee42c9ce89e506b3960a3a02f39a22022930a27639f033d5b12f23d6b0cf54ed1270180bcd9a11ec1e206c705966d399e2923049d0141a75c51bdea77a7db9ffc44709ed61f2bb94e4ed023f26920af8ee4a906986847eb486b16411fd0219e6909b3d82491491cab987293a7f609bd0ec79b73fb0bb9f6f8e6cdc3a0ca5dbc8e56de8463e9fa420447a7f56a6de42ed2858c988b6b7f1be9502dcf56eeaa58925bfc56bd9ed1ab47a8ad1160f7ca69d06c760fb899e45dfe0527753b33f68c555866259e7a880187ad1cd1f069deb76e48bcb8a7ebe577291fb63fc9566397ce771f5a2d514ce8a5969d989a8c3afe343b646ccd1e2a19bce979bcd57236e221b38f608dac77e1976e78369048c554277a548995e0a8ae702a9f708b8dc84c3754c47cd4e1f814f9494449ba022aa840bc80753d1cece3e854669bac30ddaddc6c9a92418c594a7eb3b288b254d6772a8cd68d932514f9c17cab3ad72aaa21f89ab73d69286c0d0445f79b19b4591f855f29ae9af0c1f871537afac5b523dd5768d187e17cefe0f701c349a4e3fca08b5141124144b39bdb3ea3081047bcf3996bcadd589c8e9e701ff35154cb8e173f4500e32328d9282ac38912831fac682a8aa45c1af804ab2bd92a05b68ea7235ee8ff95e985f82dd0461fddecd9b1c50b324985a4b19179a9659ed52b6cb40c38688891a3dec65f00291975787757164a5247274ea0f5f50b48cb8b6a2ad21210cf9971226653e4dfdd987d368671093e85cf813715d2852f0a3d6a8a11f5a83563692fa4867da9760ffd44d416387604efb3a92a30aeeebcf2dad51f7ef38cdd41919a167e39d743502b48b2a7993aa636a31b3e69f8b8c1b17218f5b126bf3e7128da394d735e79469937da4932176e2d231bb7c4acb6dbba753df975ce35bf8a1e2a90c3429e78d5eb2252e47e16750fdbaf9478f26eb6c8e8b7c10bd044ac571916a0c8d8508e94732f167f5a795fa662f4645a726903607e80888622e9959eb61f41b9bb622a545eea3b51dd9fe08f2903f5b90eef4249026b21990a04ff70f1604f1978103d6ab84c711684ee8adf4002048fb7d5e8e4cad9bd164e82f007d29c8896e77e91b64730f0c08b6d3d19176f5739f57165c07775ad7e96630be784fb4f01bcadf6cd51be4a236a45cc8e9382e2ff7dd5bf741d908b707df5c99c223709744ef433fe46dddde4e7bf6ac9dff466770054788a9fa76157c7923218f5f3812f58418fe7dfc9e714c8c6e491fe9f5510ad3e49d24603a923a655a85f23a308db713d9d05444334d669dea97ca713991931c737d288882bc7002f3eeabbd222af8a7468f3f1121bd1e4583a3accc547d51c76d5cedd8514b37f75730708f9edf373995855f6f94ca7104087a28201a8f6d383935f23e051da1d8529d8a8255b9b72bedc1637e658b17586a36ebc83a49eb20985da56b98adaec63b0febb5e6e17023112c75cfcefaadcdb43d462ee6ebf926f49b5a6d8725f7f3c5b564e3cd6f631921c3d43933d8fe291fe3a166655878be6192542dda5f2a22f1b8535cfe8574f24fb17b27c721aeab51d283d97d2c796813927b8366c47b9cca80761125379a3fb49400f384b2e46b04bef266ad05f7ace385b25687364285fb6ec98cd2659e990ad6edb85d08398c5f8e581a2efa86e2b8f036b3e415a783bbc0f897911771a90c6b8e17c328e1e525b66a2baf6ab5b953b1800724941916912a9ac2134a2d19c1fb301bb4aae9623ca836d2530625f45f5fa9e4bd9b595d9f28d1b1c3ac65bbe81289618b9027ab1e5713650644802b8c2069d65abf869cb1f8888d3002cf6d94e9d6dd17904c0a711ecea67bb85ccb266c7fc733272ad86d6158261951f402eaf6ba6958fb6b20cc5bf546d1e0600c3ab543db59a25c28605fe02df0a3c85b0ed7f71de2f6da4f847d178ba53ecd8c786279cfd9bc75dc1ae45bfca4eca18af5b3dfe55f03665d519c0c90d7e100e32ae2f36f1bae3b1956eae6d263251888364c8150f2a0007b7379c76bd89cca0e4efcc3d75b54d09bb0e34a868e603f1af89ea41ee83d885048146d261c72b517db3b67cfd467b247ffec534a2a219fac5ae463213551de4b557651d4514ecc9d94201b87e0fc7eedad23c1dfc4ec17a0b65e17de4f1a6f363bfa0ac7d79514060a854544b31fed7709cc437f0c45f3bb7f37c99ef5b2739392424ae0bf57c3ef5a867530c56f4fdbefcdf4aa4800994f45189cd38302bcdf8612c411ad5b85d83a130b18b9445acbd3ca1ccd54443844d0538fe1c9e00910164bde3a792541058a9465b3825595e9e36f68f2192059b12918e1a15d08a752eb2c397fdd7e67e7bacc6c4c8d5a0503feb0bf7e810ed6e33dc9ee9b25e83bd488fb4d64f899e8e75e7e82fbfea6ffb4e2820cbedd403773f8be7b117a8f834e1a8426e27a5a742114a31d4e900cbfb569f2bf4ed21239ebe183ce8df5558cdc7e722f4c1bf0d5f93a88a7815672671a85de68f7f50297b95f014da757511cb7b930b0d2f2d783cba7cd610c480691867fc026fdae74290b27b576d140384bb67b51d9bf04e9024b59717f217cb038d3cf380a35562068fc6753bd986147cc140a8bec4c447c0623419bf1d8ea7dd18f0fe4ee8ba2a11a9da0697134fcb5716a78f7a1671ec2d7a072a3a2f07fb20786026f88c30d4e827f563c30f97a8b0cd76bf0d60c8a874344afcb7a7ff0910de2d3603f3c37474d6dc3b4a4c0ff9dae205610ba5a36634b942e3b6d3c12a437542fff6991f882adcea474ffff15f34feb5b6cf7f11618d1032847cb10d0b3ee4c20afb2b3771196f23bd3b09caf5ef5f38ab377cdd0ad54c444443721f99dcec5e0ab80d39e92e52d70af3784f9341318aa35c91c3dd4a5b6601bdcc8da659514beb213070492fcd631666b3f9201dc3a900ee7f576dcd9fd827b77f7338d2253cfb37357f4d80a74de6b3561f4ef4218274f13b2fa1f77607ab8c4eb6f23cb6a0732fc588657f425879d4c303b05d72b811749f234eb081dc73f267723efe6446bdd5592b57774ea728fb910d583aa20cd6169b10c406986cecd9111739bc968275c88a4197a0f63245834145ec9120a55c6de0eb04c31719aa1d6eabc5b3f4c709312a6d9998d3e12b4b9068d926ceab9ea6bd4851eb593abcf9e54bf2eb76a210697237b01dc91ed2e2f87e4cf6031c8e9bd064273e267fbb069be3fd8277fa4ba6b9fda8d67e49f0b7ebcfbc95f1f0aeba8ec1fa05125a44a9b435e9dfad04d828942336e2a04fe539a6e30f8efeb3bf1380d16791b152b231e9194e263fb2dd006d20a77fc8060f776bf6ba7964ee2c13bd4a4d24fa03f9b8617429e52eb9ac0c0401144cd3579e17680bb646a9bff22c5ecab4cdb95347ad50b38059ebe97cc8c1aafe7d46e31cd31f7f109e89710475bc5c14a7e856d0a1a0c89e823947fcf3d8960b4c5c18f50c1bc20794c0c4aa59831cd3361254f9dee91e3eb18453386a9c19449dd3e10b47b53e717a71d81861a8142bb1ccabe3df25ea76b16bab6b87cba012da1ccec746517dc69a2e968eef85f007d30848c5f642f4262c263ce684f8b36605bd2864e53256614825f2a6ef43c297cd3d5ea58d6d152c592fbcba5053ffd6453872c0c4920fca2a50b11d58a7720b5e2b00a3835c25408b3019911c280e7e6d18dce41b0fa40e159a34eb764491e8fa0c7a08f1e7820c8ae67d1ae9fa34e83545444084295ed1df14758cf22f9500a4878c298322ca7f3f9b76c1be5ede4c2ff4d44aa4e97176cbfb9e32b47b07b984db2fcc3e1f334c9b9d0aa0150e408a071cae9b35cdfc77cf6ef94a79eef1b1773eba463d62c6a41a33d2844adf08c813bbc5632b83404aafcd4b2d742ff0dfe07bc1f93d04db6c80850eb9b4e90d06228cdce16bbdfb89d868cf20aa80593a8504753cd19c356b9fd4e6500a1c893d2d70113fd480c6fc6689e32faf68a007a268ce4151a95fe21de891bb9a5dbab52c8cd91a1f961faf9dec106974f6750e07d43a88a66ed49417350968c2c53bcd53a9f8c42c0e5f1a313336796e791df52a014f5c0cd095944fe67c572a224c6a66bea3b32462fbf0f7ff05e70ca86757d8df476bbbfc989da5f6346db4c36e0c4aefbb3d93d780c8111e6369abdc3aae6b24be6086625b33be413950cdc7f0f5990dd41b839bc680c67eea316b501b5b02fe79ea8d3c9950d00c952e828876a3ff160cbacbe1627b41e49b008e6105094aee6d3f8379efc376e3c5236209a7ecaca7746f18bfd02aacb47461e4180493c6977e5fef7031191a3bc5096ff160ce8e20eceeea0d2eede74142178a5d526f9a13827a0f937198292403e4892376177dbedd3497cad3fe76da21f7c7645aecd6313e8eebd3bd9985f13bafda88746f7a8c7c8a3a44b8c60ef5973d1c6b0114d8d5f29205468ee657e18327f74888bf909bdc3e865dcd27397be0d211d6b6c7961d45522adce22b8aa2c39739909ec541ae0aee1163f67e044a32a06164978d1790d27145891a13c74c05cbcb1ac1b8c804f49cff0be3ce83e1f3014819b5cdb5e8a5cf5c7d12a4b1895f6d2691535c796f5fff7c094f5603f6dd4256bf72f8e3fd6f2dac75fcb1f82c86dbb5d05c2f2222412d28fb2b55262470c019a2c6b7cd013901ae90b6ce111dc07447b9de336f7d4f61c6ac667b4d1aa3721fb0258dcccc032902fc387c1749ead492e7ef932bde9bc9c1dcec2bc53c58ce6f8a4c4d8779d3117fccb4e97eed4dd0c6859220a90d72cb131d87d936ae981fb884045e95e914d95b5faabd819d1a052981f5149e86452b9099162815d0b8b45d7d0b2c8d8c80d931ebe554c057d1a6f783399f446bd317306bb3ae6c7fe5da0bebb38246ee54f2fce3cc3df2f76571eeaa1d12b945a23ddcffdd14fa4ad3c6581c28739fccc44fc40989054176a569820c9421b264d140c409d2502c6861c84800fca429bea27e287f9752e16363a64d231f696dfe3ed71b04ba303b6ceee9ced5a8f1ac53555ed926d20b95381bbfa1aab9f1ff146000b1d875062113491a152b0c6ee1b0202df00c646f6db8ea9672e6ffdd2c7b7daf2f5820cee928c97ae9c4e610647b0e92d0c8162232f9e513130b5c6038a07a0c2e5779fe78aed53719aa606c19df69ead367066354b65560de387039ae43c8913d2d49195ca91185ba19a73147292c3fae102f82edc2b9ad8482a92f37aba293cbd0229c7bd3721f04fd4af8a8b3af2d379acef17dc05dbdbd7da1687235cf1269326080984b0b96731170f58435f76e966636d65023ffe872b7b85c9cef66e22d198fabe811f1e3ea771eaaf6fe2612c326a0bce18a653f0bed39fa3ef35689427fd892c5b2faee301c31baaa50836556a4cd03a69c333c621696f5a9cd6cd609e9c07f6e427414608ca6969fa21904281d8b450db3e3382207efd802cc1af3cb9339bf7ae69f597fd0e99c653aedff0aab3f053521df25787dfe2952d5f7dd6ef3711a2ed498faf23f09bd8e24d94198bb9c2dca9234e4dd50cadb8fc31d4bbf380375c806b65ae00fa5d09f78315fa92d0bfb9a64bcba80b7190f41509e5dc0fc82fed52447d9d069d3afaec19539ca5003596aeee994321228925f4b62db4cd8898367381407f5045e2fe1e4d86dd9118a514d07ca883d29c36aa7806cf54cf22f3e3f33f97bad2bbd3cc7109777bd4b09d4175b9d61c91ab3bf99ead140ec272f668d21b2c8cc29f34eb21b81c423031749ff85e83080ee144c7ba9be1319106dd045d664a3b7abee94d19ed9b9ebc8a200cae0316dae6ce9a80c1d563c9086623fde2f3e6f24b7bc68399c424f153d0cfb36a3be98391c2ac03ea78c5730acc6aafa236367cf45dd29e31c54dcd8d28e16c03f2f40db392d13d70f29abd898b7b6f65e9c3f0e71546310ddfe625f142b8999904096f33126b6e745828c49b73f765bde48ea63de798698bf3094972e7d513a9ed79e5b46b746534c64bb3842398dd84b2ea900dc9ac0bbf5f32d230a5c85babe5a71d444237da8cd0217141e1792c48250d145c24d9d31c3e95869909581f84acb773f2df07b163cae6215b3d7b56270788e3ac470c5082fe36d466fb857236cc51ffa36268b6b06ccb2431f568cebbd2ef9b6f1fc0cce2b7b6690c5a085238274ce27c72ef0d4cfe7bb90596586f0c6c85c2ac2efe4a90adec29ce13eca320d6a7e100830b76f0e8b8f4beb8182397e700b3d0414832c308a7ff26a9627b203638766f0529da20c42ef4e21a63c9ae9fe25dc85c89998e3c1a8b8afeaa7a431d5caadbfcb92842806292be87e2e24043eb049912991ae02626525212ae604eee08801d254cddb39ccc4fd22a8128218632c93afb5c5df33b2c45cda1e79d27ea64e09c9363da456ffe0778adc80fd8ea67f61a78b9afd2626ee4430cf32611467fd32fd30d1cada6a4e8b7cee75e9fe5d201d405be4580d95b74c5ed7fdf9008927a51b3f996fe5d799372155dc47f6e6d3b5de7943a9c8dfdf7ccf83c2d9d43fd38d6c42642f8e51045c639cab774a84113e0a6427a2515f0ad64f2509cbe7420d27d2851a2e37709b2d1f6c9c9c91a921841a49c7c4d7d91e1765511ca2aefb7115f44b5f8939800e280cd8436d15e8bac3d04271e42fedab4bb362f89046d1a40d03a4313cf4cd01d769f6e6bfd0cc4c6db8f4631dd4cfed282f20c11330cd84447830efc800c7c72749f7b97d48d7f642f8d0db64140169ee20933464905f73ca74803cede3425e6de8c9f663e2da7a0fb2bdcab6c45bdf866a32a0b10ad004fe8380ea9c0895752486fbe1c07aff1db4622fd17411fe9632d919e622847be1198dc9cb872364249a2bebdf8f7e90182a054e3d706283a1700d7a065baba192c88138230640ecddb30d0d5bb3395e1332164c91a86f468fc0d5acf585000af76f5d276bf722915719d2ceb2b2fe7efc62e0cf71d7bd7c5ae5a5d170af0927692ccbd6d374a61b0cdb7282e4cbbc7b1ecc5a412f4e5d0b16acbcab01d0f2e5a5eb7d9d20e80658305e282ed956dc7b10eb3ac4e64d72667a3467bcedc8b9ea8b0ea13c94a29929dfe609ee58984a7ce92a7941a73f46099d83e92570dac4ddcaaaada9704d4ff6ca2c0b39f6ff980545f26d7dc9627f7a2b020253831b1525ca53b1c7db79e8148e1204dcc14562c31dca52adbf544b5c22ead7da38b6541fde3a62988eda62cd806ba38f5656badfb4d1d5430f9408b2672c02010a6c5d0bbd9b3e19cc8a6306551a428bac7affe330f4b41d76fb80474c48035060d6aa6298a9b131bac3cc0daa786cf681f5687458a59e168ede4c3374f26aa2d0ea40f71386d32864a007057f4324f19ac03caf8c7557c2e56ea48393401c843918a2db3d715c4cee728cdd2f2d73bd3420f036b706a1b097f85d677eb1281e411dbc20911fcf389c841981f90759c34915b51d1a9b58e7e759822978f966b234974fe4232a3d028da1330bd25946d5be7311b937414559495c2d80174bb90aee44b5ab6eb3c42a03fb3dec2be71de5f1f943f8b2d685a7403d8b4cb65a1f38d4e3f89472f699a4d50cc20018928d9feb9b87d4e64e2bd986e544c1deeb2a04e4f10fd68d4a3cca2f6d51d09db4ad1c7e8fe12d1493d8b896d65fb1335307d1bf47332a778d0f7d45240cb674da51cacdaa26dff1a8a978e4ae6ff5a92ca74688c062abb8acc453146db80303f6f57bca28cef63cbcf635a43f5f15ec4f8b0bc75bcca35bd5b12ad1c1f3ecbcd90b5cf71d7763ab585af574c15cca4f836b7846729ad94a7cea09340c66538324f7e614d69758cb3ad65d6da14f9031b6d25e7947feb544e586026afa1c3c194060ccfc63e29aa0c9d1851e5596a60a28d4fab24e19733e611fb4950661fd4db4511df311e6267310e1f3c85ce1c7864f1f613e12c6d17046eebf3ded6c99081bc7db5826aff44e4416faa366d5b761bc270f025c5c45c1d69552b23caaffa72ee18f902ceb044144c0967af9c10138f0252c329e7e0cbbdc80ae4c1a6342eb84cecdd258cbd7e61883c6ebeed0055eab5b9899fda2c5ca48c7c39cdbd2fbce355bd03e86f2818692b23f4b597f007e5f6d91c018803630371672ef9071f71b696340aa210223eff8d311c9b9d5de5bda90f0b527e478d4cc6e2d1d76df02ac29510a6466af2e081c9863a66f0808bb61b67a20360314e0be08cb64efc54a26eb1c674d099b93bac9bf428a360db94339a15f675960456d0df8bfbc59d512610998711cd76d97c6ee6fd90f0b6750b409d1b74d56a3bc0c5d46482902bcda2d12e17bfd74d9b22ffdfb3f1876272405ec07a62f9080f93362c6dbc0383eb44b33b906774b20bbf77f977244aca9906452e3ef212d7c9367692f733c2e914d6f17806f97b0c21e51c25493ffced53957475f96f31c3534f8f2de3a102150b1d8443d3ba0f5624a5c8a4ab7e44df3cd7ff6b717b7785e9d22a3572057f3b77c243210f60dddad376f60564d62d6c903b85b0b6e9748f69ef4a225fd8fea73aab6f3e373b647f21bdbb3a69029b0c9a1ed8c90bbf274db7a77051572b486000316215660857ca9f9fde90fd6b8816e54a5505fd02d1acce56098b323fc6e11ffa19595d7d078656f09cb74476f4d1e8c7644999f42fd212ae1a39f07965783bbcb331e8c5e39870c14a4e04083f51c1301dfed2168df8bdb921b0f87e5b6eb13f78e542e598a1e626f7c2f7a7cdd97bb0ab9735f2243dce40389339d3a6326d872ea0cecbe1d1070a94d8a6524969e279a8d75ede9b5090fa7a4530eabdba2ae92d5b973c866656d0dfdccaeb0d4d85a98f298682ca1ec3aaae9eca78f583181c159274bf61e4499338c3ac354cea1c9a28efdfdb16ece66d323b94ad3e9de675a9cf5e395203d3bcc38cf25db9863b026813612b4ef27792bc78f43382c4222b6797a9e3bb9833215bb5ac0edebf7bbea9fd04306bc23ef35319d7f3080ea20e0f91b81cb8dca8e0bd67ce43c95feb14a09125950d4143ec4e41797e008c9ee1991ad3f5e4bd0824d97b863f6d4317ae0a50ef40cd889c2ce4050901cc4960bf5351935cd7ef2ededebe4f2eacc186dc1be7867644f74f62ea947d38783f6c3a4b746ccebac8654f0ce230ccbede1b8b18e7c73f6e8c5c35955d90b7bfa25032f76f9b24591fcd25fae6fbbbf1c781755424d0a6c48c8ca3f00dc4812dd51bf4d21966dadf028a6b2f731544e2b5996758c9cbcaaff7243cd91eccbedf1dcb04e5a18cdcbb792e7eede6981c57c6631cca48a9e400855297d2eab695dde87b541aefaabc9ab0ee4f8207cf6bb3970cb137f4e3b2f192d75736da075362bc8c7ad07e1e4bef151735844ad56881fc4acfb757bdeabc6edfcb81aa2367549d58f22322e76778ca018fd8087066e0d2577e223e58f638bb3f54a07a7dc37d58499b4f95cdfffd06eec508598aa0870aae76dafa30779ff3a04cc07f0e555b68fdc0aad46faec42d9638167fc36069ae6f37e973af2946183b224fa806b0b7f359394031e328309de7719f9a1d3def8ad4decd916b0bfc060f44b2d846fe0ef9305dfb8a9fb0a636e35c40de9bfc08de2686258f46c9035fcf7ec1619f6ce7052ef09fd23c3bf3ab792af0a75b9bf93e68cbdd0f0bb1c70ee174eb13067a9ed0aa6a4424e2af6011e50a5138f042d540dcdfac81833909948a9a6dd2af68fc1c85a13944a6a9575a0c6cb72f2388cc89e48073bbff856b626ba08a02248d12882c54bd9ea851adfa3f627f97cd103078be3ede45cab7306c4cd07100bfd72f409f45efe93ed8653e36d11cd384320b5baa4e07e4ca017d751651889a9136c3b142d2703690604e7b9aa9513cf6de385cf791da27cd07645bd88c35fc51048ec8559ad72c80452cff68dd47781a5fc154b352ef1b7e6feaed42da83107683db73e98ad431c103051c89261bf79defe3f2990e29eeb9e2498ed73743da7643a140909e4699195ef4ee4c27fca71a210187398eb5664dceaf6f55cc7a8307975907c1b0ca3ee0e91a15c31f9a9284636b0d4d9bf09c823d165d696e75f25cfe228ca463715851850d1131d2a46f746abbe413b65d78bb1cb760597a8c5d39acfc58f29605e023e0023f88e92e11df3cda4400a282dd205c308443614892cf66e85eca2845ac1d76259d3df971fed40532c368bc5523d9ee4522064baf9cc0bf7d6e3c83e5e1361c2d8f66c6fe5e9330e255f1c9a60f27aff13cd90d53fbbc88ca92cc256d86bbb70d097b900d8d2aa8818e17a6ee5766deadff4df4d7d1915c905078302f3657564b78b4219db7880e5696f00420c21d5093eecee8f4e0f4803c22a765484b0f6e1c7e9f926c372ef2432744df32beaa43a6b35d971eaaa4ba082a8e0e64845abb9a3e1842cc609349e7c59cda57619fb927fe5062190cb7cd8d78af2a83c75f13b02af56beeaeceb6282f5dbb9e5dbca0f8dbe18de4d42fe5cce02d088f3d96f2b2f2b8c48ff5ada8ce24dd08c595a7401a4628e44c8e2e1bfdccca3de8162ad641960ef532765484eae748ccf77bcf92eb6635ca310e42276402692ecf3da0e69f23ba83895642107e8487070078ddf6c49e12fa9e178eed61736102cc1c74926ba6aa75a22f410cbf08a5bf9fb3f5f4990306c425580958aadb7a2ebf6acc6d8df2f6d2ab6f7170c92ccb06daf57c9987a934aa063301f55067b8cfa8c0c72f63015464b967ffcf8ab09b9b396462841f3cc37b8dde7ef1035084aaa3b9129aee9220e1ffae0f1df5fb3c0c876830631157f7e5cf341f277026dea249bcce45b90906c00e0e1f75a71462caa4d659f9f3e3c8867372839bb4742e9e5b69191bc510f6b0856410dba762289043a5e63c8bec3361f54023e17aa13f283525b340898bf72833c11e864a8570463b0bd55f892b92515733eb632d1247bd80f639e408417673f1b69c263bb215c89a85239c70f71d2b309e7185114dc22cef23e94f30ab6637dd76c3e3009ddb71c558db28d70694d3b0dd0003967c1fd021796abc9291aa40d83b0880352e14185536dd79e3628d18a08af327e34138ab97fb5d683b2aa4917d4bcdf65ee79a0cb1818d6bf87868b6b8b44fd469989c1c188696de26975abd14c41606ab8a5d066da28245e89ad079bd37452cf604402e745c90fddd5fd9e6cfcf029c8936d17e1ed98a2c4de87924ef8918a5d7ba93ee033dc2db2a127fa19dbfc3d7b5705f88f74176f2d16a8d17d38231feb951120a8ba4f40cf8b0f8d44c56c605d9fc996f2db7cfd60501078c14a5f68026ca10a45cb76eaceb68e386ef6d7a673d3ee01af11ac0232688aea9122d0db53133098966182b680b3d7dda961b9a09e1a0390f5e2a8df6bad5b71dc9651f942b213a1102ee439fe0d668998de6217eaf9bad8942551a822098dcfb5fbacb79e25f4535d0ef876a2f6339459a7da0f2823705c7c87e867f38e67ea7f701985ac4caac5f74325a0c4c4309cdfda3f51c613ca38c37328de0ea11ea5433f64b337e81ba5ef78c26ef813c19f8882f244a2be07f9ec1b10e2633e25badb2fda1fb909fe87abb9368b6974eb05ccc8181323571f9a78466b50cddc9e51ad3ee630d6c63f4aac7e79226d83437fca2df29cbf58f0a0da781581ae753c6d8ff9a825c6eca48913fe6fa20d4f5e70587c4c7e009939271268cede801603784c50e2b7f9a47cb4668c6982335249307ec88fe2e5d1dddcfcaee4c614e3e02b3432d400fdca4a569a6c4713db5ade1d7c4c1b4baa2f9842d7e6f59c4aeebe730378719cc500a80a4953797bd6bd4f25e6206a6b1714600cabde04674b0fb64b00d6f8cdc1e47073e0e362569b845d6303ef01bb8afedb42e8de2eec17af5f7c26c41d9eba67e8980b44a66af2836bbf7345ac0cc61ca7e20475958a46b133316478cfe46bc3ec466f98d082dd19eef9b700c2316159d53cf01a125d146b5096611d8f022f651b7cb76ca2ad7a11b33e4764fc5c02dd73301a1075fb1b378eece6bc6470f147d2e6d041326f1c13258bbf1fe48c94efd76ed34ff2c570f32fdb7d2c10eabfc90f1459fb310d5cab76bff65c2247422511f71e7f289d4415794bf3c4d58ff6659a1f4f59d7097f2c71f1289981bc1f8185875773e38ee7f6ff134e19b1dc32d37f1732a3fe1fba712f0b95c894c80284af391f0fb4ba6ba98dc3c25bf5d0b100d7a648ed573405693d20efa97da3c3349d93be8ccc7649f0485d7adcd72b7caead8444647a4568becd7a80abea879bf7ac7c65762a3fd5e4998535f10ac0297a7437eb2737ad4298b93810176cdd0324cb4c382d70e36818311393ed5b610fbbd24b88580eea34b1925381bf8632ba9d2536b16a7ac8025e981342fd4a469cd51d9d2312abdaa17e98cbfd8ad69c70133fbbaf468a6068812e2c12f9abf9252fa8a41b2ba9cfa8bce3c875d916ccfedd094b1ed89c4edbf76d0d805498729359baab265bfac2a059e2436531bebd4c736e91586bccae422af678d895cfc378a41f72c1cdf27c9bfde4197f8baeb58edafb0a96b89f1025a8de4039509dea640c4fb57ede91993cb6d1a7dea14a05ec7c790d3463813c06d449b06fe281fdb97cfccb1674a1c4c492ea2d80bdaa51f96ca54b7cc856f0ffade957c644ea8eaf9a33fbbabf1c6aa06a462d81e790757ece4d51dfe49eb10522c204d50e84b7dacf0e484fe72b7b9cbbcb1ab40f2e543420a2a27a7bdf0b9126dc6f8578255b888d5ca6f1aa7845118b6defdcfee018442be81d0e4e92b6871daedd06e0e43ca9029de3d1dd0327fc22588197f06563013f3b3ec4744393b2f9d19a979d291dcf9a89d28f0f0e5b7f715bab0314f44d96c0dbefa7eda55672c04ba94bb152a8e21a0577c4b5f081d647248415e09504af82985e830753f579c47282b8f15c2fdf8a99cc742db0951a9094132db9e7a23fc419d2a377b88d4511324ec77697add7c5cc04f81eb73d47dcdc9bb6359614c4bb47899d9d265dd4d289e1abc67a94843f3b057fb7abcd1e848681a2ba55c7e28c282f9fb2f09a5454c5a2ab7eb43740a0e9f4f163bbfe048400413b78e09ba3b0f54833a59079c752e9316c2acf54ffe7f0086d70c0339fd59cd8ef0444cd07f81399c3d10cd0a0ce8993f22310b1b4bba474b81866a346a9be5362060bb9efc7658c5521e0845013b798269f325f722180430879712f93a64a5f40df1c84c4c73ed25afac2494326a936ce61b339ec4e0881186f1abf23dd13fd57b258a2849551282514254f38fd7e0597242c09c1e64238ca5cd7acffc14a3eb2c2fb3174c6bf4d3c04958394561ebb884c5902258f6011153509c543ca91d602defebfbff34600961c954c4d65afcbf47e081d1068dae2608c56ca0f858f97c8e5e489e4c07966ca4aa69d87b1df71f2bff241a3980c6f66f8fc986e25c2c5e8bb27d56ee877c3ae40222b34b814ddb54e66a11d3c5fb1c14103ab3dbb2312f63d3269d7a3f893a59d01f25bd5b506a462f508eb8eae26cc916eacc5e14985452fee305d133d6373874a971244f0ff93de9c3138a24f8ec6b15b79cd5be4b62278db26b09d1da3c273807281a640ec1dea4156f362a983fda0d1ea93a0e9aa37dcf8a6d61b11cadc8f101760f8477ee0cb4e562763495697b106e071f7a873261361e1db5ddfcaf62b60703fa3576e799506a09c6acf8816928edd6b0007fce6c2d3e736cd0d12be6c5949e671b3659835a168b0e5fa4999f810f7cbc3fb9977d6646347f6e61ab4249f78be198342a5e3e8341cafe059f2714a6d48683e24c7129715247e7747241ad1b71bd8bc969116326732ad94d46ef0ac61f6503604dac56d9355b9615dc25d4354d8f702228f655bf741e6701fa9eb1347001d98be7a83d42ddd3b491459a73650e2ebe96f1f6b4a252c3d487f608c961899a27322008f8e60d095fb4998555c5734e0dd211224c72d1b1b069660c51e8c0848555aa82abf17cbf6e80091891da182fe5cf7f14c391599d39e68bbf546c5ae210e0f1ce3e71b0fb440eafffe71e50adefcccd6d72e6949b086f2dffbe2b56b1d4ab385afca52417f1d0b7ccd69aa076e70fe80f2e46d83c004570fad97b4d41a285fa39ed83156d4ca99628282581a1bf7866aadcd361f5cfb7122881ee9a41eff8b698bf33574fa96946cedee6c57158a09ca7aa6cf53f41f27771ff640eefe9230d74d63391d2ce06f0fe15da8ff41701f3ae38ca4b0195b3a2333a0a11e986b6f6a33918d0809cedaa2b2310da317b35a1acfc04918ad15a251be129316e7d2f4116b9bc45e7f9823085b2eae55c2e79f0f53607e89e6a5f8a698922b6e649ba42404703377877c611d33e5767da33a3c4b507cf63a760030a85e5fb235eae11dab497178e33487dcc5296d5a7e0a918058cd17d046bca942143f68e7b54e99ef6016500832101809d41f50edcc49f2825b5eccb25c6263979f15741d7f4dfd5db4ea2cc962dde3d9abbb51ad2f97dce71f6eba4c67df7757f59d68c5abcb12129538cc4955ed1ca8f984cfdaf4ae988780dd2b0732268cd36df29a2a5bc24ca46804532a41d0f00c3e28c5527429ac88a052bfc51f4f8155a26af718edc46fffba8acbe593f1926da312e922e9bf4e76d85767836ef4ebd6fb0d8061eab370c4be1e03d3f6f4fb9adfc4d92c67b83d3276c2e97e4cb7fb021203b4ed7a6f1ed1090d27f218db4242950d3a973b41ce4f86b3316bea9e2e17918590432b85d8076fe4aa3d441e2803481ebe34f7e5780fb78d9402d017aac4d9a18d7ca5224e8790d37e7608b8c182659675da423d83a60f697c417dd1d809f95eab40a3031c2e2770e2cde9172a153da116d530291c45d59994f36793167db10091f65321c1834f6a4d6a16a3fd048524b4149ce28f8e0d9ae544f5cf18083b8f845b5a76613e43863a2ca7ee8b5d28985f38b86e3242c09fb5e8bdfce0b8da97e9ec09e3e16b30474d356b39b812ba4a753d47c26ee3b83de3f9aabdf9820c69aa7a4c7099195ed0fbac34420ab4ffdb9420154ee4ad318865f22adb5f8eaa33ee68e1a3f36b660e48608c3f0c4ffca4f76b74c9aa468d4d5958f3b7d4b8a552232a6d37ba44ef7b8eaab6d90de0d4ee8df716ea2bb5d32b1ddba5f832cd16d4e20930e173440bedbfbbd23f5c7447690db5840a82fde88ae582ca6d9361d1bcc6aa6ec3d548d108871289034b076726e2eedc40849a0c6a6108cf5103145e31c49e56c4d683b5a0c66a2192e41c17bb0ff8bd64c4b4820f4dd8872ab8205bda312deabfe1f4075661eea592fc60378788b271e82620d8c41c55a1259d18b766197c5d653bf18eb0c8e68d09b3ddf547d9359ae3f06bc8bfd8e4afa655fda727769ab5adfe0176e8e63b4e3c45f9d40f4eea5191cbfd39ce146240e181e22885c45eb0fab2aafd2a3b396e990940a3b0561f95a8a68c555f815d29ee00a7b8b8ab37abafea268e9e2aa217e0f414fb9f9f33ad2d5586a4c1f50bc0cdd3551cbc432c7cc4c0a92417a71306e9a7afc97746b18098ff122824fbdb229b2cc752a2b59b9a5d1f250be573b297bfae5db0005886e73b418fa27129550a49b8c1f0f661a1192ec13d6dbd39e203200e717f3b4b5a4f8b567cb81b994467ef553c8c754fa75d56b5935ac875acad4f0477174f9b179b014f5fe95dae3e96e6116886b718ea1a1b0a8a96847056a7dfbe2d24428dcf4e1e20dceb3c1318688f822aa9f697418e7635bee254361c34fa36173ba326b5f832202257f47f5d988bbbfc846d778e2f7e849914a0a45ca6e5bb1662a94d5e746f49c770d754abc126431de67173c779f76a526765c6f6b02d07e40f08035e4c9f8c4b4033ad8a65fd6ac0c4cba8b909c107ddcd0a89e9c7ace970e63716bd78ac526f578393c8a53551788f9c20f06c91979ca72be82896804c2f29bb9754b940c8db072ed8f71f634ceda9ba4e49b03a2787e7ef421d2d7b20fd1f2c4d1ba91549122ed1a1c2c4048f94ca2d5be6903b1832ef3872a86d3008ae59ad96dcfc20d9cb4f4adec2b35361b79c439d48c1871e6faf0500b90a746cdf1ad343b0b8da8661aef2b4e8162ead6ec6ddca020427b04674e6633de29f8e5fac4cf4d00a649298c2a18841f887e3b034091fbad111b0443fb60431b9dee3053e7bdf193cb5f21e51af5e4d8657b79d43beffb941d11a91507ff1016fa6e391669d575a00d20785748d86d3f057ce2b1dc4b85e89df80c2022fae2caaf65742704f5ff231b0a99dfc1345066761e80a0d254519aec3585846f3afe95ac60c638f9a11300bea588c43608cfa3bd8361a38e3f9a10272e5e879e9a5fb406d472b6280157aa8169e61e3063e393561a2ff5f448d847eb879ef4742f5646001040529f4843722cd93c8545bf0b989fbf6a78141a4911163d63614fc7c9b671cb54b6cb594118dd1307e606d389f8bb01347154e6e3f1eaa91ccf3a2f7634c7ed04e27bade429f53e0266828aaf55846727c42c70583e4bc91c6bd07bbb608a61b331b73fe8fe3e14eb942302e6e4ed9cf6fc6c42b7d34ec2582c081a465c83084771c0a64f35014e9e07292a3efb984ddcd9c3eac36a514fc6f40446e9e86c9c1216e829674c1cc7730905d5eb4574b1fc92704a6ca2966c1ce92cb7064feb372c8b1b8bdb7d51514158320400e1cee9665da97daca1396657dd3bc4440c223236b649d91c77b896f4daa74a67a530454a413a7ebde4a1ed43dd331ac731debf8258e200e60eb2eecff790c42dc1e9c141f7c327ca4587109b395da2bc32ec4d724c9ababd6f1ce389dfe6ce99c431497c81b0b3298299556ea388e58b418b4310b4a7bbaa12e793566d8146bf55889aedd3089f6ae83df2a31ddcef03b6a40a2d4468475315ad306405cbc63e773bb2c1c90f65952f277812bc31aab8921acf830a0e4b5d2cafa5a186e53bad231120a4faee453cf27d9827508a99e71621e3b1aef472bb7882e616672480da444eb13fccf542c16b8f9518b4cf6e29cfd2b164096a2ad9d5e29b9523610bce601c6ddee2973f3d15b8c7758db1fec198b9cf28879b6f5bc6bd8c4d45814328894c3b5e82be366641e64d02a9b0db1713b8908b1a85003ae231f2e067cab69b405b735652768ce2a03c4569bbfaa1cbe9e9b5d5a5667ca617550dbbec43c610ce2a74ccf2112b4ea7f2d4740eceb430caae6d4b89c3505364feed119aa261c29073fa37402ba0592893a7b447b1aa3542cbb0022efa248d562a88301719e43cb4a788cf2dd1adea174d30aa285c00fa08a4d5e6237828dd9fba4c5638d832570297656a3981439f7159146d31a5e8d84910351f8697192e0e935ce4fff2aa3ad0ab0c3a0b2bb67870469994bdd08014bf2e47f67ebcf54f7b9b3c0b342e56b6e9a19c994cd8c87771d69ce9f901d9c1bf3fa88232c7853e90d02d2ccaed9d6eab17beba95cd8da28ef9e1b519e6619d3999c3c845f87ea8df53c2fa6e33730876b4d6000c43322836225aba7342f01e548927b3db56dded8459eb6947f49edbe32441ccfecfd3f8d427fb6945554f80c565c51c0d5d75d2a0b8d34f9a009c452998c40b92e0739f42d962402a85e8f6e6a5cdd5d1569162782b76db7b71b1263369a267818e0847e23449715945d997ada61b770cc249d0b7bff88a3848805747a35b13471cf5aacebb1fa62bb32ad2bc6d7044393c9789aabe0a7d35b37d91a8f55c1b8a5106f4624640018f936236ff352b0c13af0e157d72bb5c84af3fda748e016bff7f56e0b1ec3f8346109cb2f8684c2b6bdb7444e37e9f01e3c2e6e69d931cffb04513f65d7592490c8af59208c4fb15fb14da5cd4f7081c26a277bc6ac9430c4c71a921b2416760014c43f86e8f5ca28077ee1312d236785890c850c7f8bd2a52473cad9065ebd3c4375ccaeef9f4f50df6b3e192ceeeaee6b726d6184ef29f593f990a2c3371d0215e8d82d99440cb3fd239cc0b26fff0dc5f978ab4b7139266a6a8eec94490b0ac32e4e491a7949071fe5e1f566af9d17b70c0bd96ac35c493de357bce918cc7bd93650306f48972bfe2011b6fbb1dd3511de712f8feb66b6ffe35410a6b05bad216b42298e5e25eab35d8b321a1288914339d5b00fe8caf77a69c609d2f61848234705d2d811661a4bffc181755e541959d8d17ba42fd1ec174b6be428ac27f9195aa6319f858aa1709b140d6c37ac8220fe0f45f32a16639a4f04f6284a5a2b24851215509ee71177291f255f3adbb54310e7b0060671d69f76f6f5c7d04acf7217a9e51a9ea5443b0ad02aa6baf49f55d06876ace8566223b231f3488a938966415f3669e1b5b9f357c349fd81ab8f70ac3c449efdbb311f487f53498c569c1c0d2902bf45a1147f2f04860bdc6e95e67a33b29c5780c8181671704608f1ebdcbf4782650059a39418b43ac624630bc875ba2cdd4e6002a9ce4a8ac4f2d91149e0f6a3bfed290369703bbf3e81e24d2d3ad560a84a53d8a292bc76788176029072a873e7d96d99b7c0e16ce338b5643af424f387509f75a97228669b8f61f3a9adbf24606d244ba1a8c01661c6a8559d267ba39bdcb4263d576321e428fe28a13d3eb3e8868a86cc710b87b66ec9b2320b6bb668bef10096dcc0a13d7da22b84fda27fe8a1d7ac8a7a9af389ce30ba98c6f6fdf593167a07bb8bef489c4d438fbfd0b3d4eb041b76f240a78d3f85d384848cc631d51c2c8136d63970c142c1bf604ccdda4dadd0a893cc3c41da7579772c63bef20552dfa499c4e3da071f6ebbbe4b91c2b36be6f5bcbfee4f3637ddeba191359ca5c879849c24f0d05e9b382fd3765c0d066b64ef091b3b333b1f1c7e866f3f34aa4b24c34d21bef6fba172ba7309457fa5d8057487febaafb64748e8c473ed91c13559a0e0ea529a1805dd876f3529ca5a258392b417ca52777513894e0b556eea32caa251ab4b8cef4fde7bbf4985bc3180eb53c68ecd2451913b6853368c188a413570e337b85d683820b695e27c8a31c94af7850df81221d395c60f6a6f6e9aa1640da6e9c742cefdf0a251c738d4a458aabde990874376d2889dafbc42859c24e86506d5e35e5fb51c504445f38b3e9975d2c9ac4c7c79cb577d9fa76e16d2ebfa13c7465578273ee0d456cc441b937cee0fbbd376f5c528b0f7d2c8c43d5b7f8cd2dbdadea3f13e2c58954a8170f22c6d811a816115ee08e30b068d27c435e738059c154bcdf117b36c8c5674c32bfa33a700b58f36e21b02e0347658bc95dfc19d74cde61a679ea7d5211312d2c39e8e51563f5fb718bafbc3532deb1829990f510e901dec0d5c97647213b1f91031c8c80eb32312ed76ccd4280d74c40afc4684db7c21da9fb29050b3d07fd3e444d1320c506321a9435455aa811b4a5bb2e0e1bda436b99579acab470c2a25d5f5dca2075519f4ae350c31daca75989e2bfe6f4e8ff849fc04cde0814a1214f27d288c670a21a38ffd1794f18ab4fb7df434830119a330fd5b141efc1b21f5188886b39b8ca06ae5a80842af0f1ce9198be23485a5ef5969c009b96f61e4a1a88853f827d9d4daa3fad1c28537f0d648f287a5d6289e5775ea4ae6041445a5714e43b957fca6cacae220f2e62f887a1667ccb51ed0acc79dc781209c888536568f0c958ba3d3b7ed44447b3ce3279c2d09f1a594bc96fab017d961420002160eac1b8755009fe468f2875fa5c29521ba75d236498eb68c6a29bb75feb9d7b7c55fca281245af3561e0879534732c5709bbb97fb06236c450e4a048ffaab53baea2837fe410dfb434c11c4e2b9d5d3c1e19789c7377750403de1637f849e800bb4009b30e9dac6802029656ce03a31dc86f37c8faef7b4fc286c981520773600b02e57747b6080dfcc138797f96d8f82ca3d5628fdd4b4b053920c6465dde650ef2aa29aa7f86c38dba8c8f0aefd44a529c03d3dc48d11ee3899547fc25106a62c96862265d9f71e58ea5a9c48eefb1ed570dfca4491a5dab7dfccd5ad1a7ee9bec1fdc5ad2d4108895763d287d0fe8f1836f28dba9c79efd2fae5ca92e3b4bfdf07f535a11cef435dd5bb4ad3121ab5d75761f9a0b76351d6ad2d341db5e5dde8e4433e8265bfd8268189d91550f866a1cc8266f8a77fedfe7b5a4638b12c275f7470fdc4a8aea0ef</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>组会</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-53.回文子串的最大长度</title>
    <link href="/2023/02/22/Algorithm/Comp/0x10/20230222-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-053-%E5%9B%9E%E6%96%87%E5%AD%90%E4%B8%B2%E7%9A%84%E6%9C%80%E5%A4%A7%E9%95%BF%E5%BA%A6/"/>
    <url>/2023/02/22/Algorithm/Comp/0x10/20230222-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-053-%E5%9B%9E%E6%96%87%E5%AD%90%E4%B8%B2%E7%9A%84%E6%9C%80%E5%A4%A7%E9%95%BF%E5%BA%A6/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/141/">算法竞赛进阶指南-53.回文子串的最大长度</a></p><p>如果一个字符串正着读和倒着读是一样的，则称它是回文的。</p><p>给定一个长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 的字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>，求他的最长回文子串的长度是多少。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>输入将包含最多 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>30</mn></mrow><annotation encoding="application/x-tex">30</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">0</span></span></span></span> 个测试用例，每个测试用例占一行，以最多 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1000000</mn></mrow><annotation encoding="application/x-tex">1000000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span> 个小写字符的形式给出。</p><p>输入以一个以字符串 <code>END</code> 开头的行表示输入终止。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>对于输入中的每个测试用例，输出测试用例编号和最大回文子串的长度（参考样例格式）。</p><p>每个输出占一行。</p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-nginx" data-language="nginx"><code class="language-nginx">abcbabcbabcbaabacacbaaaabEND</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-php" data-language="php"><code class="language-php">Case 1: 13Case 2: 6</code></pre><h3 id="method1-字符串哈希-二分"><a class="markdownIt-Anchor" href="#method1-字符串哈希-二分"></a> Method1 : 字符串哈希 + 二分</h3><p>递推枚举回文子串的中点，然后用二分法判断两边边界的最大长度</p><p>这道题挺恶心的，如果是cin读取字符串会TLE，必须手动开O2优化才能过。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#pragma GCC optimize(2)#include &lt;string&gt;#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef unsigned long long ULL;const int N &#x3D; 1e6 + 7;const int P &#x3D; 131;vector&lt;ULL&gt; p(N * 2);vector&lt;ULL&gt; get_prefix_hash(const string&amp; s) &#123;    int n &#x3D; s.size();    vector&lt;ULL&gt; h(n + 1);    h[0] &#x3D; 0;    p[0] &#x3D; 1;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        h[i] &#x3D; h[i - 1] * P + s[i - 1];        p[i] &#x3D; p[i - 1] * P;    &#125;    return h;&#125;ULL get_substr_hash(const vector&lt;ULL&gt;&amp; h, int l, int r) &#123;    return h[r] - h[l - 1] * p[r - l + 1];&#125;int main() &#123;    string s;    int T &#x3D; 1;    while (cin &gt;&gt; s, s !&#x3D; &quot;END&quot;) &#123;        int n &#x3D; s.size();        s.resize(n * 2);        for (int i &#x3D; n * 2 - 1; i &gt;&#x3D; 0; i -&#x3D; 2) &#123;            s[i] &#x3D; s[i &#x2F; 2];            s[i - 1] &#x3D; &#39;z&#39; + 1;        &#125;        n &#x3D; n * 2;        &#x2F;&#x2F; for (int i &#x3D; 0; i &lt; n; i ++) &#123;        &#x2F;&#x2F;     cout &lt;&lt; s[i] ;        &#x2F;&#x2F; &#125;        &#x2F;&#x2F; cout &lt;&lt; endl;                vector&lt;ULL&gt; hl &#x3D; get_prefix_hash(s);        reverse(s.begin(), s.end());        vector&lt;ULL&gt; hr &#x3D; get_prefix_hash(s);        reverse(s.begin(), s.end()); &#x2F;&#x2F; reverse(回来)                int res &#x3D; 0;        for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;            int l &#x3D; 0, r &#x3D; min(i - 1, n - i); &#x2F;&#x2F; 二分最大半径mid            while (l !&#x3D; r + 1) &#123;                int mid &#x3D; l + r &gt;&gt; 1;                if (get_substr_hash(hl, i - mid, i - 1) !&#x3D; get_substr_hash(hr, n - (i + mid) + 1, n - (i + 1) + 1)) &#123;                    r &#x3D; mid - 1;                &#125;                else &#123;                    l &#x3D; mid + 1;                &#125;            &#125;                        if (s[i - r + 1] &lt;&#x3D; &#39;z&#39;) res &#x3D; max(res, r + 1);            else res &#x3D; max(res, r);        &#125;                printf(&quot;Case %d: %d\n&quot;, T ++, res);            &#125;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n + \log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中reverse的时间和预处理前缀的时间都是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> ，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>为二分。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo>∗</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(N * 2)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span></span>，花<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>的空间存储<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span>的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>次幂。</p></li></ul><h3 id="method2manacher"><a class="markdownIt-Anchor" href="#method2manacher"></a> Method2：Manacher</h3><p>这题也可以用manacher做，复杂度是O（N）</p><h4 id="复杂度分析-2"><a class="markdownIt-Anchor" href="#复杂度分析-2"></a> 复杂度分析</h4>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>hash</tag>
      
      <tag>二分</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-52.兔子与兔子</title>
    <link href="/2023/02/21/Algorithm/Comp/0x10/20230221-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-052-%E5%85%94%E5%AD%90%E4%B8%8E%E5%85%94%E5%AD%90/"/>
    <url>/2023/02/21/Algorithm/Comp/0x10/20230221-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-052-%E5%85%94%E5%AD%90%E4%B8%8E%E5%85%94%E5%AD%90/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/140/">算法竞赛进阶指南-52.兔子与兔子</a></p><p>很久很久以前，森林里住着一群兔子。</p><p>有一天，兔子们想要研究自己的 DNA 序列。</p><p>我们首先选取一个好长好长的 DNA 序列（小兔子是外星生物，DNA 序列可能包含 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>26</mn></mrow><annotation encoding="application/x-tex">26</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">6</span></span></span></span> 个小写英文字母）。</p><p>然后我们每次选择两个区间，询问如果用两个区间里的 DNA 序列分别生产出来两只兔子，这两个兔子是否一模一样。</p><p>注意两个兔子一模一样只可能是他们的 DNA 序列一模一样。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行输入一个 DNA 字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>。</p><p>第二行一个数字 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>，表示 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 次询问。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 行，每行四个数字 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>r</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>l</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">l_1, r_1, l_2, r_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，分别表示此次询问的两个区间，注意字符串的位置从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 开始编号。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>对于每次询问，输出一行表示结果。</p><p>如果两只兔子完全相同输出 <code>Yes</code>，否则输出 <code>No</code>（注意大小写）。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>m</mi><mo>≤</mo><mn>1000000</mn></mrow><annotation encoding="application/x-tex">1 \le length(S),m \le 1000000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-nginx" data-language="nginx"><code class="language-nginx">aabbaabb31 3 5 71 3 6 81 2 1 2</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-nginx" data-language="nginx"><code class="language-nginx">YesNoYes</code></pre><h3 id="method-字符串hash"><a class="markdownIt-Anchor" href="#method-字符串hash"></a> Method : 字符串Hash</h3><p>标准的字符串前缀哈希题目，如果是第一次遇到字符串Hash的题目值得一做。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;string&gt;#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;cmath&gt;using namespace std;typedef unsigned long long ULL;const int N &#x3D;1e6 + 7;const int P &#x3D; 131;vector&lt;ULL&gt; p(N); &#x2F;&#x2F; P的次幂vector&lt;ULL&gt; get_prefix_hash(const string&amp; s) &#123;    int n &#x3D; s.size();    vector&lt;ULL&gt; h(n + 1);    h[0] &#x3D; 0;    p[0] &#x3D; 1;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        h[i] &#x3D; h[i - 1] * P + s[i - 1] - &#39;a&#39; + 1;        p[i] &#x3D; p[i - 1] * P;    &#125;        return h;&#125;ULL get_substr_hash(const vector&lt;ULL&gt;&amp; h, int l, int r) &#123;    return h[r] - h[l - 1] * p[r - l + 1];&#125;int main() &#123;    string s;    cin &gt;&gt; s;    vector&lt;ULL&gt; h &#x3D; get_prefix_hash(s);        int m;    cin &gt;&gt; m;    while (m --) &#123;        int l1, r1, l2, r2;        scanf(&quot;%d %d %d %d&quot;, &amp;l1, &amp;r1, &amp;l2, &amp;r2);        if (get_substr_hash(h, l1, r1) &#x3D;&#x3D; get_substr_hash(h, l2, r2)) puts(&quot;Yes&quot;);        else puts(&quot;No&quot;);    &#125;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 预处理前缀和需要<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，查询字串的时间复杂度是常数级<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>。</li><li>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(N)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>，要花<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n + 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>的空间存储Hash前缀和，花<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>的空间存储<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span>的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>次幂。</li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>hash</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-51.雪花雪花雪花</title>
    <link href="/2023/02/20/Algorithm/Comp/0x10/20230220-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-051-%E9%9B%AA%E8%8A%B1%E9%9B%AA%E8%8A%B1%E9%9B%AA%E8%8A%B1/"/>
    <url>/2023/02/20/Algorithm/Comp/0x10/20230220-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-051-%E9%9B%AA%E8%8A%B1%E9%9B%AA%E8%8A%B1%E9%9B%AA%E8%8A%B1/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/139/">算法竞赛进阶指南-51.雪花雪花雪花</a></p><p>有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 片雪花，每片雪花由六个角组成，每个角都有长度。</p><p>第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 片雪花六个角的长度从某个角开始顺时针依次记为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>6</mn></mrow></msub></mrow><annotation encoding="application/x-tex">a_{i,1},a_{i,2},…,a_{i,6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">6</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>。</p><p>因为雪花的形状是封闭的环形，所以从任何一个角开始顺时针或逆时针往后记录长度，得到的六元组都代表形状相同的雪花。</p><p>例如 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>6</mn></mrow></msub></mrow><annotation encoding="application/x-tex">a_{i,1},a_{i,2},…,a_{i,6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">6</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>3</mn></mrow></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>6</mn></mrow></msub><mi mathvariant="normal">，</mi><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">a_{i,2},a_{i,3},…,a_{i,6}，a_{i,1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">6</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">，</span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 就是形状相同的雪花。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>6</mn></mrow></msub></mrow><annotation encoding="application/x-tex">a_{i,1},a_{i,2},…,a_{i,6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">6</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>6</mn></mrow></msub><mo separator="true">,</mo><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>5</mn></mrow></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">a_{i,6},a_{i,5},…,a_{i,1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">6</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">5</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 也是形状相同的雪花。</p><p>我们称两片雪花形状相同，当且仅当它们各自从某一角开始顺时针或逆时针记录长度，能得到两个相同的六元组。</p><p>求这 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 片雪花中是否存在两片形状相同的雪花。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行输入一个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>，代表雪花的数量。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 行，每行描述一片雪花。</p><p>每行包含 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span></span></span></span> 个整数，分别代表雪花的六个角的长度（这六个数即为从雪花的随机一个角顺时针或逆时针记录长度得到）。</p><p>同行数值之间，用空格隔开。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>如果不存在两片形状相同的雪花，则输出：</p><p><code>No two snowflakes are alike.</code></p><p>如果存在两片形状相同的雪花，则输出：</p><p><code>Twin snowflakes found.</code></p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le N \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><msub><mi>a</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></msub><mo>&lt;</mo><mn>10000000</mn></mrow><annotation encoding="application/x-tex">0 \le a_{i,j} &lt;10000000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8252079999999999em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">21 2 3 4 5 64 3 2 1 6 5</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-nginx" data-language="nginx"><code class="language-nginx">Twin snowflakes found.</code></pre><h3 id="method-hash"><a class="markdownIt-Anchor" href="#method-hash"></a> Method : Hash</h3><p>不难观察到，对于两片形状相同的雪花，其相邻差值绝对值、总和、乘积是一样的。<br />因此可以计算相邻差值绝对值、总和、乘积，来作为雪花的唯一标识，作为hash表的判重依据。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;unordered_map&gt;#include &lt;map&gt;#include &lt;iostream&gt;#include &lt;cmath&gt;using namespace std;typedef long long LL;const int MOD &#x3D; 13331;   &#x2F;&#x2F; 不加MOD也可以struct SnowFlake &#123;    LL dif &#x3D; 0;  &#x2F;&#x2F; 相邻差值绝对值    LL sum &#x3D; 0;  &#x2F;&#x2F; 和    LL prod &#x3D; 1; &#x2F;&#x2F; 积&#125;;struct SnowFlakeHash &#123;    int operator()(const SnowFlake&amp; p) const &#123;        return p.dif ^ (p.sum &lt;&lt; 1) ^ (p.prod &lt;&lt; 2);    &#125; &#125;;struct SnowFlakeEqual &#123;    bool operator()(const SnowFlake&amp; p1, const SnowFlake&amp; p2) const &#123;        return p1.dif &#x3D;&#x3D; p2.dif &amp;&amp; p1.sum &#x3D;&#x3D; p2.sum &amp;&amp; p1.prod &#x3D;&#x3D; p2.prod;    &#125;&#125;;int n;unordered_map&lt;SnowFlake, int, SnowFlakeHash, SnowFlakeEqual&gt; ht;int main() &#123;    cin &gt;&gt; n;    bool flag &#x3D; false;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        SnowFlake sf;         int a[6];        for (int j &#x3D; 0; j &lt; 6; j ++) &#123;            scanf(&quot;%d&quot;, &amp;a[j]);        &#125;        &#x2F;&#x2F; 计算相邻差值绝对值、总和、乘积        for (int j &#x3D; 0; j &lt; 6; j ++) &#123;            sf.dif &#x3D; (sf.dif + abs(a[j % 6] - a[(j - 1 + 6) % 6])) % MOD;            sf.sum &#x3D; (sf.sum + a[j]) % MOD;            sf.prod &#x3D; (sf.prod * a[j]) % MOD;        &#125;                if (ht.count(sf)) &#123;            flag &#x3D; true;            cout &lt;&lt; &quot;Twin snowflakes found.&quot; &lt;&lt; endl;            break;        &#125;        ht[sf] ++;    &#125;        if (flag &#x3D;&#x3D; false) &#123;        cout &lt;&lt; &quot;No two snowflakes are alike.&quot; &lt;&lt; endl;    &#125;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>，理论上是均摊<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul><hr /><p>最初版，只计算<strong>相邻差值</strong>和<strong>总和</strong>不能过最后一个测试点</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;unordered_map&gt;#include &lt;map&gt;#include &lt;iostream&gt;#include &lt;cmath&gt;using namespace std;typedef long long LL;struct SnowFlake &#123;    LL dif; &#x2F;&#x2F; 差值绝对值    LL sum; &#x2F;&#x2F; 和&#125;;struct SnowFlakeHash &#123;    int operator()(const SnowFlake&amp; p) const &#123;        return p.dif ^ (p.sum &lt;&lt; 1);    &#125; &#125;;struct SnowFlakeEqual &#123;    bool operator()(const SnowFlake&amp; p1, const SnowFlake&amp; p2) const &#123;        return p1.dif &#x3D;&#x3D; p2.dif &amp;&amp; p1.sum &#x3D;&#x3D; p2.sum;    &#125;&#125;;int n;unordered_map&lt;SnowFlake, int, SnowFlakeHash, SnowFlakeEqual&gt; ht;int main() &#123;    &#x2F;&#x2F; 计算两两之间的差值， 再计算一个sum    cin &gt;&gt; n;    bool flag &#x3D; false;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        SnowFlake sf;         sf.sum &#x3D; 0, sf.dif &#x3D; 0;        int a[6];        for (int j &#x3D; 0; j &lt; 6; j ++) &#123;            scanf(&quot;%d&quot;, &amp;a[j]);        &#125;        for (int j &#x3D; 0; j &lt; 6; j ++) &#123;            sf.dif +&#x3D; abs(a[j % 6] - a[(j - 1 + 6) % 6]);            sf.sum +&#x3D; a[j];        &#125;        &#x2F;&#x2F; cout &lt;&lt; sf.dif &lt;&lt; &quot; &quot; &lt;&lt; sf.sum &lt;&lt; endl;        if (ht.count(sf)) &#123;            flag &#x3D; true;            cout &lt;&lt; &quot;Twin snowflakes found.&quot; &lt;&lt; endl;            break;        &#125;        ht[sf] ++;    &#125;        if (flag &#x3D;&#x3D; false) &#123;        cout &lt;&lt; &quot;No two snowflakes are alike.&quot; &lt;&lt; endl;    &#125;            return 0;&#125;</code></pre><h3 id="method最小表示法"><a class="markdownIt-Anchor" href="#method最小表示法"></a> Method：最小表示法</h3>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>hash</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-50.邻值查找</title>
    <link href="/2023/02/19/Algorithm/Comp/0x10/20230219-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-050-%E9%82%BB%E5%80%BC%E6%9F%A5%E6%89%BE/"/>
    <url>/2023/02/19/Algorithm/Comp/0x10/20230219-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-050-%E9%82%BB%E5%80%BC%E6%9F%A5%E6%89%BE/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/138/">算法竞赛进阶指南-50.邻值查找</a></p><p>给定一个长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 的序列 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> 中的数各不相同。</p><p>对于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> 中的每一个数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，求：</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mo><mi>min</mi><mo>⁡</mo></mo><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>&lt;</mo><mi>i</mi></mrow></msub><mi mathvariant="normal">∣</mi><msub><mi>A</mi><mi>i</mi></msub><mo>−</mo><msub><mi>A</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">\min_{1 \le j &lt;i}|A_i-A_j|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mop"><span class="mop">min</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">&lt;</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span></p><p>以及令上式取到最小值的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span></span></span></span>（记为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>P</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">P_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）。若最小值点不唯一，则选择使 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">A_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 较小的那个。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行输入整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>，代表序列长度。</p><p>第二行输入 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 个整数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub><mo>…</mo><msub><mi>A</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">A_1…A_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,代表序列的具体数值，数值之间用空格隔开。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出共 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 行，每行输出两个整数，数值之间用空格隔开。</p><p>分别表示当 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 取 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mo>∼</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">2 \sim n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 时，对应的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mo><mi>min</mi><mo>⁡</mo></mo><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>&lt;</mo><mi>i</mi></mrow></msub><mi mathvariant="normal">∣</mi><msub><mi>A</mi><mi>i</mi></msub><mo>−</mo><msub><mi>A</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">\min_{1 \le j &lt;i}|A_i-A_j|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mop"><span class="mop">min</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">&lt;</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span> 和 $ P_i $ 的值。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p>$n \le 10^5 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3em;vertical-align:-0.19444em;"></span><span class="mpunct">,</span></span></span></span> |A_i| \le 10^9$</p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">31 5 3</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">4 12 1</code></pre><h3 id="method1-stl-set"><a class="markdownIt-Anchor" href="#method1-stl-set"></a> Method1 : STL-set</h3><p>这题的意思就是在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>前面找一个与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>数值最接近的一个数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">A_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>，如果有两个数同时满足，选择<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mi>j</mi></msub><mo>&lt;</mo><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_j &lt; A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的那个。</p><p>看到题目数据范围<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>∗</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1*10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>就知道不能用暴力写，要找一个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>的做法。</p><pre class="language-c++" data-language="c++"><code class="language-c++"></code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n \log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>为对n进行二进制拆分的时间复杂度。</li><li>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</li></ul><h3 id="method2-双向链表"><a class="markdownIt-Anchor" href="#method2-双向链表"></a> Method2 : 双向链表</h3><p>用链表就是离线做法：</p><p>将原数组带着下标一起，按照元素的值从小到大顺排，然后以此顺序建立双向链表，而且要从后往前考虑</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;limits.h&gt;using namespace std;typedef pair&lt;int, int&gt; PII;struct Node &#123;    int value;    int pos;    int nxt, pre;    bool operator&lt; (const Node&amp; rhs) const &#123;        return value &lt; rhs.value;    &#125;&#125;;const int N &#x3D; 1e5 + 7;int n;Node node[N];int head, tail, tot;void init() &#123;    tot &#x3D; 2;    head &#x3D; 1, tail &#x3D; 2;    node[head].nxt &#x3D; tail;    node[tail].pre &#x3D; head;&#125;int insert(int p, int v, int idx) &#123;    int q &#x3D; ++ tot;    node[q].value &#x3D; v;    node[q].pos &#x3D; idx;    node[node[p].nxt].pre &#x3D; q;    node[q].nxt &#x3D; node[p].nxt;    node[p].nxt &#x3D; q; node[q].pre &#x3D; p;    return q;&#125;void remove(int p) &#123;    node[node[p].pre].nxt &#x3D; node[p].nxt;    node[node[p].nxt].pre &#x3D; node[p].pre;&#125;int pos[N];PII res[N], a[N];int main() &#123;    init();    scanf(&quot;%d&quot;, &amp;n);    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        scanf(&quot;%d&quot;, &amp;a[i].first);        a[i].second &#x3D; i;    &#125;        sort(a + 1, a + 1 + n);        for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        pos[a[i].second] &#x3D; insert(node[tail].pre, a[i].first, a[i].second);    &#125;        for (int i &#x3D; n; i &gt; 1; i --) &#123;        int s &#x3D; INT_MAX, idx &#x3D; -1;        Node&amp; t &#x3D; node[pos[i]];        if (t.pre !&#x3D; head &amp;&amp; s &gt; abs(t.value - node[t.pre].value)) &#123;            s &#x3D; abs(t.value - node[t.pre].value);            idx &#x3D; node[t.pre].pos;        &#125;        if (t.nxt !&#x3D; tail &amp;&amp; s &gt; abs(t.value - node[t.nxt].value)) &#123;            s &#x3D; abs(t.value - node[t.nxt].value);            idx &#x3D; node[t.nxt].pos;        &#125;        res[i] &#x3D; &#123;s, idx&#125;;        remove(pos[i]);    &#125;        for (int i &#x3D; 2; i &lt;&#x3D; n; i ++) &#123;        printf(&quot;%d %d\n&quot;, res[i].first, res[i].second);    &#125;        return 0;&#125;</code></pre><h4 id="复杂度分析-2"><a class="markdownIt-Anchor" href="#复杂度分析-2"></a> 复杂度分析</h4><ul><li>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n \log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>为sort的时间复杂度。</li><li>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</li></ul><p>补一个暴力做法，会<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mi>L</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TLE</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span>。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;limits.h&gt;using namespace std;typedef pair&lt;int, int&gt; PII;const int N &#x3D; 1e5 + 7;int n;vector&lt;int&gt; arr(N);int main() &#123;    cin &gt;&gt; n;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        scanf(&quot;%d&quot;, &amp;arr[i]);    &#125;        vector&lt;PII&gt; res;    for (int i &#x3D; 2; i &lt;&#x3D; n; i ++) &#123;        PII tmp;        tmp.first &#x3D; INT_MAX;        tmp.second &#x3D; i;        for (int j &#x3D; i - 1; j; j --) &#123;            int dif &#x3D; abs(arr[i] - arr[j]);            if (dif &lt; tmp.first) &#123;                tmp.first &#x3D; dif;                tmp.second &#x3D; j;            &#125;            else if (dif &#x3D;&#x3D; tmp.first) &#123;                if (arr[j] &lt; arr[i]) tmp.second &#x3D; j;            &#125;        &#125;                res.push_back(tmp);    &#125;        for (int i &#x3D; 0; i &lt; res.size(); i ++) &#123;        printf(&quot;%d %d\n&quot;, res[i].first, res[i].second);    &#125;        return 0;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>链表</tag>
      
      <tag>STL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-49.最大子序和</title>
    <link href="/2023/02/18/Algorithm/Comp/0x10/20230218-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-049-%E6%9C%80%E5%A4%A7%E5%AD%90%E5%BA%8F%E5%92%8C/"/>
    <url>/2023/02/18/Algorithm/Comp/0x10/20230218-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-049-%E6%9C%80%E5%A4%A7%E5%AD%90%E5%BA%8F%E5%92%8C/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/137/">算法竞赛进阶指南-49.最大子序和</a></p><p>输入一个长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 的整数序列，从中找出一段长度不超过 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 的连续子序列，使得子序列中所有数的和最大。</p><p><strong>注意：</strong> 子序列的长度至少是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行输入两个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo separator="true">,</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">n,m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span></span></span></span>。</p><p>第二行输入 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 个数，代表长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 的整数序列。</p><p>同一行数之间用空格隔开。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出一个整数，代表该序列的最大子序和。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo>≤</mo><mn>300000</mn></mrow><annotation encoding="application/x-tex">1 \le n,m \le 300000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8304100000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">6 41 -3 5 1 -2 3</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">7</code></pre><h3 id="method-单调队列优化dp"><a class="markdownIt-Anchor" href="#method-单调队列优化dp"></a> Method : 单调队列优化DP</h3><p><code>i - dque.front() + 1 &gt; m + 1</code>，这里怎么理解？</p><p>因为对于前缀和数组来说：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mo stretchy="false">[</mo><mi>r</mi><mo stretchy="false">]</mo><mo>−</mo><mi>s</mi><mo stretchy="false">[</mo><mi>l</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">s[r] - s[l - 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>是算<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>r</mi><mo stretchy="false">]</mo><mo>∼</mo><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>l</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">arr[r] \sim  arr[l]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mclose">]</span></span></span></span>的前缀和，<br />所以<strong>当原数组的滑动窗口长度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>时，前缀和数组的滑动窗口长度应为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">m + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></strong>。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;deque&gt;#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;const int N &#x3D; 3e5 + 7;const int INF &#x3D; 0x3f3f3f3f;int n, m;vector&lt;int&gt; arr(N, 0);vector&lt;LL&gt; sum(N, 0);int main() &#123;    cin &gt;&gt; n &gt;&gt; m;        for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        scanf(&quot;%d&quot;, &amp;arr[i]);    &#125;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        sum[i] &#x3D; sum[i - 1] + arr[i];    &#125;        LL res &#x3D; -INF;    deque&lt;int&gt; Q;    Q.push_back(0); &#x2F;&#x2F; 插入sum[0]    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        while (!Q.empty() &amp;&amp; i - Q.front() + 1 &gt; m + 1) &#123;            Q.pop_front();        &#125;                res &#x3D; max(res, sum[i] - sum[Q.front()]);                while(!Q.empty() &amp;&amp; sum[Q.back()] &gt;&#x3D; sum[i]) &#123;            Q.pop_back();        &#125;        Q.push_back(i);    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 对于数组中的每个元素，其最多只进出队列一次。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(N)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>单调队列</tag>
      
      <tag>前缀和</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-48.双端队列</title>
    <link href="/2023/02/17/Algorithm/Comp/0x10/20230217-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-048-%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97/"/>
    <url>/2023/02/17/Algorithm/Comp/0x10/20230217-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-048-%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/136/">算法竞赛进阶指南-48.双端队列</a></p><p>达达现在碰到了一个棘手的问题，有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 个整数需要排序。</p><p>达达手头能用的工具就是若干个双端队列。</p><p>她从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 需要依次处理这 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 个数，对于每个数，达达能做以下两件事：</p><p>1．新建一个双端队列，并将当前数作为这个队列中的唯一的数；</p><p>2．将当前数放入已有的队列的头之前或者尾之后。</p><p>对所有的数处理完成之后，达达将这些队列按一定的顺序连接起来后就可以得到一个非降的序列。</p><p>请你求出最少需要多少个双端序列。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行输入整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>，代表整数的个数。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 行，每行包括一个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">D_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，代表所需处理的整数。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出一个整数，代表最少需要的双端队列数。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>200000</mn></mrow><annotation encoding="application/x-tex">1 \le N \le 200000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">6360963</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">2</code></pre><h3 id="method-贪心"><a class="markdownIt-Anchor" href="#method-贪心"></a> Method : 贪心</h3><p>可以发现该题有两个性质：</p><ol><li>在最优解中，每一个双端队列，必定是有序数组中的一个连续子序列</li><li>每个双端队列的下标是先减少后递增的 “单谷” 形式（因为之后插入的数要么接在队首，要么队尾）</li></ol><p>因此，可以对原数组先排序，然后根据下标找 “单谷” 计算最优解:</p><p>具体做法可以用一个<code>pair&lt;int, int&gt;</code>存储{数值，下标}，对其先排序，使得相同的数放在一起看作一个区间：</p><p>如题给数据：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mn>6</mn><mo separator="true">,</mo><mn>6</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mn>9</mn><mo stretchy="false">]</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[[0], [3, 3], [6, 6], [9]]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">[</span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">6</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">[</span><span class="mord">9</span><span class="mclose">]</span><span class="mclose">]</span></span></span></span>， 对应下标<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo stretchy="false">[</mo><mn>3</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>6</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mn>2</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><mn>4</mn><mo stretchy="false">]</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[[3], [1, 6], [2, 5], [4]]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mopen">[</span><span class="mord">3</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">6</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">[</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">[</span><span class="mord">4</span><span class="mclose">]</span><span class="mclose">]</span></span></span></span></p><p>用一个变量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">dir</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>记录当前是上升趋势还是下降趋势，并用另一个变量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">last</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span></span></span></span>记录上一个区间的最后一个下标大小</p><p>初始时默认先开辟一个双端队列, 并从无穷大开始下降: <code>res = 1, dir = -1, last = INT_MAX</code></p><ol><li><p>如果当前处于下降趋势</p><ul><li>下标最大值小于最后一个元素的下标，按下标降序接在后面，整体下标呈<code>\</code>形</li><li>下标最大值大于最后一个元素的下标，按下标升序接在后面，整体下标呈 <code>\/</code> 形，变为上升趋势</li></ul></li><li><p>如果当前处于上升趋势</p><ul><li>下标最小值大于最后一个元素的下标，按下标升序接在后面，整体呈<code>/</code>形</li><li>下标最小值小于最后一个元素的下标，按下标降序接在后面，整体呈 <code>/\</code>形，变为下降趋势</li></ul><p>并且注意：当由上升趋势变为下降趋势后，相当于开辟了一个新的单谷，因此<code>res ++</code></p></li></ol><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;limits.h&gt;using namespace std;typedef pair&lt;int, int&gt; PII; &#x2F;&#x2F; &#123;数值, 下标&#125;const int N &#x3D; 2e5 + 7;int n;PII a[N];int main() &#123;    cin &gt;&gt; n;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        scanf(&quot;%d&quot;, &amp;a[i].first);        a[i].second &#x3D; i;    &#125;        sort(a + 1, a + 1 + n);        int res &#x3D; 1;    int last &#x3D; INT_MAX, dir &#x3D; -1; &#x2F;&#x2F; -1 下降; 1 上升    for (int i &#x3D; 1; i &lt;&#x3D; n; ) &#123;        int j &#x3D; i + 1;        while (j &lt;&#x3D; n &amp;&amp; a[j].first &#x3D;&#x3D; a[i].first) j ++;                int max_idx &#x3D; a[j - 1].second, min_idx &#x3D; a[i].second;        if (dir &#x3D;&#x3D; -1) &#123;            if (last &gt; max_idx) last &#x3D; min_idx; &#x2F;&#x2F; 延续            else &#123;                dir &#x3D; 1;                last &#x3D; max_idx;            &#125;        &#125;        else &#123;            if (last &lt; min_idx) last &#x3D; max_idx; &#x2F;&#x2F; 延续            else &#123;                dir &#x3D; -1;                last &#x3D; min_idx;                res ++;            &#125;        &#125;        i &#x3D; j;    &#125;        cout &lt;&lt; res &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo>+</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n\log n + n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>为sort排序的时间复杂度。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(N)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>贪心</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-47.蚯蚓</title>
    <link href="/2023/02/16/Algorithm/Comp/0x10/20230216-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-047-%E8%9A%AF%E8%9A%93/"/>
    <url>/2023/02/16/Algorithm/Comp/0x10/20230216-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-047-%E8%9A%AF%E8%9A%93/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/135/">算法竞赛进阶指南-47.蚯蚓</a></p><p>蛐蛐国最近蚯蚓成灾了！</p><p>隔壁跳蚤国的跳蚤也拿蚯蚓们没办法，蛐蛐国王只好去请神刀手来帮他们消灭蚯蚓。</p><p>蛐蛐国里现在共有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 只蚯蚓，第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 只蚯蚓的长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ，所有蚯蚓的长度都是非负整数，即可能存在长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 的蚯蚓。</p><p>每一秒，神刀手会在所有的蚯蚓中，准确地找到最长的那一只，将其切成两段。</p><p>若有多只最长的，则任选一只。</p><p>神刀手切开蚯蚓的位置由有理数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span> 决定。</p><p>一只长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 的蚯蚓会被切成两只长度分别为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">⌊</mo><mi>p</mi><mi>x</mi><mo stretchy="false">⌋</mo></mrow><annotation encoding="application/x-tex">\lfloor px \rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">⌊</span><span class="mord mathdefault">p</span><span class="mord mathdefault">x</span><span class="mclose">⌋</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>−</mo><mo stretchy="false">⌊</mo><mi>p</mi><mi>x</mi><mo stretchy="false">⌋</mo></mrow><annotation encoding="application/x-tex">x - \lfloor px \rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">⌊</span><span class="mord mathdefault">p</span><span class="mord mathdefault">x</span><span class="mclose">⌋</span></span></span></span> 的蚯蚓。</p><p>特殊地，如果这两个数的其中一个等于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，则这个长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 的蚯蚓也会被保留。</p><p>此外，除了刚刚产生的两只新蚯蚓，其余蚯蚓的长度都会增加一个非负整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span></span></span></span>。</p><p>蛐蛐国王知道这样不是长久之计，因为蚯蚓不仅会越来越多，还会越来越长。</p><p>蛐蛐国王决定求助于一位有着洪荒之力的神秘人物，但是救兵还需要 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 秒才能到来。</p><p>蛐蛐国王希望知道这 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 秒内的战况。</p><p>具体来说，他希望知道：</p><ol><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 秒内，每一秒被切断的蚯蚓被切断前的长度，共有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 个数。</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 秒后，所有蚯蚓的长度，共有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>+</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">n+m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 个数。</li></ol><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行包含六个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo separator="true">,</mo><mi>q</mi><mo separator="true">,</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>t</mi></mrow><annotation encoding="application/x-tex">n,m,q,u,v,t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">t</span></span></span></span>，其中：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo separator="true">,</mo><mi>q</mi></mrow><annotation encoding="application/x-tex">n,m,q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span></span></span></span> 的意义参考题目描述；<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>t</mi></mrow><annotation encoding="application/x-tex">u,v,t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">t</span></span></span></span> 均为正整数；你需要自己计算 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mo>=</mo><mi>u</mi><mi mathvariant="normal">/</mi><mi>v</mi></mrow><annotation encoding="application/x-tex">p=u/v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">u</span><span class="mord">/</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span>（保证 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>u</mi><mo>&lt;</mo><mi>v</mi></mrow><annotation encoding="application/x-tex">0&lt;u&lt;v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span>）；<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span> 是输出参数，其含义将会在输出格式中解释。</p><p>第二行包含 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 个非负整数，为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">a_1,a_2,…,a_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，即初始时 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 只蚯蚓的长度。</p><p>同一行中相邻的两个数之间，恰好用一个空格隔开。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>第一行输出 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">⌊</mo><mi>m</mi><mi mathvariant="normal">/</mi><mi>t</mi><mo stretchy="false">⌋</mo></mrow><annotation encoding="application/x-tex">⌊m/t⌋</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">⌊</span><span class="mord mathdefault">m</span><span class="mord">/</span><span class="mord mathdefault">t</span><span class="mclose">⌋</span></span></span></span> 个整数，按时间顺序，依次输出第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span> 秒，第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>t</mi></mrow><annotation encoding="application/x-tex">2t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault">t</span></span></span></span> 秒，第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn><mi>t</mi></mrow><annotation encoding="application/x-tex">3t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord mathdefault">t</span></span></span></span> 秒，……被切断蚯蚓（在被切断前）的长度。</p><p>第二行输出 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">⌊</mo><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mi>m</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>t</mi><mo stretchy="false">⌋</mo></mrow><annotation encoding="application/x-tex">⌊(n+m)/t⌋</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">⌊</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault">t</span><span class="mclose">⌋</span></span></span></span> 个整数，输出 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 秒后蚯蚓的长度；需要按从大到小的顺序，依次输出排名第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>，第 $ 2t $，第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn><mi>t</mi></mrow><annotation encoding="application/x-tex">3t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord mathdefault">t</span></span></span></span>，……的长度。</p><p>同一行中相邻的两个数之间，恰好用一个空格隔开。</p><p>即使某一行没有任何数需要输出，你也应输出一个空行。</p><p>请阅读样例来更好地理解这个格式。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1 \le n \le 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><msub><mi>a</mi><mi>i</mi></msub><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>8</mn></msup></mrow><annotation encoding="application/x-tex">0 \le a_i \le 10^8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7859700000000001em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>p</mi><mo>&lt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 &lt; p &lt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><mi>q</mi><mo>≤</mo><mn>200</mn></mrow><annotation encoding="application/x-tex">0 \le q \le 200</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8304100000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><mi>m</mi><mo>≤</mo><mn>7</mn><mo>∗</mo><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">0 \le m \le 7*10^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>u</mi><mo>&lt;</mo><mi>v</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">0 &lt; u &lt; v \le 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>t</mi><mo>≤</mo><mn>71</mn></mrow><annotation encoding="application/x-tex">1 \le t \le 71</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span><span class="mord">1</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">3 7 1 1 3 13 3 2</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">3 4 4 4 5 5 66 6 6 5 5 4 4 3 2 2</code></pre><h4 id="样例解释"><a class="markdownIt-Anchor" href="#样例解释"></a> 样例解释</h4><p>样例中，在神刀手到来前：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span> 只蚯蚓的长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">3,3,2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span></span></span></span>。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 秒后：一只长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span> 的蚯蚓被切成了两只长度分别为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 的蚯蚓，其余蚯蚓的长度增加了 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。最终 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 只蚯蚓的长度分别为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">(1,2),4,3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span></span></span></span>。 括号表示这个位置刚刚有一只蚯蚓被切断。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 秒后：一只长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 的蚯蚓被切成了 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span>。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span> 只蚯蚓的长度分别为：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">2,3,(1,3),4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span></span></span></span>。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span> 秒后：一只长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 的蚯蚓被切断。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span></span></span></span> 只蚯蚓的长度分别为：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">3,4,2,4,(1,3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span>。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 秒后：一只长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 的蚯蚓被切断。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span></span></span></span> 只蚯蚓的长度分别为：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>4</mn><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">4,(1,3),3,5,2,4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span></span></span></span>。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span> 秒后：一只长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span> 的蚯蚓被切断。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>8</mn></mrow><annotation encoding="application/x-tex">8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span></span></span></span> 只蚯蚓的长度分别为：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>5</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">5,2,4,4,(1,4),3,5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span></span></span></span>。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span></span></span></span> 秒后：一只长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span> 的蚯蚓被切断。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>9</mn></mrow><annotation encoding="application/x-tex">9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span></span></span></span> 只蚯蚓的长度分别为：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">(1,4),3,5,5,2,5,4,6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">6</span></span></span></span>。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span></span></span></span> 秒后：一只长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span></span></span></span> 的蚯蚓被切断。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>10</mn></mrow><annotation encoding="application/x-tex">10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span> 只蚯蚓的长度分别为：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>6</mn><mo separator="true">,</mo><mn>6</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>6</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">2,5,4,6,6,3,6,5,(2,4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mclose">)</span></span></span></span>。</p><p>所以，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span></span></span></span> 秒内被切断的蚯蚓的长度依次为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">3,4,4,4,5,5,6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">6</span></span></span></span>。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span></span></span></span> 秒后，所有蚯蚓长度从大到小排序为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><mo separator="true">,</mo><mn>6</mn><mo separator="true">,</mo><mn>6</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">6,6,6,5,5,4,4,3,2,2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span></span></span></span>。</p><h3 id="method1-优先队列-tle"><a class="markdownIt-Anchor" href="#method1-优先队列-tle"></a> Method1 : 优先队列 (TLE)</h3><p>一开始想着，这不就优先队列么，但是：每秒后所有蚯蚓都会+q（除了被切的蚯蚓），<br />这个就很难办:如何维护每秒后的将每只蚯蚓长度+q呢？</p><blockquote><p>或许可以转变思路, 每次只有两只蚯蚓没被加其他的全部被加了, 根据<strong>运动是相互</strong>的, <strong>除了那被切成的两只蚯蚓</strong>其他的都往<strong>正方向</strong>移动了一些, 等价于那两只往<strong>负方向</strong>移动了一些.</p><p>那么每次取出的时候：</p><ul><li>先把蚯蚓长度还原成当前i秒后的长度</li><li>再计算切开的两段长度</li><li>最后把切开的两段还原回0s时的长度，并且再-q(其它蚯蚓+q，相当于这两只蚯蚓-q)</li></ul></blockquote><p>但是这个时间复杂度是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(m\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>的，(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>7</mn><mo>∗</mo><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup><mo>∗</mo><mo stretchy="false">[</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup><mo stretchy="false">)</mo><mo>∗</mo><mn>3</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">7 * 10^6 * [log (10^5) * 3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mclose">]</span></span></span></span>，再加上其它常数级有可能超过<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span>因此会TLE)</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;queue&gt;#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;cmath&gt;using namespace std;const int N &#x3D; 1e5 + 7;int n, m, q, u, v, t;int main() &#123;    cin &gt;&gt; n &gt;&gt; m &gt;&gt; q &gt;&gt; u &gt;&gt; v &gt;&gt; t;    double p &#x3D; (double)u &#x2F; v;        priority_queue&lt;int&gt; pque;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        int x;        scanf(&quot;%d&quot;, &amp;x);        pque.push(x);    &#125;        &#x2F;&#x2F; 关键在于每秒 + q，怎么处理&#x3D;&gt; 相对处理    for (int i &#x3D; 1; i &lt;&#x3D; m; i ++) &#123;        auto x &#x3D; pque.top(); pque.pop();        x +&#x3D; (i - 1) * q;        if(i % t &#x3D;&#x3D; 0)printf(&quot;%d &quot;, x);&#x2F;&#x2F;要求输出的第一行        int x1 &#x3D; floor(p * (double)x);        int x2 &#x3D; x - x1;        &#x2F;&#x2F; 还原        x1 -&#x3D; (i - 1) * q; x1 -&#x3D; q;        x2 -&#x3D; (i - 1) * q; x2 -&#x3D; q;         pque.push(x1);        pque.push(x2);    &#125;    puts(&quot;&quot;);    for (int i &#x3D; 1; pque.size() &gt; 0; i ++) &#123;        if (i % t &#x3D;&#x3D; 0) &#123;            printf(&quot;%d &quot;, pque.top() + m * q);        &#125;        pque.pop();    &#125;           return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(m\log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>为外层循环次数，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>为维护优先队列的top()。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul><h3 id="method2"><a class="markdownIt-Anchor" href="#method2"></a> Method2 :</h3><h4 id="复杂度分析-2"><a class="markdownIt-Anchor" href="#复杂度分析-2"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mo>+</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(m + n\log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>为外层循环次数，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>为维护优先队列的top()。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>队列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-46.小组队列</title>
    <link href="/2023/02/15/Algorithm/Comp/0x10/20230215-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-046-%E5%B0%8F%E7%BB%84%E9%98%9F%E5%88%97/"/>
    <url>/2023/02/15/Algorithm/Comp/0x10/20230215-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-046-%E5%B0%8F%E7%BB%84%E9%98%9F%E5%88%97/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/134/">算法竞赛进阶指南-46.小组队列</a></p><p>有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 个小组要排成一个队列，每个小组中有若干人。</p><p>当一个人来到队列时，如果队列中已经有了自己小组的成员，他就直接插队排在自己小组成员的后面，否则就站在队伍的最后面。</p><p>请你编写一个程序，模拟这种小组队列。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式：</h4><p>输入将包含一个或多个测试用例。</p><p>对于每个测试用例，第一行输入小组数量 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span> 行，每行输入一个小组描述，第一个数表示这个小组的人数，接下来的数表示这个小组的人的编号。</p><p>编号是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>999999</mn></mrow><annotation encoding="application/x-tex">999999</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span><span class="mord">9</span><span class="mord">9</span><span class="mord">9</span><span class="mord">9</span><span class="mord">9</span></span></span></span> 范围内的整数。</p><p>一个小组最多可包含 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1000</mn></mrow><annotation encoding="application/x-tex">1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span> 个人。</p><p>最后，命令列表如下。 有三种不同的命令：</p><p>1、<code>ENQUEUE x</code> - 将编号是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 的人插入队列；</p><p>2、<code>DEQUEUE</code> - 让整个队列的第一个人出队；</p><p>3、<code>STOP</code> - 测试用例结束</p><p>每个命令占一行。</p><p>当输入用例 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">t=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 时，代表停止输入。</p><p>需注意：测试用例最多可包含 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>200000</mn></mrow><annotation encoding="application/x-tex">200000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>20</mn></mrow><annotation encoding="application/x-tex">20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span></span></span></span> 万）个命令，因此小组队列的实现应该是高效的：</p><p>入队和出队都需要使用常数时间。</p><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例</h4><p>对于每个测试用例，首先输出一行 <code>Scenario #k</code>，其中 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span> 是测试用例的编号。</p><p>然后，对于每个 <code>DEQUEUE</code> 命令，输出出队的人的编号，每个编号占一行。</p><p>在每个测试用例（包括最后一个测试用例）输出完成后，输出一个空行。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>t</mi><mo>≤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \le t \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-sql" data-language="sql"><code class="language-sql">23 101 102 1033 201 202 203ENQUEUE 101ENQUEUE 201ENQUEUE 102ENQUEUE 202ENQUEUE 103ENQUEUE 203DEQUEUEDEQUEUEDEQUEUEDEQUEUEDEQUEUEDEQUEUESTOP25 259001 259002 259003 259004 2590056 260001 260002 260003 260004 260005 260006ENQUEUE 259001ENQUEUE 260001ENQUEUE 259002ENQUEUE 259003ENQUEUE 259004ENQUEUE 259005DEQUEUEDEQUEUEENQUEUE 260002ENQUEUE 260003DEQUEUEDEQUEUEDEQUEUEDEQUEUESTOP0</code></pre><p>输出样例：</p><pre class="language-nginx" data-language="nginx"><code class="language-nginx">Scenario #1101102103201202203Scenario #2259001259002259003259004259005260001</code></pre><h3 id="method-队列"><a class="markdownIt-Anchor" href="#method-队列"></a> Method : 队列</h3><p>关键要理解题目中的这句话:</p><blockquote><p>当一个人来到队列时，如果队列中已经有了自己小组的成员，他就直接插队排在自己小组成员的后面，否则就站在队伍的最后面。</p></blockquote><p>因此可以考虑维护1个组间队列<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>r</mi><mi>o</mi><mi>u</mi><mi>p</mi><mi mathvariant="normal">_</mi><mi>o</mi><mi>n</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">group\_one</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.74056em;vertical-align:-0.31em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">p</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span></span></span></span>，N个组内队列<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>e</mi><mi>m</mi><mi>b</mi><mi>e</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">member</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">m</span><span class="mord mathdefault">b</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>来维护题给关系：</p><ul><li>ENQUEUE(push)<ul><li>如果<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>e</mi><mi>m</mi><mi>b</mi><mi>e</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">member</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">m</span><span class="mord mathdefault">b</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>不为空，说明<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>r</mi><mi>o</mi><mi>u</mi><mi>p</mi><mi mathvariant="normal">_</mi><mi>o</mi><mi>n</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">group\_one</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.74056em;vertical-align:-0.31em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">p</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span></span></span></span>中已有队友，可以直接push(x)到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>e</mi><mi>m</mi><mi>b</mi><mi>e</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">member</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">m</span><span class="mord mathdefault">b</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span></li><li>如果组内队列为空，说明<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>r</mi><mi>o</mi><mi>u</mi><mi>p</mi><mi mathvariant="normal">_</mi><mi>o</mi><mi>n</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">group\_one</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.74056em;vertical-align:-0.31em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">p</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span></span></span></span>中没有队友，此时<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>r</mi><mi>o</mi><mi>u</mi><mi>p</mi><mi mathvariant="normal">_</mi><mi>o</mi><mi>n</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">group\_one</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.74056em;vertical-align:-0.31em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">p</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span></span></span></span>需要push(gid)该组id</li></ul></li><li>DEQUEUE(pop)<ul><li>如果<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>e</mi><mi>m</mi><mi>b</mi><mi>e</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">member</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">m</span><span class="mord mathdefault">b</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>不为空，可以直接让<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>e</mi><mi>m</mi><mi>b</mi><mi>e</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">member</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">m</span><span class="mord mathdefault">b</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>pop()，此时再次判断member是否为空，为空说明<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>r</mi><mi>o</mi><mi>u</mi><mi>p</mi><mi mathvariant="normal">_</mi><mi>o</mi><mi>n</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">group\_one</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.74056em;vertical-align:-0.31em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">p</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span></span></span></span>中该小组成员已全部弹出，需要pop()该小组id</li><li>如果<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>e</mi><mi>m</mi><mi>b</mi><mi>e</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">member</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">m</span><span class="mord mathdefault">b</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>为空，什么也不做</li></ul></li></ul><p>由于编号不重复，因此可以用一个数组或hash表来存放每个编号成员的所属小组。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;queue&gt;#include &lt;vector&gt;#include &lt;string&gt;#include &lt;unordered_map&gt;#include &lt;iostream&gt;using namespace std;const int N &#x3D; 1e3 + 7;const int M &#x3D; 1e6 + 7;vector&lt;int&gt; group_id(M); &#x2F;&#x2F; unordered_map&lt;int, int&gt; group_id; 也行，实测运行速度会慢一些，但空间开销小int main() &#123;    int t;    int id &#x3D; 1;    while (scanf(&quot;%d&quot;, &amp;t), t) &#123;        for (int i &#x3D; 0; i &lt; t; i ++) &#123;            int gnum;            scanf(&quot;%d&quot;, &amp;gnum);            for (int j &#x3D; 0; j &lt; gnum; j ++) &#123;                int x;                scanf(&quot;%d&quot;, &amp;x);                group_id[x] &#x3D; i;            &#125;        &#125;                printf(&quot;Scenario #%d\n&quot;, id);                queue&lt;int&gt; group_one;          &#x2F;&#x2F; 组间队列        vector&lt;queue&lt;int&gt;&gt; member(N);  &#x2F;&#x2F; 组内队列        string op;        while (cin &gt;&gt; op, op !&#x3D; &quot;STOP&quot;) &#123;            if (op &#x3D;&#x3D; &quot;ENQUEUE&quot;) &#123;                int x;                scanf(&quot;%d&quot;, &amp;x);                                int gid &#x3D; group_id[x];                if (member[gid].empty()) &#123;                    group_one.push(gid);                    member[gid].push(x);                &#125;                else member[gid].push(x);            &#125;            else if (op &#x3D;&#x3D; &quot;DEQUEUE&quot;)&#123;                int gid &#x3D; group_one.front();                if (member[gid].empty()) continue;                else &#123;                    printf(&quot;%d\n&quot;, member[gid].front());                    member[gid].pop();                    if (member[gid].empty()) group_one.pop();                &#125;            &#125;        &#125;        puts(&quot;&quot;);                id ++;    &#125;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>，如果不考虑输入的话，时间复杂度是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>的，否则是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>t</mi><mo>∗</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(t * n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>的。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(M)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mclose">)</span></span></span></span></span>，数组很稀疏。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>队列</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-45.直方图中最大的矩形</title>
    <link href="/2023/02/14/Algorithm/Comp/0x10/20230214-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-045-%E7%9B%B4%E6%96%B9%E5%9B%BE%E4%B8%AD%E6%9C%80%E5%A4%A7%E7%9A%84%E7%9F%A9%E5%BD%A2/"/>
    <url>/2023/02/14/Algorithm/Comp/0x10/20230214-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-045-%E7%9B%B4%E6%96%B9%E5%9B%BE%E4%B8%AD%E6%9C%80%E5%A4%A7%E7%9A%84%E7%9F%A9%E5%BD%A2/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/133/">算法竞赛进阶指南-45.直方图中最大的矩形</a></p><p>直方图是由在公共基线处对齐的一系列矩形组成的多边形。</p><p>矩形具有相等的宽度，但可以具有不同的高度。</p><p>例如，图例左侧显示了由高度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">2,1,4,5,1,3,3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span></span></span></span> 的矩形组成的直方图，矩形的宽度都为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>：</p><p><img src="/img/article/2023/02/14/2.png" alt="" /></p><p>通常，直方图用于表示离散分布，例如，文本中字符的频率。</p><p>现在，请你计算在公共基线处对齐的直方图中最大矩形的面积。</p><p>图例右图显示了所描绘直方图的最大对齐矩形。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>输入包含几个测试用例。</p><p>每个测试用例占据一行，用以描述一个直方图，并以整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 开始，表示组成直方图的矩形数目。</p><p>然后跟随 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>h</mi><mn>1</mn></msub><mi mathvariant="normal">，</mi><mo>…</mo><mi mathvariant="normal">，</mi><msub><mi>h</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">h_1，…，h_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">，</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord cjk_fallback">，</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</p><p>这些数字以从左到右的顺序表示直方图的各个矩形的高度。</p><p>每个矩形的宽度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。</p><p>同行数字用空格隔开。</p><p>当输入用例为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">n=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 时，结束输入，且该用例不用考虑。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>对于每一个测试用例，输出一个整数，代表指定直方图中最大矩形的区域面积。</p><p>每个数据占一行。</p><p>请注意，此矩形必须在公共基线处对齐。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><msub><mi>h</mi><mi>i</mi></msub><mo>≤</mo><mn>1000000000</mn></mrow><annotation encoding="application/x-tex">0 \le h_i \le 1000000000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">7 2 1 4 5 1 3 34 1000 1000 1000 10000</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">84000</code></pre><h3 id="method-单调栈"><a class="markdownIt-Anchor" href="#method-单调栈"></a> Method : 单调栈</h3><p>根据题意，需要构造一个单峰<code>/\</code>（中间高两边低）才能计算出<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>u</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">cur</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>矩形的最大面积，因此可以构造一个<strong>严格单调递增</strong>的单调栈来完成这个操作，并且对于当前的每个谷峰<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>u</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">cur</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>，其能形成的最大矩形面积<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mrow><mi>a</mi><mi>r</mi><mi>e</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">S_{area}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mrow><mi>a</mi><mi>r</mi><mi>e</mi><mi>a</mi></mrow></msub><mo>=</mo><mi>w</mi><mo>∗</mo><mi>h</mi><mo>=</mo><mo stretchy="false">(</mo><mi>r</mi><mo>−</mo><mi>l</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>∗</mo><mi>h</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy="false">[</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">S_{area} = w * h = (r - l - 1) * height[cur]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">h</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">h</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">c</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span></span></p><p>如果没有形成单峰&quot;<code>/\</code>，其实当前单个上升区间<code>/</code>也能计算矩形面积，那么就有必要把遍历完后留在单调栈中的数全部弹出来算一次，但这样会导致代码冗余（逻辑重复），因此可以添加一个尾部哨兵来统一操作。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;stack&gt;#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;vector&lt;int&gt; height;stack&lt;int&gt; S;int main() &#123;    int n;    while (scanf(&quot;%d&quot;, &amp;n), n) &#123;        height.resize(n);                for (int i &#x3D; 0; i &lt; n; i ++) &#123;            scanf(&quot;%d&quot;, &amp;height[i]);        &#125;                height.push_back(0);       &#x2F;&#x2F; 尾部哨兵        n &#x3D; height.size();        LL res &#x3D; 0;        S &#x3D; stack&lt;int&gt;();        for (int i &#x3D; 0; i &lt; n; i ++) &#123;            while (!S.empty() &amp;&amp; height[S.top()] &gt;&#x3D; height[i]) &#123;                int cur &#x3D; S.top();                S.pop();                int r &#x3D; i;                  int l &#x3D; S.empty() ? -1 : S.top();                res &#x3D; max(res, (r - l - 1) * (LL)height[cur]);            &#125;            S.push(i);        &#125;                       cout &lt;&lt; res &lt;&lt; endl;    &#125;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 对于数组中的每个元素，最多只会进出栈一次。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul><p>另一种写法，但是感觉有些麻烦，仅供参考：</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;stack&gt;#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;const int N &#x3D; 1e5 + 7;vector&lt;int&gt; height(N);vector&lt;int&gt; l(N);vector&lt;int&gt; r(N);stack&lt;int&gt; stk;int main() &#123;    int n;    while (scanf(&quot;%d&quot;, &amp;n), n) &#123;        for (int i &#x3D; 0; i &lt; n; i ++) &#123;            scanf(&quot;%d&quot;, &amp;height[i]);        &#125;                &#x2F;&#x2F; left        stk &#x3D; stack&lt;int&gt;();        for (int i &#x3D; 0 ; i &lt; n; i ++) &#123;            while(!stk.empty() &amp;&amp; height[stk.top()] &gt;&#x3D; height[i]) &#123;                stk.pop();            &#125;            l[i] &#x3D; stk.empty() ? -1 : stk.top();            stk.push(i);        &#125;                &#x2F;&#x2F; right        stk &#x3D; stack&lt;int&gt;();        for (int i &#x3D; n - 1; i &gt;&#x3D; 0; i --) &#123;            while(!stk.empty() &amp;&amp; height[stk.top()] &gt;&#x3D; height[i]) &#123;                stk.pop();            &#125;            r[i] &#x3D; stk.empty() ? n : stk.top();            stk.push(i);        &#125;                LL res &#x3D; 0;        for (int i &#x3D; 0; i &lt; n; i ++) &#123;            LL cur &#x3D; (LL)height[i] * (r[i] - l[i] - 1);            res &#x3D; max(res, cur);        &#125;                cout &lt;&lt; res &lt;&lt; endl;    &#125;            return 0;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>单调栈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-44.火车进出栈问题</title>
    <link href="/2023/02/13/Algorithm/Comp/0x10/20230213-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-044-%E7%81%AB%E8%BD%A6%E8%BF%9B%E5%87%BA%E6%A0%88%E9%97%AE%E9%A2%98/"/>
    <url>/2023/02/13/Algorithm/Comp/0x10/20230213-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-044-%E7%81%AB%E8%BD%A6%E8%BF%9B%E5%87%BA%E6%A0%88%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/91/">算法竞赛进阶指南-44.火车进出栈问题</a></p><p>一列火车 $ n $ 节车厢，依次编号为 $ 1,2,3,…,n $。</p><p>每节车厢有两种运动方式，进栈与出栈，问 $ n $ 节车厢出栈的可能排列方式有多少种。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>输入一个整数 $ n $，代表火车的车厢数。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出一个整数 $ s $ 表示 $ n $ 节车厢出栈的可能排列方式数量。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p>$ 1 \le n \le 60000 $</p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">3</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">5</code></pre><h3 id="method-位运算-二进制拆分"><a class="markdownIt-Anchor" href="#method-位运算-二进制拆分"></a> Method : 位运算-二进制拆分</h3><p>基础位运算，本题是快速幂的模板题。</p><p>注意两点:</p><ol><li>有取模运算时不要用自乘<code>*=</code>， 否则会影响计算顺序</li><li>return 时也要取模， 防止极端例子:<code>n = 0</code>且<code>p = 1</code></li></ol><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;LL a, b, p;LL fast_pow(LL x, LL n) &#123;    LL res &#x3D; 1LL;    while (n) &#123;        if (n &amp; 1) &#123;            res &#x3D; res * x % p;        &#125;        x &#x3D; x * x % p;        n &#x3D; n &gt;&gt; 1;    &#125;    return res % p;&#125;int main() &#123;    cin &gt;&gt; a &gt;&gt; b &gt;&gt; p;    cout &lt;&lt; fast_pow(a, b) &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(\log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>为对n进行二进制拆分的时间复杂度。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>数学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-43.火车进栈</title>
    <link href="/2023/02/12/Algorithm/Comp/0x10/20230212-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-043-%E7%81%AB%E8%BD%A6%E8%BF%9B%E6%A0%88/"/>
    <url>/2023/02/12/Algorithm/Comp/0x10/20230212-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-043-%E7%81%AB%E8%BD%A6%E8%BF%9B%E6%A0%88/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/131/">算法竞赛进阶指南-43.火车进栈</a></p><p>这里有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 列火车将要进站再出站，但是，每列火车只有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 节，那就是车头。</p><p>这 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 列火车按 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 的顺序从东方左转进站，这个车站是南北方向的，它虽然无限长，只可惜是一个死胡同，而且站台只有一条股道，火车只能倒着从西方出去，而且每列火车必须进站，先进后出。</p><p>也就是说这个火车站其实就相当于一个栈，每次可以让右侧头火车进栈，或者让栈顶火车出站。</p><p>车站示意如图：</p><pre class="language-ruby" data-language="ruby"><code class="language-ruby">出站&lt;——    &lt;——进站  |车|      |站|      |__|</code></pre><p>现在请你按《字典序》输出前 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>20</mn></mrow><annotation encoding="application/x-tex">20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span></span></span></span> 种可能的出栈方案。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>输入一个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>，代表火车数量。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>按照《字典序》输出前 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>20</mn></mrow><annotation encoding="application/x-tex">20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span></span></span></span> 种答案，每行一种，不要空格。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">3</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">123132213231321</code></pre><h3 id="method-栈-递归"><a class="markdownIt-Anchor" href="#method-栈-递归"></a> Method : 栈 + 递归</h3><p>很显然，对于任一个状态，只有两个选择：</p><ol><li>把下一个数入栈；</li><li>把当前栈顶的数出栈（如果当前栈非空）。</li></ol><p>这就对应了递归的两个分支，因此可以用递归来枚举所有可能的方案。</p><blockquote><p>此外，因为要按字典序输出，所以出栈的分支必须放在入栈的分支前面</p></blockquote><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;stack&gt;#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;int n;int remain &#x3D; 20;vector&lt;int&gt; path;stack&lt;int&gt; stk;void dfs(int u, int n) &#123;    if (!remain) return;    if (u - 1 &gt; n) &#123;        if (path.size() &#x3D;&#x3D; n) &#123;            remain --;            for (int i &#x3D; 0; i &lt; path.size(); i ++) &#123;            printf(&quot;%d&quot;, path[i]);            &#125;            puts(&quot;&quot;);        &#125;        return;    &#125;    if(!stk.empty()) &#123;        path.push_back(stk.top());        stk.pop();        dfs(u, n);        &#x2F;&#x2F; 回溯        stk.push(path.back());        path.pop_back();    &#125;        stk.push(u);    dfs(u + 1, n);    &#x2F;&#x2F; 回溯    stk.pop();&#125;int main() &#123;    cin &gt;&gt; n;        dfs(1, n);        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(2^n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>， 递归每次产生两次分支，一共递归n次，remain作为剪枝。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>栈</tag>
      
      <tag>递归</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-42.编辑器</title>
    <link href="/2023/02/11/Algorithm/Comp/0x10/20230211-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-042-%E7%BC%96%E8%BE%91%E5%99%A8/"/>
    <url>/2023/02/11/Algorithm/Comp/0x10/20230211-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-042-%E7%BC%96%E8%BE%91%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/130/">算法竞赛进阶指南-42.编辑器</a></p><p>你将要实现一个功能强大的整数序列编辑器。</p><p>在开始时，序列是空的。</p><p>编辑器共有五种指令，如下：</p><p>1、<code>I x</code>，在光标处插入数值 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>。<br />2、<code>D</code>，将光标前面的第一个元素删除，如果前面没有元素，则忽略此操作。<br />3、<code>L</code>，将光标向左移动，跳过一个元素，如果左边没有元素，则忽略此操作。<br />4、<code>R</code>，将光标向右移动，跳过一个元素，如果右边没有元素，则忽略此操作。<br />5、<code>Q k</code>，假设此刻光标之前的序列为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">a_1,a_2,…,a_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，输出 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>a</mi><msub><mi>x</mi><mrow><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>k</mi></mrow></msub><msub><mi>S</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">max_{1 \le i \le k}S_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.928509em;vertical-align:-0.24517899999999998em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathdefault mtight">i</span><span class="mrel mtight">≤</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24517899999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，其中 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub><mo>=</mo><msub><mi>a</mi><mn>1</mn></msub><mo>+</mo><msub><mi>a</mi><mn>2</mn></msub><mo>+</mo><mo>…</mo><mo>+</mo><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S_i=a_1+a_2+…+a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行包含一个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">Q</span></span></span></span>，表示指令的总数。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">Q</span></span></span></span> 行，每行一个指令，具体指令格式如题目描述。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>每一个 <code>Q k</code> 指令，输出一个整数作为结果，每个结果占一行。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>Q</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">1 \le Q \le 10^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">Q</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∣</mi><mi>x</mi><mi mathvariant="normal">∣</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">|x| \le 10^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathdefault">x</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>k</mi><mo>≤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1 \le k \le n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83041em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">8I 2I -1I 1Q 3LDRQ 2</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">23</code></pre><h3 id="method-对顶栈"><a class="markdownIt-Anchor" href="#method-对顶栈"></a> Method : 对顶栈</h3><p><a href="https://www.luogu.com.cn/problem/P2201">P2201.数列编辑器</a></p><p>维护一个如下图所示的对顶栈，来模拟光标移动：</p><p><img src="/img/article/2023/02/11/2.png" alt="对顶栈" /></p><p>算前缀和的最大值，可以用来动态规划f + idx来写。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;string&gt;#include &lt;vector&gt;#include &lt;stack&gt;#include &lt;iostream&gt;using namespace std;const int N &#x3D; 1e6 + 7;const int INF &#x3D; 0x3f3f3f3f;stack&lt;int&gt; stk_l;stack&lt;int&gt; stk_r;vector&lt;int&gt; sum(N, 0);vector&lt;int&gt; f(N, 0);int idx &#x3D; 0; &#x2F;&#x2F; 光标位置int main() &#123;    f[0] &#x3D; -INF;    int Q;    cin &gt;&gt; Q;    while (Q --) &#123;        string op;        cin &gt;&gt; op;        if (op &#x3D;&#x3D; &quot;I&quot;) &#123;            int x;            scanf(&quot;%d&quot;, &amp;x);            stk_l.push(x);            idx ++;            sum[idx] &#x3D; sum[idx - 1] + stk_l.top();            f[idx] &#x3D; max(f[idx - 1], sum[idx]);        &#125;        else if (op &#x3D;&#x3D; &quot;D&quot;) &#123;            if (!stk_l.empty()) &#123;                stk_l.pop();                idx --;            &#125;        &#125;        else if (op &#x3D;&#x3D; &quot;L&quot;) &#123;            if (!stk_l.empty()) &#123;                int x &#x3D; stk_l.top();                stk_l.pop();                stk_r.push(x);                idx --;            &#125;        &#125;        else if (op &#x3D;&#x3D; &quot;R&quot;) &#123;            if (!stk_r.empty()) &#123;                int x &#x3D;stk_r.top();                stk_r.pop();                stk_l.push(x);                idx ++;                sum[idx] &#x3D; sum [idx - 1] + stk_l.top();                f[idx] &#x3D; max(f[idx - 1], sum[idx]);            &#125;        &#125;        else if (op &#x3D;&#x3D; &quot;Q&quot;) &#123;            int k;            scanf(&quot;%d&quot;, &amp;k);            printf(&quot;%d\n&quot;, f[k]);        &#125;    &#125;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>， 五个操作都是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>的。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(N)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>栈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-41.包含min函数的栈</title>
    <link href="/2023/02/10/Algorithm/Comp/0x10/20230210-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-041-%E5%8C%85%E5%90%ABmin%E5%87%BD%E6%95%B0%E7%9A%84%E6%A0%88/"/>
    <url>/2023/02/10/Algorithm/Comp/0x10/20230210-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-041-%E5%8C%85%E5%90%ABmin%E5%87%BD%E6%95%B0%E7%9A%84%E6%A0%88/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/90/">算法竞赛进阶指南-41.包含min函数的栈</a></p><p>设计一个支持push，pop，top等操作并且可以在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>时间内检索出最小元素的堆栈。</p><ul><li>push(x)–将元素x插入栈中</li><li>pop()–移除栈顶元素</li><li>top()–得到栈顶元素</li><li>getMin()–得到栈中最小元素</li></ul><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p>操作命令总数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>100</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,100]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mclose">]</span></span></span></span>。</p><h4 id="样例"><a class="markdownIt-Anchor" href="#样例"></a> 样例</h4><pre class="language-bash" data-language="bash"><code class="language-bash">MinStack minStack &#x3D; new MinStack();minStack.push(-1);minStack.push(3);minStack.push(-4);minStack.getMin();   --&gt; Returns -4.minStack.pop();minStack.top();      --&gt; Returns 3.minStack.getMin();   --&gt; Returns -1.</code></pre><h3 id="method-单调栈"><a class="markdownIt-Anchor" href="#method-单调栈"></a> Method : 单调栈</h3><p>维护一个非严格单调递减栈作为辅助栈，该栈顶为当前栈中的最小值。</p><pre class="language-c++" data-language="c++"><code class="language-c++">class MinStack &#123;public:    stack&lt;int&gt; s_val;    stack&lt;int&gt; s_min;    MinStack() &#123;&#125;        void push(int val) &#123;        s_val.push(val);        if (s_min.empty() || s_min.top() &gt;&#x3D; val) &#123;            s_min.push(val);        &#125;    &#125;        void pop() &#123;        int val &#x3D; s_val.top(); s_val.pop();        if (!s_min.empty() &amp;&amp; s_min.top() &#x3D;&#x3D; val) &#123;            s_min.pop();        &#125;    &#125;        int top() &#123;        return s_val.top();    &#125;        int getMin() &#123;        return s_min.top();    &#125;&#125;;&#x2F;** * Your MinStack object will be instantiated and called as such: * MinStack* obj &#x3D; new MinStack(); * obj-&gt;push(val); * obj-&gt;pop(); * int param_3 &#x3D; obj-&gt;top(); * int param_4 &#x3D; obj-&gt;getMin(); *&#x2F;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>， 四种操作都只有常数次入栈出栈操作，所以时间复杂度都是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，新开了一个单调栈作为辅助，空间开销<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>单调栈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-40.任务</title>
    <link href="/2023/02/09/Algorithm/Comp/0x00/20230209-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-040-%E4%BB%BB%E5%8A%A1/"/>
    <url>/2023/02/09/Algorithm/Comp/0x00/20230209-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-040-%E4%BB%BB%E5%8A%A1/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/129/">算法竞赛进阶指南-40.任务</a></p><p>今天某公司有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span> 个任务需要完成。</p><p>每个任务都有相应的难度级别和完成任务所需时间。</p><p>第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 个任务的难度级别为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，完成任务所需时间为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 分钟。</p><p>如果公司完成此任务，他们将获得（<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>500</mn><mo>×</mo><msub><mi>x</mi><mi>i</mi></msub><mo>+</mo><mn>2</mn><mo>×</mo><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">500 \times x_i + 2 \times y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）美元收入。</p><p>该公司有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 台机器，每台机器都有最长工作时间和级别。</p><p>如果任务所需时间超过机器的最长工作时间，则机器无法完成此任务。</p><p>如果任务难度级别超过机器的级别，则机器无法完成次任务。</p><p>每台机器一天内只能完成一项任务。</p><p>每个任务只能由一台机器完成。</p><p>请为他们设计一个任务分配方案，使得该公司能够最大化他们今天可以完成的任务数量。</p><p>如果有多种解决方案，他们希望选取赚取利润最高的那种。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>输入包含几个测试用例。</p><p>对于每个测试用例，第一行包含两个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>，分别代表机器数量和任务数量。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 行，每行包含两个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i,y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，分别代表机器最长工作时间和机器级别。</p><p>再接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span> 行，每行包含两个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i,y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，分别代表完成任务所需时间和任务难度级别。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>对于每个测试用例，输出两个整数，代表公司今天可以完成的最大任务数以及他们将获得的收入。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>N</mi><mo separator="true">,</mo><mi>M</mi><mo>≤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le N,M \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>&lt;</mo><msub><mi>x</mi><mi>i</mi></msub><mo>&lt;</mo><mn>1440</mn></mrow><annotation encoding="application/x-tex">0 &lt; x_i &lt; 1440</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.6891em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">4</span><span class="mord">4</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><msub><mi>y</mi><mi>i</mi></msub><mo>≤</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">0 \le y_i \le 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8304100000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">1 2100 3100 2100 1</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">1 50004</code></pre><h3 id="method-贪心"><a class="markdownIt-Anchor" href="#method-贪心"></a> Method : 贪心</h3><p>确实难，是二分图的匹配问题，但是本题是完全图，可以用贪心来做, 说实话，这里的set很像</p><p><a href="/2023/01/24/Algorithm/Comp/0x00/20230124-算法竞赛进阶指南-024-防晒/" target="_blank">Acwing-110.防晒</a>中的map，都是有匹配前排序(有序)，匹配后要删除(earse)的需求。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;set&gt;using namespace std;typedef long long LL;struct Task&#123;    int time;    int level;&#125;;struct Mache&#123;    int time;    int level;&#125;;const int N &#x3D; 1e5 + 7;const int M &#x3D; 1e5 + 7;Mache mache[N];Task task[M];int n, m;int main() &#123;    while (cin &gt;&gt; n &gt;&gt; m) &#123;        for (int i &#x3D; 0; i &lt; n; i ++) &#123;            scanf(&quot;%d %d&quot;, &amp;mache[i].time, &amp;mache[i].level);          &#125;        for (int i &#x3D; 0; i &lt; m; i ++) &#123;            scanf(&quot;%d %d&quot;, &amp;task[i].time, &amp;task[i].level);         &#125;                &#x2F;&#x2F; 排序        sort(mache, mache + n, [&amp;](Mache&amp; a, Mache&amp; b) -&gt; bool &#123;            if (a.time &#x3D;&#x3D; b.time) return a.level &lt; b.level;            else return a.time &lt; b.time;            return a.time &lt; b.time;        &#125;);        sort(task, task + m, [&amp;](Task&amp; a, Task&amp; b) -&gt; bool &#123;            if (a.time &#x3D;&#x3D; b.time) return a.level &lt; b.level;            else return a.time &lt; b.time;        &#125;);                int cnt &#x3D; 0;        LL res &#x3D; 0;        multiset&lt;int&gt; st_level; &#x2F;&#x2F; 维护一个有序可重复的集合                                &#x2F;&#x2F; 为什么不直接用数组 + sort？ 因为后续还要删掉其中的一个元素        &#x2F;&#x2F; 以任务为主体        for (int i &#x3D; m - 1, j &#x3D; n - 1; i &gt;&#x3D; 0; i --) &#123;            while (j &gt;&#x3D; 0 &amp;&amp; mache[j].time &gt;&#x3D; task[i].time) &#123;                st_level.insert(mache[j].level);                j --;            &#125;            &#x2F;&#x2F; 存在任务且任务可被执行            auto it &#x3D; st_level.lower_bound(task[i].level);            if (it !&#x3D; st_level.end()) &#123;                res +&#x3D; 500 * task[i].time + 2 * task[i].level;                cnt ++;                st_level.erase(it);            &#125;                    &#125;                cout &lt;&lt; cnt &lt;&lt; &quot; &quot; &lt;&lt; res &lt;&lt; endl;       &#125;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(max(n\log n, m\log n))}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span>， 其中前面的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>是sort的时间复杂度,后面的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">m\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>是m次<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">for</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>循环 * 里面<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><mi>w</mi><mi>e</mi><mi>r</mi><mi mathvariant="normal">_</mi><mi>b</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">lower\_bound</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00444em;vertical-align:-0.31em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">b</span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span></span></span></span>的时间复杂度。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>N</mi><mo separator="true">,</mo><mi>M</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(max(N, M)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>贪心</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2023-02-09-组会</title>
    <link href="/2023/02/08/Seminar/20230209-%E7%BB%84%E4%BC%9A/"/>
    <url>/2023/02/08/Seminar/20230209-%E7%BB%84%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<h2 id="论文分享"><a class="markdownIt-Anchor" href="#论文分享"></a> 论文分享</h2><h3 id="qpdet"><a class="markdownIt-Anchor" href="#qpdet"></a> QPDet</h3><p><img src="/img/article/2023/02/08/3.png" alt="" /></p><h4 id="quadrant-point-representation"><a class="markdownIt-Anchor" href="#quadrant-point-representation"></a> Quadrant Point Representation</h4><p>象限点表达方式:</p><p><img src="/img/article/2023/02/08/2.png" alt="" /></p><p><img src="/img/article/2023/02/08/4.png" alt="" /></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>r</mi><mn>2</mn></msup><mo>=</mo><mo stretchy="false">(</mo><mi>w</mi><mi mathvariant="normal">/</mi><mn>2</mn><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mi>h</mi><mi mathvariant="normal">/</mi><mn>2</mn><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">r^2 = (w/ 2) ^ 2 + (h / 2) ^ 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord">/</span><span class="mord">2</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">h</span><span class="mord">/</span><span class="mord">2</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>α</mi></mrow><annotation encoding="application/x-tex">\Delta \alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span> 是相对于最上边的点的偏移量，  <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>β</mi></mrow><annotation encoding="application/x-tex">\Delta \beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span></span></span></span>是相对于最右边的点的偏移量 ，都是弧度</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>v</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>v</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>v</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>v</mi><mn>4</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(v_1,v_2,v_3,v_4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>r</mi><mo separator="true">,</mo><mi mathvariant="normal">Δ</mi><mi>α</mi><mo separator="true">,</mo><mi mathvariant="normal">Δ</mi><mi>β</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{(x, y, r, \Delta \alpha, \Delta \beta)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mclose">)</span></span></span></span></span>的转换关系：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>v</mi><mn>1</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>r</mi><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><mi>α</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>y</mi><mo>−</mo><mi>r</mi><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><mi>α</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>v</mi><mn>2</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>r</mi><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><mi>β</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>y</mi><mo>+</mo><mi>r</mi><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><mi>β</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>v</mi><mn>3</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mi>r</mi><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><mi>α</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>y</mi><mo>+</mo><mi>r</mi><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><mi>α</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>v</mi><mn>4</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mi>r</mi><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><mi>β</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>y</mi><mo>−</mo><mi>r</mi><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><mi>β</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\left\{\begin{array}{l}v_1=(x+r \sin (\Delta \alpha), y-r \cos (\Delta \alpha)) \\ v_2=(x+r \cos (\Delta \beta), y+r \sin (\Delta \beta)) \\ v_3=(x-r \sin (\Delta \alpha), y+r \cos (\Delta \alpha)) \\ v_4=(x-r \cos (\Delta \beta), y-r \sin (\Delta \beta))\end{array}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.80004em;vertical-align:-2.15002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65002em;"><span style="top:-1.8999899999999998em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-1.8999899999999998em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-2.1999899999999997em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.30001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.60001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.90002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mclose">)</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mclose">)</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mclose">)</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>encoder-decoder编码转换:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>δ</mi><mi>x</mi></msub><mo>=</mo><mrow><mo fence="true">(</mo><msup><mi>x</mi><mo>∗</mo></msup><mo>−</mo><msub><mi>x</mi><mi>a</mi></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">/</mi><mn>2</mn><msub><mi>r</mi><mi>a</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>τ</mi><mi>x</mi></msub><mo>=</mo><mrow><mo fence="true">(</mo><msup><mi>x</mi><mo mathvariant="normal">′</mo></msup><mo>−</mo><msub><mi>x</mi><mi>a</mi></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">/</mi><mn>2</mn><msub><mi>r</mi><mi>a</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>δ</mi><mi>y</mi></msub><mo>=</mo><mrow><mo fence="true">(</mo><msup><mi>y</mi><mo>∗</mo></msup><mo>−</mo><msub><mi>y</mi><mi>a</mi></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">/</mi><mn>2</mn><msub><mi>r</mi><mi>a</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>τ</mi><mi>y</mi></msub><mo>=</mo><mrow><mo fence="true">(</mo><msup><mi>y</mi><mo mathvariant="normal">′</mo></msup><mo>−</mo><msub><mi>y</mi><mi>a</mi></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">/</mi><mn>2</mn><msub><mi>r</mi><mi>a</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>δ</mi><mi>r</mi></msub><mo>=</mo><mi>log</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><msup><mi>r</mi><mo>∗</mo></msup><mi mathvariant="normal">/</mi><msub><mi>r</mi><mi>a</mi></msub><mo fence="true">)</mo></mrow><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>τ</mi><mi>r</mi></msub><mo>=</mo><mi>log</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><msup><mi>r</mi><mo mathvariant="normal">′</mo></msup><mi mathvariant="normal">/</mi><msub><mi>r</mi><mi>a</mi></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>δ</mi><mi>α</mi></msub><mo>=</mo><mi mathvariant="normal">Δ</mi><msup><mi>α</mi><mo>∗</mo></msup><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>τ</mi><mi>α</mi></msub><mo>=</mo><mi mathvariant="normal">Δ</mi><msup><mi>α</mi><mo mathvariant="normal">′</mo></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>δ</mi><mi>β</mi></msub><mo>=</mo><mi mathvariant="normal">Δ</mi><msup><mi>β</mi><mo>∗</mo></msup><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>τ</mi><mi>β</mi></msub><mo>=</mo><mi mathvariant="normal">Δ</mi><msup><mi>β</mi><mo mathvariant="normal">′</mo></msup><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}\delta_x=\left(x^*-x_a\right) / 2 r_a, &amp; \tau_x=\left(x^{\prime}-x_a\right) / 2 r_a \\ \delta_y=\left(y^*-y_a\right) / 2 r_a, &amp; \tau_y=\left(y^{\prime}-y_a\right) / 2 r_a \\ \delta_r=\log \left(r^* / r_a\right), &amp; \tau_r=\log \left(r^{\prime} / r_a\right) \\ \delta_\alpha=\Delta \alpha^*, &amp; \tau_\alpha=\Delta \alpha^{\prime} \\ \delta_\beta=\Delta \beta^*, &amp; \tau_\beta=\Delta \beta^{\prime} .\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:7.2000399999999996em;vertical-align:-3.3500199999999998em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.8500199999999998em;"><span style="top:-0.6999900000000001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-0.6999900000000001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-0.9999899999999999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-1.29999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-1.59999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-1.89999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-2.19999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.1500100000000004em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.30001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.60001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.90001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-5.200010000000001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-5.50001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-5.80001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-6.100019999999999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.3500199999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.8500000000000005em;"><span style="top:-5.850000000000001em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">/</span><span class="mord">2</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-4.410000000000001em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">/</span><span class="mord">2</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-2.9700000000000006em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span></span></span><span style="top:-1.5300000000000002em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">Δ</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-0.08999999999999997em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">Δ</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.8500000000000005em;"><span style="top:-5.850000000000001em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.1132em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">/</span><span class="mord">2</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-4.410000000000001em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.1132em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">/</span><span class="mord">2</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.9700000000000006em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.1132em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-1.5300000000000002em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.1132em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">Δ</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span><span style="top:-0.08999999999999997em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.1132em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">Δ</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord">.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.35em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h4 id="result"><a class="markdownIt-Anchor" href="#result"></a> Result</h4><p>多尺度训练的精度(Backbone都是Res50-FPN,) Oriented-RCNN是80.87, QPDet是81.00.</p><p>无多尺度(Res50-FPN)   Oriented-RCNN是75.87 ; QPDet是76.25</p><p><img src="/img/article/2023/02/08/5.png" alt="" /></p><h3 id="free3det"><a class="markdownIt-Anchor" href="#free3det"></a> Free3Det</h3><p><img src="/img/article/2023/02/08/6.png" alt="" /></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>是一个采样点，而不是中心点</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>l</mi><mo separator="true">,</mo><mi>t</mi><mo separator="true">,</mo><mi>r</mi><mo separator="true">,</mo><mi>d</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(l, t, r ,d)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">d</span><span class="mclose">)</span></span></span></span>是到外接矩形的距离，就确定了外接矩形的形状</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>o</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>o</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>o</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>o</mi><mn>4</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(o_1, o_2, o_3, o_4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>就能间接表示<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>s</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>s</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>s</mi><mn>4</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(s_1, s_2, s_3, s_4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，从而确定了旋转矩形框的顶点<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>v</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>v</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>v</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>v</mi><mn>4</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(v_1,v_2, v_3, v_4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>v</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>v</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>v</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>v</mi><mn>4</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(v_1,v_2,v_3,v_4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>l</mi><mo separator="true">,</mo><mi>t</mi><mo separator="true">,</mo><mi>r</mi><mo separator="true">,</mo><mi>d</mi><mo separator="true">,</mo><msub><mi>o</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>o</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>o</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>o</mi><mn>4</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{(x, y,l, t, r ,d, o_1, o_2, o_3, o_4)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">d</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>的转换关系：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi mathvariant="bold-italic">v</mi><mn mathvariant="bold">1</mn></msub><mo>=</mo><mrow><mo fence="true">(</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>+</mo><msub><mi>o</mi><mn>1</mn></msub><mo>∗</mo><mi>l</mi><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>o</mi><mn>1</mn></msub><mo>&lt;</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>+</mo><msub><mi>o</mi><mn>1</mn></msub><mo>∗</mo><mi>r</mi><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>o</mi><mn>1</mn></msub><mo>≥</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable><mo separator="true">,</mo><mspace width="1em"/><mi>y</mi><mo>−</mo><mi>t</mi><mo fence="true">)</mo></mrow></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi mathvariant="bold-italic">v</mi><mn mathvariant="bold">2</mn></msub><mo>=</mo><mrow><mo fence="true">(</mo><mi>x</mi><mo>+</mo><mi>r</mi><mo separator="true">,</mo><mspace width="1em"/><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>y</mi><mo>+</mo><msub><mi>o</mi><mn>2</mn></msub><mo>∗</mo><mi>t</mi><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>o</mi><mn>2</mn></msub><mo>&lt;</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>y</mi><mo>+</mo><msub><mi>o</mi><mn>2</mn></msub><mo>∗</mo><mi>d</mi><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>o</mi><mn>2</mn></msub><mo>≥</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi mathvariant="bold-italic">v</mi><mn mathvariant="bold">3</mn></msub><mo>=</mo><mrow><mo fence="true">(</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>+</mo><msub><mi>o</mi><mn>3</mn></msub><mo>∗</mo><mi>l</mi><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>o</mi><mn>3</mn></msub><mo>&lt;</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>+</mo><msub><mi>o</mi><mn>3</mn></msub><mo>∗</mo><mi>r</mi><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>o</mi><mn>3</mn></msub><mo>≥</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable><mo separator="true">,</mo><mspace width="1em"/><mi>y</mi><mo>+</mo><mi>d</mi><mo fence="true">)</mo></mrow></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi mathvariant="bold-italic">v</mi><mn mathvariant="bold">4</mn></msub><mo>=</mo><mrow><mo fence="true">(</mo><mi>x</mi><mo>−</mo><mi>l</mi><mo separator="true">,</mo><mspace width="1em"/><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>y</mi><mo>+</mo><msub><mi>o</mi><mn>4</mn></msub><mo>∗</mo><mi>t</mi><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>o</mi><mn>4</mn></msub><mo>&lt;</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>y</mi><mo>+</mo><msub><mi>o</mi><mn>4</mn></msub><mo>∗</mo><mi>d</mi><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>o</mi><mn>4</mn></msub><mo>≥</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned} &amp; \boldsymbol{v}_{\mathbf{1}}=\left(\left\{\begin{array}{ll}x+o_1 * l, &amp; o_1&lt;0 \\ x+o_1 * r, &amp; o_1 \geq 0\end{array}, \quad y-t\right)\right. \\ &amp; \boldsymbol{v}_{\mathbf{2}}=\left(x+r, \quad\left\{\begin{array}{ll}y+o_2 * t, &amp; o_2&lt;0 \\ y+o_2 * d, &amp; o_2 \geq 0\end{array}\right)\right. \\ &amp; \boldsymbol{v}_{\mathbf{3}}=\left(\left\{\begin{array}{ll}x+o_3 * l, &amp; o_3&lt;0 \\ x+o_3 * r, &amp; o_3 \geq 0\end{array}, \quad y+d\right)\right. \\ &amp; \boldsymbol{v}_{\mathbf{4}}=\left(x-l, \quad\left\{\begin{array}{ll}y+o_4 * t, &amp; o_4&lt;0 \\ y+o_4 * d, &amp; o_4 \geq 0\end{array}\right)\right. \\ &amp; \end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:12.30012em;vertical-align:-5.900059999999999em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.40006em;"><span style="top:-8.40006em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"></span></span><span style="top:-5.70003em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"></span></span><span style="top:-3.0000000000000004em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"></span></span><span style="top:-0.2999700000000014em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"></span></span><span style="top:1.7900599999999987em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.900059999999999em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.40006em;"><span style="top:-8.40006em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">v</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight">1</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">t</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-5.70003em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">v</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight">2</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">t</span><span class="mpunct">,</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">d</span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.0000000000000004em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">v</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight">3</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">d</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-0.2999700000000014em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">v</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight">4</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">t</span><span class="mpunct">,</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">d</span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:1.7900599999999987em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.900059999999999em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><h4 id="result-2"><a class="markdownIt-Anchor" href="#result-2"></a> Result</h4><p>无多尺度(Res50-FPN)   73.36</p><p><img src="/img/article/2023/02/08/7.png" alt="" /></p><h3 id=""><a class="markdownIt-Anchor" href="#"></a> </h3>]]></content>
    
    
    <categories>
      
      <category>组会</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-39.最大的和</title>
    <link href="/2023/02/08/Algorithm/Comp/0x00/20230208-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-039-%E6%9C%80%E5%A4%A7%E7%9A%84%E5%92%8C/"/>
    <url>/2023/02/08/Algorithm/Comp/0x00/20230208-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-039-%E6%9C%80%E5%A4%A7%E7%9A%84%E5%92%8C/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/128/">算法竞赛进阶指南-39.最大的和</a></p><p>给定一个包含整数的二维矩阵，子矩形是位于整个阵列内的任何大小为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 \times 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 或更大的连续子阵列。</p><p>矩形的总和是该矩形中所有元素的总和。</p><p>在这个问题中，具有最大和的子矩形被称为最大子矩形。</p><p>例如，下列数组：</p><pre class="language-diff" data-language="diff"><code class="language-diff">0 -2 -7 0 9 2 -6 2 -4 1 -4 1 -1 8 0 -2</code></pre><p>其最大子矩形为：</p><pre class="language-diff" data-language="diff"><code class="language-diff">9 2 -4 1 -1 8</code></pre><p>它拥有最大和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>15</mn></mrow><annotation encoding="application/x-tex">15</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">5</span></span></span></span>。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>输入中将包含一个 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo>×</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">N \times N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 的整数数组。</p><p>第一行只输入一个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>，表示方形二维数组的大小。</p><p>从第二行开始，输入由空格和换行符隔开的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">N^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> 个整数，它们即为二维数组中的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">N^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> 个元素，输入顺序从二维数组的第一行开始向下逐行输入，同一行数据从左向右逐个输入。</p><p>数组中的数字会保持在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mn>127</mn><mo separator="true">,</mo><mn>127</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-127,127]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">1</span><span class="mord">2</span><span class="mord">7</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mord">7</span><span class="mclose">]</span></span></span></span> 的范围内。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出一个整数，代表最大子矩形的总和。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">1 \le N \le 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-diff" data-language="diff"><code class="language-diff">40 -2 -7 0 9 2 -6 2-4 1 -4  1 -18  0 -2</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">15</code></pre><h3 id="method1-二维前缀和"><a class="markdownIt-Anchor" href="#method1-二维前缀和"></a> Method1 : 二维前缀和</h3><p>二维前缀和模板题</p><p>预处理完二维前缀和后，前两层for循环枚举长方形的宽高，后两层for循环枚举长方形的右下角坐标,求max</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;const int N &#x3D; 100 + 7;const int INF &#x3D; 0x3f3f3f3f;int g[N][N];int main() &#123;    memset(g, 0, sizeof g);        int n;    cin &gt;&gt; n;        for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        for (int j &#x3D; 1; j &lt;&#x3D; n; j ++) &#123;            cin &gt;&gt; g[i][j];        &#125;    &#125;        &#x2F;&#x2F; 前缀和    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        for (int j &#x3D; 0; j &lt;&#x3D; n; j ++) &#123;            g[i][j] +&#x3D; g[i - 1][j] + g[i][j - 1] - g[i - 1][j - 1];        &#125;    &#125;        int res &#x3D; -INF;    &#x2F;&#x2F; 枚举宽高    for (int h &#x3D; 1; h &lt;&#x3D; n; h ++) &#123;        for (int w &#x3D; 1; w &lt;&#x3D; n; w ++) &#123;            &#x2F;&#x2F; 枚举长方形的右下坐标            for (int i &#x3D; h; i &lt;&#x3D; n; i ++) &#123;                for (int j &#x3D; w; j &lt;&#x3D; n; j ++) &#123;                    int cur &#x3D; g[i][j] - g[i][j - w] - g[i - h][j] + g[i - h][j - w];                    res &#x3D; max(res, cur);                &#125;            &#125;        &#125;    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>4</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n^4)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>n</mi><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">n^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span>为四层for循环的时间复杂度。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n^2)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>，空间消耗主要在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mo stretchy="false">[</mo><mi>N</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>N</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">g[N][N]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">]</span></span></span></span>。</p></li></ul><h3 id="method2-贪心-dp"><a class="markdownIt-Anchor" href="#method2-贪心-dp"></a> Method2: 贪心 + DP</h3><p>先枚举列的上界和下界，然后把当前的该列[上界，下界]之和看作一个数，之后可以借鉴求一维数组的最大子数组之和的DP思路，把时间复杂度优化成<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>3</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;using namespace std;const int N &#x3D; 100 + 7;const int INF &#x3D; 0x3f3f3f3f3f;int g[N][N];int main() &#123;    int n;    cin &gt;&gt; n;        for (int i &#x3D; 1; i &lt;&#x3D; n ; i ++) &#123;        for (int j &#x3D; 1; j &lt;&#x3D; n; j ++) &#123;            cin &gt;&gt; g[i][j];            g[i][j] +&#x3D; g[i - 1][j];        &#125;    &#125;        int res &#x3D; -INF;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        for (int j &#x3D; i; j &lt;&#x3D; n; j ++) &#123;            int last &#x3D; 0;            for (int k &#x3D; 1; k &lt;&#x3D; n; k ++) &#123;                int cur &#x3D; g[j][k] - g[i - 1][k];                 if (last &lt; 0) last &#x3D; cur;                else last +&#x3D; cur;                res &#x3D; max(res, last);            &#125;                    &#125;    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="复杂度分析-2"><a class="markdownIt-Anchor" href="#复杂度分析-2"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>3</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n^3)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>n</mi><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">n^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span>为三层for循环的时间复杂度。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n^2)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>，空间消耗主要在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mo stretchy="false">[</mo><mi>N</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>N</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">g[N][N]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">]</span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>递推</tag>
      
      <tag>枚举</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-38.耍杂技的牛</title>
    <link href="/2023/02/07/Algorithm/Comp/0x00/20230207-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-038-%E8%80%8D%E6%9D%82%E6%8A%80%E7%9A%84%E7%89%9B/"/>
    <url>/2023/02/07/Algorithm/Comp/0x00/20230207-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-038-%E8%80%8D%E6%9D%82%E6%8A%80%E7%9A%84%E7%89%9B/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/127/">算法竞赛进阶指南-38.耍杂技的牛</a></p><p>农民约翰的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 头奶牛（编号为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1..</mn><mi>N</mi></mrow><annotation encoding="application/x-tex">1..N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>）计划逃跑并加入马戏团，为此它们决定练习表演杂技。</p><p>奶牛们不是非常有创意，只提出了一个杂技表演：</p><p>叠罗汉，表演时，奶牛们站在彼此的身上，形成一个高高的垂直堆叠。</p><p>奶牛们正在试图找到自己在这个堆叠中应该所处的位置顺序。</p><p>这 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 头奶牛中的每一头都有着自己的重量 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">W_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 以及自己的强壮程度 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</p><p>一头牛支撑不住的可能性取决于它头上所有牛的总重量（不包括它自己）减去它的身体强壮程度的值，现在称该数值为风险值，风险值越大，这只牛撑不住的可能性越高。</p><p>您的任务是确定奶牛的排序，使得所有奶牛的风险值中的最大值尽可能的小。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行输入整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>，表示奶牛数量。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 行，每行输入两个整数，表示牛的重量和强壮程度，第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 行表示第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 头牛的重量 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">W_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 以及它的强壮程度 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出一个整数，表示最大风险值的最小可能值。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>50000</mn></mrow><annotation encoding="application/x-tex">1 \le N \le 50000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><msub><mi>W</mi><mi>i</mi></msub><mo>≤</mo><mn>10</mn><mo separator="true">,</mo><mn>000</mn></mrow><annotation encoding="application/x-tex">1 \le W_i \le 10,000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><msub><mi>S</mi><mi>i</mi></msub><mo>≤</mo><mn>1</mn><mo separator="true">,</mo><mn>000</mn><mo separator="true">,</mo><mn>000</mn><mo separator="true">,</mo><mn>000</mn></mrow><annotation encoding="application/x-tex">1 \le S_i \le 1,000,000,000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">310 32 53 3</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">2</code></pre><h3 id="method-贪心"><a class="markdownIt-Anchor" href="#method-贪心"></a> Method : 贪心</h3><p>本题是贪心问题，这种问题的证明比较难想，但是最佳贪心策略是按牛的重量和强壮程度相加进行排序</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef pair&lt;int, int&gt; PII;const int INF &#x3D; 0x3f3f3f3f;int n;vector&lt;PII&gt; cows;int main() &#123;    cin &gt;&gt; n;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        int w, s;        scanf(&quot;%d %d&quot;, &amp;w, &amp;s);        cows.push_back(&#123;w, s&#125;);    &#125;    sort(cows.begin(),cows.end(), [&amp;](const PII&amp;a,  const PII&amp; b) -&gt; bool&#123;       return a.first + a.second &lt; b.first + b.second;    &#125;);    int res &#x3D; -INF, sum &#x3D; 0;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        res &#x3D; max(res, sum - cows[i].second);        sum +&#x3D; cows[i].first;    &#125;    cout &lt;&lt; res &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n\log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>为sort排序的时间复杂度。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>贪心</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-37.数的进制转换</title>
    <link href="/2023/02/06/Algorithm/Comp/0x00/20230206-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-037-%E6%95%B0%E7%9A%84%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2/"/>
    <url>/2023/02/06/Algorithm/Comp/0x00/20230206-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-037-%E6%95%B0%E7%9A%84%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/126/">算法竞赛进阶指南-37.数的进制转换</a></p><p>编写一个程序，可以实现将一个数字由一个进制转换为另一个进制。</p><p>这里有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>62</mn></mrow><annotation encoding="application/x-tex">62</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">2</span></span></span></span> 个不同数位 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><mn>0</mn><mo>−</mo><mn>9</mn><mo separator="true">,</mo><mi>A</mi><mo>−</mo><mi>Z</mi><mo separator="true">,</mo><mi>a</mi><mo>−</mo><mi>z</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{0-9,A-Z,a-z\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mclose">}</span></span></span></span>。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行输入一个整数，代表接下来的行数。</p><p>接下来每一行都包含三个数字，首先是输入进制（十进制表示），然后是输出进制（十进制表示），最后是用输入进制表示的输入数字，数字之间用空格隔开。</p><p>输入进制和输出进制都在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>62</mn></mrow><annotation encoding="application/x-tex">62</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">2</span></span></span></span> 的范围之内。</p><p>（在十进制下）<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>=</mo><mn>10</mn><mi mathvariant="normal">，</mi><mi>B</mi><mo>=</mo><mn>11</mn><mi mathvariant="normal">，</mi><mo>…</mo><mi mathvariant="normal">，</mi><mi>Z</mi><mo>=</mo><mn>35</mn><mi mathvariant="normal">，</mi><mi>a</mi><mo>=</mo><mn>36</mn><mi mathvariant="normal">，</mi><mi>b</mi><mo>=</mo><mn>37</mn><mi mathvariant="normal">，</mi><mo>…</mo><mi mathvariant="normal">，</mi><mi>z</mi><mo>=</mo><mn>61</mn></mrow><annotation encoding="application/x-tex">A = 10，B = 11，…，Z = 35，a = 36，b = 37，…，z = 61</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord cjk_fallback">，</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">5</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">6</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">7</span><span class="mord cjk_fallback">，</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">1</span></span></span></span> (<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>−</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">0-9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span></span></span></span> 仍然表示 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>−</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">0-9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span></span></span></span>)。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>对于每一组进制转换，程序的输出都由三行构成。</p><p>第一行包含两个数字，首先是输入进制（十进制表示），然后是用输入进制表示的输入数字。</p><p>第二行包含两个数字，首先是输出进制（十进制表示），然后是用输出进制表示的输入数字。</p><p>第三行为空白行。</p><p>同一行内数字用空格隔开。</p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">862 2 abcdefghiz10 16 123456789012345678901234567890123456789016 35 3A0C92075C0DBF3B8ACBC5F96CE3F0AD235 23 333YMHOUE8JPLT7OX6K9FYCQ8A23 49 946B9AA02MI37E3D3MMJ4G7BL2F0549 61 1VbDkSIMJL3JjRgAdlUfcaWj61 5 dl9MDSWqwHjDnToKcsWE1S5 10 42104444441001414401221302402201233340311104212022133030</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">62 abcdefghiz2 1101110000010001011111001001011001111100100110001101001000110 123456789012345678901234567890123456789016 3A0C92075C0DBF3B8ACBC5F96CE3F0AD216 3A0C92075C0DBF3B8ACBC5F96CE3F0AD235 333YMHOUE8JPLT7OX6K9FYCQ8A35 333YMHOUE8JPLT7OX6K9FYCQ8A23 946B9AA02MI37E3D3MMJ4G7BL2F0523 946B9AA02MI37E3D3MMJ4G7BL2F0549 1VbDkSIMJL3JjRgAdlUfcaWj49 1VbDkSIMJL3JjRgAdlUfcaWj61 dl9MDSWqwHjDnToKcsWE1S61 dl9MDSWqwHjDnToKcsWE1S5 421044444410014144012213024022012333403111042120221330305 4210444444100141440122130240220123334031110421202213303010 1234567890123456789012345678901234567890</code></pre><h3 id="method-高精度"><a class="markdownIt-Anchor" href="#method-高精度"></a> Method : 高精度</h3><h4 id="a10b"><a class="markdownIt-Anchor" href="#a10b"></a> A=&gt;10=&gt;B</h4><p>因为int的输出默认就是10进制表示的，因此很好写</p><p>秦九韶算法： A进制 =&gt; 10进制</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mn>101010</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub><mo>=</mo><mn>1</mn><mo>∗</mo><msup><mn>2</mn><mn>5</mn></msup><mo>+</mo><mn>0</mn><mo>∗</mo><msup><mn>2</mn><mn>4</mn></msup><mo>+</mo><mn>1</mn><mo>∗</mo><msup><mn>2</mn><mn>3</mn></msup><mo>+</mo><mn>0</mn><mo>∗</mo><msup><mn>2</mn><mn>2</mn></msup><mo>+</mo><mn>1</mn><mo>∗</mo><msup><mn>2</mn><mn>1</mn></msup><mo>+</mo><mn>0</mn><mo>∗</mo><msup><mn>2</mn><mn>0</mn></msup><mo>=</mo><mo stretchy="false">(</mo><mn>42</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">(101010)_2=1 * 2^5+0 * 2^4+1 * 2^3+0 * 2^2+1 * 2^1+0 * 2^0=(42)_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span><span class="mord">0</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mord">2</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><pre class="language-c++" data-language="c++"><code class="language-c++">vector&lt;int&gt; arr;long long res &#x3D; 0; &#x2F;&#x2F; 这里要考虑用64位整形能否存得下for (int i &#x3D; 0; i &lt; arr.size(); i ++) &#123;res &#x3D; res * A + arr[i];&#125;</code></pre><p>短除法 :  10进制 =&gt; B进制</p><p><img src="/img/article/2023/02/06/2.png" alt="" /></p><pre class="language-c++" data-language="c++"><code class="language-c++">vector&lt;int&gt; res;for (; n; n &#x2F;&#x3D; b) &#123;res.push_back(n % B);&#125;&#x2F;&#x2F; 此时res是倒序存储的reverse(res.begin(), res.end());</code></pre><h4 id="ab"><a class="markdownIt-Anchor" href="#ab"></a> A=&gt;B</h4><p>可以直接 短除法 + 高精度除法模拟，实现从A进制转换到B进制</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;string&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;int to_num(char c) &#123;    if (&#39;0&#39; &lt;&#x3D; c &amp;&amp; c &lt;&#x3D; &#39;9&#39;) return c - &#39;0&#39;;    if (&#39;A&#39; &lt;&#x3D; c &amp;&amp; c &lt;&#x3D; &#39;Z&#39;) return c - &#39;A&#39; + 10;    if(&#39;a&#39; &lt;&#x3D; c &amp;&amp; c &lt;&#x3D; &#39;z&#39;) return c - &#39;a&#39; + 36;&#125;char to_char(int n) &#123;    if (0 &lt;&#x3D; n &amp;&amp; n &lt;&#x3D; 9) return n + &#39;0&#39;;    if (10 &lt;&#x3D; n &amp;&amp; n &lt;&#x3D; 35) return n - 10 + &#39;A&#39;;    if(36 &lt;&#x3D; n &amp;&amp; n &lt;&#x3D; 61) return n - 36 + &#39;a&#39;;&#125;string trans(string in_num, int in, int out) &#123;    string out_num;    while (in_num.size()) &#123;        int r &#x3D; 0; &#x2F;&#x2F; 余数        &#x2F;&#x2F; 直接从高位开始处理        for (int i &#x3D; 0; i &lt; in_num.size(); i ++) &#123;             int num_i &#x3D; to_num(in_num[i]);             num_i &#x3D; r * in + num_i;             in_num[i] &#x3D; to_char(num_i &#x2F; out); &#x2F;&#x2F; 商             r &#x3D; num_i % out; &#x2F;&#x2F;余数        &#125;        out_num +&#x3D; to_char(r);        &#x2F;&#x2F; 去掉高位的0        while (in_num.size() &amp;&amp; in_num.front() &#x3D;&#x3D; &#39;0&#39;) in_num.erase(0, 1);    &#125;    reverse(out_num.begin(), out_num.end());    return out_num;&#125;int main() &#123;    int T;    cin &gt;&gt; T;    while (T --) &#123;        int in, out;        string in_num;        cin &gt;&gt; in &gt;&gt; out;        cin &gt;&gt; in_num;        string out_num &#x3D; trans(in_num, in, out);        cout &lt;&lt; in &lt;&lt; &quot; &quot; &lt;&lt; in_num &lt;&lt; endl;        cout &lt;&lt; out &lt;&lt; &quot; &quot; &lt;&lt; out_num &lt;&lt; endl;        puts(&quot;&quot;);    &#125;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>T</mi><mo>∗</mo><mi>C</mi><mo>∗</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(T * C *n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 很难确定，因为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">trans</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span></span></span></span>函数的while循环的迭代次数与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">in</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">out</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">t</span></span></span></span>进制相关，因此用了一个大常数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span>表示，而且本题也不太需要考虑时间复杂度，只需要保证转换后的正确性即可。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul><p>记录一下思考过程~</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;string&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;&#x2F;&#x2F; vector&lt;int&gt; div(vector&lt;int&gt; &amp;A, int b, int &amp;r, int base) &#123;&#x2F;&#x2F;     vector&lt;int&gt; C;    &#x2F;&#x2F;     r &#x3D; 0;&#x2F;&#x2F;     &#x2F;&#x2F; 从高位处理&#x2F;&#x2F;     for (int i &#x3D; A.size() - 1; i &gt;&#x3D; 0; i --) &#123;&#x2F;&#x2F;         r &#x3D; r * base + A[i];&#x2F;&#x2F;         C.push_back(r &#x2F; b);&#x2F;&#x2F;         r %&#x3D; b;&#x2F;&#x2F;     &#125;    &#x2F;&#x2F;     reverse(C.begin(), C.end());&#x2F;&#x2F;     while (C.size() &gt; 1 &amp;&amp; C.back() &#x3D;&#x3D; 0) C.pop_back();&#x2F;&#x2F;     return C;&#x2F;&#x2F; &#125;int to_num(char c) &#123;    if (&#39;0&#39; &lt;&#x3D; c &amp;&amp; c &lt;&#x3D; &#39;9&#39;) return c - &#39;0&#39;;    if (&#39;A&#39; &lt;&#x3D; c &amp;&amp; c &lt;&#x3D; &#39;Z&#39;) return c - &#39;A&#39; + 10;    if(&#39;a&#39; &lt;&#x3D; c &amp;&amp; c &lt;&#x3D; &#39;z&#39;) return c - &#39;a&#39; + 36;&#125;char to_char(int n) &#123;    if (0 &lt;&#x3D; n &amp;&amp; n &lt;&#x3D; 9) return n + &#39;0&#39;;    if (10 &lt;&#x3D; n &amp;&amp; n &lt;&#x3D; 35) return n - 10 + &#39;A&#39;;    if(36 &lt;&#x3D; n &amp;&amp; n &lt;&#x3D; 61) return n - 36 + &#39;a&#39;;&#125;string trans(string in_num, int in, int out) &#123;    string out_num;        while (in_num.size()) &#123;        int r &#x3D; 0; &#x2F;&#x2F; 余数        for (int i &#x3D; 0; i &lt; in_num.size(); i ++) &#123;             int num_i &#x3D; to_num(in_num[i]);             num_i &#x3D; r * in + num_i;             in_num[i] &#x3D; to_char(num_i &#x2F; out); &#x2F;&#x2F; 商             r &#x3D; num_i % out; &#x2F;&#x2F;余数            &#x2F;&#x2F;  cout &lt;&lt; num_i &lt;&lt; endl;        &#125;        &#x2F;&#x2F; cout &lt;&lt; &quot;------&quot; &lt;&lt; endl;        out_num +&#x3D; to_char(r);                &#x2F;&#x2F; 去掉高位的0        while (in_num.size() &amp;&amp; in_num.front() &#x3D;&#x3D; &#39;0&#39;) in_num.erase(0, 1);                &#x2F;&#x2F; 去掉高位的0        &#x2F;&#x2F; reverse(in_num.begin(), in_num.end());        &#x2F;&#x2F; while (in_num.size() &amp;&amp; in_num.back() &#x3D;&#x3D; &#39;0&#39;) in_num.pop_back();        &#x2F;&#x2F; reverse(in_num.begin(), in_num.end());    &#125;        &#x2F;&#x2F; cout &lt;&lt; &quot;----&quot; &lt;&lt; endl;    &#x2F;&#x2F; 直接从高位开始处理    &#x2F;&#x2F; for (int i &#x3D; 0 ; i &lt; in_num.size(); i ++) &#123;    &#x2F;&#x2F;     int num_i &#x3D; to_num(in_num[i]);            &#x2F;&#x2F;     &#x2F;&#x2F; cout &lt;&lt; num_i &lt;&lt; endl;    &#x2F;&#x2F;     &#x2F;&#x2F; r &#x3D; r * in + num_i;    &#x2F;&#x2F;     &#x2F;&#x2F; out_num.push_back(to_char(r &#x2F; out));    &#x2F;&#x2F;     &#x2F;&#x2F; r %&#x3D; out;    &#x2F;&#x2F; &#125;        &#x2F;&#x2F; while (out_num.size() &gt; 1 &amp;&amp; out_num.back() &#x3D;&#x3D; 0) out_num.pop_back();    reverse(out_num.begin(), out_num.end());        return out_num;&#125;int main() &#123;    int T;    cin &gt;&gt; T;        while (T --) &#123;        int in, out;        string in_num;        &#x2F;&#x2F; scanf(&quot;%d %d &quot;, &amp;in, &amp;out);        &#x2F;&#x2F; cin &gt;&gt; in_num;        cin &gt;&gt; in &gt;&gt; out;        &#x2F;&#x2F; getchar();        cin &gt;&gt; in_num;                        string out_num &#x3D; trans(in_num, in, out);                &#x2F;&#x2F; cout &lt;&lt; in_num &lt;&lt; endl;        cout &lt;&lt; in &lt;&lt; &quot; &quot; &lt;&lt; in_num &lt;&lt; endl;        cout &lt;&lt; out &lt;&lt; &quot; &quot; &lt;&lt; out_num &lt;&lt; endl;        puts(&quot;&quot;);    &#125;        return 0;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>高精度</tag>
      
      <tag>进位制</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-36.士兵</title>
    <link href="/2023/02/05/Algorithm/Comp/0x00/20230205-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-036-%E5%A3%AB%E5%85%B5/"/>
    <url>/2023/02/05/Algorithm/Comp/0x00/20230205-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-036-%E5%A3%AB%E5%85%B5/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/125/">算法竞赛进阶指南-36.士兵</a></p><p>格格兰郡的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 名士兵随机散落在全郡各地。</p><p>格格兰郡中的位置由一对 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> 整数坐标表示。</p><p>士兵可以进行移动，每次移动，一名士兵可以向上，向下，向左或向右移动一个单位（因此，他的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 或 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span> 坐标也将加 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 或减 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>）。</p><p>现在希望通过移动士兵，使得所有士兵彼此相邻的处于同一条水平线内，即所有士兵的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span> 坐标相同并且 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 坐标相邻。</p><p>请你计算满足要求的情况下，所有士兵的总移动次数最少是多少。</p><p>需注意，两个或多个士兵不能占据同一个位置。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行输入整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>，代表士兵的数量。</p><p>接下来的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 行，每行输入两个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span>，分别代表一个士兵所在位置的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 坐标和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span> 坐标，第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 行即为第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 个士兵的坐标 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x[i],y[i])</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mclose">)</span></span></span></span>。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出一个整数，代表所有士兵的总移动次数的最小值。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">1 \le N \le 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><mn>10000</mn><mo>≤</mo><mi>x</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>≤</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">-10000 \le x[i],y[i] \le 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">51 22 21 33 -23 3</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">8</code></pre><h3 id="method-排序-中位数"><a class="markdownIt-Anchor" href="#method-排序-中位数"></a> Method : 排序 + 中位数</h3><p><a href="https://www.luogu.com.cn/problem/P1889">P1889 士兵站队</a></p><p>首先把二维拆开来看，看成两个一维问题。</p><p>y坐标相同=&gt;货仓选址问题， 选择<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span>的中位数;</p><p>x坐标相邻=&gt;货仓选址问题变形，选择<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mi>i</mi><mo>−</mo><mi>i</mi></mrow><annotation encoding="application/x-tex">xi - i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>的中位数。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef pair&lt;int, int&gt; PII;const int N &#x3D; 1e4 + 7;vector&lt;PII&gt; points;int n;int main() &#123;    cin &gt;&gt; n;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        int x, y;        scanf(&quot;%d %d&quot;, &amp;x, &amp;y);        points.push_back(&#123;x, y&#125;);    &#125;        long long cost &#x3D; 0;        &#x2F;&#x2F; 计算y的cost    sort(points.begin(), points.end(), [](const PII&amp; a, const PII&amp; b) &#123;        return a.second &lt; b.second;    &#125;);    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        cost +&#x3D; abs(points[i].second - points[n &#x2F; 2].second);    &#125;        &#x2F;&#x2F; 计算x的cost    sort(points.begin(), points.end(), [](const PII&amp; a, const PII&amp; b) &#123;        return a.first &lt; b.first;    &#125;);    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        points[i].first -&#x3D; i;    &#125;    sort(points.begin(), points.end(), [](const PII&amp; a, const PII&amp; b) &#123;        return a.first &lt; b.first;    &#125;);        for (int i &#x3D; 0; i &lt; n; i ++) &#123;        cost +&#x3D; abs(points[i].first - points[n &#x2F; 2].first);    &#125;        cout &lt;&lt; cost &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n\log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">nlog n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span></span></span></span>为sort排序的时间复杂度。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，空间开销主要在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">points</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">s</span></span></span></span>数组上。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>排序</tag>
      
      <tag>中位数</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-35.糖果传递</title>
    <link href="/2023/02/04/Algorithm/Comp/0x00/20230204-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-035-%E7%B3%96%E6%9E%9C%E4%BC%A0%E9%80%92/"/>
    <url>/2023/02/04/Algorithm/Comp/0x00/20230204-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-035-%E7%B3%96%E6%9E%9C%E4%BC%A0%E9%80%92/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/124/">算法竞赛进阶指南-35.糖果传递</a></p><p>有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 个小朋友坐成一圈，每人有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">a[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span> 个糖果。</p><p>每人只能给左右两人传递糖果。</p><p>每人每次传递一个糖果代价为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。</p><p>求使所有人获得均等糖果的最小代价。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行输入一个正整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>，表示小朋友的个数。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 行，每行一个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">a[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>，表示第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 个小朋友初始得到的糖果的颗数。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出一个整数，表示最小代价。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>1000000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 1000000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><mi>a</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>≤</mo><mn>2</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">0 \le a[i] \le 2 \times 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span>,<br />数据保证一定有解。</p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">41254</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">4</code></pre><h3 id="method-推公式"><a class="markdownIt-Anchor" href="#method-推公式"></a> Method : 推公式</h3><p>本题是非常经典的环形均分纸牌问题：</p><p>一定存在一个最优解方案，使得环上有相邻的两个人之间没有发生交换，<br />那么以这两个人中间作为断点，破环成链，此时环形均分纸牌问题可以看作链式均分纸牌问题。</p><p>那么如何找到该断点？如果要枚举断点位置，每次做一遍链式均分纸牌，时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，显然不可行。</p><p>先来看链式均分纸牌:</p><p>假设一共有<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>个人，每个人初始卡牌数量为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>c</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">c_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，纸牌总数量为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>。</p><p>第 1 个人为了达到平均持有数, 需要向第 2 个人传递 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>c</mi><mn>1</mn></msub><mo>−</mo><mi>T</mi><mi mathvariant="normal">/</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">c_1-T / N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord">/</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 数量的牌 (正数是给, 负数是拿)<br />第 2 个人为了达到平均持有数, 需要向第 3 个人传递 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>c</mi><mn>2</mn></msub><mo>−</mo><mi>T</mi><mi mathvariant="normal">/</mi><mi>N</mi><mo>+</mo><msub><mi>c</mi><mn>1</mn></msub><mo>−</mo><mi>T</mi><mi mathvariant="normal">/</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">c_2-T / N+c_1-T / N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord">/</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord">/</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 数量的牌<br />…<br />第n-1个人为了达到平均持有数, 需要向第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 个人传递 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msubsup><msub><mi>c</mi><mi>i</mi></msub><mo>−</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>×</mo><mi>T</mi><mi mathvariant="normal">/</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">\sum_{i=1}^{n-1} c_i-(n-1) \times T / N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.253718em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord">/</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 数量的牌<br />此时前 n-1 人都达到了平均数，则第 n 个人必然也达到了平均数，即<strong>最后一个人传递卡牌数量为0​</strong></p><p>再回到环形均分卡牌:</p><p>设<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">(</mo><msub><mi>A</mi><mi>i</mi></msub><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mrow><mo fence="true">(</mo><msub><mi>c</mi><mi>j</mi></msub><mo>−</mo><mfrac><mi>T</mi><mi>N</mi></mfrac><mo fence="true">)</mo></mrow><mo separator="true">,</mo><msub><mi>S</mi><mi>i</mi></msub><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>i</mi></msubsup><msub><mi>A</mi><mi>j</mi></msub><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\left(A_i=\sum_{j=1}^n\left(c_j-\frac{T}{N}\right), S_i=\sum_{j=1}^i A_j\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.872331em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.964564em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span></span></span></span></p><p>把n个人的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 罗列出来 ：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable rowspacing="0.15999999999999992em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>A</mi><mn>1</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mn>1</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>A</mi><mn>2</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mn>2</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo>⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo>⋯</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>A</mi><mi>k</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mi>k</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>A</mi><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo>⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo>⋯</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>A</mi><mi>n</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mi>n</mi></msub></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{cc}A_1 &amp; S_1 \\ A_2 &amp; S_2 \\ \cdots &amp; \cdots \\ A_k &amp; S_k \\ A_{k+1} &amp; S_{k+1} \\ \cdots &amp; \cdots \\ A_n &amp; S_n\end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:8.400000000000002em;vertical-align:-3.95em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.450000000000001em;"><span style="top:-6.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-5.410000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-4.210000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-3.0100000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.8100000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.6100000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:0.5900000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.450000000000001em;"><span style="top:-6.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-5.410000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-4.210000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-3.0100000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.8100000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.6100000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:0.5900000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p><p>考虑在第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span> 个人之后断开, 则破环成链有:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable rowspacing="0.15999999999999992em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>A</mi><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>S</mi><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi>S</mi><mi>k</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo>⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo>⋯</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>A</mi><mi>n</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>S</mi><mi>n</mi></msub><mo>−</mo><msub><mi>S</mi><mi>k</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>A</mi><mn>1</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>S</mi><mn>1</mn></msub><mo>+</mo><msub><mi>S</mi><mi>n</mi></msub><mo>−</mo><msub><mi>S</mi><mi>k</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>A</mi><mn>2</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>S</mi><mn>2</mn></msub><mo>+</mo><msub><mi>S</mi><mi>n</mi></msub><mo>−</mo><msub><mi>S</mi><mi>k</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo>⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo>⋯</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>A</mi><mi>k</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>S</mi><mi>k</mi></msub><mo>+</mo><msub><mi>S</mi><mi>n</mi></msub><mo>−</mo><msub><mi>S</mi><mi>k</mi></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{cc}A_{k+1} &amp; S_{k+1}-S_k \\\cdots &amp; \cdots \\A_n &amp; S_n-S_k \\A_1 &amp; S_1+S_n-S_k \\A_2 &amp; S_2+S_n-S_k \\\cdots &amp; \cdots \\A_k &amp; S_k+S_n-S_k\end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:8.400000000000002em;vertical-align:-3.95em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.450000000000001em;"><span style="top:-6.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span><span style="top:-5.410000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-4.210000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.0100000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.8100000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.6100000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:0.5900000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.450000000000001em;"><span style="top:-6.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-5.410000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-4.210000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.0100000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.8100000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.6100000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:0.5900000000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p><p>那么链式均分纸牌，其最优解必是最后一个人不需要传递卡牌，即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mi>k</mi></msub><mo>+</mo><msub><mi>S</mi><mi>n</mi></msub><mo>−</mo><msub><mi>S</mi><mi>k</mi></msub><mo>=</mo><msub><mi>S</mi><mi>n</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">S_k+S_n-S_k = S_n = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>。</p><p>那么即可以转换为求<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mrow><mo fence="true">∣</mo><msub><mi>S</mi><mi>i</mi></msub><mo>−</mo><msub><mi>S</mi><mi>k</mi></msub><mo fence="true">∣</mo></mrow></mrow><annotation encoding="application/x-tex">\sum_{i=1}^n\left|S_i-S_k\right|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">∣</span></span></span></span></span>的最小值，即转化为货仓选址问题。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;const int N &#x3D; 1e6 + 7;typedef long long LL;int n;int a[N];LL s[N];int main() &#123;    cin &gt;&gt; n;    LL sum &#x3D; 0;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        scanf(&quot;%d&quot;, &amp;a[i]);        sum +&#x3D; a[i];    &#125;        LL avg &#x3D; sum &#x2F; n;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        a[i] -&#x3D; avg;    &#125;        for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        s[i] +&#x3D; s[i - 1] + a[i];    &#125;    sort(s + 1, s + n + 1);    LL cost &#x3D; 0;    for (int i &#x3D; 1; i &lt;&#x3D; n &#x2F; 2; i ++) &#123;        cost +&#x3D; abs(s[n + 1 - i] - s[i]);    &#125;        cout &lt;&lt; cost &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>前缀和的预处理。</li><li>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，主要是数组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo stretchy="false">[</mo><mi>N</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">a[N]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">]</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mo stretchy="false">[</mo><mi>N</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">s[N]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">]</span></span></span></span>。</li></ul><h3 id="补充"><a class="markdownIt-Anchor" href="#补充"></a> 补充</h3><h4 id="均分纸牌"><a class="markdownIt-Anchor" href="#均分纸牌"></a> 均分纸牌</h4><p><a href="https://www.acwing.com/problem/content/1538/">Acwing-1536.均分纸牌</a></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;using namespace std;const int N &#x3D; 100 + 7;int n;int a[N];int s[N];int main() &#123;    cin &gt;&gt; n;    int sum &#x3D; 0;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        scanf(&quot;%d&quot;, &amp;a[i]);        sum +&#x3D; a[i];    &#125;        int avg &#x3D; sum &#x2F; n;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        a[i] -&#x3D; avg;    &#125;        int res &#x3D; 0;    int cost &#x3D; 0;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        s[i] &#x3D; s[i - 1] + a[i];        if (s[i] !&#x3D; 0) res ++;        &#x2F;&#x2F; cost +&#x3D; abs(s[i]);   &#x2F;&#x2F; 计算每次只能移动一个的移动次数    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><p><strong>参考</strong>:</p><p><a href="https://aztl.blog.luogu.org/luo-gu-p2512-haoi2008-tang-guo-zhuan-di-ti-xie">https://aztl.blog.luogu.org/luo-gu-p2512-haoi2008-tang-guo-zhuan-di-ti-xie</a></p><p><a href="https://www.acwing.com/solution/content/41677/">https://www.acwing.com/solution/content/41677/</a></p>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>贪心</tag>
      
      <tag>公式</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-34.赶牛入圈</title>
    <link href="/2023/02/03/Algorithm/Comp/0x00/20230203-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-034-%E8%B5%B6%E7%89%9B%E5%85%A5%E5%9C%88/"/>
    <url>/2023/02/03/Algorithm/Comp/0x00/20230203-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-034-%E8%B5%B6%E7%89%9B%E5%85%A5%E5%9C%88/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/123/">算法竞赛进阶指南-34.赶牛入圈</a></p><p>农夫约翰希望为他的奶牛们建立一个畜栏。</p><p>这些挑剔的畜生要求畜栏必须是正方形的，而且至少要包含 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> 单位的三叶草，来当做它们的下午茶。</p><p>畜栏的边缘必须与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mi mathvariant="normal">，</mi><mi>Y</mi></mrow><annotation encoding="application/x-tex">X，Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span></span> 轴平行。</p><p>约翰的土地里一共包含 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 单位的三叶草，每单位三叶草位于一个 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 \times 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 的土地区域内，区域位置由其左下角坐标表示，并且区域左下角的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo separator="true">,</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X,Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span></span> 坐标都为整数，范围在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>10000</mn></mrow><annotation encoding="application/x-tex">10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span> 以内。</p><p>多个单位的三叶草可能会位于同一个 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 \times 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 的区域内，因为这个原因，在接下来的输入中，同一个区域坐标可能出现多次。</p><p>只有一个区域完全位于修好的畜栏之中，才认为这个区域内的三叶草在畜栏之中。</p><p>请你帮约翰计算一下，能包含至少 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> 单位面积三叶草的情况下，畜栏的最小边长是多少。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>第一行输入两个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 行，每行输入两个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span></span>，代表三叶草所在的区域的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo separator="true">,</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X,Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span></span> 坐标。</p><p>同一行数据用空格隔开。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出一个整数，代表畜栏的最小边长。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>C</mi><mo>≤</mo><mn>500</mn></mrow><annotation encoding="application/x-tex">1 \le C \le 500</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>500</mn></mrow><annotation encoding="application/x-tex">C \le N \le 500</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">3 41 22 14 15 2</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">4</code></pre><h3 id="method-离散化-前缀和-二分"><a class="markdownIt-Anchor" href="#method-离散化-前缀和-二分"></a> Method : 离散化 + 前缀和 + 二分</h3><p>首先这道题的意思，就是平面坐标系给你n个点，要求至少包含里面c个点的正方形，其边长最短是多少。(注意点是可以重合的，同一个坐标可以有多个点。)</p><p>这道题很容易看出来是二分答案，但由于是二维的，写起来像是二维版的袭击。</p><p>最关键的就是正方形的选取，是怎么枚举的？</p><blockquote><p>最优的正方形，一定是至少两条对边都有点，否则可以缩小这个正方形的边长，直到这个正方形两条对边上有点。</p></blockquote><p>根据这个特点我们可以枚举一个判断包含的check函数，再在外面套一层二分答案。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;cstring&gt;using namespace std;typedef pair&lt;int, int&gt; PII;const int N &#x3D; 500 + 7;const int M &#x3D; N &lt;&lt; 1;vector&lt;PII&gt; points;vector&lt;int&gt; numbers;int sum[M][M];int C, n;int main() &#123;    memset(sum, 0, sizeof sum);        cin &gt;&gt; C &gt;&gt; n;    numbers.push_back(0); &#x2F;&#x2F; 从0开始，方便前缀和计算    int x_max &#x3D; -1, y_max &#x3D; -1;    for (int i &#x3D; 0;i &lt; n; i ++) &#123;        int x, y;        scanf(&quot;%d %d&quot;, &amp;x, &amp;y);        x_max &#x3D; max(x_max, x);        y_max &#x3D; max(y_max, y);                points.push_back(&#123;x, y&#125;);        numbers.push_back(x);        numbers.push_back(y);    &#125;        &#x2F;&#x2F; 离散化    sort(numbers.begin(), numbers.end());    numbers.erase(unique(numbers.begin(), numbers.end()), numbers.end());        for (int i &#x3D; 0; i &lt; n; i ++) &#123;        &#x2F;&#x2F; 二分查找        int x &#x3D; lower_bound(numbers.begin(), numbers.end(), points[i].first) - numbers.begin();        int y &#x3D; lower_bound(numbers.begin(), numbers.end(), points[i].second) - numbers.begin();        sum[x][y] ++;    &#125;        for (int i &#x3D; 1; i &lt; numbers.size(); i ++) &#123;        for (int j &#x3D; 1; j &lt; numbers.size(); j ++) &#123;            sum[i][j] +&#x3D; sum[i - 1][j] + sum[i][j - 1] - sum[i - 1][j - 1];        &#125;    &#125;        &#x2F;&#x2F; 二分答案    auto check &#x3D; [&amp;](int len) &#123;        &#x2F;&#x2F; 枚举所有可能的正方形        for (int x1 &#x3D; 1, x2 &#x3D; 1; x2 &lt; numbers.size(); x2 ++)&#123;            &#x2F;&#x2F;  num[x1] + 1, 外面这个+1是实际的边长，因为每个单位是一个1 * 1的小方块            while(x1 &lt; x2 &amp;&amp; numbers[x2] - numbers[x1] + 1 &gt; len) x1 ++;            for (int y1 &#x3D; 1, y2 &#x3D; 1; y2 &lt; numbers.size(); y2 ++)&#123;                while(y1 &lt; y2 &amp;&amp; numbers[y2] - numbers[y1] + 1 &gt; len) y1 ++;                &#x2F;&#x2F; 要包含(x1, y1)这个边界点，因此x1 - 1, y1 - 1                if (sum[x2][y2] - sum[x1 - 1][y2] - sum[x2][y1 - 1] + sum[x1 - 1][y1 - 1] &gt;&#x3D; C) &#123;                    return true; &#x2F;&#x2F; 合法                &#125;             &#125;        &#125;                return false;    &#125;;        int l &#x3D; 1, r &#x3D; max(x_max, y_max);    while (l !&#x3D; r + 1) &#123;        int mid &#x3D; l + r &gt;&gt; 1;        if (check(mid)) &#123;            r &#x3D; mid - 1;        &#125;        else &#123;            l &#x3D; mid + 1;        &#125;    &#125;        cout &lt;&lt; r + 1 &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo>+</mo><msup><mi>n</mi><mn>2</mn></msup><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n\log n + n^2\log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 首先前面的离散化排序sort和2n次二分查找都是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>的，然后二分答案的check是两重for循环, 里面的while循环几乎只执行1次(相邻)是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，外面套一层二分答案<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>，因此是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>2</mn><mi>n</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O((2n)^ 2)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathdefault">n</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> 主要是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>u</mi><mi>m</mi><mo stretchy="false">[</mo><mi>M</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>M</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">sum[M][M]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mclose">]</span></span></span></span>。</p></li></ul><p><strong>参考</strong>:</p><p><a href="https://www.acwing.com/solution/content/1091/">https://www.acwing.com/solution/content/1091/</a></p>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>前缀和</tag>
      
      <tag>二分</tag>
      
      <tag>离散化</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-33.防线</title>
    <link href="/2023/02/02/Algorithm/Comp/0x00/20230202-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-033-%E9%98%B2%E7%BA%BF/"/>
    <url>/2023/02/02/Algorithm/Comp/0x00/20230202-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-033-%E9%98%B2%E7%BA%BF/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/122/">算法竞赛进阶指南-33.防线</a></p><p>达达学习数学竞赛的时候受尽了同仁们的鄙视，终于有一天…受尽屈辱的达达黑化成为了黑暗英雄怪兽达达。</p><p>就如同中二漫画的情节一样，怪兽达达打算毁掉这个世界。</p><p>数学竞赛界的精英 lqr 打算阻止怪兽达达的阴谋，于是她集合了一支由数学竞赛选手组成的超级行动队。</p><p>由于队员们个个都智商超群，很快，行动队便来到了怪兽达达的黑暗城堡的下方。</p><p>但是，同样强大的怪兽达达在城堡周围布置了一条“不可越过”的坚固防线。</p><p>防线由很多防具组成，这些防具分成了 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 组。</p><p>我们可以认为防线是一维的，那么每一组防具都分布在防线的某一段上，并且同一组防具是等距离排列的。</p><p>也就是说，我们可以用三个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>， <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span></span> 来描述一组防具，即这一组防具布置在防线的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi mathvariant="normal">，</mi><mi>S</mi><mo>+</mo><mi>D</mi><mi mathvariant="normal">，</mi><mi>S</mi><mo>+</mo><mn>2</mn><mi>D</mi><mi mathvariant="normal">，</mi><mo>…</mo><mi mathvariant="normal">，</mi><mi>S</mi><mo>+</mo><mi>K</mi><mi>D</mi></mrow><annotation encoding="application/x-tex">S，S + D，S + 2D，…，S + KD</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord cjk_fallback">，</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span></span>(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi><mo>∈</mo><mi>Z</mi><mi mathvariant="normal">，</mi><mi>S</mi><mo>+</mo><mi>K</mi><mi>D</mi><mo>≤</mo><mi>E</mi><mi mathvariant="normal">，</mi><mi>S</mi><mo>+</mo><mo stretchy="false">(</mo><mi>K</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mi>D</mi><mo>&gt;</mo><mi>E</mi></mrow><annotation encoding="application/x-tex">K∈ Z，S + KD≤E，S + (K + 1)D&gt;E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span>)位置上。</p><p>黑化的怪兽达达设计的防线极其精良。</p><p>如果防线的某个位置有偶数个防具，那么这个位置就是毫无破绽的(包括这个位置一个防具也没有的情况，因为 $ 0 $ 也是偶数)。</p><p>只有有奇数个防具的位置有破绽，但是整条防线上也最多只有一个位置有奇数个防具。</p><p>作为行动队的队长，lqr 要找到防线的破绽以策划下一步的行动。</p><p>但是，由于防具的数量太多，她实在是不能看出哪里有破绽。</p><p>作为 lqr 可以信任的学弟学妹们，你们要帮助她解决这个问题。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>输入文件的第一行是一个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>，表示有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span> 组互相独立的测试数据。</p><p>每组数据的第一行是一个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>。</p><p>之后 $ N $ 行，每行三个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub><mi mathvariant="normal">，</mi><msub><mi>E</mi><mi>i</mi></msub><mi mathvariant="normal">，</mi><msub><mi>D</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S_i，E_i，D_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">，</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">，</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，代表第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 组防具的三个参数，数据用空格隔开。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>对于每组测试数据，如果防线没有破绽，即所有的位置都有偶数个防具，输出一行 <code>&quot;There's no weakness.&quot;</code>(不包含引号) 。</p><p>否则在一行内输出两个空格分隔的整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span>，表示在位置 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span> 有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> 个防具。当然 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> 应该是一个奇数。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p>防具总数不多于$ 10^8 $,</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub><mo>≤</mo><msub><mi>E</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S_i \le E_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>T</mi><mo>≤</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">1 \le T \le 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span>,</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo>≤</mo><mn>200000</mn></mrow><annotation encoding="application/x-tex">N \le 200000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><msub><mi>S</mi><mi>i</mi></msub><mi mathvariant="normal">，</mi><msub><mi>E</mi><mi>i</mi></msub><mi mathvariant="normal">，</mi><msub><mi>D</mi><mi>i</mi></msub><mo>≤</mo><msup><mn>2</mn><mn>31</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 \le S_i，E_i，D_i \le 2^{31}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">，</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">，</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">321 10 12 10 121 10 1 1 10 1 41 10 1 4 4 1 1 5 1 6 10 1</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">1 1There&#39;s no weakness.4 3</code></pre><h3 id="method-二分答案"><a class="markdownIt-Anchor" href="#method-二分答案"></a> Method : 二分答案</h3><p>原题：<a href="https://www.luogu.com.cn/problem/P4403">[BJWC2008]秦腾与教学评估</a></p><p>首先看到这道题，要求频繁在区间内插值，很容易联想到差分，但很遗憾，差分也难做等差数列的区间插值，因此差分思路走不通。遂看题解= =…， 没想到这居然是一道二分答案的题目。</p><p>这道题它十分神奇，神奇之处就在于有一个很强的性质,就是<strong>序列中最多只有一个位置有奇数个防具(老师)</strong>，所以，如果有解，那么<strong>包含这个位置的点的前缀和必是奇数，不包含这个位置的点的前缀和必是偶数</strong>。因此可以根据这个性质来构造二分答案。</p><p>另外，求前缀和的公式也很巧妙的利用到了等差数列的项数公式，来简化求前缀和的复杂度。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;const int N &#x3D; 2e5 + 7;struct Node &#123;    int S;    int E;    int D;&#125;;Node node[N];int main() &#123;    int T;    cin &gt;&gt; T;        while (T --) &#123;        int n;        scanf(&quot;%d&quot;, &amp;n);                int maxe &#x3D; -1;        for (int i &#x3D; 0; i &lt; n; i ++) &#123;            scanf(&quot;%d %d %d&quot;, &amp;node[i].S, &amp;node[i].E, &amp;node[i].D);            maxe &#x3D; max(maxe, node[i].E);        &#125;                auto get_sum &#x3D; [&amp;](int m) -&gt; int &#123;            &#x2F;&#x2F; 求区间1 ~ m点数的前缀和            LL sum &#x3D; 0;            for (int i &#x3D; 0; i &lt; n; i ++) &#123;                &#x2F;&#x2F; 小于等于的交集                if (node[i].S &lt;&#x3D; m) &#123;                    sum +&#x3D; ((min(node[i].E, m) - node[i].S) &#x2F; node[i].D + 1);                &#125;                &#x2F;&#x2F; 大于则交集为0个            &#125;            return sum;        &#125;;                int l &#x3D; 1, r &#x3D; maxe;        while (l !&#x3D; r + 1)  &#123;            int mid &#x3D; l + (r - l) &#x2F; 2;            if (get_sum(mid) &amp; 1) &#123;                r &#x3D; mid - 1;            &#125;            else &#123;                l &#x3D; mid + 1;            &#125;        &#125;        LL cnt &#x3D; get_sum(l) - get_sum(l - 1);        if (cnt &amp; 1) printf (&quot;%d %lld\n&quot;, l, cnt);        else printf(&quot;There&#39;s no weakness.\n&quot;);    &#125;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n\log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">nlogn</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span></span></span></span>为二分查找的时间复杂度。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(N)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>, 主要消耗空间的为数组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>o</mi><mi>d</mi><mi>e</mi><mo stretchy="false">[</mo><mi>N</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">node[N]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">]</span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>二分</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-32.袭击</title>
    <link href="/2023/02/01/Algorithm/Comp/0x00/20230201-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-032-%E8%A2%AD%E5%87%BB/"/>
    <url>/2023/02/01/Algorithm/Comp/0x00/20230201-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-032-%E8%A2%AD%E5%87%BB/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/121/">算法竞赛进阶指南-32.袭击</a></p><p>在与联盟的战斗中屡战屡败后，帝国撤退到了最后一个据点。</p><p>依靠其强大的防御系统，帝国击退了联盟的六波猛烈进攻。</p><p>经过几天的苦思冥想，联盟将军亚瑟终于注意到帝国防御系统唯一的弱点就是能源供应。</p><p>该系统由 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 个核电站供应能源，其中任何一个被摧毁都会使防御系统失效。</p><p>将军派出了 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 个特工进入据点之中，打算对能源站展开一次突袭。</p><p>不幸的是，由于受到了帝国空军的袭击，他们未能降落在预期位置。</p><p>作为一名经验丰富的将军，亚瑟很快意识到他需要重新安排突袭计划。</p><p>他现在最想知道的事情就是哪个特工距离其中任意一个发电站的距离最短。</p><p>你能帮他算出来这最短的距离是多少吗？</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>输入中包含多组测试用例。</p><p>第一行输入整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>，代表测试用例的数量。</p><p>对于每个测试用例，第一行输入整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 行，每行输入两个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span></span>，代表每个核电站的位置的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mi mathvariant="normal">，</mi><mi>Y</mi></mrow><annotation encoding="application/x-tex">X，Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span></span> 坐标。</p><p>在接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 行，每行输入两个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span></span>，代表每名特工的位置的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mi mathvariant="normal">，</mi><mi>Y</mi></mrow><annotation encoding="application/x-tex">X，Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span></span> 坐标。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>每个测试用例，输出一个最短距离值，结果保留三位小数。</p><p>每个输出结果占一行。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">1 \le N \le 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo>≤</mo><mn>1000000000</mn></mrow><annotation encoding="application/x-tex">0 \le X,Y \le 1000000000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">240 00 11 01 12 22 33 23 340 00 00 00 00 00 00 00 0</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-css" data-language="css"><code class="language-css">1.4140.000</code></pre><h3 id="method-分治"><a class="markdownIt-Anchor" href="#method-分治"></a> Method : 分治</h3><p>关于计算几何的平面最近点对问题，有如下经典永流传系列：</p><p><a href="https://www.luogu.com.cn/problem/P1257">P1257.平面最近点对</a></p><p><a href="https://www.luogu.com.cn/problem/P1429">P1429 平面最近点对（加强版）</a></p><p><a href="https://www.luogu.com.cn/problem/P7883">P7883 平面最近点对（加强加强版）</a></p><p>本题就是这道题的一个小拓展，把点划分成了两个集合，只允许先从两个集合分别选出一个点，再来计算距离。<br />那么可以在计算前判断两个点的类型，如果同属一个集合，那么把其距离视为无穷大即可。</p><p>另外本题的测试数据很刁钻，需要额外加一个按rand排序，把序列中集合的点的分布打乱，不然会TLE。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;cmath&gt;#include &lt;stdlib.h&gt;using namespace std;typedef long long LL;const LL INF &#x3D; 1e18;const int N &#x3D; 1e5 + 7;struct Node &#123;    int x;    int y;    int rd;    int type;    bool operator &lt; (Node&amp; rhs) const &#123;        if (x &#x3D;&#x3D; rhs.x) return rd &lt; rhs.rd;        else return x &lt; rhs.x;    &#125;&#125;;Node p[N * 2];Node tmp[N * 2];double dis(Node&amp; a, Node&amp; b) &#123;    if (a.type &#x3D;&#x3D; b.type) return INF;    LL dx &#x3D; a.x - b.x;    LL dy &#x3D; a.y - b.y;    return sqrt(dx * dx + (LL)dy * dy);&#125;double divide(int l, int r) &#123;    if (l &#x3D;&#x3D; r) return INF;    if (r - l &#x3D;&#x3D; 1) return dis(p[l], p[r]);        int mid &#x3D; l + (r - l) &#x2F; 2;    double dl &#x3D; divide(l, mid), dr &#x3D; divide(mid + 1, r);    double d &#x3D; min(dl, dr);        int k &#x3D; 0;    for (int i &#x3D; l; i &lt;&#x3D; r; i ++) &#123;        if (abs(p[i].x - p[mid].x) &lt; d) &#123;            tmp[k ++] &#x3D; p[i];        &#125;    &#125;    sort(tmp, tmp + k, [](Node&amp; a, Node&amp; b) -&gt; bool&#123;        return a.y &lt; b.y;    &#125;);        for (int i &#x3D; 0; i &lt; k; i ++) &#123;        for (int j &#x3D; i + 1; j &lt; k &amp;&amp; abs(tmp[i].y - tmp[j].y) &lt; d; j ++) &#123;            d &#x3D; min(d, dis(tmp[i], tmp[j]));        &#125;    &#125;        return d;&#125;int main() &#123;    srand(0);    int T;    cin &gt;&gt; T;        while (T --) &#123;        int n;        scanf(&quot;%d&quot;, &amp;n);        for (int i &#x3D; 1; i &lt;&#x3D; n * 2; i ++) &#123;            scanf(&quot;%d %d&quot;, &amp;p[i].x, &amp;p[i].y);            p[i].rd &#x3D; rand()%3000000;            if (i &lt;&#x3D; n) p[i].type &#x3D; 1;            else p[i].type &#x3D; 2;        &#125;        sort(p + 1, p + 1 + n * 2);        printf(&quot;%.3f\n&quot;, divide(1, n * 2));    &#125;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><msup><mo><mi>log</mi><mo>⁡</mo></mo><mn>2</mn></msup><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n\log^2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.148448em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8984479999999999em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 。整个代码的瓶颈就在 sort 上了, 时间复杂度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mn>2</mn><mo>⋅</mo><mi>T</mi><mrow><mo fence="true">(</mo><mfrac><mi>n</mi><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>O</mi><mrow><mo fence="true">(</mo><mi>n</mi><msup><mo><mi>log</mi><mo>⁡</mo></mo><mn>2</mn></msup><mi>n</mi><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">T(n)=2 \cdot T\left(\frac{n}{2}\right)+O(n \log n)=O\left(n \log ^2 n\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.20001em;vertical-align:-0.35001em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2484579999999998em;vertical-align:-0.35001em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8984479999999999em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span>, 当然如果使用归并排序替换 sort 的话, 就可以做到严格的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n \log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul><h3 id="补充"><a class="markdownIt-Anchor" href="#补充"></a> 补充</h3><h4 id="p1429-平面最近点对加强版"><a class="markdownIt-Anchor" href="#p1429-平面最近点对加强版"></a> P1429 平面最近点对（加强版）</h4><p><a href="https://www.luogu.com.cn/problem/P1429">P1429 平面最近点对（加强版）</a></p><p>P1429题解:</p><p>不难发现 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">P</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\mathrm{P}_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 满足这些条件:</p><ol><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">P</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\mathrm{P}_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 与 mid 线的距离小于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span></span></span></span> 。</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">P</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\mathrm{P}_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 的纵坐标比 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>P</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">P_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 大 (因为如果 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">P</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\mathrm{P}_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 的纵坐标比 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">P</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mathrm{P}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 小, 则这个状态会在之前考虑有哪些点可能与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">P</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\mathrm{P}_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 形成最近公共点对的时候考虑到, 没必要重复考虑, 虽然真的考虑的话也就只是 2 倍常数）。</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">P</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\mathrm{P}_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">P</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mathrm{P}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 的纵坐标之差小于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span></span></span></span> 。</li></ol><p>根据这三条, 我们可以画出一个 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>×</mo><mn>2</mn><mi>d</mi></mrow><annotation encoding="application/x-tex">d \times 2 d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault">d</span></span></span></span> 的矩形, 合法的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">P</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\mathrm{P}_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 一定是在这个矩形中的（不含边界）。<br />但是, 我们又知道, 如果两个点同在左侧, 则距离 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≥</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">\geq d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span></span></span></span>; 如果两个点同在右侧, 则距离 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≥</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">\geq d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span></span></span></span> 。<br />那么, 无论是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">mid</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\operatorname{mid}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mop"><span class="mord mathrm">m</span><span class="mord mathrm">i</span><span class="mord mathrm">d</span></span></span></span></span> 左边的正方形还是右边的正方形, 每个里面都至多放 3 个点（包括 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">P</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mathrm{P}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ）。<br />图中红色点即代表 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">P</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\mathrm{P}_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>, 展示了一种方案, 其中每条虚线边的长度都 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≥</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">\geq d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span></span></span></span> 。<br />所以对于每个 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">P</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mathrm{P}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, 检验至多其他 5 个点即可, 所以求最近点对的部分时间复杂度是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 的!<br />(当然其实与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">P</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mathrm{P}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 同侧的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">P</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\mathrm{P}_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 是不可能对更新答案有用的, 如果你愿意的话, 检验至多 3 个点即可)</p><p>注意一点，为什么中间线是<code>p[mid].x</code>而不是<code>(p[l].x + p[r].x )/ 2</code>？</p><blockquote><p>因为递归左右就是按照p的下标来分治的，因此实际划分的左右区间长度本来就不一样，中间分界线就是<code>p[mid].x</code></p></blockquote><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;cmath&gt;using namespace std;typedef long long LL;const int N &#x3D; 4e5 + 7;const int INF &#x3D; 0x3f3f3f3f;struct Node &#123;double x;double y;bool operator &lt; (const Node&amp; rhs) const &#123;if (x &#x3D;&#x3D; rhs.x) return y &lt; rhs.y;return x &lt; rhs.x;&#125;&#125;;Node p[N];Node tmp[N];double dis(Node&amp; a, Node&amp; b) &#123;double dx &#x3D; a.x - b.x;double dy &#x3D; a.y - b.y;return sqrt(dx * dx + dy * dy);&#125;double divide(int l, int r) &#123;if (l &#x3D;&#x3D; r) return INF;if (r - l &#x3D;&#x3D; 1) return dis(p[l], p[r]);&#x2F;&#x2F; 分治int mid &#x3D; l + (r - l) &#x2F; 2;double dl &#x3D; divide(l, mid), dr &#x3D; divide(mid + 1, r);&#x2F;&#x2F; 归并double d &#x3D; min(dl, dr);int k &#x3D; 0;for (int i &#x3D; l; i &lt;&#x3D; r; i++) &#123;if (fabs(p[mid].x - p[i].x) &lt; d) &#123;tmp[++k] &#x3D; p[i];&#125;&#125;sort(tmp + 1, tmp + 1 + k, [](Node&amp; a, Node&amp; b) -&gt; bool &#123;return a.y &lt; b.y;&#125;);for (int i &#x3D; 1; i &lt;&#x3D; k; i++) &#123;for (int j &#x3D; i + 1; j &lt;&#x3D; k &amp;&amp; (tmp[j].y - tmp[i].y) &lt; d; j++) &#123;d &#x3D; min(d, dis(tmp[i], tmp[j]));&#125;&#125;return d;&#125;int main() &#123;int n;cin &gt;&gt; n;for (int i &#x3D; 1; i &lt;&#x3D; n; i++) &#123;scanf(&quot;%lf %lf&quot;, &amp;p[i].x, &amp;p[i].y);&#125;sort(p + 1, p + 1 + n);printf(&quot;%.4lf&quot;, divide(1, n));return 0;&#125;</code></pre><h4 id="p7883-平面最近点对加强加强版"><a class="markdownIt-Anchor" href="#p7883-平面最近点对加强加强版"></a> P7883 平面最近点对（加强加强版）</h4><p><a href="https://www.luogu.com.cn/problem/P7883">P7883 平面最近点对（加强加强版）</a></p><p>P7883 题解：</p><p>这题别求<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>q</mi><mi>r</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">sqrt</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">t</span></span></span></span>，会退化到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msup><mi>g</mi><mn>2</mn></msup><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlog^2(n))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>从而TLE.</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;const int N &#x3D; 4e5 + 7;const LL INF &#x3D; 1e18;struct Node &#123;LL x;LL y;bool operator &lt; (const Node&amp; rhs) const &#123;if (x &#x3D;&#x3D; rhs.x) return y &lt; rhs.y;return x &lt; rhs.x;&#125;&#125;;Node p[N];Node tmp[N];LL dis(Node&amp; a, Node&amp; b) &#123;double dx &#x3D; a.x - b.x;double dy &#x3D; a.y - b.y;return dx * dx + dy * dy;&#125;LL divide(int l, int r) &#123;if (l &#x3D;&#x3D; r) return INF;if (r - l &#x3D;&#x3D; 1) return dis(p[l], p[r]);&#x2F;&#x2F; 分治int mid &#x3D; l + (r - l) &#x2F; 2;LL dl &#x3D; divide(l, mid), dr &#x3D; divide(mid + 1, r);&#x2F;&#x2F; 归并LL d &#x3D; min(dl, dr);int k &#x3D; 0;for (int i &#x3D; l; i &lt;&#x3D; r; i++) &#123;if (abs(p[mid].x - p[i].x) * abs(p[mid].x - p[i].x) &lt; d) &#123;tmp[++k] &#x3D; p[i];&#125;&#125;sort(tmp + 1, tmp + 1 + k, [](Node&amp; a, Node&amp; b) -&gt; bool &#123;return a.y &lt; b.y;&#125;);for (int i &#x3D; 1; i &lt;&#x3D; k; i++) &#123;for (int j &#x3D; i + 1; j &lt;&#x3D; k &amp;&amp; (tmp[j].y - tmp[i].y) * (tmp[j].y - tmp[i].y) &lt; d; j++) &#123;d &#x3D; min(d, dis(tmp[i], tmp[j]));&#125;&#125;return d;&#125;int main() &#123;int n;cin &gt;&gt; n;for (int i &#x3D; 1; i &lt;&#x3D; n; i++) &#123;scanf(&quot;%lld %lld&quot;, &amp;p[i].x, &amp;p[i].y);&#125;sort(p + 1, p + 1 + n);LL res &#x3D; divide(1, n);printf(&quot;%lld&quot;, res);return 0;&#125;</code></pre><p><strong>参考</strong>:</p><p><a href="https://www.luogu.com.cn/blog/syksykCCC/solution-p1429">https://www.luogu.com.cn/blog/syksykCCC/solution-p1429</a></p><p><a href="https://www.acwing.com/solution/content/119700/">https://www.acwing.com/solution/content/119700/</a></p>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>分治</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-31.分形</title>
    <link href="/2023/01/31/Algorithm/Comp/0x00/20230131-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-031-%E5%88%86%E5%BD%A2/"/>
    <url>/2023/01/31/Algorithm/Comp/0x00/20230131-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-031-%E5%88%86%E5%BD%A2/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="">算法竞赛进阶指南-31.分形</a></p><p>分形，具有以非整数维形式充填空间的形态特征。</p><p>通常被定义为“一个粗糙或零碎的几何形状，可以分成数个部分，且每一部分都（至少近似地）是整体缩小后的形状”，即具有自相似的性质。</p><p>现在，定义“盒子分形”如下：</p><p>一级盒子分形：</p><pre class="language-nginx" data-language="nginx"><code class="language-nginx">X</code></pre><p>二级盒子分形：</p><pre class="language-nginx" data-language="nginx"><code class="language-nginx">X X XX X</code></pre><p>如果用 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">B(n - 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 代表第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 级盒子分形，那么第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 级盒子分形即为：</p><pre class="language-none"><code class="language-none">B(n - 1)        B(n - 1)        B(n - 1)B(n - 1)        B(n - 1)</code></pre><p>你的任务是绘制一个 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 级的盒子分形。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>输入包含几个测试用例。</p><p>输入的每一行包含一个不大于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span></span></span></span> 的正整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>，代表要输出的盒子分形的等级。</p><p>输入的最后一行为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">1</span></span></span></span>，代表输入结束。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>对于每个测试用例，使用 <code>X</code> 符号输出对应等级的盒子分形。</p><p>请注意 <code>X</code> 是一个大写字母。</p><p>每个测试用例后输出一个独立一行的短划线。</p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-diff" data-language="diff"><code class="language-diff">1234-1</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例</h4><pre class="language-diff" data-language="diff"><code class="language-diff">X-X X XX X-X X   X X X     XX X   X X   X X    X   X XX X   X X X     XX X   X X-X X   X X         X X   X X X     X           X     XX X   X X         X X   X X   X X               X X    X                 X   X X               X XX X   X X         X X   X X X     X           X     XX X   X X         X X   X X         X X   X X          X     X         X X   X X            X X             X            X X         X X   X X          X     X         X X   X XX X   X X         X X   X X X     X           X     XX X   X X         X X   X X   X X               X X    X                 X   X X               X XX X   X X         X X   X X X     X           X     XX X   X X         X X   X X-</code></pre><hr /><h3 id="method-递归"><a class="markdownIt-Anchor" href="#method-递归"></a> Method : 递归</h3><p>题意很明显的递归嵌套，递归的时候要注意每次<code>offset</code>的变化规律。</p><blockquote><p>不要在dfs内打印：在dfs内直接打印容易出现换行问题。<br />可以先用二维数组存储是否打印(相当于<strong>记忆化</strong>cache)，等dfs完再一起打印。</p></blockquote><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;cstring&gt;#include &lt;cmath&gt;using namespace std;const int N &#x3D; (int)pow(3, 7) + 7;bool g[N][N];void draw(int n, int x, int y) &#123;    if (n &#x3D;&#x3D; 1) &#123;        g[x][y] &#x3D; true;        return;    &#125;    int offset &#x3D; (int)pow(3, n - 2); &#x2F;&#x2F; (n - 1)级的offset    draw(n - 1, x, y);                          &#x2F;&#x2F; 左上    draw(n - 1, x + 2 * offset, y);             &#x2F;&#x2F; 右上    draw(n - 1, x + offset, y + offset);        &#x2F;&#x2F; 正中    draw(n - 1, x, y + 2 * offset);             &#x2F;&#x2F; 左下    draw(n - 1, x + 2 * offset, y + 2 *offset); &#x2F;&#x2F; 右下&#125;int main() &#123;    memset(g, false, sizeof g);    draw(7, 1, 1);    int n;    while (cin &gt;&gt; n) &#123;        if (n &#x3D;&#x3D; -1) break;        int len &#x3D; (int)pow(3, n - 1);        for (int i &#x3D; 1; i &lt;&#x3D; len; i ++) &#123;            for (int j &#x3D; 1; j &lt;&#x3D; len; j++) &#123;                if (g[i][j]) printf(&quot;X&quot;);                else printf(&quot; &quot;);                           &#125;            puts(&quot;&quot;);        &#125;        puts(&quot;-&quot;);    &#125;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mn>5</mn><mn>7</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(5^7)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>， 递归5叉树，树的深度是7。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n^2)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>，主要用于<code>g[N][N]</code>。</p></li></ul><p><strong>参考</strong>:</p><p><a href="https://www.acwing.com/solution/content/823/">https://www.acwing.com/solution/content/823/</a></p>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>递归</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-30.占卜DIY</title>
    <link href="/2023/01/30/Algorithm/Comp/0x00/20230130-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-030-%E5%8D%A0%E5%8D%9CDIY/"/>
    <url>/2023/01/30/Algorithm/Comp/0x00/20230130-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-030-%E5%8D%A0%E5%8D%9CDIY/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/119/">算法竞赛进阶指南-30.占卜DIY</a></p><p>达达学会了使用扑克 DIY 占卜。</p><p>方法如下：</p><p>一副去掉大小王的扑克共 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>52</mn></mrow><annotation encoding="application/x-tex">52</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">2</span></span></span></span> 张，打乱后均分为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>13</mn></mrow><annotation encoding="application/x-tex">13</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">3</span></span></span></span> 堆，编号 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>∼</mo><mn>13</mn></mrow><annotation encoding="application/x-tex">1 \sim 13</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">3</span></span></span></span>，每堆 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 张，其中第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>13</mn></mrow><annotation encoding="application/x-tex">13</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">3</span></span></span></span> 堆称作“生命牌”，也就是说你有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 条命。</p><p>这里边，$ 4 $ 张 $ K $ 被称作死神。</p><p>初始状态下，所有的牌背面朝上扣下。</p><p>流程如下：</p><p>1.抽取生命牌中的最上面一张(第一张)。</p><p>2.把这张牌翻开，正面朝上，放到牌上的数字所对应编号的堆的最上边。(例如抽到 $ 2 $，正面朝上放到第 $ 2 $ 堆牌最上面，又比如抽到 $ J $，放到第 $ 11 $ 堆牌最上边，注意是正面朝上放)</p><p>3.从刚放了牌的那一堆最底下(最后一张)抽取一张牌，重复第 $ 2 $ 步。（例如你上次抽了 $ 2 $，放到了第二堆顶部，现在抽第二堆最后一张发现是 $ 8 $，又放到第 $ 8 $ 堆顶部…）</p><p>4.在抽牌过程中如果抽到 $ K $，则称死了一条命，就扔掉 $ K $ 再从第 $ 1 $ 步开始。</p><p>5.当发现四条命都死了以后，统计现在每堆牌上边正面朝上的牌的数目，只要同一数字的牌出现 $ 4 $ 张正面朝上的牌(比如 $ 4 $ 个 $ A $)，则称“开了一对”，当然 $ 4 $ 个 $ K $ 是不算的。</p><p>6.统计一共开了多少对，开了 $ 0 $ 对称作”极凶”，$ 1 \sim 2 $ 对为“大凶”，$ 3 $ 对为“凶”，$ 4 \sim 5 $ 对为“小凶”，$ 6 $ 对为“中庸”，$ 7 \sim 8 $ 对“小吉”，$ 9 $ 对为“吉”，$ 10 \sim 11 $ 为“大吉”，$ 12 $ 为“满堂开花，极吉”。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>一共输入 $ 13 $ 行数据，每行四个数字或字母，表示每堆牌的具体牌型(不区分花色只区分数字)，每堆输入的顺序为从上到下。</p><p>为了便于读入，用 $ 0 $ 代表 $ 10 $。</p><p>同行数字用空格隔开。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出一个整数，代表统计得到的开出的总对数。</p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">8 5 A AK 5 3 29 6 0 63 4 3 43 4 4 55 6 7 68 7 7 79 9 8 89 0 0 0K J J JQ A Q KJ Q 2 2A K Q 2</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">9</code></pre><hr /><h3 id="method-模拟"><a class="markdownIt-Anchor" href="#method-模拟"></a> Method : 模拟</h3><p>理解了题意就很好做的一道模拟题。</p><p>这里使用的是数组 + 额外的两个idx模拟的抽取卡牌的过程，也可以使用双端队列来模拟抽取卡牌的过程。</p><p><strong>吐槽:</strong> memset是真的难用，有时候会莫名其妙初始化不了</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;const int N &#x3D; 13 + 7;const int M &#x3D; 4 + 7;char poke[N][M];vector&lt;int&gt; idx_top(N, 1); &#x2F;&#x2F; 从上往下抽到第i张牌vector&lt;int&gt; idx_bot(N, 4); &#x2F;&#x2F; 从下往上抽到第i张牌int cnt[N];      &#x2F;&#x2F; 第i堆正面朝上的纸牌数int life &#x3D; 4;int trans(char c) &#123;    switch(c) &#123;        case &#39;0&#39; :            return 10;        case &#39;J&#39; :            return 11;        case &#39;Q&#39; :            return 12;        case &#39;K&#39; :            return 13;        case &#39;A&#39; :            return 1;        default :            return c - &#39;0&#39;;    &#125;&#125;int pick_top(int cur) &#123;    int pick &#x3D; trans(poke[cur][idx_top[cur]]);    idx_top[cur] ++;    cnt[pick] ++;        if (pick &#x3D;&#x3D; 13) life --;    return pick;&#125;int pick_bot(int cur) &#123;    int pick &#x3D; trans(poke[cur][idx_bot[cur]]);    idx_bot[cur] --;    cnt[pick] ++;        if (pick &#x3D;&#x3D; 13) life --;    return pick;&#125;int main() &#123;    memset(poke, &#39;0&#39;, sizeof poke);    memset(cnt, 0, sizeof cnt);        for (int i &#x3D; 1; i &lt;&#x3D; 13; i ++) &#123;        for (int j &#x3D; 1; j &lt;&#x3D; 4; j ++) &#123;            &#x2F;&#x2F; scanf(&quot;%c&quot;, &amp;poke[i][j]);            cin &gt;&gt; poke[i][j];        &#125;    &#125;        int cur &#x3D; 13;    while (life !&#x3D; 0) &#123;        if (cur &#x3D;&#x3D; 13) cur &#x3D; pick_top(cur);        else cur &#x3D; (pick_bot(cur));    &#125;        int res &#x3D; 0;    for (int i &#x3D; 1; i &lt;&#x3D; 12; i ++) &#123;        if (cnt[i] &#x3D;&#x3D; 4) &#123;            res ++;        &#125;    &#125;    cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>∗</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n * m)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>为13，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">{m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">m</span></span></span></span></span>为4。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>∗</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n * m)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>为13，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">{m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">m</span></span></span></span></span>为4。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>模拟</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-29.飞行员兄弟</title>
    <link href="/2023/01/29/Algorithm/Comp/0x00/20230129-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-029-%E9%A3%9E%E8%A1%8C%E5%91%98%E5%85%84%E5%BC%9F/"/>
    <url>/2023/01/29/Algorithm/Comp/0x00/20230129-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-029-%E9%A3%9E%E8%A1%8C%E5%91%98%E5%85%84%E5%BC%9F/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/118/">算法竞赛进阶指南-29.飞行员兄弟</a></p><p>“飞行员兄弟”这个游戏，需要玩家顺利的打开一个拥有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>16</mn></mrow><annotation encoding="application/x-tex">16</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">6</span></span></span></span> 个把手的冰箱。</p><p>已知每个把手可以处于以下两种状态之一：打开或关闭。</p><p>只有当所有把手都打开时，冰箱才会打开。</p><p>把手可以表示为一个 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>4</mn><mo>×</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">4 \times 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 的矩阵，您可以改变任何一个位置 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[i,j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span> 上把手的状态。</p><p>但是，这也会使得第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 行和第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span></span></span></span> 列上的所有把手的状态也随着改变。</p><p>请你求出打开冰箱所需的切换把手的次数最小值是多少。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>输入一共包含四行，每行包含四个把手的初始状态。</p><p>符号 <code>+</code> 表示把手处于闭合状态，而符号 <code>-</code> 表示把手处于打开状态。</p><p>至少一个手柄的初始状态是关闭的。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>第一行输出一个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>，表示所需的最小切换把手次数。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 行描述切换顺序，每行输出两个整数，代表被切换状态的把手的行号和列号，数字之间用空格隔开。</p><p><strong>注意</strong>：如果存在多种打开冰箱的方式，则按照优先级整体从上到下，同行从左到右打开。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>≤</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>≤</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">1 \le i,j \le 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-diff" data-language="diff"><code class="language-diff">-+-----------+--</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">61 11 31 44 14 34 4</code></pre><hr /><h3 id="method-位运算枚举"><a class="markdownIt-Anchor" href="#method-位运算枚举"></a> Method : 位运算+枚举</h3><p>这道题比较像第8题费解的开关，而本题的枚举状态更是简单。</p><p>解题要领：</p><ul><li><p>按题目逻辑模拟实现开关函数<code>turn(int x, int y)</code></p></li><li><p>这种开关问题，如果按同一个开关两次，会恢复成原来的状态，因此要想按的次数最少，显然每个开关最多按一次，因此可以把状态进行二进制压缩：用一个int型数存储所有可能的开关方式，其二进制数表示开关的位置，<code>i * n + j</code>位数的1或0，映射到二维坐标<code>[i][j]</code>上，决定开或关</p><ul><li>用<code>state</code>存储答案,<code>(state &gt;&gt; n &amp; 1 == 1)</code>来判断state从低到高的第n位是否为1</li><li>每次枚举前都要memcpy备份，枚举后都要memcpy还原</li></ul></li></ul><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;const int n &#x3D; 4;const int INF &#x3D; 0x3f3f3f3f;char graph[n][n];void change(char &amp;c) &#123;    if (c &#x3D;&#x3D; &#39;+&#39;) c &#x3D; &#39;-&#39;;    else c &#x3D; &#39;+&#39;;&#125;void turn(int x, int y) &#123;    change(graph[x][y]);    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        change(graph[i][y]);    &#125;    for (int j &#x3D; 0; j &lt; n; j ++) &#123;        change(graph[x][j]);    &#125;&#125;int main() &#123;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        cin &gt;&gt; graph[i];    &#125;    int res &#x3D; INF;    int state;    &#x2F;&#x2F; 枚举所有开关打开的可能性, 1对应的位置选择turn    for (int op &#x3D; 0; op &lt; (1 &lt;&lt; n * n); op ++) &#123;        char backup[n][n];        memcpy(backup, graph, sizeof graph);        int cnt &#x3D; 0;        for (int i &#x3D; 0; i &lt; n; i ++) &#123;            for (int j &#x3D; 0; j &lt; n; j ++) &#123;                if ((op &gt;&gt; (i * n + j)) &amp; 1) &#123;                    turn(i, j);                    cnt ++;                &#125;            &#125;        &#125;        bool flag &#x3D; true;        for (int i &#x3D; 0; i &lt; n; i ++) &#123;            for (int j &#x3D; 0; j &lt; n; j ++) &#123;                if (graph[i][j] &#x3D;&#x3D; &#39;+&#39;) &#123;                    flag &#x3D; false;                    break;                &#125;            &#125;        &#125;        if (flag &amp;&amp; cnt &lt; res) &#123;            res &#x3D; cnt;            state &#x3D; op;        &#125;        memcpy(graph, backup, sizeof backup);    &#125;    cout &lt;&lt; res &lt;&lt; endl;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        for (int j &#x3D; 0; j &lt; n; j ++) &#123;            if ((state &gt;&gt; (i * n + j)) &amp; 1) &#123;                printf(&quot;%d %d\n&quot;, i + 1, j + 1);            &#125;        &#125;    &#125;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mn>2</mn><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>∗</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></msup><mo>∗</mo><mo stretchy="false">(</mo><mi>n</mi><mo>∗</mo><mi>n</mi><mo stretchy="false">)</mo><mo>∗</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(2^{(n * n)} * (n * n) * n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight">n</span><span class="mbin mtight">∗</span><span class="mord mathdefault mtight">n</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 第一个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>∗</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{(n * n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>o</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">op</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">o</span><span class="mord mathdefault">p</span></span></span></span>状态的枚举，第二个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>∗</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{(n * n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>是内部双重循环，最后一个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span></span></span></span></span>是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mi>u</mi><mi>r</mi><mi>n</mi><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">turn()</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mclose">)</span></span></span></span>函数。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>∗</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n * n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，存储输入的图为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>∗</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{(n * n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>位运算</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-28.给树染色</title>
    <link href="/2023/01/28/Algorithm/Comp/0x00/20230128-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-028-%E7%BB%99%E6%A0%91%E6%9F%93%E8%89%B2/"/>
    <url>/2023/01/28/Algorithm/Comp/0x00/20230128-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-028-%E7%BB%99%E6%A0%91%E6%9F%93%E8%89%B2/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/117/">算法竞赛进阶指南-28.给树染色</a></p><h3 id="method-位运算-二进制拆分"><a class="markdownIt-Anchor" href="#method-位运算-二进制拆分"></a> Method : 位运算-二进制拆分</h3><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;LL a, b, p;LL fast_pow(LL x, LL n) &#123;    LL res &#x3D; 1LL;    while (n) &#123;        if (n &amp; 1) &#123;            res &#x3D; res * x % p;        &#125;        x &#x3D; x * x % p;        n &#x3D; n &gt;&gt; 1;    &#125;    return res % p;&#125;int main() &#123;    cin &gt;&gt; a &gt;&gt; b &gt;&gt; p;    cout &lt;&lt; fast_pow(a, b) &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(log_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi></mrow><annotation encoding="application/x-tex">log_2n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span></span></span></span>为对n进行二进制拆分的时间复杂度。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>贪心</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-27.国王游戏</title>
    <link href="/2023/01/27/Algorithm/Comp/0x00/20230127-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-027-%E5%9B%BD%E7%8E%8B%E6%B8%B8%E6%88%8F/"/>
    <url>/2023/01/27/Algorithm/Comp/0x00/20230127-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-027-%E5%9B%BD%E7%8E%8B%E6%B8%B8%E6%88%8F/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/116/">算法竞赛进阶指南-27.国王游戏</a></p><h3 id="method-位运算-二进制拆分"><a class="markdownIt-Anchor" href="#method-位运算-二进制拆分"></a> Method : 位运算-二进制拆分</h3><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;LL a, b, p;LL fast_pow(LL x, LL n) &#123;    LL res &#x3D; 1LL;    while (n) &#123;        if (n &amp; 1) &#123;            res &#x3D; res * x % p;        &#125;        x &#x3D; x * x % p;        n &#x3D; n &gt;&gt; 1;    &#125;    return res % p;&#125;int main() &#123;    cin &gt;&gt; a &gt;&gt; b &gt;&gt; p;    cout &lt;&lt; fast_pow(a, b) &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(log_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi></mrow><annotation encoding="application/x-tex">log_2n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span></span></span></span>为对n进行二进制拆分的时间复杂度。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>贪心</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-26.雷达设备</title>
    <link href="/2023/01/26/Algorithm/Comp/0x00/20230126-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-026-%E9%9B%B7%E8%BE%BE%E8%AE%BE%E5%A4%87/"/>
    <url>/2023/01/26/Algorithm/Comp/0x00/20230126-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-026-%E9%9B%B7%E8%BE%BE%E8%AE%BE%E5%A4%87/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/115/">算法竞赛进阶指南-26.雷达设备</a></p><h3 id="method-位运算-二进制拆分"><a class="markdownIt-Anchor" href="#method-位运算-二进制拆分"></a> Method : 位运算-二进制拆分</h3><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;LL a, b, p;LL fast_pow(LL x, LL n) &#123;    LL res &#x3D; 1LL;    while (n) &#123;        if (n &amp; 1) &#123;            res &#x3D; res * x % p;        &#125;        x &#x3D; x * x % p;        n &#x3D; n &gt;&gt; 1;    &#125;    return res % p;&#125;int main() &#123;    cin &gt;&gt; a &gt;&gt; b &gt;&gt; p;    cout &lt;&lt; fast_pow(a, b) &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(log_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi></mrow><annotation encoding="application/x-tex">log_2n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span></span></span></span>为对n进行二进制拆分的时间复杂度。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>贪心</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-25.畜栏预定</title>
    <link href="/2023/01/25/Algorithm/Comp/0x00/20230125-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-025-%E7%95%9C%E6%A0%8F%E9%A2%84%E5%AE%9A/"/>
    <url>/2023/01/25/Algorithm/Comp/0x00/20230125-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-025-%E7%95%9C%E6%A0%8F%E9%A2%84%E5%AE%9A/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/113/">算法竞赛进阶指南-25.畜栏预定</a></p><p>本题是一道区间问题，区间问题往往具有贪心策略，并与排序相关。</p><h3 id="method-贪心"><a class="markdownIt-Anchor" href="#method-贪心"></a> Method : 贪心</h3><p><strong>区间分组</strong>问题， 分组组数==最大区间厚度</p><p>启发式策略：</p><ol><li><p>区间按左端点升序排序</p></li><li><p>顺序枚举，分类讨论</p><ul><li>如果之前<strong>存在</strong>一个组的区间右端点不与当前区间左端点相交，则将当前区间插入该组，并更新该组的右端点</li><li>如果之前<strong>不存在</strong>一个组的区间右端点不与当前区间左端点相交，则将当前区间插入该组</li></ul><p>区间的组可以用<strong>小根堆</strong>(组的区间右端点)维护，每次取出堆顶与当前区间进行判断。</p></li></ol><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;queue&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;const int N &#x3D; 5e4 + 7;struct Node &#123;    int l;    int r;    int id;    bool operator &lt; (const Node &amp; rhs) const &#123;        if (l &#x3D;&#x3D; rhs.l) return r &lt; rhs.r;        else return l &lt; rhs.l;    &#125;&#125;;vector&lt;Node&gt; cows;vector&lt;int&gt; id;auto cmp &#x3D; [](const Node &amp;a, const Node &amp;b) -&gt; bool&#123;    return a.r &gt; b.r;&#125;;priority_queue&lt;Node, vector&lt;Node&gt;, decltype(cmp)&gt; pq(cmp);int n;int main() &#123;    cin &gt;&gt; n;    id.resize(n);    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        int l, r;        scanf(&quot;%d %d&quot;, &amp;l, &amp;r);        cows.push_back(&#123;l, r, i&#125;);    &#125;    sort(cows.begin(), cows.end());    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        &#x2F;&#x2F; 可以往后拼接        if (!pq.empty() &amp;&amp; pq.top().r &lt; cows[i].l) &#123;            auto t &#x3D; pq.top(); pq.pop();            t.r &#x3D; cows[i]. r;            id[cows[i].id] &#x3D; t.id;            pq.push(t);        &#125;        &#x2F;&#x2F; 新开一个畜栏        else &#123;            id[cows[i].id] &#x3D; pq.size() + 1;            pq.push(&#123;cows[i].l, cows[i].r, pq.size() + 1&#125;);        &#125;    &#125;    cout &lt;&lt; pq.size() &lt;&lt; endl;    for (int i &#x3D; 0; i &lt; n; i ++) printf(&quot;%d\n&quot;, id[i]);    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(nlogn)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">nlogn</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span></span></span></span>为调整优先队列的时间复杂度。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>贪心</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-24.防晒</title>
    <link href="/2023/01/24/Algorithm/Comp/0x00/20230124-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-024-%E9%98%B2%E6%99%92/"/>
    <url>/2023/01/24/Algorithm/Comp/0x00/20230124-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-024-%E9%98%B2%E6%99%92/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/112/">算法竞赛进阶指南-24.防晒</a></p><p>本题是一道区间问题，区间问题往往具有贪心策略，并与排序相关。</p><h3 id="method-贪心"><a class="markdownIt-Anchor" href="#method-贪心"></a> Method : 贪心</h3><blockquote><p>难点在于这个问题：为什么不能将奶牛的单位强度按照minSPF从小到大排序,然后防晒霜也按照从小到大排序,将最小的先和最小的进行匹配呢？</p></blockquote><p>[1, 5]和[2, 3]和spfs[1] = 1, spfs[2] = 1. 这个包含关系在排序后始终要优先考虑区间[2,  3]</p><p>不管是按左端点排序还是按右端点排序，始终要注意一点:</p><p><strong>先考虑的区间不能完全包含后考虑的区间</strong></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;map&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef pair&lt;int, int&gt; PII;const int C &#x3D; 2500 + 7;const int L &#x3D; 2500 + 7;int c, l;vector&lt;PII&gt; cows;map&lt;int, int&gt; spfs;int main() &#123;    cin &gt;&gt; c &gt;&gt; l;    for (int i &#x3D; 0; i &lt; c; i ++) &#123;        int min_spf, max_spf;        scanf(&quot;%d %d&quot;, &amp;min_spf, &amp;max_spf);        cows.push_back(&#123;min_spf, max_spf&#125;);    &#125;    for (int i &#x3D; 0; i &lt; l; i ++) &#123;        int spf,  cover;        scanf(&quot;%d %d&quot;, &amp;spf, &amp;cover);        spfs[spf] +&#x3D; cover;    &#125;        int res &#x3D; 0;    sort(cows.begin(), cows.end());    for (int i &#x3D; cows.size() - 1; i &gt;&#x3D; 0; i --) &#123;        auto spf &#x3D; spfs.upper_bound(cows[i].second);        if (spf &#x3D;&#x3D; spfs.begin()) continue; &#x2F;&#x2F; 对upper_bound()函数检查边界        else spf &#x3D; prev(spf);        if (spf-&gt;first &gt;&#x3D; cows[i].first) &#123;            res ++;            spf-&gt;second --;            if (spf-&gt;second &#x3D;&#x3D; 0) &#123;                spfs.erase(spf);            &#125;        &#125;    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(nlogn)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 第一步快速排序sort的时间复杂度 是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，第二步<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>次循环中每次二分<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(logn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，合计<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(nlogn)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，spfs的map和cows数组长度均为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>贪心</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-23.天才ACM</title>
    <link href="/2023/01/23/Algorithm/Comp/0x00/20230123-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-023-%E5%A4%A9%E6%89%8DACM/"/>
    <url>/2023/01/23/Algorithm/Comp/0x00/20230123-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-023-%E5%A4%A9%E6%89%8DACM/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/111/">算法竞赛进阶指南-23.天才ACM</a></p><h3 id="method-位运算-二进制拆分"><a class="markdownIt-Anchor" href="#method-位运算-二进制拆分"></a> Method : 位运算-二进制拆分</h3><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;LL a, b, p;LL fast_pow(LL x, LL n) &#123;    LL res &#x3D; 1LL;    while (n) &#123;        if (n &amp; 1) &#123;            res &#x3D; res * x % p;        &#125;        x &#x3D; x * x % p;        n &#x3D; n &gt;&gt; 1;    &#125;    return res % p;&#125;int main() &#123;    cin &gt;&gt; a &gt;&gt; b &gt;&gt; p;    cout &lt;&lt; fast_pow(a, b) &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(log_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi></mrow><annotation encoding="application/x-tex">log_2n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span></span></span></span>为对n进行二进制拆分的时间复杂度。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-22.奇数码问题</title>
    <link href="/2023/01/22/Algorithm/Comp/0x00/20230122-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-022-%E5%A5%87%E6%95%B0%E7%A0%81%E9%97%AE%E9%A2%98/"/>
    <url>/2023/01/22/Algorithm/Comp/0x00/20230122-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-022-%E5%A5%87%E6%95%B0%E7%A0%81%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/110/">算法竞赛进阶指南-22.奇数码问题</a></p><h3 id="method-归并排序"><a class="markdownIt-Anchor" href="#method-归并排序"></a> Method : 归并排序</h3><p>空格左(右)移动时，逆序对数量显然不发生变化；空格上(下)移动时，相当于某个数与它前(后)n - 1个数交换了位置，因为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">{n -1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span></span></span>是偶数，所以逆序对数的变化也只能是偶数。</p><p>把除了空格(也就是0)以外的数据放在n * n的一维数组中，然后统计逆序对的个数，判断逆序对个数的奇偶性是否相同。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;LL a, b, p;LL fast_pow(LL x, LL n) &#123;    LL res &#x3D; 1LL;    while (n) &#123;        if (n &amp; 1) &#123;            res &#x3D; res * x % p;        &#125;        x &#x3D; x * x % p;        n &#x3D; n &gt;&gt; 1;    &#125;    return res % p;&#125;int main() &#123;    cin &gt;&gt; a &gt;&gt; b &gt;&gt; p;    cout &lt;&lt; fast_pow(a, b) &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(log_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi></mrow><annotation encoding="application/x-tex">log_2n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span></span></span></span>为对n进行二进制拆分的时间复杂度。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul><p>上面的结论还可以扩展到n * m个数码的问题，此时需要对列数m分奇偶讨论:</p><ul><li>当m为奇数，需要判断&quot;<strong>两个局面的逆序对数</strong>&quot;的奇偶性是否相同</li><li>当m为偶数，需要判断&quot;<strong>两个局面的逆序对数之差</strong>&quot;和“<strong>两个局面下空格所在行数之差</strong>”的奇偶性是否相同</li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>逆序对</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-21.超快速排序</title>
    <link href="/2023/01/21/Algorithm/Comp/0x00/20230121-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-021-%E8%B6%85%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/"/>
    <url>/2023/01/21/Algorithm/Comp/0x00/20230121-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-021-%E8%B6%85%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/109/">算法竞赛进阶指南-21.超快速排序</a></p><p>题目要求只能过比较相邻两个数值的排序方法，实际上就是冒泡排序。在排序过程中找到一对大小颠倒的相邻数值，把它们交换，就会使得整个序列的逆序对数量-1。而对于一个有序序列，显然其逆序对的数量为0，因此该题就可以转换为求一个序列逆序对的数量，即为题目所求的交换次数。</p><h3 id="method-归并排序"><a class="markdownIt-Anchor" href="#method-归并排序"></a> Method : 归并排序</h3><p>使用归并排序可以在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(nlog_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，求一个长度为n的序列的逆序对的个数。</p><p>递归对左右两半排序时，可以把左右两半各自内部的逆序对数作为子问题，在合并时只需要考虑“左边一半里一个较大的数”与“右边一半里一个较小的数”构成逆序对的情形。</p><p>合并两个有序子序列<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>l</mi><mo>∼</mo><mi>m</mi><mi>i</mi><mi>d</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">{arr[l \sim mid]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mclose">]</span></span></span></span></span>与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>m</mi><mi>i</mi><mi>d</mi><mo>+</mo><mn>1</mn><mo>∼</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">{arr[mid + 1 \sim r]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span></span>，采用两个指针<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mi mathvariant="normal">，</mi><mi>j</mi></mrow><annotation encoding="application/x-tex">i，j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">i</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span></span></span></span>分别扫描，当出现<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>&gt;</mo><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">arr[i] &gt; arr[j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span>时，说明<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>i</mi><mo>∼</mo><mi>m</mi><mi>i</mi><mi>d</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">{arr[i \sim mid]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mclose">]</span></span></span></span></span>中所有元素都与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">arr[j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span>满足逆序对，数量为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>i</mi><mi>d</mi><mo>−</mo><mi>i</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">mid - i + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>个。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;typedef long long LL;const int N &#x3D; 5e5 + 7;int n;vector&lt;int&gt; tmp;LL merge_sort(vector&lt;int&gt; &amp;arr, int l, int r) &#123;    if (l &gt;&#x3D; r) return 0;        int mid &#x3D; l + (r - l) &#x2F; 2;    LL res &#x3D; merge_sort(arr, l, mid) + merge_sort(arr, mid + 1, r);        int k &#x3D; 0;    int i &#x3D; l, j &#x3D; mid + 1;    while (i &lt;&#x3D; mid &amp;&amp; j &lt;&#x3D; r) &#123;        if (arr[i] &lt;&#x3D; arr[j]) tmp[k ++] &#x3D; arr[i ++];        else &#123;            tmp[k ++] &#x3D; arr[j ++];            res +&#x3D; mid - i + 1; &#x2F;&#x2F; 从i到mid全是满足的逆序对        &#125;    &#125;        while (i &lt;&#x3D; mid) tmp[k ++] &#x3D; arr[i ++];    while (j &lt;&#x3D; r) tmp[k ++] &#x3D; arr[j ++];        for (int i &#x3D; l, j &#x3D; 0; j &lt; k; i ++, j ++) arr[i] &#x3D; tmp[j];    return res;&#125;int main () &#123;    while (true) &#123;        int n;        scanf(&quot;%d&quot;, &amp;n);                if (n !&#x3D; 0) &#123;            vector&lt;int&gt; arr;            for (int i &#x3D; 0; i &lt; n; i ++) &#123;                int x;                scanf(&quot;%d&quot;, &amp;x);                arr.emplace_back(x);            &#125;            tmp.resize(arr.size());            LL res &#x3D; merge_sort(arr, 0, arr.size() - 1);            cout &lt;&lt; res &lt;&lt; endl;        &#125;        else &#123;            break;        &#125;    &#125;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(nlog_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 就是归并排序的时间复杂度。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>  要开辟数组arr和tmp，长度均为n。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>逆序对</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-20.动态中位数</title>
    <link href="/2023/01/20/Algorithm/Comp/0x00/20230120-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-020-%E5%8A%A8%E6%80%81%E4%B8%AD%E4%BD%8D%E6%95%B0/"/>
    <url>/2023/01/20/Algorithm/Comp/0x00/20230120-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-020-%E5%8A%A8%E6%80%81%E4%B8%AD%E4%BD%8D%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/108/">算法竞赛进阶指南-20.动态中位数</a></p><h3 id="method-对顶堆"><a class="markdownIt-Anchor" href="#method-对顶堆"></a> Method : 对顶堆</h3><p>具体思路大致是，维护两个堆：一个大根堆，一个小根堆。然后小于中位数的都放在大根堆，大于中位数的都放在小根堆，这样的两个堆就构成了一个<strong>对顶堆</strong>。</p><p><strong>当序列的个数为奇数时，中位数恰好为主导堆的堆顶；当序列的个数为偶数时，中位数为两个堆顶的平均数。</strong></p><blockquote><p>如何维护这个对顶堆？</p><ol><li>当小根堆的最小值&lt;大根堆的最大值时，交换堆顶。</li></ol><p><code>min_heap.top() &lt; max_heap.top()</code></p><ol start="2"><li>如果某个堆的个数大于了当前序列的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">{\frac{1}{2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>，那么就将多余的堆顶移到另一个堆，直到两个堆数量相等或只相差1。</li></ol><p><code>abs(max_heap.size() - min_heap.size()) &gt; 1</code></p></blockquote><p><strong>[代码1]:</strong>  以大根堆为主导</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;queue&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;const int M &#x3D; 1e6 + 7;int p;int main() &#123;    cin &gt;&gt; p;        while (p --) &#123;        int id, m;        scanf(&quot;%d %d&quot;, &amp;id, &amp;m);        printf(&quot;%d %d\n&quot;, id, (m + 1) &#x2F; 2);                priority_queue&lt;int&gt; max_heap;        priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt;&gt; min_heap;         int cnt &#x3D; 0;        for (int i &#x3D; 1; i &lt;&#x3D; m; i ++) &#123;            int t;            scanf(&quot;%d&quot;, &amp;t);            max_heap.push(t);            &#x2F;&#x2F; 维护对顶堆            if (min_heap.size() &amp;&amp; min_heap.top() &lt; max_heap.top()) &#123;                auto a &#x3D; min_heap.top(); auto b &#x3D; max_heap.top();                min_heap.pop(); max_heap.pop();                min_heap.push(b); max_heap.push(a);            &#125;                        if (max_heap.size() - min_heap.size() &gt; 1) &#123;                min_heap.push(max_heap.top());                max_heap.pop();            &#125;                        &#x2F;&#x2F; 奇数输出            if (i &amp; 1) &#123;                cnt ++;                printf(&quot;%d &quot;, max_heap.top());                if (cnt % 10 &#x3D;&#x3D; 0) puts(&quot;&quot;);            &#125;        &#125;        if (cnt % 10) puts(&quot;&quot;); &#x2F;&#x2F; 最后一行不满足10个也要换行    &#125;        return 0;&#125;</code></pre><p><strong>[代码2]:</strong>  以小根堆为主导</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;queue&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;const int M &#x3D; 1e6 + 7;int p;int main() &#123;    cin &gt;&gt; p;        while (p --) &#123;        int id, m;        scanf(&quot;%d %d&quot;, &amp;id, &amp;m);        printf(&quot;%d %d\n&quot;, id, (m + 1) &#x2F; 2);                priority_queue&lt;int&gt; max_heap;        priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt;&gt; min_heap;         int cnt &#x3D; 0;        for (int i &#x3D; 1; i &lt;&#x3D; m; i ++) &#123;            int t;            scanf(&quot;%d&quot;, &amp;t);            min_heap.push(t);            &#x2F;&#x2F; 维护对顶堆            if (max_heap.size() &amp;&amp; min_heap.top() &lt; max_heap.top()) &#123;                auto a &#x3D; min_heap.top(); auto b &#x3D; max_heap.top();                min_heap.pop(); max_heap.pop();                min_heap.push(b); max_heap.push(a);            &#125;                        if (min_heap.size() - max_heap.size() &gt; 1) &#123;                max_heap.push(min_heap.top());                min_heap.pop();            &#125;                        &#x2F;&#x2F; 奇数输出            if (i &amp; 1) &#123;                cnt ++;                printf(&quot;%d &quot;, min_heap.top());                if (cnt % 10 &#x3D;&#x3D; 0) puts(&quot;&quot;);            &#125;        &#125;        if (cnt % 10) puts(&quot;&quot;); &#x2F;&#x2F; 最后一行不满足10个也要换行    &#125;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(nlog_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi></mrow><annotation encoding="application/x-tex">nlog_2n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span></span></span></span>是调整堆的时间复杂度。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中n是建堆所需要的空间。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>堆</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-19.七夕祭</title>
    <link href="/2023/01/19/Algorithm/Comp/0x00/20230119-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-019-%E4%B8%83%E5%A4%95%E7%A5%AD/"/>
    <url>/2023/01/19/Algorithm/Comp/0x00/20230119-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-019-%E4%B8%83%E5%A4%95%E7%A5%AD/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/91/">算法竞赛进阶指南-19.七夕祭</a></p><h3 id="method-排序"><a class="markdownIt-Anchor" href="#method-排序"></a> Method : 排序</h3><p>先看一下本题的前置题目，<a href="https://www.acwing.com/problem/content/submission/1538/">均分纸牌</a> 和 环形均分纸牌</p><p>b[N] = a[N] - avg;</p><p>s[i] = s[i - 1] + b[i];  // 求b[i]的前缀和，然后对前缀和求abs之和算cost</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;using namespace std;const int N &#x3D; 100 + 7;int n;int a[N];int s[N];int main() &#123;    &#x2F;&#x2F; 可以得到target平均数，难办的是移动次数    cin &gt;&gt; n;    int sum &#x3D; 0;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        scanf(&quot;%d&quot;, &amp;a[i]);        sum +&#x3D; a[i];    &#125;        int avg &#x3D; sum &#x2F; n;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        a[i] -&#x3D; avg;    &#125;        int res &#x3D; 0;    int cost &#x3D; 0;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        s[i] &#x3D; s[i - 1] + a[i];        if (s[i] !&#x3D; 0) res ++;        &#x2F;&#x2F; cost +&#x3D; abs(s[i]);   &#x2F;&#x2F; 计算每次只能移动一个的移动次数    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><p>基础位运算，本题是快速幂的模板题。</p><p>注意两点:</p><ol><li>有取模运算时不要用自乘<code>*=</code>， 否则会影响计算顺序</li><li>return 时也要取模， 防止极端例子:<code>n = 0</code>且<code>p = 1</code></li></ol><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;LL a, b, p;LL fast_pow(LL x, LL n) &#123;    LL res &#x3D; 1LL;    while (n) &#123;        if (n &amp; 1) &#123;            res &#x3D; res * x % p;        &#125;        x &#x3D; x * x % p;        n &#x3D; n &gt;&gt; 1;    &#125;    return res % p;&#125;int main() &#123;    cin &gt;&gt; a &gt;&gt; b &gt;&gt; p;    cout &lt;&lt; fast_pow(a, b) &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(log_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi></mrow><annotation encoding="application/x-tex">log_2n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span></span></span></span>为对n进行二进制拆分的时间复杂度。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>排序</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-18.货仓选址</title>
    <link href="/2023/01/18/Algorithm/Comp/0x00/20230118-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-018-%E8%B4%A7%E4%BB%93%E9%80%89%E5%9D%80/"/>
    <url>/2023/01/18/Algorithm/Comp/0x00/20230118-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-018-%E8%B4%A7%E4%BB%93%E9%80%89%E5%9D%80/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/106/">算法竞赛进阶指南-18.货仓选址</a></p><h3 id="method-排序"><a class="markdownIt-Anchor" href="#method-排序"></a> Method : 排序</h3><p>思路很明确的一道题，就是要排序后依次计算a[]首尾的元素之间的距离。</p><p>使用<code>i &lt; n/2</code>就不需要分奇偶讨论了</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;int n;vector&lt;int&gt; a;int main() &#123;    cin &gt;&gt; n;    a.resize(n);    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        scanf(&quot;%d&quot;, &amp;a[i]);    &#125;    sort(a.begin(), a.end());    LL res &#x3D; 0;    for (int i &#x3D; 0; i &lt; n &#x2F; 2; i ++)  &#123;        res +&#x3D; (a[n - i - 1] - a[i]);    &#125;    cout &lt;&lt; res &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(nlog_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 使用<code>&lt;algorithm&gt;</code>中的sort排序和快排的时间复杂度是相同的 。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，数组a的长度为n。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>排序</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-12.激光炸弹</title>
    <link href="/2023/01/12/Algorithm/Comp/0x00/20230112-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-012-%E6%BF%80%E5%85%89%E7%82%B8%E5%BC%B9/"/>
    <url>/2023/01/12/Algorithm/Comp/0x00/20230112-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-012-%E6%BF%80%E5%85%89%E7%82%B8%E5%BC%B9/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/101/">算法竞赛进阶指南-12.激光炸弹</a></p><p>cin &gt;&gt; n &gt;&gt; r;</p><p>题目意思就是有n个目标，炸弹范围是r * r</p><p>接下来输入n行目标的坐标x, y 和其价值w，</p><p>要求输出一个炸弹范围最多能包含多少总价值的目标。</p><h3 id="method-前缀和"><a class="markdownIt-Anchor" href="#method-前缀和"></a> Method : 前缀和</h3><p>显然是二维的前缀和问题。</p><p>这道题比较难的点:</p><ol><li>坐标的偏移处理, <code>s[++ x][++ y] += w</code></li><li>内存限制很严格, 必须在原数组上做前缀和覆盖，不能另外申请数组</li><li>数据点严格, 不加这两句过不了最后两个点，<code>r = min(r, N - 1); x_max = y_max = r;</code></li></ol><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;using namespace std;const int N &#x3D; 5e3 + 7;int n, r;int x_max, y_max;&#x2F;&#x2F;  int w[N][N];int s[N][N];int main() &#123;    cin &gt;&gt; n &gt;&gt; r;    r &#x3D; min(r, N - 1);    x_max &#x3D; y_max &#x3D; r;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        int x, y, curw;        scanf(&quot;%d %d %d&quot;, &amp;x, &amp;y, &amp;curw);        s[++ x][++ y] +&#x3D; curw;        x_max &#x3D; max(x_max, x);        y_max &#x3D; max(y_max, y);    &#125;    &#x2F;&#x2F; 预处理前缀和    for (int i &#x3D; 1; i &lt;&#x3D; x_max; i ++) &#123;        for (int j &#x3D; 1; j &lt;&#x3D; y_max; j ++) &#123;            s[i][j] &#x3D; s[i][j - 1] + s[i - 1][j] - s[i - 1][j - 1] + s[i][j];        &#125;    &#125;    int res &#x3D; 0;    &#x2F;&#x2F; 以右下坐标为原点统计    &#x2F;&#x2F; 右下点(x2, y2) : (i, j)   左上点(x1, y1) : (i - r + 1, j - r + 1)    for (int i &#x3D; r; i &lt;&#x3D; x_max; i ++) &#123;        for (int j &#x3D; r; j &lt;&#x3D; y_max; j ++) &#123;            int tar &#x3D; s[i][j] - s[i][j - r] - s[i - r][j] + s[i - r][j - r];            res &#x3D; max(res, tar);        &#125;    &#125;    &#x2F;&#x2F; 以左上坐标为原点统计    &#x2F;&#x2F; for (int i &#x3D; 1; i &lt;&#x3D; x_max - r + 1; i ++) &#123;    &#x2F;&#x2F;     for (int j &#x3D; 1; j &lt;&#x3D; y_max - r + 1; j ++) &#123;    &#x2F;&#x2F;         int tar &#x3D; s[i + r - 1][j + r - 1] - s[i + r - 1][j - 1] - s[i - 1][j + r - 1] + s[i - 1][j - 1];    &#x2F;&#x2F;         res &#x3D; max(res, tar);    &#x2F;&#x2F;     &#125;    &#x2F;&#x2F; &#125;    cout &lt;&lt; res &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo>∗</mo><msub><mi>y</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(x_{max} * y_{max})}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> 。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo>∗</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(N * N)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>前缀和</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-11.分形之城</title>
    <link href="/2023/01/11/Algorithm/Comp/0x00/20230111-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-011-%E5%88%86%E5%BD%A2%E4%B9%8B%E5%9F%8E/"/>
    <url>/2023/01/11/Algorithm/Comp/0x00/20230111-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-011-%E5%88%86%E5%BD%A2%E4%B9%8B%E5%9F%8E/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/91/">算法竞赛进阶指南-1.a^b</a></p><h3 id="method-位运算-二进制拆分"><a class="markdownIt-Anchor" href="#method-位运算-二进制拆分"></a> Method : 位运算-二进制拆分</h3><p>基础位运算，本题是快速幂的模板题。</p><p>注意两点:</p><ol><li>有取模运算时不要用自乘<code>*=</code>， 否则会影响计算顺序</li><li>return 时也要取模， 防止极端例子:<code>n = 0</code>且<code>p = 1</code></li></ol><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;LL a, b, p;LL fast_pow(LL x, LL n) &#123;    LL res &#x3D; 1LL;    while (n) &#123;        if (n &amp; 1) &#123;            res &#x3D; res * x % p;        &#125;        x &#x3D; x * x % p;        n &#x3D; n &gt;&gt; 1;    &#125;    return res % p;&#125;int main() &#123;    cin &gt;&gt; a &gt;&gt; b &gt;&gt; p;    cout &lt;&lt; fast_pow(a, b) &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(log_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi></mrow><annotation encoding="application/x-tex">log_2n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span></span></span></span>为对n进行二进制拆分的时间复杂度。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>位运算</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-10.约数之和</title>
    <link href="/2023/01/10/Algorithm/Comp/0x00/20230110-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-010-%E7%BA%A6%E6%95%B0%E4%B9%8B%E5%92%8C/"/>
    <url>/2023/01/10/Algorithm/Comp/0x00/20230110-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-010-%E7%BA%A6%E6%95%B0%E4%B9%8B%E5%92%8C/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/99/">算法竞赛进阶指南-10.约数之和</a></p><p>假设现在有两个自然数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span> 是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>A</mi><mi>B</mi></msup></mrow><annotation encoding="application/x-tex">A^B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05017em;">B</span></span></span></span></span></span></span></span></span></span></span> 的所有约数之和。</p><p>请你求出 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mtext> </mtext><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mn>9901</mn></mrow><annotation encoding="application/x-tex">S \bmod 9901</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span><span class="mord">9</span><span class="mord">0</span><span class="mord">1</span></span></span></span> 的值是多少。</p><h4 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h4><p>在一行中输入用空格隔开的两个整数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span>。</p><h4 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h4><p>输出一个整数，代表 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mtext> </mtext><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mn>9901</mn></mrow><annotation encoding="application/x-tex">S \bmod 9901</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span><span class="mord">9</span><span class="mord">0</span><span class="mord">1</span></span></span></span> 的值。</p><h4 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>≤</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo>≤</mo><mn>5</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>7</mn></msup></mrow><annotation encoding="application/x-tex">0 \le A,B \le 5 \times 10^7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span></p><h4 id="输入样例"><a class="markdownIt-Anchor" href="#输入样例"></a> 输入样例：</h4><pre class="language-none"><code class="language-none">2 3</code></pre><h4 id="输出样例"><a class="markdownIt-Anchor" href="#输出样例"></a> 输出样例：</h4><pre class="language-none"><code class="language-none">15</code></pre><p><strong>注意</strong>: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> 不会同时为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>。</p><h3 id="method-分治"><a class="markdownIt-Anchor" href="#method-分治"></a> Method : 分治</h3><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;unordered_map&gt;#include &lt;iostream&gt;using namespace std;typedef long long LL;const int MOD &#x3D; 9901;int a, b;unordered_map&lt;int, int&gt; primes;LL fast_pow(LL a, LL b) &#123;    LL res &#x3D; 1LL % MOD;    for (; b; b &gt;&gt;&#x3D; 1) &#123;        if (b &amp; 1) &#123;            res &#x3D; res * a % MOD;        &#125;        a &#x3D; a * a % MOD;    &#125;        return res;&#125;int sum(int p, int k) &#123;    if (k &#x3D;&#x3D; 1) return 1;    if (k % 2 &#x3D;&#x3D; 0) &#123;        return (fast_pow(p, k&#x2F; 2) + 1) * sum(p, k &#x2F; 2) % MOD;    &#125;    else &#123;        return (fast_pow(p, k - 1) + sum(p, k - 1)) % MOD;    &#125;&#125;int main() &#123;    cin &gt;&gt; a &gt;&gt; b;        for (int i &#x3D; 2; i &lt;&#x3D; a &#x2F; i; i ++) &#123;        while (a % i &#x3D;&#x3D; 0) &#123;            a &#x2F;&#x3D; i;            primes[i] ++;        &#125;    &#125;    if (a &gt; 1) primes[a] ++;        LL res &#x3D; 1;    for (auto&amp; prime : primes) &#123;        int p &#x3D; prime.first, k &#x3D; prime.second * b;                res &#x3D; res * sum(p, k + 1) % MOD;    &#125;        if (a &#x3D;&#x3D; 0) res &#x3D; 0;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(\log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>为对n进行二进制拆分的时间复杂度。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>分治</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-9.奇怪的汉诺塔</title>
    <link href="/2023/01/09/Algorithm/Comp/0x00/20230109-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-009-%E5%A5%87%E6%80%AA%E7%9A%84%E6%B1%89%E8%AF%BA%E5%A1%94/"/>
    <url>/2023/01/09/Algorithm/Comp/0x00/20230109-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-009-%E5%A5%87%E6%80%AA%E7%9A%84%E6%B1%89%E8%AF%BA%E5%A1%94/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/98/">算法竞赛进阶指南-9.奇怪的汉诺塔</a></p><h3 id="method-dp-递推"><a class="markdownIt-Anchor" href="#method-dp-递推"></a> Method : DP + 递推</h3><p>首先要明白，每多一个塔，搬运次数必定减少：比如n个盘，n个塔，只需要<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2(n - 1) + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>次。</p><p>因此，关键在于怎么把4塔问题转化为3塔问题:</p><p>4塔: A   B   C   D</p><p>先把i个盘子放到B塔，然后关注剩下n - i个盘子放到A C D塔，怎么放搬运次数最少=&gt;这样转为3塔问题。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo>∗</mo><mn>2</mn><mo>+</mo><mi>d</mi><mo stretchy="false">[</mo><mi>i</mi><mo>−</mo><mi>j</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{f[i] = min (f[i], f[j] * 2 + d[i - j])}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">d</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mclose">)</span></span></span></span></span></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;const int N &#x3D; 12 + 7;int d[N];  &#x2F;&#x2F; 三塔int f[N];  &#x2F;&#x2F; 四塔int main() &#123;        d[1] &#x3D; 1;    for (int i &#x3D; 2; i &lt;&#x3D; 12; i ++) &#123;        d[i] &#x3D; d[i -1] * 2 + 1;    &#125;        memset(f, 0x3f, sizeof f);    f[1] &#x3D; 1;    for (int i &#x3D; 2; i &lt;&#x3D; 12; i ++) &#123;        for (int j &#x3D; 0; j &lt; i; j ++) &#123;            f[i] &#x3D; min(f[i], f[j] * 2 + d[i - j]); &#x2F;&#x2F;依赖3塔min        &#125;    &#125;         for (int i &#x3D; 1; i &lt;&#x3D; 12; i ++) &#123;        printf(&quot;%d\n&quot;, f[i]);    &#125;        return 0;&#125;&#96;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n^2)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>n</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">n^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>的DP双重循环。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul><h3 id="ps"><a class="markdownIt-Anchor" href="#ps"></a> PS</h3><p>推广到5塔，首先是要求出4塔的最小搬运次数，然后再转化为3塔。依次类推求n塔。</p><p>5塔问题转化为4塔问题，4塔问题转化为3塔问题…</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;const int N &#x3D; 12 + 7;int d[N];  &#x2F;&#x2F; 三塔int f[N];  &#x2F;&#x2F; 四塔int g[N];  &#x2F;&#x2F; 五塔int main() &#123;        d[1] &#x3D; 1;    for (int i &#x3D; 2; i &lt;&#x3D; 12; i ++) &#123;        d[i] &#x3D; d[i -1] * 2 + 1;    &#125;        memset(f, 0x3f, sizeof f);    f[1] &#x3D; 1;    for (int i &#x3D; 2; i &lt;&#x3D; 12; i ++) &#123;        for (int j &#x3D; 0; j &lt; i; j ++) &#123;            f[i] &#x3D; min(f[i], f[j] * 2 + d[i - j]); &#x2F;&#x2F;依赖3塔min        &#125;    &#125;        memset(g, 0x3f, sizeof g);    g[1] &#x3D; 1;        for (int i &#x3D; 2; i &lt;&#x3D; 12; i ++) &#123;        for (int j &#x3D; 0; j &lt; i; j ++) &#123;            g[i] &#x3D; min(g[i], g[j] * 2 + f[i - j]); &#x2F;&#x2F;依赖4塔min        &#125;    &#125;        for (int i &#x3D; 1; i &lt;&#x3D; 12; i ++) &#123;        printf(&quot;%d\n&quot;, e[i]);    &#125;        return 0;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>线性DP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-8.费解的开关</title>
    <link href="/2023/01/08/Algorithm/Comp/0x00/20230108-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-008-%E8%B4%B9%E8%A7%A3%E7%9A%84%E5%BC%80%E5%85%B3/"/>
    <url>/2023/01/08/Algorithm/Comp/0x00/20230108-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-008-%E8%B4%B9%E8%A7%A3%E7%9A%84%E5%BC%80%E5%85%B3/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/95/">算法竞赛进阶指南-8.费解的开关</a></p><h3 id="method1-位运算枚举递推"><a class="markdownIt-Anchor" href="#method1-位运算枚举递推"></a> Method1 : 位运算+枚举+递推</h3><ul><li>对第一行所有灯按不按的所有情况的枚举<ul><li>以保证第一行为全1为目的，用第一行的当前状态确定第二行的按法，接下来每行依次类推</li><li>当最后一行没法全1，说明不满足</li></ul></li></ul><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;const int N &#x3D; 5 + 7;const int INF &#x3D; 0x3f3f3f3f;const int dir[5][2] &#x3D; &#123;&#123;0, 0&#125;, &#123;0, -1&#125;, &#123;1, 0&#125;, &#123;0, 1&#125;, &#123;-1, 0&#125;&#125;;char graph[N][N];&#x2F;&#x2F; 开关void turn(int x, int y) &#123;     for (auto d : dir) &#123;        int xn &#x3D; x + d[0];        int yn &#x3D; y + d[1];        if (0 &lt;&#x3D; xn &amp;&amp; xn &lt; 5 &amp;&amp; 0 &lt;&#x3D; yn &amp;&amp; yn &lt; 5) &#123;            graph[xn][yn] ^&#x3D; 1; &#x2F;&#x2F; 异或配对        &#125;    &#125;&#125;int main() &#123;    int m;     cin &gt;&gt; m;    while (m --) &#123;        for (int i &#x3D; 0; i &lt; 5; i ++) &#123;            scanf(&quot;%s&quot;, graph[i]);        &#125;                &#x2F;&#x2F;枚举        int res &#x3D; INF;        for (int k &#x3D; 0; k &lt; 1 &lt;&lt; 5; k ++) &#123;            char backup[N][N];            memcpy(backup, graph, sizeof graph);                        int cnt &#x3D; 0;            for (int j &#x3D; 0; j &lt; 5; j ++) &#123;                if (k &gt;&gt; j &amp; 1) &#123;                    turn(0, j);                    cnt ++;                &#125;            &#125;                        &#x2F;&#x2F; 根据第一行递推            for (int i &#x3D; 0; i &lt; 4; i ++) &#123;                for (int j &#x3D; 0; j &lt; 5; j ++) &#123;                    if (graph[i][j] &#x3D;&#x3D; &#39;0&#39;) &#123;                        turn(i + 1, j);                        cnt ++;                    &#125;                   &#125;            &#125;                        bool flag &#x3D; true;            for (int j &#x3D; 0; j &lt; 5; j ++) &#123;                if (graph[4][j] &#x3D;&#x3D; &#39;0&#39;) &#123;                    flag &#x3D; false;                    break;                &#125;            &#125;                        if(flag) res &#x3D; min(res, cnt);            memcpy(graph, backup, sizeof backup);        &#125;                if (res &lt;&#x3D; 6) cout &lt;&lt; res &lt;&lt; endl;        else cout &lt;&lt; -1 &lt;&lt; endl;    &#125;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mo>∗</mo><mn>32</mn><mo>∗</mo><mo stretchy="false">(</mo><mn>25</mn><mo>∗</mo><mn>5</mn><mo>+</mo><mn>5</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(m * 32 * (25 * 5 + 5))}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">5</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>为m次询问，32为第一行的枚举，25 为棋盘, *5为按开关的dir[5]个方向， +5为判断最后一行， 还要额外加上两次memcpy的时间复杂度（O(5 * 5)）。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul><h3 id="method2-广度优先遍历-递归"><a class="markdownIt-Anchor" href="#method2-广度优先遍历-递归"></a> Method2 : 广度优先遍历-递归</h3><p>我的最初想法 ： 把图转为25位的数来做，利用 i * n + j，确定当前位数，然后判dfs判断6步以内能否出现25个1， 但这样也要注意上下左右的变法</p><h4 id="复杂度分析-2"><a class="markdownIt-Anchor" href="#复杂度分析-2"></a> 复杂度分析</h4>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>位运算</tag>
      
      <tag>递推</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-7.递归实现排列型枚举</title>
    <link href="/2023/01/07/Algorithm/Comp/0x00/20230107-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-007-%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0%E6%8E%92%E5%88%97%E5%9E%8B%E6%9E%9A%E4%B8%BE/"/>
    <url>/2023/01/07/Algorithm/Comp/0x00/20230107-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-007-%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0%E6%8E%92%E5%88%97%E5%9E%8B%E6%9E%9A%E4%B8%BE/</url>
    
    <content type="html"><![CDATA[<blockquote><p>排列的有序性用无序的for循环实现(并且需要visited数组辅助)</p><p>组合的无序性用有序的01选择实现</p></blockquote><h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/96/">算法竞赛进阶指南-7.递归实现排列型枚举</a></p><p>把 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>∼</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">{1∼n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">n</span></span></span></span></span> 这 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span></span></span></span></span>个整数排成一行后随机打乱顺序，输出所有可能的次序 =&gt; n个数的全排列，即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>A</mi><mi>n</mi><mi>n</mi></msubsup></mrow><annotation encoding="application/x-tex">{A_n^n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93033em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>同一行相邻两个数用一个空格隔开</p><p>对于两个不同的行，对应下标的数一一比较，字典序较小的排在前面</p><h3 id="method-递归"><a class="markdownIt-Anchor" href="#method-递归"></a> Method : 递归</h3><p>要记住用一个全局数组就能输出所有的排列情况。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;const int N &#x3D; 10;int n;vector&lt;int&gt; choosen;bool visited[N] &#x3D; &#123;0&#125;;void dfs(int depth) &#123;    &#x2F;&#x2F; boundary    if (depth &#x3D;&#x3D; n + 1) &#123;        for (int i &#x3D; 0; i &lt; choosen.size(); i ++) &#123;            printf(&quot;%d &quot;, choosen[i]);        &#125;        cout &lt;&lt; endl;        return;    &#125;        for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        if (!visited[i]) &#123;            visited[i] &#x3D; true;            choosen.emplace_back(i);            dfs(depth + 1);            &#x2F;&#x2F; recover            choosen.pop_back();            visited[i] &#x3D; false;        &#125;    &#125;&#125;int main() &#123;    cin &gt;&gt; n;    dfs(1);    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">!</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n!)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">!</span><span class="mclose">)</span></span></span></span></span>， 由于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi><mi>i</mi><mi>s</mi><mi>t</mi><mi>i</mi><mi>e</mi><mi>d</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">vistied[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>数组，每次递归的循环执行次数会减1。并且很明显<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">n!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mclose">!</span></span></span></span>与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>A</mi><mi>n</mi><mi>n</mi></msubsup></mrow><annotation encoding="application/x-tex">A_{n}^{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93033em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span>在数学上是相通的。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(N)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>, choosen数组。</p></li></ul><h3 id="拓展-求a_nm"><a class="markdownIt-Anchor" href="#拓展-求a_nm"></a> 拓展 求<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>A</mi><mi>n</mi><mi>m</mi></msubsup></mrow><annotation encoding="application/x-tex">{A_n^m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93033em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span></h3><h3 id="method1-递归"><a class="markdownIt-Anchor" href="#method1-递归"></a> Method1 : 递归</h3><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;const int N &#x3D; 10;int n, m;vector&lt;int&gt; choosen;bool visited[N] &#x3D; &#123;0&#125;;void dfs(int depth, int select) &#123;    &#x2F;&#x2F; prune    if (select &gt; m || n + 1 - depth &lt; m - select) &#123;        return;    &#125;        &#x2F;&#x2F; bounary    if (select &#x3D;&#x3D; m) &#123;        for (int i &#x3D; 0; i &lt; choosen.size(); i ++) &#123;            printf(&quot;%d &quot;, choosen[i]);        &#125;        cout &lt;&lt; endl;             return;    &#125;    if (depth &#x3D;&#x3D; n + 1) return;        for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        if (!visited[i]) &#123;            visited[i] &#x3D; true;            choosen.emplace_back(i);            dfs(depth + 1, select + 1);            &#x2F;&#x2F; recover            choosen.pop_back();            visited[i] &#x3D; false;        &#125;    &#125;&#125;int main() &#123;    cin &gt;&gt; n &gt;&gt; m;    dfs(1, 0);    return 0;&#125;</code></pre><h4 id="复杂度分析-2"><a class="markdownIt-Anchor" href="#复杂度分析-2"></a> 复杂度分析</h4><h3 id="method2-a_nm-c_nm-a_mm"><a class="markdownIt-Anchor" href="#method2-a_nm-c_nm-a_mm"></a> Method2 : <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>A</mi><mi>n</mi><mi>m</mi></msubsup></mrow><annotation encoding="application/x-tex">{A_n^m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93033em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span> = <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>C</mi><mi>n</mi><mi>m</mi></msubsup></mrow><annotation encoding="application/x-tex">{C_n^m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93033em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span> * <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>A</mi><mi>m</mi><mi>m</mi></msubsup></mrow><annotation encoding="application/x-tex">{A_m^m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93033em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span></h3><p>利用公式定义：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>A</mi><mi>n</mi><mi>m</mi></msubsup></mrow><annotation encoding="application/x-tex">{A_n^m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93033em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span> = <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>C</mi><mi>n</mi><mi>m</mi></msubsup></mrow><annotation encoding="application/x-tex">{C_n^m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93033em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span> * <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>A</mi><mi>m</mi><mi>m</mi></msubsup></mrow><annotation encoding="application/x-tex">{A_m^m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93033em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>那么可以拆解成两个bfs，嵌套来做:</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;const int N &#x3D; 10;int n, m;vector&lt;int&gt; proposal;vector&lt;int&gt; choosen;bool visited[N] &#x3D; &#123;0&#125;;&#x2F;&#x2F; Ammvoid dfs2 (int depth) &#123;    if (depth &#x3D;&#x3D; m + 1) &#123;        for (int i &#x3D; 0; i &lt; choosen.size(); i ++) &#123;            printf(&quot;%d &quot;, choosen[i]);        &#125;        cout &lt;&lt; endl;        return;    &#125;        for (int i &#x3D; 0; i &lt; proposal.size(); i ++) &#123;        if (!visited[proposal[i]]) &#123;            visited[proposal[i]] &#x3D; true;            choosen.emplace_back(proposal[i]);            dfs2(depth + 1);            &#x2F;&#x2F; recover            choosen.pop_back();            visited[proposal[i]] &#x3D; false;        &#125;    &#125;&#125;&#x2F;&#x2F; Cnmvoid dfs1(int depth, int select) &#123;    &#x2F;&#x2F; prune    if (select &gt; m || n + 1 - depth &lt; m - select) &#123;        return;    &#125;        &#x2F;&#x2F; boundary    if (select &#x3D;&#x3D; m) &#123;        dfs2(1);          return;    &#125;    if (depth &#x3D;&#x3D; n + 1) return;        proposal.emplace_back(depth);    dfs1(depth + 1, select + 1);    &#x2F;&#x2F; recover    proposal.pop_back();    dfs1(depth + 1, select);&#125;int main() &#123;    cin &gt;&gt; n &gt;&gt; m;    dfs1(1, 0);    cout &lt;&lt; cnt;    return 0;&#125;</code></pre><h4 id="复杂度分析-3"><a class="markdownIt-Anchor" href="#复杂度分析-3"></a> 复杂度分析</h4><p>注意Method1和Method2的输出字典序顺序不同。</p>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>递归</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-6.递归实现组合型枚举</title>
    <link href="/2023/01/06/Algorithm/Comp/0x00/20230106-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-006-%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0%E7%BB%84%E5%90%88%E5%9E%8B%E6%9E%9A%E4%B8%BE/"/>
    <url>/2023/01/06/Algorithm/Comp/0x00/20230106-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-006-%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0%E7%BB%84%E5%90%88%E5%9E%8B%E6%9E%9A%E4%B8%BE/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/95/">算法竞赛进阶指南-6.递归实现组合型枚举</a></p><p>从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>∼</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">{1∼n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">n</span></span></span></span></span> 这 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span></span></span></span></span> 个整数中随机选出 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">{m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">m</span></span></span></span></span> 个，输出所有可能的选择方案 =&gt;  即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>C</mi><mi>n</mi><mi>m</mi></msubsup></mrow><annotation encoding="application/x-tex">{C_{n}^{m}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93033em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>同一行内的数升序排列，相邻两个数用一个空格隔开</p><p>对于两个不同的行，对应下标的数一一比较，字典序较小的排在前面</p><h3 id="method-递归"><a class="markdownIt-Anchor" href="#method-递归"></a> Method : 递归</h3><p>本题相较上一个题目，多一个(select == m)的条件。</p><p>其次，可以使用剪枝去优化时空复杂度，<code>n + 1 - depth &lt; m - select</code> 是表示剩下的数量 &lt; 要选的数量。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;int n, m;vector&lt;int&gt; choosen;void dfs(int depth, int select) &#123;    &#x2F;&#x2F; prune    if (select &gt; m || n + 1 - depth &lt; m - select) &#123;        return;    &#125;        &#x2F;&#x2F; boundary    if (select &#x3D;&#x3D; m) &#123;          for (int i &#x3D; 0; i &lt; choosen.size(); i ++) &#123;           printf(&quot;%d &quot;, choosen[i]);        &#125;        cout &lt;&lt; endl;        return;    &#125;    if (depth &#x3D;&#x3D; n + 1) return;            choosen.emplace_back(depth);    dfs(depth + 1, select + 1);    &#x2F;&#x2F; recover    choosen.pop_back();    dfs(depth + 1, select);&#125;int main() &#123;    cin &gt;&gt; n &gt;&gt; m;    dfs(1, 0);    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(mlog_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi></mrow><annotation encoding="application/x-tex">log_2n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span></span></span></span>为递归函数栈的深度。 但由于剪枝，实际时间复杂度会小于该理论时间复杂度。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(m)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span></span>,数组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>h</mi><mi>o</mi><mi>o</mi><mi>s</mi><mi>e</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">{choosen}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span></span></span></span></span>的空间为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">{m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">m</span></span></span></span></span>，另外递归函数栈会花费额外常数级空间。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>递归</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-5.递归实现指数型枚举</title>
    <link href="/2023/01/05/Algorithm/Comp/0x00/20230105-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-005-%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0%E6%8C%87%E6%95%B0%E5%9E%8B%E6%9E%9A%E4%B8%BE/"/>
    <url>/2023/01/05/Algorithm/Comp/0x00/20230105-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-005-%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0%E6%8C%87%E6%95%B0%E5%9E%8B%E6%9E%9A%E4%B8%BE/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/94/">算法竞赛进阶指南-5.递归实现指数型枚举</a></p><p>从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>∼</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1∼n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>这 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>个整数中随机选取任意多个，输出所有可能的选择方案。</p><p>同一行内的数必须升序排列，相邻两个数用恰好1个空格隔开</p><h3 id="method-递归"><a class="markdownIt-Anchor" href="#method-递归"></a> Method : 递归</h3><p>你的疑惑是什么？</p><p>只用一个数组能输出多种结果么？ =&gt; 可以</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;int n;vector&lt;int&gt; choosen;void dfs(int depth) &#123;    &#x2F;&#x2F; boundary    if (depth &#x3D;&#x3D; n + 1) &#123;        for (int i &#x3D; 0; i &lt; choosen.size(); i ++) &#123;            printf(&quot;%d &quot;, choosen[i]);        &#125;        cout &lt;&lt; endl;        return;    &#125;        &#x2F;&#x2F; 构造选或不选的递归二叉树    choosen.emplace_back(depth);    dfs(depth + 1);    &#x2F;&#x2F; recover    choosen.pop_back();    dfs(depth + 1);&#125;int main() &#123;    cin &gt;&gt; n;    dfs(1);     return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(nlog_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi></mrow><annotation encoding="application/x-tex">log_2n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span></span></span></span>为递归函数栈的深度，外层<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>为打印数组的循环次数。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 数组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>h</mi><mi>o</mi><mi>o</mi><mi>s</mi><mi>e</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">{choosen}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span></span></span></span></span>的空间为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span></span></span></span></span>，另外递归函数栈会花费额外常数级空间。</p></li></ul><h3 id="method-递归-位运算"><a class="markdownIt-Anchor" href="#method-递归-位运算"></a> Method : 递归 + 位运算</h3><p>使用位运算可以把choosen数组优化</p>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>位运算</tag>
      
      <tag>递归</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-4.起床困难综合症</title>
    <link href="/2023/01/04/Algorithm/Comp/0x00/20230104-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-004-%E8%B5%B7%E5%BA%8A%E5%9B%B0%E9%9A%BE%E7%BB%BC%E5%90%88%E7%97%87/"/>
    <url>/2023/01/04/Algorithm/Comp/0x00/20230104-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-004-%E8%B5%B7%E5%BA%8A%E5%9B%B0%E9%9A%BE%E7%BB%BC%E5%90%88%E7%97%87/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/1000/">算法竞赛进阶指南-4.起床困难综合症</a></p><h3 id="method-位运算-贪心"><a class="markdownIt-Anchor" href="#method-位运算-贪心"></a> Method : 位运算-贪心</h3><p>首先，很容易想到暴力的做法：枚举每一个m，进行n次操作，然后记录最大值:</p><pre class="language-c++" data-language="c++"><code class="language-c++">for (int i &#x3D; 1; i &lt;&#x3D; m; i ++) &#123;    for (int j &#x3D; 1; j &lt;&#x3D; n; j ++) &#123;        if (op[j] &#x3D;&#x3D; &quot;XOR&quot;) &#123;            i &#x3D; i ^ t[j];        &#125;        else if (...) &#123;            &#x2F;&#x2F; ...        &#125;    &#125;    if (i &gt; max_i) &#x2F;&#x2F; ...&#125;</code></pre><p>但是这样时间复杂度是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(mn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，是不可取的。</p><hr /><p>而不难发现<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>N</mi><mi>D</mi><mo separator="true">,</mo><mi>X</mi><mi>O</mi><mi>R</mi><mo separator="true">,</mo><mi>O</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">{AND,XOR, OR}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span></span></span></span></span>这三个操作，参与位运算时，各个位之间是独立无关的。<br />因此，为了保证res取最大值，可以从高位到低位考虑，输入的x的每一位填0还是1，并且要尽量保证操作完后的数的高位是1(贪心)。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;bitset&gt;#include &lt;string&gt;#include &lt;iostream&gt;using namespace std;const int M &#x3D; 31;int n , m ;int main() &#123;    bitset&lt;M&gt; zero , one ;    zero.reset(); &#x2F;&#x2F; 一个初始化每一位都是0    one.set();    &#x2F;&#x2F; 一个初始化每一位都是1    cin &gt;&gt; n &gt;&gt; m ;        while(n --) &#123;        string x ;        int y ;        cin &gt;&gt; x &gt;&gt; y ;                if (x &#x3D;&#x3D; &quot;AND&quot;) zero &amp;&#x3D; y , one &amp;&#x3D; y ;        else if (x &#x3D;&#x3D; &quot;OR&quot;) zero |&#x3D; y , one |&#x3D; y ;        else if (x &#x3D;&#x3D; &quot;XOR&quot;) zero ^&#x3D; y , one ^&#x3D; y ;    &#125;        int ans &#x3D; 0; int val &#x3D; 0;    for(int i &#x3D; M ; i &gt;&#x3D; 0 ; i --) &#123;        if(zero[i] &#x3D;&#x3D; 1) &#123;            ans +&#x3D; (1 &lt;&lt; i);          &#125;        else if(one[i] &#x3D;&#x3D; 1 &amp;&amp; val + (1 &lt;&lt; i) &lt;&#x3D; m) &#123;            val +&#x3D; (1 &lt;&lt; i);            ans +&#x3D; (1 &lt;&lt; i);         &#125;    &#125;        cout &lt;&lt; ans &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(nlog_2m)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>m</mi></mrow><annotation encoding="application/x-tex">log_2m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">m</span></span></span></span>为对<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>逐位判断的时间复杂度，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>次操作。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>位运算</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-3.最短Hamilton路径</title>
    <link href="/2023/01/03/Algorithm/Comp/0x00/20230103-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-003-%E6%9C%80%E7%9F%ADHamilton%E8%B7%AF%E5%BE%84/"/>
    <url>/2023/01/03/Algorithm/Comp/0x00/20230103-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-003-%E6%9C%80%E7%9F%ADHamilton%E8%B7%AF%E5%BE%84/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/93/">算法竞赛进阶指南-3.最短Hamilton路径</a></p><p>汉密尔顿路径是一道旅行商问题，已被证明是NP-Hard问题，无法在多项式级别的复杂度求出。</p><p>如果用暴力来做，首先要枚举所有路径，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mi mathvariant="normal">，</mi><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">{0，n - 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">0</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span></span></span>  相当于求n个点的全排列，即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">n!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mclose">!</span></span></span></span>，<br />然后枚举完之后要遍历一次，求整体的路径长度， 即 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">!</mo><mo>∗</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n! * n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，这个时间复杂度太高了。</p><h3 id="method-状态压缩dp"><a class="markdownIt-Anchor" href="#method-状态压缩dp"></a> Method : 状态压缩DP</h3><blockquote><p>不难发现状态是比较多的，但对于每一个节点，都只关心0(未访问)和1(已访问)这两种状态。</p><p>因此可以考虑用一个N位2进制数来表示状态集合，用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><msup><mn>2</mn><mi>N</mi></msup><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0, 2 ^N - 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>之间的一个十进制数形式表示DP状态的其中一维。</p></blockquote><p><strong>状态表示</strong> ：所有从0走到j，走过的所有点的情况是i的所有路径， 求min。</p><p><strong>状态划分</strong> ：枚举上一个状态，即0-&gt;·····–&gt;k–&gt;j中k的所有可能情况。</p><p><strong>状态转移</strong>：枚举走到j点前的一个状态=&gt;[<code>i - (1 &lt;&lt; j)</code>能把 <code>i</code>的第 <code>j</code>位 置为<code>0</code>]</p><p>上一个状态中的所处的位置，可能是 <code>i - (1 &lt;&lt; j)</code>中任意一个是1的数位k,从k到j需要花费<code>g[k][j]</code></p><p>因此 <code>f[i][j] = min(f[i][j], f[i - (1 &lt;&lt; j)][k] + g[k][j])</code></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;cstring&gt;#include &lt;algorithm&gt;using namespace std;const int N &#x3D; 20;const int M &#x3D; 1 &lt;&lt; N; &#x2F;&#x2F; int一共32位&#x2F;&#x2F;无向图int g[N][N];&#x2F;&#x2F;状态int f[M][N];int n;int main() &#123;    cin &gt;&gt; n;        for (int i &#x3D; 0; i &lt; n; i ++) &#123;        for (int j &#x3D; 0; j &lt; n; j ++) &#123;            scanf(&quot;%d&quot;, &amp;g[i][j]);        &#125;    &#125;        &#x2F;&#x2F; 起点0 &#x3D;&gt; 二进制表示: 00...01    memset(f, 0x3f, sizeof f);    f[1][0] &#x3D; 0;        for (int i &#x3D; 0; i &lt; 1 &lt;&lt; n; i ++) &#123;        for (int j &#x3D; 0; j &lt; n; j ++) &#123;            &#x2F;&#x2F; 如果i的第j位是1，说明j点可达            if (i &gt;&gt; j &amp; 1) &#123;                &#x2F;&#x2F; 枚举走到j点前的一个状态,以k为终点的最短距离                for (int k &#x3D; 0; k &lt; n; k ++) &#123;                    &#x2F;&#x2F; i - (1 &lt;&lt; j)为走到j点的前一个状态,k是前一个状态中的可达点                    if (i - (1 &lt;&lt; j) &gt;&gt; k &amp; 1) &#123;                        f[i][j] &#x3D; min(f[i][j], f[i - (1 &lt;&lt; j)][k] + g[k][j]);                    &#125;                &#125;                            &#125;        &#125;    &#125;        cout &lt;&lt; f[(1 &lt;&lt; n) - 1][n - 1] &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo>∗</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(2^n * n^2)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span>为二进制状态压缩(i层循环)，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>n</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">{n^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>为枚举j层和枚举k层的两重循环。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n^2)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>，用于存储图<code>g[N][N]</code>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>位运算</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-2.64位整数乘法</title>
    <link href="/2023/01/02/Algorithm/Comp/0x00/20230102-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-002-64%E4%BD%8D%E6%95%B4%E6%95%B0%E4%B9%98%E6%B3%95/"/>
    <url>/2023/01/02/Algorithm/Comp/0x00/20230102-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-002-64%E4%BD%8D%E6%95%B4%E6%95%B0%E4%B9%98%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/92/">算法竞赛进阶指南-2.64位整数乘法</a></p><h3 id="method-位运算-二进制拆分"><a class="markdownIt-Anchor" href="#method-位运算-二进制拆分"></a> Method : 位运算-二进制拆分</h3><p>基础位运算，类似于快速幂，用了倍增的思想:</p><blockquote><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>∗</mo><mn>1</mn><mo>=</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">{a * 1 = a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">a</span></span></span></span></span>;</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>∗</mo><mn>2</mn><mo>=</mo><mn>2</mn><mi>a</mi></mrow><annotation encoding="application/x-tex">{a * 2 = 2a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">2</span><span class="mord mathdefault">a</span></span></span></span></span>;</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>∗</mo><mn>4</mn><mo>=</mo><mn>4</mn><mi>a</mi></mrow><annotation encoding="application/x-tex">{a * 4 = 4a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">4</span><span class="mord mathdefault">a</span></span></span></span></span>;</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>∗</mo><mn>8</mn><mo>=</mo><mn>8</mn><mi>a</mi></mrow><annotation encoding="application/x-tex">{a * 8 = 8a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">8</span><span class="mord mathdefault">a</span></span></span></span></span>;<br />…</p><p>对于任意一个b，都可以把b拆成一个2进制数表达</p><p>如：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>9</mn><mo>=</mo><mo stretchy="false">(</mo><mn>1001</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub><mo>=</mo><mn>1</mn><mo>∗</mo><mn>8</mn><mo>+</mo><mn>0</mn><mo>∗</mo><mn>4</mn><mo>+</mo><mn>0</mn><mo>∗</mo><mn>2</mn><mo>+</mo><mn>1</mn><mo>∗</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">{9 = (1001)_2 = 1 * 8 + 0 * 4 + 0 * 2 + 1 * 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">9</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span></span></span></p></blockquote><p>注意两点:</p><ol><li>有取模运算时不要用自加<code>+=</code>， 否则会影响计算顺序</li><li>return 时也要取模， 防止极端例子:<code>b = 0</code>且<code>p = 1</code></li></ol><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef unsigned long long LL;LL a, b, p;LL int64_mul(LL a, LL b) &#123;    LL res &#x3D; 0LL;    while (b) &#123;        if (b &amp; 1) &#123;            res &#x3D; (res + a) % p;        &#125;        a &#x3D; (a + a) % p;        b &#x3D; b &gt;&gt; 1;    &#125;    return res % p;&#125;int main() &#123;    cin &gt;&gt; a &gt;&gt; b &gt;&gt; p;    cout &lt;&lt; int64_mul(a, b) &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(log_2b)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>b</mi></mrow><annotation encoding="application/x-tex">log_2b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">b</span></span></span></span>为对<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>进行二进制拆分的时间复杂度。</p></li><li><p>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>位运算</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>算法竞赛进阶指南-1.a^b</title>
    <link href="/2023/01/01/Algorithm/Comp/0x00/20230101-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-001-a%5Eb/"/>
    <url>/2023/01/01/Algorithm/Comp/0x00/20230101-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-001-a%5Eb/</url>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a class="markdownIt-Anchor" href="#题目链接"></a> 题目链接</h3><p><a href="https://www.acwing.com/problem/content/91/">算法竞赛进阶指南-1.a^b</a></p><h3 id="method-位运算-二进制拆分"><a class="markdownIt-Anchor" href="#method-位运算-二进制拆分"></a> Method : 位运算-二进制拆分</h3><p>基础位运算，本题是快速幂的模板题。</p><p>注意两点:</p><ol><li>有取模运算时不要用自乘<code>*=</code>， 否则会影响计算顺序</li><li>return 时也要取模， 防止极端例子:<code>n = 0</code>且<code>p = 1</code></li></ol><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;LL a, b, p;LL fast_pow(LL x, LL n) &#123;    LL res &#x3D; 1LL;    while (n) &#123;        if (n &amp; 1) &#123;            res &#x3D; res * x % p;        &#125;        x &#x3D; x * x % p;        n &#x3D; n &gt;&gt; 1;    &#125;    return res % p;&#125;int main() &#123;    cin &gt;&gt; a &gt;&gt; b &gt;&gt; p;    cout &lt;&lt; fast_pow(a, b) &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(log_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi></mrow><annotation encoding="application/x-tex">log_2n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span></span></span></span>为对n进行二进制拆分的时间复杂度。</p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>算法竞赛进阶指南</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>位运算</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Interesting Issue</title>
    <link href="/2023/01/01/Algorithm/0-based&amp;1-based/"/>
    <url>/2023/01/01/Algorithm/0-based&amp;1-based/</url>
    
    <content type="html"><![CDATA[<p>0-based =&gt; 0 ~ n - 1   STL写法</p><p>1-based =&gt; 1 ~ n         普通数组写法</p><p>个人模板当中</p><h3 id="中位数"><a class="markdownIt-Anchor" href="#中位数"></a> 中位数</h3><p>这个随意</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>−</mo><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">0-based</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span></span></span></span>：取$ [n / 2]$</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>−</mo><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">1-based</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span></span></span></span>：取 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[(n + 1)/ 2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span><span class="mclose">]</span></span></span></span></p><p>中位数常见于货仓选址问题</p><h3 id="前缀和差分"><a class="markdownIt-Anchor" href="#前缀和差分"></a> 前缀和&amp;差分</h3><p>基本上都是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>−</mo><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">1-based</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span></span></span></span>，不用考虑边界</p><h3 id="图论"><a class="markdownIt-Anchor" href="#图论"></a> 图论</h3><p>个人习惯：看题目意思，一般题目从0节点开始， 就0-based，从1节点开始，就1-based，只要修改idx就行</p><p>包括但不限于邻接表head节点，边edge；有向无环图的入度deg[]，拓扑序列seq[]等。</p><pre class="language-c++" data-language="c++"><code class="language-c++">struct Edge &#123;    int to;    int w;    int nxt;&#125;;Edge[M];int head[N], idx &#x3D; 1;  &#x2F;&#x2F; head节点int deg[N], seq[N];    &#x2F;&#x2F; 拓扑排序：入度deg，拓扑序列seqvoid add(int form, int to, int w) &#123;    edge[idx].to &#x3D; to, edge[idx].w &#x3D; w, edge[idx].nxt &#x3D; head[from];     head[from] &#x3D; idx ++;    deg[to] ++;&#125;int main() &#123;    memset(head, -1, sizeof head);    memset(deg, 0, sizeof deg);    &#x2F;&#x2F; ...&#125;</code></pre>]]></content>
    
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Interesting Issue</title>
    <link href="/2023/01/01/Algorithm/Insteresting/"/>
    <url>/2023/01/01/Algorithm/Insteresting/</url>
    
    <content type="html"><![CDATA[<h3 id="对顶"><a class="markdownIt-Anchor" href="#对顶"></a> 对顶</h3><p>&quot;始终在序列中某个指定位置进行修改&quot;的性质</p><h4 id="对顶栈"><a class="markdownIt-Anchor" href="#对顶栈"></a> 对顶栈</h4><p><a href="https://www.acwing.com/problem/content/130/">Acwing-128.编辑器</a></p><p>使用两个栈，动态维护光标位置</p><h4 id="对顶堆"><a class="markdownIt-Anchor" href="#对顶堆"></a> 对顶堆</h4><p><a href="https://www.acwing.com/problem/content/108/">Acwing-106-动态中位数</a></p><p>使用一个大根堆，一个小根堆，动态维护中位数</p><h3 id="货仓选址"><a class="markdownIt-Anchor" href="#货仓选址"></a> 货仓选址</h3><h4 id="货仓选址-2"><a class="markdownIt-Anchor" href="#货仓选址-2"></a> 货仓选址</h4><p><a href="https://www.acwing.com/problem/content/106/">Acwing-104.货仓选址</a></p><p>中位数问题</p><h4 id="二维货仓选址"><a class="markdownIt-Anchor" href="#二维货仓选址"></a> 二维货仓选址</h4><p><a href="https://www.luogu.com.cn/problem/P1889">P1889 士兵站队</a></p><p>中位数变形</p><h3 id="均分纸牌"><a class="markdownIt-Anchor" href="#均分纸牌"></a> 均分纸牌</h3><h4 id="链式均分纸牌"><a class="markdownIt-Anchor" href="#链式均分纸牌"></a> 链式均分纸牌</h4><p><a href="https://www.luogu.com.cn/problem/P1031">P1031 [NOIP2002 提高组] 均分纸牌</a></p><p>均分纸牌，最后一个人不传递</p><h4 id="环形均分纸牌"><a class="markdownIt-Anchor" href="#环形均分纸牌"></a> 环形均分纸牌</h4><p><a href="https://www.luogu.com.cn/problem/P2512">P2512 [HAOI2008]糖果传递</a></p><p>考虑如何破环成链=&gt;存在最优解，使得环中有相邻两人之间没有发生交换，以此作为断点.</p><h3 id="约瑟夫环"><a class="markdownIt-Anchor" href="#约瑟夫环"></a> 约瑟夫环</h3><p><a href="https://www.luogu.com.cn/problem/P1996">P1996 约瑟夫问题</a></p><p>比较经典的做法就是用链表构造循环链表，或者用双向队列构造循环队列</p><h3 id="超级源点"><a class="markdownIt-Anchor" href="#超级源点"></a> 超级源点</h3><h4 id="多源bfs"><a class="markdownIt-Anchor" href="#多源bfs"></a> 多源BFS</h4><p><a href="https://www.acwing.com/problem/content/175/">Acwing-173.矩阵距离</a></p><h4 id="多源dijsktra"><a class="markdownIt-Anchor" href="#多源dijsktra"></a> 多源dijsktra</h4><p><a href="https://www.acwing.com/problem/content/1490/">Acwing-1488.最短距离</a></p><h4 id="差分约束"><a class="markdownIt-Anchor" href="#差分约束"></a> 差分约束</h4><h2 id="计算几何"><a class="markdownIt-Anchor" href="#计算几何"></a> 计算几何</h2><h3 id="平面最近点对"><a class="markdownIt-Anchor" href="#平面最近点对"></a> 平面最近点对</h3><p><a href="https://www.luogu.com.cn/problem/P1257">P1257.平面最近点对</a></p><p><a href="https://www.luogu.com.cn/problem/P1429">P1429 平面最近点对（加强版）</a></p><p><a href="https://www.luogu.com.cn/problem/P7883">P7883 平面最近点对（加强加强版）</a></p><p>给你一组points，要你求距离最短的两个point</p><p><strong>分治</strong></p><p>非常经典的计算几何问题，需要分治下标区间来做。</p><h3 id="平面最小面积矩形"><a class="markdownIt-Anchor" href="#平面最小面积矩形"></a> 平面最小面积矩形</h3><p><a href="https://leetcode.cn/problems/minimum-area-rectangle/">LeetCode-939.最小面积矩形</a></p><p>给你一组points，确定由这些点组成的矩形的最小面积，其中矩形的边平行于 x 轴和 y 轴。</p><p><strong>枚举对角线上的两个点 + hash</strong></p><p>先把所有点按hash值<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>∗</mo><mn>40001</mn><mo>+</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x * 40001 + y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">4</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>，存入hash表，由于题目数据，可以保证不发生冲突。<br />然后<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>枚举对角线上两个点，再判断另外两个点是否在hash表中，由此判断能否组成矩形，即可计算答案。</p><h2 id="子数组问题"><a class="markdownIt-Anchor" href="#子数组问题"></a> 子数组问题</h2><p>子数组要求是在原数组中<strong>连续</strong>的一段</p><ul><li>DP，(一般都是线性)</li><li>前缀和+哈希表</li><li>滑动窗口，(可能会用到双端队列)  =&gt; 这种一般是固定长度的子数组</li></ul><h3 id="最大子数组问题"><a class="markdownIt-Anchor" href="#最大子数组问题"></a> 最大子数组问题</h3><h4 id="最大子数组"><a class="markdownIt-Anchor" href="#最大子数组"></a> 最大子数组</h4><p><a href="https://leetcode.cn/problems/lian-xu-zi-shu-zu-de-zui-da-he-lcof/solutions/">剑指offer42.连续子数组最大和</a></p><p>Method1：DP</p><p>状态集合：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>  ： 表示以当前下标<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 结尾的所有子数组中的最大和。</p><p>转移方程：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo><mo>+</mo><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f[i] = max(f[i - 1] + arr[i], arr[i])</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mclose">)</span></span></span></span></p><p>由于当前状态只与上一个有关，因此可以用滚动数组优化空间</p><p>Method2：预处理为<a href="https://leetcode.cn/problems/maximum-subarray/solutions/2061194/53-zui-da-zi-shu-zu-he-qian-zhui-he-qian-czfq/">前缀和问题</a>， 找出两个下标l,r 使得,S[r] - S[l]最大，并且 r &gt;= l，</p><p>这里再维护一个当前位置前缀和的最小值下标数组（作为l），然后枚举r，时间复杂度同样是O(n)</p><h4 id="长度为k的最大子数组"><a class="markdownIt-Anchor" href="#长度为k的最大子数组"></a> 长度为K的最大子数组</h4><p><a href="https://leetcode.cn/problems/maximum-sum-of-distinct-subarrays-with-length-k/">LeetCode-2461.长度为 K 子数组中的最大和</a></p><p><strong>滑动窗口</strong></p><p>对于每个滑动窗口, 我们可以使用 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span> 的时间遍历其中的每一个元素, 找出其中的最大值。 对于长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 的数组 nums 而言, 窗口的数量为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>−</mo><mi>k</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-k+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>, 因此该算法的时间复杂度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mi>k</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mi>k</mi><mo stretchy="false">)</mo><mo>=</mo><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O((n-k+1) k)=O(n k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span>, 会超出时间限制, 因此我们需要进行一些优化。</p><h4 id="长度不超过k的最大子数组"><a class="markdownIt-Anchor" href="#长度不超过k的最大子数组"></a> 长度不超过K的最大子数组</h4><p><a href="https://www.acwing.com/problem/content/description/137/">Acwing-135.最大子序和</a></p><p><strong>前缀和 + 单调队列优化DP</strong></p><p>不固定长度，预处理为前缀和问题， 找出两个下标l,r 使得,S[r] - S[l]最大，并且 r - l &gt;= M</p><h3 id="最长子数组问题"><a class="markdownIt-Anchor" href="#最长子数组问题"></a> 最长子数组问题</h3><h4 id="和为0的最长子数组"><a class="markdownIt-Anchor" href="#和为0的最长子数组"></a> 和为0的最长子数组</h4><p><a href="https://leetcode.cn/problems/find-longest-subarray-lcci/description/">面试题17.05.字母与数字</a></p><p><strong>前缀和+哈希表</strong></p><p>找到一个最长子数组，其元素和等于 0 =&gt; 用前缀和处理，「元素和等于0」等价于「两个前缀和之差等于 0」，进而等价于「两个前缀和相同」</p><p>从前缀和 s中找到两个相同的数 s[right]和 s[left]，并使得right−left 最大。<br />用hash表记录前缀和中<strong>每个数字第一次出现的下标</strong>，然后每当再次遇到该数字，计算当前的长度间隔，由此得到最大间隔。</p><h3 id="其它子数组问题"><a class="markdownIt-Anchor" href="#其它子数组问题"></a> 其它子数组问题</h3><h4 id="统计和为k的子数组"><a class="markdownIt-Anchor" href="#统计和为k的子数组"></a> 统计和为K的子数组</h4><p><a href="https://leetcode.cn/problems/subarray-sum-equals-k/">LeetCode560.和为 K 的子数组</a></p><p><strong>前缀和+哈希表</strong></p><p>首先，和为k的子数组，一眼就可以转成前缀和,求<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mo stretchy="false">[</mo><mi>r</mi><mo stretchy="false">]</mo><mo>−</mo><mi>s</mi><mo stretchy="false">[</mo><mi>l</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo><mo>=</mo><mo>=</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">s[r] - s[l - 1] == k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span>。</p><p>那么可以转化成<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mo stretchy="false">[</mo><mi>r</mi><mo stretchy="false">]</mo><mo>−</mo><mi>k</mi><mo>=</mo><mo>=</mo><mi>s</mi><mo stretchy="false">[</mo><mi>l</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">s[r] - k == s[l - 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></p><p>那么遍历数组，每次计算到当前前缀和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">s[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>时，可以看看哈希表中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>−</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">s[i] - k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span>的个数，然后直接加上就能统计出来。</p><p>特别地，<strong>哈希表要初始化{0，1}</strong>，可以看作是在前缀和前多加了一个和，是为了防止从序号0开始加到序号i时刚好为k的情况出现时，没法找到对应数值计数。</p><h4 id="统计中位数为k的子数组"><a class="markdownIt-Anchor" href="#统计中位数为k的子数组"></a> 统计中位数为K的子数组</h4><p><a href="https://leetcode.cn/problems/count-subarrays-with-median-k/">LeetCode-2488. 统计中位数为 K 的子数组</a></p><p><strong>前缀和+哈希表</strong></p><p>这道题有限制的：数组内的数字各不相同为1~n，并且规定偶数长度的子数组其中位数是位于中间靠 <strong>左</strong> 的元素</p><p>子数组的中位数如果是K，等价转换：预处理数组，把数组中小于K的数视作-1，大于K的数视作-1，K视作0。</p><ul><li><p>对于奇数长度的子数组，「子数组中小于K的数的个数 == 大于 K 的数的个数」，等价于前缀和为k_</p></li><li><p>对于偶数长度的子数组，「子数组中小于K的数的个数 == 大于 K 的数的个数 - 1」，等价于前缀和为k_ + 1</p></li></ul><p>由此可以转换成「统计和为K的子数组」这道题。</p><h2 id="子序列问题"><a class="markdownIt-Anchor" href="#子序列问题"></a> 子序列问题</h2><p>因为不要求连续，所以如果是统计子序列长度问题，</p><p>可以先排序看看，然后想想能不能二分查找</p>]]></content>
    
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>H2RBox</title>
    <link href="/2022/11/21/AI-Learning/20221121-H2RBox/"/>
    <url>/2022/11/21/AI-Learning/20221121-H2RBox/</url>
    
    <content type="html"><![CDATA[<h1 id="h2rbox"><a class="markdownIt-Anchor" href="#h2rbox"></a> H2RBox</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><p><strong>论文题目</strong> ：HORIZONTAL BOX ANNOTATION IS ALL YOU NEED FOR ORIENTED OBJECT DETECTION</p><p><strong>论文地址</strong> ：<a href="https://arxiv.org/abs/2210.06742">https://arxiv.org/abs/2210.06742</a></p><p><strong>论文出处</strong> ：arxiv 2022.10</p><p><strong>代码实现</strong> ：<a href="https://github.com/yangxue0827/h2rbox-mmrotate">https://github.com/yangxue0827/h2rbox-mmrotate</a></p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><p>现在很多目标检测数据集的annotation都是基于水平边界框的注释，但是水平框数据集不能直接用于旋转检测器的训练，这就导致现成的数据集和不断增长的旋转目标检测需求之间存在gap。因此作者提出了一种HBox-to-RBox style method(H2RBox)，使用水平框进行弱监督学习，并且采用无监督学习辅助修正尺度和空间上的一致性，来预测对象角度。</p><p>SKU110K  (零售场景数据集， 2019) = &gt; SKU110K-R  (2020)<br />DIOR  (航空数据集 2020)  =&gt;  DIOR-R  (2022)</p><p>这两个数据集一开始是水平框标注的，然后后面为了做旋转目标检测而特地使用旋转框重新标注。</p><h2 id="detail"><a class="markdownIt-Anchor" href="#detail"></a> Detail</h2><p>作者实验发现，通过一些用水平框弱监督的实例分割模型(BoxInst,  BoxLevelSet)，可以轻松获得分割掩码Mask，然后通过掩码的最小外接性，可以轻松获得最终的旋转框。作者称这种方法为HBox-Mask-RBox style methods.</p><p><img src="/img/article/2022/11/21/2.png" alt="" /></p><p>可以看到这个model也是一个二阶段的任务，而且第一阶段是实例分割，</p><p>如果直接引入实例分割，会带来以下问题:</p><ol><li>分割质量很可能对背景噪声敏感</li><li>在对象拥挤等复杂场景中，会严重影响后续RBox的检测步骤.</li><li>实例分割的计算成本往往更高，导致整个检测过程耗时更长。</li></ol><p>基于以上几点，作者提出了一种HBox-to-RBox style method(H2RBox)。想要跳过实例分割这个步骤，来构造一个HBox-to-RBox paradigm.</p><p><img src="/img/article/2022/11/21/3.png" alt="" /></p><p>具体来说:</p><ol><li><p>首先经过WS分支中的FCOS网络，得到预测的RBox<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>w</mi><mo separator="true">,</mo><mi>h</mi><mo separator="true">,</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y ,w, h, \theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">h</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span></p></li><li><p>然后把输入的水平图像旋转一个随机角度，经过SS分支，然后同样回归得到子网络(FCOS)预测的RBox</p></li></ol><p>然后开始计算LOSS</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mrow><mi>c</mi><mi>l</mi><mi>s</mi></mrow></msub></mrow><annotation encoding="application/x-tex">{L_{cls}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>:  FCOS网络中的分类Loss</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mrow><mi>c</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">{L_{cn}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>:   FCOS网络中的center-ness loss，通过将class score与center-ness相乘后作为最终该预测框的score，从而降低了那些远离object中心点的预测框的权重，并进行NMS,去掉一些远离object的低质量检测框。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mrow><mi>r</mi><mi>e</mi><mi>g</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{reg}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>:  使用H2RBox的外接矩形与GT的HBox进行Loss计算.</p><blockquote><p>作者认为在理想情况下，WS分支的RBox的外接矩形和GT的HBox是高度重叠的。</p></blockquote><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mrow><mi>s</mi><mi>s</mi></mrow></msub><mo>:</mo></mrow><annotation encoding="application/x-tex">L_{ss}:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span></span></span></span>   WS分支的RBox * Rotation Matrix后，与SS分支的RBox进行Loss计算。</p><blockquote><p>这个就是作者说的通过学习两个分支，不同视图的RBox的一致性(包括尺度和空间)，以消除undesired cases.</p></blockquote><p>测试阶段只涉及WS分支.</p><p>label re-assignment strategies  (label at location <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>∗</mo><mo separator="true">,</mo><mi>y</mi><mo>∗</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x*, y*)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mord">∗</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord">∗</span><span class="mclose">)</span></span></span></span> in SS branch 旋转映射回 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> in WS branch的策略)</p><p>简单贴一下Loss</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mrow><mi>c</mi><mi>l</mi><mi>s</mi></mrow></msub></mrow><annotation encoding="application/x-tex">{L_{cls}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>:  SoftMax Loss    <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mrow><mi>c</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">{L_{cn}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> :  Center-ness loss   <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mrow><mi>r</mi><mi>e</mi><mi>g</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{reg}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>: Cross entropy Loss</p><p><img src="/img/article/2022/11/21/9.png" alt="" /></p><p><img src="/img/article/2022/11/21/10.png" alt="" /></p><p><img src="/img/article/2022/11/21/11.png" alt="" /></p><h2 id="result"><a class="markdownIt-Anchor" href="#result"></a> Result</h2><p>下面两张图对比，说明了但WS的效果不好，这也是为什么作者要引入SS分支。</p><p><img src="/img/article/2022/11/21/5.png" alt="" /></p><p><img src="/img/article/2022/11/21/6.png" alt="" /></p><p>下面是DOTA-v1.0数据集上的性能对比:</p><p><img src="/img/article/2022/11/21/7.png" alt="" /></p><p>下面是DIOR-R数据集上的性能对比:</p><p><img src="/img/article/2022/11/21/8.png" alt="" /></p><h2 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h2><p>不难发现，因为作者的这个方法原创性比较大，没有一个好的baseline，因此效果整体上来说不是很好。</p><p>作者的想法很好：怎么样把水平框数据集利用到旋转目标检测上来, more data, more powerful。</p><p>但我要研究的重点不是这个方面，因此可能帮助不是很大。</p>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>RBox</title>
    <link href="/2022/11/14/AI-Learning/20221114-RBox/"/>
    <url>/2022/11/14/AI-Learning/20221114-RBox/</url>
    
    <content type="html"><![CDATA[<h1 id="rbox"><a class="markdownIt-Anchor" href="#rbox"></a> RBox</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><p><strong>论文题目</strong> ：Few Could Be Better Than All: Feature Sampling and Grouping for Scene Text Detection</p><p><strong>论文地址</strong> ：<a href="https://arxiv.org/abs/2203.15221v2">https://arxiv.org/abs/2203.15221v2</a></p><p><strong>论文出处</strong> ：2022’CVPR</p><p><strong>代码实现</strong> ：Not released.</p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><p>作者认为没有必要对所有像素的relationship进行特征学习。因为前景目标只占场景图像中的几个小而窄的区域。作者首先采样并收集与前景高度相关的特征，然后使用Tansformer建模来分析采样特征之间的关系，使得前景特征能被正确的分组。并且这样做可以免去anchor generation、NMS等后处理。</p><p><img src="/img/article/2022/11/14/2.png" alt="" /></p><h2 id="detail"><a class="markdownIt-Anchor" href="#detail"></a> Detail</h2><p><img src="/img/article/2022/11/14/3.png" alt="" /></p><p>首先通过一个Backbone network(Backbone: ResNet50 + neck: FPN)，得到多尺度特征图，然后送入MultiSale Text Extrator中，对多尺度特征逐层的进行以下两个步骤:a) 预测提取代表性的文本(前景)区域; b) 在前景区域进行像素级的预测置信度得分confidence scores，选取Top-N个点作为与前景高度相关的特征。然后送入Tansformer模块[具体进行位置编码(Position Embedding)，然后送到Transfromer Block)]进行关系建模=&gt;特征分组，让每一组对应一个实例。最后送入预测head回归出检测框，并进行分类。</p><h3 id="backbone"><a class="markdownIt-Anchor" href="#backbone"></a> Backbone</h3><p><img src="/img/article/2022/11/14/6.png" alt="" /></p><p>主要选取的是P2-P4 (1/4、1/8、1/16)进行特征采样。</p><h3 id="multi-scale-text-extractor"><a class="markdownIt-Anchor" href="#multi-scale-text-extractor"></a> Multi-Scale Text Extractor</h3><p><strong>CoordConv Layer</strong></p><p><img src="/img/article/2022/11/14/4.png" alt="" /></p><p>将每个特征图与两个额外的归一化坐标(x, y)通道连接起来，以引入位置信息。</p><p><strong>Constrained Deformable Pooling</strong></p><p><img src="/img/article/2022/11/14/7.png" alt="" /></p><p>作者设计了一种独特的下采样方式，即在下采样时增加了一个可学习的尺度参数用于约束预测的偏差，保证不近邻的特征区域不会相互影响，即只合成较小范围内的文本区域的特征。</p><p><strong>Scoring Net</strong></p><p>用sigmoid激活函数来二分类，以生成前景文本区域的置信度得分confidence scores。然后对这些score排序选择每个尺度下前TopN个点，送入Transformer。</p><h3 id="feature-grouping"><a class="markdownIt-Anchor" href="#feature-grouping"></a> Feature Grouping</h3><p>作者在论文中没有具体说是如何利用Tansformer做到给特征进行分组的。</p><h2 id="result"><a class="markdownIt-Anchor" href="#result"></a> Result</h2><p>截了一个在DOTA数据集上的实验对比:</p><p><img src="/img/article/2022/11/14/5.png" alt="" /></p><p><img src="/img/article/2022/11/14/8.png" alt="" /></p><h2 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h2><p>看着简单，但是还有有几个点是值得注意的：</p><ol><li><p>首先，作者仅仅只是把Transformer用于对特征点之间的关系建模上, (只用于一个子任务)这是很值得注意的。根据我以往读过的Tansformer目标检测相关的论文，之前要么就是把Swin Transfomer作为一个backbone，处理出特征图，然后送入后续head进行处理; 要么就是一整个网络用Tansformer结构.</p></li><li><p>只在预测出来的前景区域做Transformer，可以大幅度减少Transfomer因为大量参数带来的计算量。减少了背景噪声带来的影响，从而提高的检测精度.</p></li><li><p>整个网络结构避免掉了anchor,可以无需通过复杂的后处理(anchor generation，NMS等)而准确获得bbox。</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>Transformer</tag>
      
      <tag>目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>QueryDet</title>
    <link href="/2022/10/31/AI-Learning/20221031-QueryDet/"/>
    <url>/2022/10/31/AI-Learning/20221031-QueryDet/</url>
    
    <content type="html"><![CDATA[<h1 id="querydet"><a class="markdownIt-Anchor" href="#querydet"></a> QueryDet</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><p><strong>论文题目</strong> ：QueryDet</p><p><strong>论文地址</strong> ：<a href="https://arxiv.org/pdf/2103.09136.pdf">https://arxiv.org/pdf/2103.09136.pdf</a></p><p><strong>论文出处</strong> ：2022’CVPR oral</p><p><strong>代码实现</strong> ：<a href="https://github.com/ChenhongyiYang/QueryDet-PyTorch">https://github.com/ChenhongyiYang/QueryDet-PyTorch</a></p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><p>针对小目标检测，作者提出了QueryDet，设计了级联稀疏查询(CSQ)机制，它可以有效利用高分辨率特征，同时高可以降低所有基于特征金字塔的目标检测器的计算成本，保证快速的推理速度，从而提高对小目标的检测性能。</p><p><img src="/img/article/2022/10/31/2.png" alt="" /></p><h2 id="detail"><a class="markdownIt-Anchor" href="#detail"></a> Detail</h2><h3 id="question-in-small-objection"><a class="markdownIt-Anchor" href="#question-in-small-objection"></a> Question in small objection</h3><p>小目标检测中出现性能衰减主要由三个因素所导致：</p><ol><li><p>由于下采样操作导致引导小目标的特征消失，或被background中的噪声污染。</p></li><li><p>低分辨率特征对应的感受野无法与小目标的尺度相匹配。</p></li><li><p>小目标较小的偏差就会导致IoU上较大的扰动，导致小目标检测先天难于大目标。</p></li></ol><p>针对这些问题，作者认为：</p><ol><li><p>low-level特征层上的计算中，有很大部分是冗余的。</p></li><li><p>FPN结构中，即使低分辨率（high-level）的特征层无法精确的检测出小目标，但也能以较高的置信度来粗略判断出小目标是否存在以及对应的区域。</p></li></ol><p><img src="/img/article/2022/10/31/3.png" alt="" /></p><p>图1是普通的retinanet，图二retinanet+P2,计算的参数量明显增加了很多，图三QueryDet(CSQ)</p><p>做法：</p><p><img src="/img/article/2022/10/31/4.png" alt="" /></p><p>引入更高分辨率特征图（P2）进行计算，因为<strong>更高分辨率的特征图能更好的保留小目标的语义信息</strong></p><p>Head设计上：平行于分类和回归头，添加了一个查询头（query head）。query head会输出的热力图(heat map)，表示位置<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>r</mi><mi>i</mi><mi>d</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">grid(i, j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span>含有小目标的概率。</p><h3 id="cascade-sparse-query-csq"><a class="markdownIt-Anchor" href="#cascade-sparse-query-csq"></a> Cascade Sparse Query (CSQ)</h3><p>在训练过程中，每一层预定义阈值<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mi>l</mi></msub></mrow><annotation encoding="application/x-tex">{s_l}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>设置为该层最小的anchor尺寸（anchor-based）/最小的回归范围（anchor-free），尺寸小于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mi>l</mi></msub></mrow><annotation encoding="application/x-tex">{s_l}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>的ground truth，在该层会被视为小目标(small ground truth)。</p><p>query操作：然后对query head输出的heatmap做一个binary mask：计算small ground truth中心位置与head map上每个位置之间的距离来编码，距离小于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mi>l</mi></msub></mrow><annotation encoding="application/x-tex">s_l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的位置设为1，否则为0. 那么在下一层中heat map 中对应映射mask为0的位置，就不会进行概率的预测了。(这样就可以少计算很多冗余的anchor的Loss,从而减少计算量)</p><blockquote><p>每层损失采用不同加权系数（P2-P7在[1, 2.6]线性增加）来求得总损失，使模型同时从所有层学习。因为添加的更高分辨率特征（P2）使训练样本的分布发生了显著变化。P2上的训练样本总数甚至大于P3~P7的训练样本总和，如果不降低其权重，训练将由小目标主导。</p></blockquote><p>在测试/推理过程中，因为没有ground truth作为参照了，因此在做query的binary mask操作时，直接设定了一个阈值<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi><mo>=</mo><mn>0.15</mn></mrow><annotation encoding="application/x-tex">{\sigma = 0.15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">1</span><span class="mord">5</span></span></span></span></span>。当query head输出heat map，其位置<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>r</mi><mi>i</mi><mi>d</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">grid(i, j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span>的预测概率分数&gt;<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">{\sigma}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span></span></span>时,mask设置为1，否则为0. 查询后的Query value feature，做稀疏卷积spconv来减少计算量。</p><h2 id="result"><a class="markdownIt-Anchor" href="#result"></a> Result</h2><p>实验中设置阈值<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi><mo>=</mo><mn>0.15</mn></mrow><annotation encoding="application/x-tex">{\sigma}=0.15</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">1</span><span class="mord">5</span></span></span></span></p><p><img src="/img/article/2022/10/31/5.png" alt="" /></p><p><img src="/img/article/2022/10/31/6.png" alt="" /></p><p>总体上来说，设计得是比较简单，并且这种设计对于检测遥感图像也值得借鉴。</p>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Focal and Global Distillation</title>
    <link href="/2022/10/24/AI-Learning/20221024-Focal%20and%20Global%20Dlistillation/"/>
    <url>/2022/10/24/AI-Learning/20221024-Focal%20and%20Global%20Dlistillation/</url>
    
    <content type="html"><![CDATA[<h1 id="focal-and-global-knowledge-distillation"><a class="markdownIt-Anchor" href="#focal-and-global-knowledge-distillation"></a> Focal and Global Knowledge Distillation</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><p><strong>论文题目</strong> ：Focal and Global Knowledge Distillation for Detectors</p><p><strong>论文地址</strong> ：<a href="https://arxiv.org/pdf/2111.11837.pdf">https://arxiv.org/pdf/2111.11837.pdf</a></p><p><strong>论文出处</strong> ：2022’CVPR</p><p><strong>代码实现</strong> ：<a href="https://github.com/yzd-v/FGD">https://github.com/yzd-v/FGD</a></p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><p>在目标检测中，Teacher和Student的特征在不同的区域由很大的差异，特别是在前景和背景上。如果同等的提取它们，特征图之间的不均匀差异将对提取产生负面影响。因此作者提出了焦点和全局蒸馏FGD，所有损失函数仅根据特征计算，因此可以适用于各种检测器。</p><p><img src="/img/article/2022/10/24/5.png" alt="" /></p><p>焦点蒸馏分离前景和背景，迫使学生关注教师的关键像素和通道，全局蒸馏重建了不同像素之间的关系，并由教师传递给学生以补偿焦点蒸馏丢失的全局信息。</p><h2 id="detail"><a class="markdownIt-Anchor" href="#detail"></a> Detail</h2><h3 id="feature-distllation"><a class="markdownIt-Anchor" href="#feature-distllation"></a> Feature Distllation</h3><p>参考文章1：<a href="https://arxiv.org/pdf/1412.6550.pdf">[2015’ICLR]-FitNets:Hints For Thin Deep Nets</a></p><p>参考文章2：<a href="https://arxiv.org/pdf/1904.01866.pdf">[2019’ICCV]-A Comprehensive Overhaul of Feature Distillation</a></p><p>Logits Distllation引入了一个模型压缩框架(Teacher-Student)，该框架通过将深度网络(Teacher)的集合压缩为具有相似深度的学生(Student)网络。但是高性能的Teacher输出的Soft Target与Ground Truth并没有显著差异，这就会限制蒸馏效果。</p><p>为了更好的利用Teacher网络中包含的信息，可以使用Feature Distllation。</p><h4 id="hint-layerguided-layer"><a class="markdownIt-Anchor" href="#hint-layerguided-layer"></a> hint layer&amp;guided layer</h4><p>选择Student的一个中间层(这层称为guided layer)，去学习Teacher的一个中间层(称为hint layer)的output，也就是guided layer需要正确预测hint layer的输出。</p><p><img src="/img/article/2022/10/24/2.png" alt="" /></p><p>hint layer 高宽和通道数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>N</mi><mrow><mi>h</mi><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>N</mi><mrow><mi>h</mi><mn>2</mn></mrow></msub><mo separator="true">,</mo><msub><mi>O</mi><mi>h</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(N_{h1}, N_{h2}, O_h)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p>guided layer 高宽和通道数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>N</mi><mrow><mi>g</mi><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>N</mi><mrow><mi>g</mi><mn>2</mn></mrow></msub><mo separator="true">,</mo><msub><mi>O</mi><mi>g</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(N_{g1}, N_{g2}, O_g)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><h4 id="regressor"><a class="markdownIt-Anchor" href="#regressor"></a> regressor</h4><p>考虑到Teacher通常比Student更高更宽，所选的hint layer可能比guided layer具有更多输出，因此给guided layer添加一个regressor，使guided经过regressor后其输出与hint layer的大小一致。(自适应宽高)</p><p><img src="/img/article/2022/10/24/3.png" alt="实际上只有加粗的是hint layer和guided layer" /></p><p><strong>全连接</strong></p><p>regressor的weight矩阵参数：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>r</mi></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi>N</mi><mrow><mi>h</mi><mn>1</mn></mrow></msub><mo>∗</mo><msub><mi>N</mi><mrow><mi>g</mi><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>N</mi><mrow><mi>h</mi><mn>2</mn></mrow></msub><mo>∗</mo><msub><mi>N</mi><mrow><mi>g</mi><mn>2</mn></mrow></msub><mo separator="true">,</mo><msub><mi>O</mi><mi>h</mi></msub><mo>∗</mo><msub><mi>O</mi><mi>g</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">W_r = (N_{h1} * N_{g1}, N_{h2} * N_{g2}, O_h * O_g)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p><strong>反卷积</strong></p><p>regressor的kernel大小确定：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mrow><mi>g</mi><mn>1</mn></mrow></msub><mo>−</mo><msub><mi>k</mi><mn>1</mn></msub><mo>+</mo><mn>1</mn><mo>=</mo><msub><mi>N</mi><mrow><mi>h</mi><mn>1</mn></mrow></msub><mo separator="true">,</mo><mo stretchy="false">(</mo><mi>p</mi><mi>a</mi><mi>d</mi><mi>d</mi><mi>i</mi><mi>n</mi><mi>g</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>d</mi><mi>e</mi><mo>=</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">N_{g1} - k_1 + 1 = N_{h1}, (padding = 0, stride = 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> ，<br />用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>O</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">{O_h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>个大小为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>k</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>k</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>O</mi><mi>g</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(k_1, k_2, O_g)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>的kernel对guided layer做反卷积。</p><p>regressor的weight矩阵参数：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>r</mi></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi>k</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>k</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>O</mi><mi>h</mi></msub><mo>∗</mo><msub><mi>O</mi><mi>g</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">W_r = (k_1, k_2, O_h * O_g)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><blockquote><p>关于特征蒸馏的位置选取，FitNets是使用的是<strong>任意中间层的末端</strong>输出作为蒸馏点。</p></blockquote><h4 id="training-scheme"><a class="markdownIt-Anchor" href="#training-scheme"></a> Training Scheme</h4><p><img src="/img/article/2022/10/24/2.png" alt="" /></p><p>特征蒸馏提取的损失可以被定义为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mrow><mi>f</mi><mi>e</mi><mi>a</mi></mrow></msub><mo>=</mo><mi>d</mi><mo stretchy="false">(</mo><msub><mi>T</mi><mi>t</mi></msub><mo stretchy="false">(</mo><msub><mi>F</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>T</mi><mi>s</mi></msub><mo stretchy="false">(</mo><msub><mi>F</mi><mi>s</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L_{fea} = d(T_t(F_t), T_s(F_s))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span></p><p>Teacher transform : 对Teacher的hint layer层输出做变换。</p><p>Student transform : 对Student的guided layer层输出做变换。</p><p>Distillation feature position：改变特征蒸馏的位置选取。</p><p>比如在激活函数前进行蒸馏:</p><p><img src="/img/article/2022/10/24/4.png" alt="" /></p><p>Distance function：衡量特征提取的损失函数通常采用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mn>2</mn></msub><mi>D</mi><mi>i</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">L_2 Distance</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">c</span><span class="mord mathdefault">e</span></span></span></span>。</p><p>以上是Feature Distllation的提出及归纳，因为guided layer和hint layer的维度不一致和特征图的差异性，并且引入了特征提取的损失，后续在此上有很多文章可做。</p><h3 id="focal-and-global-distillation"><a class="markdownIt-Anchor" href="#focal-and-global-distillation"></a> Focal and Global Distillation</h3><p><img src="/img/article/2022/10/24/6.png" alt="" /></p><p>把特征蒸馏损失按CWH维度拓展:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mrow><mi>f</mi><mi>e</mi><mi>a</mi></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mrow><mi>C</mi><mi>H</mi><mi>W</mi></mrow></mfrac><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>C</mi></munderover><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>W</mi></munderover><mo stretchy="false">(</mo><msubsup><mi>F</mi><mrow><mi>k</mi><mo separator="true">,</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow><mi>T</mi></msubsup><mo>−</mo><mi>f</mi><mo stretchy="false">(</mo><msubsup><mi>F</mi><mrow><mi>k</mi><mo separator="true">,</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow><mi>S</mi></msubsup><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">L_{fea} = \frac{1}{CHW}\sum_{k=1}^{C}\sum_{i=1}^{H}\sum_{j=1}^{W}(F_{k,i,j}^T-f(F_{k,i,j}^S))^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.2421130000000007em;vertical-align:-1.4137769999999998em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">C</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">W</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4137769999999998em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.891331em;"><span style="top:-2.4530000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.383108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.274439em;vertical-align:-0.383108em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.891331em;"><span style="top:-2.4530000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.383108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><h4 id="focal-distillation"><a class="markdownIt-Anchor" href="#focal-distillation"></a> Focal Distillation</h4><p>这里所谓的Focal，是让Distillation更多注意gt的bboxes。</p><h5 id="binary-mask"><a class="markdownIt-Anchor" href="#binary-mask"></a> Binary Mask</h5><p>首先设置一个Binary Mask来分离背景和前景。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>M</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>i</mi><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>r</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>O</mi><mi>r</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>w</mi><mi>i</mi><mi>s</mi><mi>e</mi></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">M_{i,j}=\left\{\begin{matrix}1 &amp;if(i,j)\in r\\0 &amp;Ortherwise\end{matrix}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>表示ground-truth的bboxes，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i,j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span>是特征图中的横纵坐标，如果<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i,i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mclose">)</span></span></span></span>映射回原图落在ground-truth中，则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>M</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">M_{i,j}=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，否则为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>.</p><h5 id="scale-mask"><a class="markdownIt-Anchor" href="#scale-mask"></a> Scale Mask</h5><p>然后为了平衡前景和背景的损失，使其被平等对待，设置一个Scale Mask：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mn>1</mn><mrow><msub><mi>H</mi><mi>r</mi></msub><msub><mi>W</mi><mi>r</mi></msub></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>i</mi><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>r</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mn>1</mn><msub><mi>N</mi><mrow><mi>b</mi><mi>g</mi></mrow></msub></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>O</mi><mi>r</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>w</mi><mi>i</mi><mi>s</mi><mi>e</mi></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">S_{i,j}=\left\{\begin{matrix}\frac{1}{H_rW_r}  &amp;if(i,j)\in r\\\frac{1}{N_{bg}} &amp;Ortherwise\end{matrix}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5916979999999996em;"><span style="top:-3.74659em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.08125em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.4563820000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.10903em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">b</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29011428571428566em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5480799999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0916979999999996em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5916979999999996em;"><span style="top:-3.74659em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span><span style="top:-2.4563820000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0916979999999996em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mrow><mi>b</mi><mi>g</mi></mrow></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><munder><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow></munder><mi>W</mi><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>M</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">N_{bg}=\sum_{i=1}^{H}\sum_{j=1}{W}(1 - M_{i,j})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">b</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.2421130000000002em;vertical-align:-1.413777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8723309999999997em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.413777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>可以看出来其实就是面积比的倒数作为权重。</p><p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">W_r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>H</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">H_r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>表示ground-truth的宽高。(如果有像素被多个gt bboxes重叠，选择最小的框来计算S)</p><h5 id="attention-mask"><a class="markdownIt-Anchor" href="#attention-mask"></a> Attention Mask</h5><p>借鉴了<a href="">2017’ICLR:pay more attention to attention</a>该文章提出了注意力蒸馏。</p><p>然后把像素和通道分离，做Attention Mask =&gt; 分别为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>A</mi><mi>S</mi></msup><mi mathvariant="normal">和</mi><msup><mi>A</mi><mi>C</mi></msup></mrow><annotation encoding="application/x-tex">A^S和A^C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span></span></span></span></span><span class="mord cjk_fallback">和</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">C</span></span></span></span></span></span></span></span></span></span></span></p><p>这就是提出的问题图中的spatial attention map和channel attention map。</p><p>先求<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">{F_T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>、<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>S</mi></msub></mrow><annotation encoding="application/x-tex">{F_S}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>输出的绝对值的平均值</p><p><img src="/img/article/2022/10/24/7.png" alt="" /></p><p><img src="/img/article/2022/10/24/8.png" alt="" /></p><h5 id="focal-distillation-loss"><a class="markdownIt-Anchor" href="#focal-distillation-loss"></a> Focal Distillation loss</h5><p><img src="/img/article/2022/10/24/9.png" alt="" /></p><p>前半部分是前景，后半部分是背景。</p><p><img src="/img/article/2022/10/24/10.png" alt="" /></p><p>用L2 loss衡量特征图蒸馏损失,用L1 loss衡量注意力蒸馏损失。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mrow><mi>f</mi><mi>o</mi><mi>c</mi><mi>a</mi><mi>l</mi></mrow></msub><mo>=</mo><msub><mi>L</mi><mrow><mi>f</mi><mi>e</mi><mi>a</mi></mrow></msub><mo>+</mo><msub><mi>L</mi><mrow><mi>a</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{focal} = L_{fea} + L_{at}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>可以认为焦点蒸馏 = 特征蒸馏 + 注意力蒸馏</p><h4 id="global-distillation"><a class="markdownIt-Anchor" href="#global-distillation"></a> Global Distillation</h4><p>把GCNet提出的GC-Block(Global Context Block)模块，应用到知识蒸馏当中。</p><p>GC Block可以理解为一个适用于求目标检测任务的图像attention map的模块。</p><p><img src="/img/article/2022/10/24/11.png" alt="" /></p><p><img src="/img/article/2022/10/24/12.png" alt="" /></p><h5 id="overall-loss"><a class="markdownIt-Anchor" href="#overall-loss"></a> Overall loss</h5><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo>=</mo><msub><mi>L</mi><mrow><mi>o</mi><mi>r</mi><mi>i</mi><mi>g</mi><mi>i</mi><mi>n</mi><mi>a</mi><mi>l</mi></mrow></msub><mo>+</mo><msub><mi>L</mi><mrow><mi>f</mi><mi>o</mi><mi>c</mi><mi>a</mi><mi>l</mi></mrow></msub><mo>+</mo><msub><mi>L</mi><mrow><mi>g</mi><mi>l</mi><mi>o</mi><mi>b</mi><mi>a</mi><mi>l</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L = L_{original} + L_{focal} + L_{global}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">b</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span></p><h3 id="result"><a class="markdownIt-Anchor" href="#result"></a> Result</h3><p><img src="/img/article/2022/10/24/13.png" alt="" /></p><p><img src="/img/article/2022/10/24/14.png" alt="" /></p><h2 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h2><p>可以看到在最新的研究中，又把特征图蒸馏、注意力蒸馏按空间角度划分了像素，通道。</p><p>GC Block是一个很好的模块，用于提取目标检测任务中的attention map。</p><p>所以说总的来看，Feature Distllation的可以改进和切入的角度有很多。</p><p>而且我认为，作者的这个思路肯定不是一蹴而就的，而是在做实验的过程中不断调整的。</p><blockquote><p>todo: 一定要读一下GC Net。</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>目标检测</tag>
      
      <tag>知识蒸馏</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Difficulty in Oriented Object Detection</title>
    <link href="/2022/10/17/Difficulty%20in%20Oriented%20Object%20Detection/"/>
    <url>/2022/10/17/Difficulty%20in%20Oriented%20Object%20Detection/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="a966f04c332042583a06500a45b135da8cff0209e87653babaf160859e1dc769">af01d0b7d63db801117cb0ef9676516de60ea7379aff00710d9a04271f21054e0adc5fa3ad47fae83e4b932e6014d27b15fa40e4028c2962ae7dc77a332e216526cdf325b39aef5b16634101d8b0025866d1be9472c3b5223678670a49708d973fff8b8ffd8bfd026650ec00999b9ae43bd180c79559971c4ad77e9eb0973604030b58b23aeb3bb4d03e157a4a48925f7ef344ecc630d9ee5e74a5a36974ca74b7434c2b2ff84945817424647d866ad6c6e1c65bb9f9d11e121c07d0de3ea131ea6e618c12b083d531e8aed2c56f8fee7854e8549e22ee56366ee9e0fe9978a059460a80326d6b89c42d41a40c24fb5187a1eec3e02b1a291a4ca68807fc0ab1a9b9ed508a6835cc54eb01ed13d16fff1723734de14077a442d240325c5a6dfeebd5cbacdeb549ccdefdec5ecfdcb177590430b1dabf81779e21ab38c0b15c85e7833c3f317a343a366e2a17ad0c43989efc74a9c46d3be91649c9ce992bb74f7996009806d7c0ba98e41152fb469f3bff5884664a5fc97ac0c924d2275667af5d6dbdba82b0c37d23a7b3e882c4191048391393b464e01ee5a841c82e8455003740bdd2bb41eb0e27826c11d48ba2ec1ee80aca593824bb1eab2c49f38c9177d6791de77a3d8affae56189dbcd84c9f33325e0fa370fdf58866bf46e48ccdd5d6a8bb8cac7452277beba52ae77125aea2189c10a6a4bd81dc76cef2999cd503fce6d2cae8cfa53978eb99071589544034640afc1b3136bc69f4dac41c3d2fde461ac901905e8b991dbab47bf9032abe58a7a5e11fe63e55844db84c9d873447ab6e975a940845cdcf3326ea388588dd38510f595d1308e8a6f08e14f08f78c95fbafaab9b1cfa94bd3fbe0249b5233fdd5fd23875b399cce94127b758aabb7d2b2dcc36e48d8e4262b9552d4dfde42d93256789f8f89a52a82c9a5da5110387a89e300ff32b678fe9b2cf081bbd896a8f3cc1623a743b409c869aee390ce26eb3a4f0a9b7293c75f36a604291ddfbcddeb18794b633a24e1fa4a3241f6bcf8743351f323d48ed3bf6708b4cc43d8e56e6ce3d505d17ad40fa80477f758bb376856d206ee1e71199f3a579f8ff9fff96a43a785d606ee1b6a20e73c48ac847ef4a917823f848d627f176697e29753eb7b95fac7302c593910a0c55bf587754548cf5aebc5fdc110e9185e94baa5cc836d3c4ad474e54ab23c7a6946260621650ac41695abafa55603faebe566c34e29594396eb41a6973b3bd2040d1422e8e5fdd01890eab0ff56fa410089284acbddffc535fa4870d3138f98c4379b137b4769292bcbc0481af4ed80f8c12403734b7dc111a3d6564ca9d51f2f782aebbee36c922883a32e3fe2302fa55a3865cda6af84cdb1f62830e1bf53b5644f95ce2d6571a5641185a1c36c117a1d1520bf4efb9fb5a62bcc80f1e4730b7167247ffd7c79f220f39a69d9cc956f0d0bf56b10548fd45f9140fe35a1603d8527b90af49f1f7c32852e7107f269a2e43f3ee39038a2d52d1cd8ce7e943ea22272f3f31d8cff473afbb99a46ad679e91f5df9554cd5e73e3dcdbbe89c8a4d7a424e50bc9ccb3ed7f379fea52c55afe9067a173ed422ba7a50bed93ce0c96b9d858c9c64c4cf066800cf1addeffccd6b2d1b6af4bf2fa06b1e4077d02c2a4ab7fcf9e4763fb8915c85b80eee58d6d7541d4d35a35717457778fac51cac47614532a5d26edbc8fcabfbce5a9aa17d9830d8ce204897daf6873a688c5b0d73176130b5e9a7b3758543e7cc986d6095784c65f64c12b5002daa04e7aa7350fedd91c4ea8bb6810c0c93cf019e66d970d1e91037f0b9d90cf1c7d82dc9c6d1b5c599f3d192a70f6a61496e179ce277633def600e9b9cce2c39628cd0a9221f7615658af483c7ad9d532cda736bd13d7e20cc9b528d9e4be18b538a4aede3b422c356650626560929249083578df9080639f346114a6f47aae00ab1a727eb42a6a00df12c58dad8308e4bfb53830a901b4e6f2221300c0f09937fe14caddfa32f4aadcd3537278b3590b527c525a409f37a4ee30067e61743c8bba7cf843d7e31cdec8921415c86babcac8cec31fab36c20f7c13e57123d3083afa93d637d9ab56668dfbe2c19b3134307740713d843f6bda283d71363435b8464c2f8c1b16937dc56a7c7534646c6caf4e8ec43cfc8e66605fe74289475782e8dba2e09d0ef9e8d66a19c9946edf38d2cd65023ee740acce649ffe6316cd3f7db40369162ef6ff91b0c2e153639ab05736d7fd0c5c688b3acedc95715853ec7f5f244ebcad1bfa517dcff8f77657a54abd232bcb8b5ad53de2159899c586d41aa47e9e6d2c1db14f57020e186e7950b2b9cfd42df4e79d6462681b21d2b54b7fdd982359c80a2b8f0d8e040c62d33749e5cdadbd8fc3fa22c1bee029c9789309859c7b803f41d179586642747edc72f0452a227da394eafb15701c90e2d66ac82976f4216a25d7c411feb31f3a37f22cc350b4b6e1d1f49a1cadbc5c903bc978847a0de635c40a8538c7e796f5df6a0dc725a9dbbc45e02aaea4529296b2a9627a50a6bc93afcdc150d89c5b71aaa9b8f3c9bc77b6e595ff1a8517949998c0df14782392b155217ba3031d49c2d8b3533baa9e05a7894783228117a8b94474d5628a0ec47265e8c9d3f56738c66a5d5dd50f2c7fe746e3d024d5ee2d05724b4e766fda41c19c0db3c21937ad55e4a6882b15fb1f05800ae621c57fc0de917561db48f51aa7077949cfcbcf5868936d7aea73ebbb10578924c7cae55e184adde8808d3bccd5a7c13c70664e286980382e9191d0df5229fe8ea67c459b2baf27bed8327d3b439eb7a40d6ad2b1ddeb16ae0f9168336b0dffcadb443612bed7d3e8e8bf6c68b548cc7b8fc8f15f462dd02a4438509e64cf473fc4a22988b33bf8e8f185591ee461a26970b0d5f271272557b53f63f8d2a59a6ed53a9f146b9f52899abfcaa8ffc8246fbed1cfd806eccd72f9104f8307e28d579ac3266543bf60e150d23edf4726627162f8a785e934cbfb214fd2cea261c4c821f5b6216e3a65023269ce8550cbad861992b4f24a85cb0b3f745ced863dc770c018041cb9ffd3548e16c7378768f18ce6dee1750aeded7ad29a45a96f8106fb9a56bb8bfab46940571a6eda276fbc4fcac9747fec6ddfab2ee93089f099d0f87d29826609e768a32c58113cee0d1311633188cc5e74b31ecd4643f5b843b5e989cf050d4e73f696a8372761188f9fc82951b841e2fbed24f65ea770933e07e54f13de768f829296f79df8b146b5621ebb38d9980409e0739f317cab3be2d5db12eaa9b8882f8c845b1308f51ccb0ddd2092df3e5fa8327a510bc7f902c5bcafea16ac7f3ee317b766cfe3cc8f171553d60090f5dd6dc68eb63a0564f958025f6e806688814f08efc5469f1e1bb0df67e5dc7d94555c1724f9230e25598e2783c773f0835d1fbc04de1c7c17a6f0e8ea8ee09bb3a6fd2322471be901bd7e1ccc955f465403949ef40ac49ddef9c2408440d2159080285818e888a4004eef1e91419de0ce4e85509ca9d430a21130878ed65e2d98e3fda168ad8cf151062c44a21f32844a5db5acf55cc19fcbce6c1e8f4ccf5115ec0b25b5e0b037a7e3f95b4ad74a1dbc193e86721d2b8fc097ea0ba14e757f90c81c120375b148f4065c42b24f495a5d674995106c9efe9b8af7b367333dc5e21ee736487f072360b8700bd9bedd4719e2801ed5eac9f353d656cce2caada51e68fdc50d5bf3f51cf6dbfab98796a39f35e78dc626f325e67b3edb5ab74be31aae17b285cc879d53025f6614371f7480102e5e35d6c6fb7c418088d157bb4453ee4d95ebf3e8d0fb25295ff6334102bd91047ff8251d28cb19fbaee63e2b17045b20ff47ddea038c89e1ececc7f41966c8d5c6635fba855bca90a9e6ff6e5c860f028f8f33ce1fa905d46e1f4ec1ad68bae5c80f2779b5f6b7f40fbc3bd2305a7f993bd0f7aa749bee30ea136319bc22c5702aae3345897a26640cd509510fbde26b446d815384e939617430829f90481273cc297dfd79c89b596acb5ea05aa56d1c31c5f53a0ea899acfbf2a6373cce3e95ea2731b07cbe4873b3fff7ec2e55d105a8d8f22fdb4d6f704655ef7f2ddd2b3df726779345c7276a223594cdff519df069471bee669140d7486d1a386fd443afc24f1c3d691277653bfff6cee7ca6ad01c0868867c91a06d3f8c5bef015ae6faca46e8266c38274e8b91addfd6f2405c7015f6f7325d6f130dc2ecf186ba12571969e3f42f3730230f2c4228bb006ac1b4a6b8ecdc8a4eeaa5f92fcb19424cd59af6f5a1312cbe04273c1849ce734cc97185de0ef393f9037e7bc22dd113577714a7924c7a7b7ba77f10dfe22f996c104c211d2d415b3b7b491df9a5c182d5b560917b9e28729dcffc2a0a38ec61bb8d86fd086ce2f1c857730991158b2af52a89aae84d5c828faa7111656e1f181c9902da729666fd22b74d9cae30643b45df1124fc9650ceea7b5184d527937f73b114975f033f0902ea7045f6b6ee26af5e05093d3ec1cb972643cd6151153e8b3e537f8ab9de37516ebdaa593ad39d1729e0940cd54a0d6b311dfa2f217ec752a51e385d4d698f8faa1887e59135b7fd9c934d41e44b643cb31a0ca3cc0e4133e18cab94a20384ec029ac3ee80bc482507659f1c1fb828db3bb1b0aab585dda166ae78922ecc39dab3578f36e4478edc2074990826c1bd9e520b81488c31c9fa5667b68fc1b919bdacf790aefcc51d1e8c458a57da301882325a1bfd20e5f280f47096058a5d3f72fcccee800f605ade8b403b38664d9eb7f2cec08c5d808cd0d6587368d460443a2c652e59c51ec9ec51329bdfb53a60b93f1fee6c6bc6e5534b8e7d7bec13d59ac5ecd035f7bf93bd2ab6f81ecd334a87d9b69b6942a3ac0052f799cd671307ff495ab4dc0455568139c43e580aadacde2dda95ac933bf9f8ece2aa5ace0aadaccc1d6d0fa43aacb283bbc6479f93af307e015fa07a37f9b0d68dcb653cc927a7b94529d191f12983030a9460196fb5eb28fb28b247fa83670672a23e83c1a6c2a163208e90ab2df9b8dfb34cba0e66632fb62f96f7450f33a502d20db2c523be068bbb2238fa1f03fb158440bbb977e060a073d5c9db59f464886b1f2d7d8592e12edfe04c8861dcacfd0f9f8dd4eb235876a3e5df9d1e95b5271caaf9e1086f0b17279f1eac012f46b061b74d5cdc46a2501aa916bc93a4b5ef0da766465df8f5f06a60eb492219b57fe663ca5ccd6ad3d0f856c5822cf55afa6738d9435b8a3cd0f7cb25d6c0a0b427b4b74774c90fdacbcb90cb32adefc0d6c39c42507f5248c6e22baafb73a54c80c201ddaae79bf24c94c612f18b9e164a28f7d44db10f11118f0411b7a887b88fe9d36ca4ae292f7b780512c52361f74e8e7267d5e6ebb43159f107eb633262dde235663bfc02c77ab46b2e627801c6fc73281bb1abf48d9fa7bbb3643679fc80f150cd586923415c746471c7e591e18f2047278eb74d91e243c2161b3b2366c7fef29dbee34308018ab23f363ebb2e63be679d832a00b70a257e7176285ebb87a8d77add16e4e606d8113f736857374088a650b4074af6b06fbf2cad8e29343ce5883420df0b3bc438e0703f55120ea405773cd1ab03cb7f387b2c29945647afb5f4290ba6cd90e15c8f0bf3d8a25121c077e91615207320bd5dfaefa2dfb16d628efd7380b90688d8ee47aa28617bd5dc057c24ea4f279ab30c8ce48aa67331d75a9296aeb746ec98276529b2a07db97b6d1e6c1500308d861b7d683a53e72f3a74f76db66fc7fa3da583a91b7ef6cec60ca80e33176090d119051f3210d7ecd2237721bf9c838ce8a591959199601625f2c76efa98e1a244cacb4b4cbd434be94af0c08cb05b6824f17668771a90f79a56ae5012080f2e8b9ccd00ca5a08fc2a3135d2389a29d54cb275a60363cd57d9e0037b2dc29f1f1e9265022fa86ec1f15b203e3b0b4299c35e0bcd3e901c66e30094945b84dbb2e8507a0296897291772a51dc3b2bfd7982b8d88127349d2efa1967b9d0e8e9f494ca4bcc895c52a5c2e4917a1ab62449dec9cf63196e969bec1d3a2cf68b292f1cbb57278f914f73b1aa860368062da2a9a581d620db99ae36c33d385d3006c6ca0f08159002c50ae5b2826eb7403964b9aa277f111e9a1ecdf609daa9a4212ffe961285f3026d1fa13fdfeb97d8b7cf84ee8608c59e09329f955229a84af2082bfcfd9870a437bef251df56de8c34e5d697c6482045c056bf51892f7590453b675a7d23762660a5d4d69c4fc6022d01b9acf736d671b80546f3a5296c3385fd025c2b60eb0bbe3e66a766f57c2d1d63dea818b368368873c015d497abce8cdae4d7e04cd4560b438899ddaf58486ddc1c38cd75b0a797797b390647a9c632444c617e70cb422659e6fdcd7aa806ec197dbd4bdaea8d8ef27bd057f7654b660ff5d908c2fa10023d1e9053dca3d16d45c65bc88610ea961c9984f02e4afe661da51fa0a83c4b82c736e48ee018fc0036c3bda92fee06a1b26ef08f4953cf1f99a75c650683dc3819aa5caee74fb9efeb0ea433d8e5b4a4b0a4cd4599631f6a1058e46f49b06353eda0d80a0343c20df0870a7a02c41286de7e3085f73c8f97e1be67b09654a6ad63380121ffa90a853644304106d23a44299eb4840fbfabe6656f9f8e744344f438fc6404948bd356480737a59e5f2d63b4602128f7bccb483e21040b06356b650cb69a85639a46da0c7b4c2f53becbd60a304d8661955ebbc768da639086988c08d157976281f068351750fc584aefd29775f8b15e9bd9ea9cf451bda1be49dca9827259c7e2dd40a7c597771011eecb15b5b8dfa01aba59d58d57cf0257e8d24a94802d036f266749e9ba587c7a01bb89e6e7a4b02eeecb0ba490715f968d78ce83666f90e5668d39e1ac12c0fdf7389e1e339d333cdbd89ccce44b4c5573bcf1655202690ac7e26ff84983c05f2ac0da5792c8d19ae593acad6d53f2fffa6530e7757cb3a9ce5bfca19339044bd67428c1827e1e7ee894eaeaaf04d6f1756f138c6e73266f1afee165f413befefd7dad1265c668c1b26e38b775ed842da1bc8fa918952ccbdfe77f29031c879367b907f5f9e80c15b4118cd157e3891af6b267b933414850873eb8e275068d940de2297c3f3166d2131c78186f1a27be72946b8b32be76eeea13a55e64d7eaa6f71d7d7aef0ca499badbdfebcec421cee5b6d6f394799bca1a8a17e9cd598f93f1b2e8edf401e920a1281a43901f82415dc21c64205ce4631736693fe80a527b60c301192aa86db645df7cb23397741a30081deb3a45afb82d2f4ef9768ecdc5b15abd95c78dc8680d9dbe7aee71d73f991579fe54461a0ae35c140a5e397ce962d23be32ca8a82f8af5314459531ef4400cbd9d87b2daaccd52956270ac4c41b2aea20386dd5715aeb54c82ee4d2ad7a993ebaeb3a68c28010115aa564721ab62947ea832630aeba54b2ae5ad5a761f2587039d103b83b4e66ae3beed4f7eb85dbf3a1f8be99ead27debeacaeccba24b15d24ebdfc0106bce7e7e0a33c5c527995e0a8dbe39f8b035b8065e3521751229c34e329b3e6548a3435deeafc1eb94fb95e7a6b26b6877c9e91fd586079cc20adeeee7ccfc7557fc0bb0dccbe36b3b0004f24af029aa684471ad69964b030536347867a2707612fc8db5637c577a03e7f7887481a987c0c34a30a98d765435a34e83ae37467f3ca8bb4ab81fc486bde754eece4af9170065f7924c9e7fbad6657eff73868c1b7e7eeffbf45af865cfbcee789785c71f58e1a6c86f88ebeedaffe320234016d3f62f05e9b99ce4f4a95d883931d5d191c659f16289542c679db752fe765152bc90921cf039ca6caff77005bf4312902c1f979384dd97208134b5c081c0d89baae49e214987c8dbf27e59f282256eea16d90d6a89863bdd84decc8938102f9cc89bea0220f9ede6f510e563bd8b791bdbdc7f1b9383b24e7a16c4fa48374cd48b4a6a35eeddcd9db57b671cd9f2536c4f8001af77814dde09da1886eea0fdb36b882a384a327e2153bc41f04341eda2862677ba3b155a81fbd029e25498e5fdbd6def81e047f9a5cd96761d31c9ad574a422a87e5152a3df2f8172c12ee5339c59c3a0febd70491dbf51f46874ca150b097907de339c6f0b9065b994c86a19591a2e9a42780a4ccca29fda5d3b637aba1a40af51ca09654a8bd21b7c13803db910d9ee3f0c4512bfdf622a41012b2a050abb45e895b032421db46942fb1ad17c50a60422cc9bf538d152f053b6d38c6796e3197ab28f87d4bdfda417862bc6c15d0504582e1f6dda222a0397eec31544c321b90152a986db2294da534ace618619cad0ed1a4014512b75efb2141cf59d19b143c450d3b92cf1908ef400dd98e6606078e7a25143c578ab2a4731b160957ea39173eea6bdd33f5171860c2a54d37cfb8551898d8fb2fc324ad74d5cb9765eb4eadb032c57c15ba46467fcbd37224c4e7d6d58672274701c454d55136623426ea71b641c9764df5ab85eee790ea47959dd6846a6e8c8ceb6b2e90ed96acc93019a4a9b0cc84954f00d5d65a829143fdcb59d090a088624553c92da3da7898a451a7689d7e5c36c64adefe1db73ee3a4f012d79486d6bb3618d7a30c3172f33702964aaa299ef4024fee4ea1aa41286de308563782de29bb863b1f1ddaf22fcf55798d581bc5c485e9dd5e3aa158fdbd206925b9af5d665de4933a9ff4e9a667ccbf34bf7c0878866997d23a0cecdfefe3c3228d648539f3dc1f20996d5997ee201f764821bc329c480c0cabedf89e3f0189a2542024d0087f14a64a0dc2a86f2ba427aec4364984de75faa0085ee4f3942935550bec455847be7bb421b66c96e377e7d54866b06de4e4d718a1f2d9d3055e1c7f171312efff051fe493e2102fccc8c04598763802f9b429f4f99a9800593bab7dbdf46aa0059605a95f0e61128d40a85b29e1b147c2f87e497473428a01741659eb5284635e22eaf863a7f09959eeb822cf0d20218cb6771e0a1936a31f8d934d9f06860b650c731ee023d643b6d224570da8a6aabe0d82273a7c0952737d00e4a9aa9981d32d9862a38f378e68f633924aadf186e0d3526bd8e85104480dbf2efb65422a9f0a651dfdf5b7bba0916f7b43b4beb59745b79ac36cf90428cd71c05cee5ca53a9441f1d7ce8c8d7c458205d29af8a0981b1c4b2f0dbe715f0ecb0472fdffcc7a4c4e3da6256d93def7ef93c3ef9923486dc422752b0a78ab31cebbaa7c4f2d45b6807805c42df330321509a94eafbf274b975e5598ea852ea0d5cd14ec17c36834765bacc5998d6e66276f653b938b1dec285bcecde35005c9780c9741490d69788722cbfccc9517ab3d2fa8237a2a237be3e396ab14caa0a58d22b2adb67a3f2b9e73be3f50a1bbe48990be51e541959b6cf1dbb62cdb65f472d2e4854d4d68d5ae6f9c3ff101bc0066f2b36d855301d8517fdd8be82ff5d99e438acea86a84d252ce110b2cbc6b0a88890bf59082483d69916f0cf89020216e2cc85abb1d051c1038a25f8cac9297d9b0b020f35c4c6a136f15a8fc491903da81c87b00858d678df55f97ba0ccd0ac237dfc6b9d9a6b9d1d3a460a00d920081bdb75228003278c1552b22e6625aee48100b2652cf50d8912ef944498844d75ef6c46882afe08def7b7a14070aa65526c91b46518da560febd5454b5a1886b1b42e4d57ca05881f537a9905c397762f8fba892325270e9b7f556ce534de2e0e0d0944ae0b1b7a990cb26f61f6b71cd638323b0774c09fbe199ccf6d86c0031527d986239ce975d374b8cc3d8875a1ba8ef99cc8d3815757bc438c1be95921928a12e260b62543909b429ff6f5594e2cd9d4433bea581b24ffce2032e33e074b5f8327b8462fc274118faf2a8ae91ae465991655d3f3d3e13d6b5a18f353a141b6bb56a302e55ae529e9f44e54c6ce5107f16d0e39aad55db30c52545ee903c7bc5d7b48fd86c9bbeac97b0f9d62e14d4ec84daaaa34ef2f6705794ef888d506fa59babdd15300801154d7fe3abf189584f744ad72fd3edb354647b2357b5d4b6b8d1035386b6198e7d560206c370698fc39def77a1e4d3c9504eec77860623340b9935ba42b15fcfb7f4054ccc238920f2c4fe498735556a3a9d2d18020de57ff6eadaf5728d8a2b41b28fbcf657e477b04b75670194b67cffab59cbde7a4780e1068410d5cd28532e829ca7d29bae7ae05f73695f41ed2d2beebcea1c2487fb095a1972e52a00e81b0cd3a5b055d0f9676242ad30a2b393d7818cf1df2d3130be69bf0ceca5b9e1a9ad378f6c6184894da7dcc87ceaa80762cbc65e99930bb722562f4a23bbb6998788ed14b715e1efb41b4f1f52ef39961c00e09786aa4f0550ea1474aa3887947350767eb5d93e051277bc9f0111b545e01dccaa2ea3518e238ee612c274e0a35e06b3c8b694c137d13ec327eb53e23ecc88d9a30faa77fa7529676e3cdabdd6f2c36a732f8d9e7f4ae54833c5bf9cfd3e6233de199234ae1ebc75c5e0ac38b6632d1314c94dc5070631fd8f4a2fb12a42ad3a992edb3fb7c00d7a38d9083b3b77360d2931c03aa8f7ddf858c6b3d3142d2590cdcbc9d3fa56fcb0017e1399e1bcda246f6039cedd4489be80ffa38c449aabe79993a30faf96c0b75679071e0518b0f5fc7d0158e640fc324ec088ad0b77acdbb6bbdd5be6664ae492678898101c0bb5765e723f2ad5c6371ac99717a00554634d352ae925b6eeca8b21589eccb3df353f6d4daf2f56b40217eb2d77c0d4d9fa3f936e0e37129afa4c64c98fa477a7d7ec3604aa4de4452a3a22e5bdf2fcb3c78979a6c35412b8047c2f9610bde1f4e5a82c5816a17f250bd8aba2e19d1e9976c33c4f806190ddb433e3b92befe2d9ce33d4af112c15149748d8f5746bdd354222062eaa98a0baad6d38c2e98d0798189fd4b0d92e9e32f2a236702faf627aa05a28e8ca182549bbf694c9b6b06d632f377baf167f739d04c2b5ff3d82d1417d3be989e0ffb0e631983926c6e04be91dc9a047645f0925932f0861413906c41882d9e9f150d875c8e325c80bdfa8deaf9b5a9a9fb3ad8f0a33e1381cca531d26e2560c3b7155a865efe267b076c3ea380c9edfa8da2094fd5d355a8c164733f45eb2b4cf0dbc64f8145ff6d5d3975af116484e87cc2e4b26f6ab0f048097e18ef7ccffa01551c661a5b6d7f081fb952ff29025b67b0993ee684535dee923443a30ae3dea108740e30a2d6d13ecd2992d50e6eaa1f85ac2106cb979acd691eaf01b68335546548e3bd06c23336e09345556119007726cf81c715c7f3fd94740f2a6eabc9ec96b522b3c84a066da86fd3af0b6fe75f2f898013f0f1ca48b208f8f5ac6661527340bc25ee068167854b4124fcf61825b32da1bb8839f975121261d11a4e4cbb664e5f7e06806dd3d2ab84f2eb7ff4d727920c3d0899921d2c945028a1d926df02ae59a75305cbdb80a63104a54b65c9486604c7405e586f17bdfefed40dd307f60f4b4fe71ef1c5d969c174e05d8205ca6d56e3602b193dbc69e4381d2713fffb86a1fcb024c4ffd0db915dc8177710c6c2ba1e8c8d788092e7c2896a54f89a59d5173d82d276ec883cfd22fab9bf6a2c77f45a52f44eec6ec516ba260b2d14ea083416de3f1e3f149456cfc3c38c99a1fdee014de978fa14dba01d09e1308ced0fd5dfc81ed0462b3fb9e209f67d29f1e991b979c4ccda15cc772763ea0240d5216c4972b15d55c0c324a7d39632ea288e8273e5327530a4de24c0201922a08d29f29fe56e416e11a8f72a73ff9fcf38b9ca5f8b441d8ab0560351021d5e4d60d6323b23b7f9357d84051a9b6035e5fd307c233e39f9978a7fcfd6db9d13e972eb73a8f44251ee98a2347fb0d9e4bedb0fa60f7979495d3a1a48406495988c12ab46d58281602e23a33919834fb29956649beec86f464d83a2ae3ad6283806ed608851d7b4682f5c2ad5ea716f2341413e11cca60d6df08bd2b496d965e20c49a6fe1c05eed94bc0ab620a367485294c231fca6ebf59aaad8e31ce2acbfd561046228d1005ff721d956ab83dcccf9074edf66788b81e5399b39a5d333eb9f141bd8e13a943d1b1971a7a984c8203eace88b3b3d08e416601da683aa360fae6d02d10fe209905e30b61b6dc88867123ceceb13a8e20f72ca25f8068011dac606bff9a36861c298c3149d346922d6fae003752c07bcc8892ba7d6743818481d1a72af9fde2431d9bd3a1dc886cac6ae4604d6b249b363ea2cfd05ea89ba75d572fbd23c5217c08970d445244dcdef48624cba03fe4f1a9fb5c9202e737c5545832b4225493d8ed62d5c7e2d30b49962541fabe2a9a5c35c70651a930e03d94ad90f970423eed4d23bebdcb54c53392f594666e9f6dacd44ce44c5d5076dead3eb80707b952b0bf46a88e2c1a8e868888bd7674f24e5365cb81fbf8294d5b8a7b275cc4ce50f7b948ffc05330d5f46900cf4a2736bc376b4ad8e17bfaa934b3faeb57da12217b93bf8d2d78c1c425b9a4d6e340ce7b8161fe7b1cbc6d539c790c8d3536c723042b2b4d1f9bd998e03783c04793f600e2e3b3112376a60e829898487bc5e7140963efd95ebba60f5cf6834168fdfe817151a9150d851a2d3660063605556db82e4f398b0ab73d4dda1d098e8ef2eef6cdacdb6fe403a21c9b0dce3f9f02a6bc26fa539e45762f50f13b6e9cdf1579892447360ddf0eaeb60da0efddb1a5b231fc4588738bc3fed609ce4423de5ca63e89b39cd63b7ed37c2412f9a9cc43307409df75004462a6c1c77635a4e2083cea0873d9565de3b6fc8dce2e8770e3b40471f571a41578477d90ada1fda7453183229e757e49534d30f77e824c89ff852c6da4e1a19b9fae30c8e54cd28e58a8d7ada81e00aefe63b62511eba5d5faf75de1f4a7c1c8727bf464ceb2c3893175c1cef31404b24355c1b40d2cfc6cd91fcada604c8ec209da63b8d38050f96c055c6e7c9e55d2b58e8c8fb8c7eb0acb52670e82ec5eb4710c7e058dee4eaf3b1dd250bbf2b0b250c09bf6ac69981ed5cca4abf41adff0d1c7cfceac8f2317cab51b4a927ce001855c94c259c04d55e610d757084c4e212445a4b22fcc0a4d5de8b04bf7fea7d1ffd68effe410bfeeca00e34958550a2e1fc2210a658f5ee37709622c9d3bddfcc5e3ca05d80f590944c24b483859410257b52552fed4c5f1f9d0b0aa35dcae9245acf74c7a3565bd1d04b965a2574763835df7755f4982086efd9a86d715e1734bf166e6f0a3546d3796465742d44ae80aef987e40f8e351f6827e1411d86f7e24a44cd8e7458e2eed1060b95c971999496f498e99bbf5be1c01afc29976ff687815e3b4233943738622397a1f660a0f35e1b469ad6a3b53d4973a252b96a160c05a161f47a23846e3f366f029f397e837b38edb45e725283743b14426ebb21cd82ac3650c541f4cb6552f98f651838c8f1c9d555dec28d665790988e3b23eadced2b4d96791a51fd16405bfebd2ced7239bd25e7219395c187690d4e9deaa3cab59acc3170c5b9e911443dc661971eaf2df693211f9e9a5e98e0e7002cf8a863085132df330db6ccde971eedc705612f17c87e5df78d0cbaaebafc4a3174663abde475b711130f24b36cf52ba5c184229227b9a0279aa4dfec956aeff1535ab348be6ff059b735d8d39806fe7ac703492d2e360a5811c5f510a93cfe2cf2668e8101e8f98d659e70e2c51e14ec5c4536a14fc74f8edbbdb752afe28e95f48ed81d426931487b3677453ecbee4180cc7de74c38e9d73d5ef8801c4ab059de57527fd149f58f95c3fd1c7c7c91e0345fc710584fb476fd0b386a5fe85d38ac74c62a62844793d028b65f7e4c0e4698f6dc4ee6ac829a2cee0f79c6611146cee5c903db02d92c9429b7b3dbde2137acd5b4ccca5746a783d9dd51001f1dd6185aeecbe2381ae3279f5b9ea330c01949833979c010149ebf916077a54adb369edf289a186143792a8a87bf2af58ba5ca0445002cc673558e4d867a01f6c94d5a69e59e72c65394ea0054a429085f9283816382f82dc42687de9abfd7ccd78f426594d8c337f956172f45547cf60fcb6ddf8e3f5e881a8ab48f4363d41c13bf2f69578c9081d62f5316bd2bb20294c1b8cb234956573e4ba81bc57cc5658bbd9c316dfc99daaaeacf1b842c2e79787476960c5f58115e1f2257168ce1d2208fdfdd4eabdb7b1c4170c2ea6819fbd88b73d44e39d659f069a82c186a9678bf21dff07fb1650e54eee80871e9cab0cd23d4c379d8fefc8928ea56d99b9c4501406105579745c53511502e0950e712d7935fd47104d4f7ce6525cfd259ee1d16cbaca474ebe30e51e75784b4abbc3846ebcdcb15b0ea9f0ce43ece3e9e63819ffb9a4dc9c3a954489dae2f83b723c2466cf54bfbc33105376ae02f1a7fb873fdf5230e233df0b453854b1376af7953187067853188cb5bb44edfab5344376b15bcf44db7640cda0c2cc440743bb3668d53f5263b9e13d27be2b6e5d51d17cf9b3fb06ad3e48304cdabbd80f71e07dd94859a04b7488f5d48eacda2d5abacf9c90becb478ae3c222fcfcd573fc9269b7f7873048dfd43d0c1ef95a2d6533a346c59f553e90dedcd63708228f2ebbfab537f5471ca8f6d77d71c51ebbf23014cea9a4041b5bcabeefedf3da31536f2ba3903cf3c7650f5d987b639ccb31dc6b590ac48df6f2a3128e6e657f4b00c88bcf41c6b8b65e4f262b8c8d1a397c90e13c5e77502ace0ac9e14d2a19f4a58c0a1dd31c5aed1b190e13ec574ba8fe7a9dd3b61f91390a1924afc01d5aaf0863306178d74708a1d6951ec99ba2c8c6884fba9ff7f7dba131702fa42e08a7761ce9df0069937e0f1c3551a50eca9ccf07db79e955e12c21f09086d4f9d14346d70fe1faafda0d927685beebeb1af6d2e2b1e04efaa348ca6fce5d39105d64bf349de766fea19b1d494c3440ac9b7fd2e898b7457ec1abd3b4770bbc721a27126f0536ba36ccbfb7d34b9d5e5fea2c30c8605eaa026ec60bcceab2fee5ddcb821c66956a15ca716550abc4887711638c4d54cd6f81e3e377a38a12453aea2d99d85642a1bf52c95fe93a5a8f262c7593ea8424cbf2ed94d3208c7a4782287bdfb75b00658d8cdfc71350320a345bf08f22ac5bdc1e6bd0ad36b08c6eca6d5ddc36b64c649eca2844ad3b0c44e32b4c4673bfc6e5bffcc22fd3fff0e19240d326cca875249e99eebffe39cc37bf3bb8ad4dc26749c70f3480cc53b710909cd36ef4c87d630d32cfaf05293742fcd2ab9bc63167c8a05ef6bf691dcd5475050d11ee99301dd528f0aa7dce415ca8382a36dcdea1f089685b733de3102901e92049967fc55a9c5eca0dcb7f2db2d5430480cdbc363ed2f9cb227d8e0d2b172053e385ceeb4431a20c2553e8a30099084d2c866dee5683d2bff51513f2d12eb5317ccb961974da1f054022f7d7a2cb16a6eb757f5b38a0aacfbe7fa4047d631e6608108437f3f42df2592551dd43ac141a0fc2dc24e609a155059a704a10a13dcbcd398be53fecc7ec5a41be319c9cbcf108a3a1036758a78d3a9481bf2efa7a7d0acdf0f22c787f05a6f0ce203df392cec0eb1fb811876499fe9930a3d62268af9a018ec9096252322cc100bc085650cfd5c2f5ba043b5f06be415a1e30e3f07e0d0cff2ae29bead9fcdeb50aaa50f04921f46c500ef17fd78755a79d256a93f995560bcfac339af50416d07e9e327bbc6ea41ac6a6b8b00ef8120cc5f6ddcb07c92343d56eaefc4c504a740eb70592a71809e76b0ff074bfaecc0ffd7370e0dc27eb0c307c25cfa274c70d67008a38afbe62006a758c12e376cf449197ac523dff39b18bd6c69a70878b949d342b39b18e02f46c01fda07dc8b306b7e1318630acec57d8c5f651bfbf80d185059a7a4098367227f7683a0cbccda863dea982188624fa70e4ed52d608d18a3d836daab2da0aa0ae725bc06f7000dec749030f21ff75440391277dfef96a01bc7a4f7773f0c40c6c3c9a16728efa4ddd11cfb518e00640bbd5e791de866369075d92b36f060e157084e10fbbe5b8db488cb258205c0e51b5121ace29cf77ff16c995100b48f869410ce92bca7c3ed606a12d5cc9becd59f0e9c7f63ee6963b038e36acae01595f22b85b1dc7eb5ae44c79da8438256616edc70a750db67343fd5b728563e09d7cddb79e72dc9ebd06d2e0397e8a457026ece41457f22a61b456106f91718a18ee3ee1e2e3f71fe858a5c4b9518ce29cfd08615df7a6bda1d6e9f1c80a9d41c8fcebc506b72ba20a201aff2931b26e11bb77f450b8eeb1212502b35958d29fd6555c0a3d2811feba22603cd897308a7ca175be84abf73a63381d3aad9536d9f6b2b3068147eca891c914d6b1b7486272ddba180f032a6153c81e2f0d4a12222522ba9fca9f942cb4d1bd73f27d381d9ec14c98f13c82c4b197c154ff6eda2a67f0e3fe8c1a4f4e1f99755f5d6df528c4ea4d096ee3f82174bbffad900b18313f38c5ba0ac6bdd6afde027684eb2c4b5996f3538f3d6aa5ffa4ad31ad316f4c43b7401ba12c60012b4a6d410845f529c8a90c1db9e41c0c11a2affc7bad7a20d00d49c3a635eaccd2e0df7a2f6f0035d59d4ce5b1e1c1229d4a60791abc63acae100f3543f6bea53ed04b171aa9c9096d4a042ca96842b1dc2270b2ee528eefd5d3e7dc25d1e1912fbc1826e02dd8cc00eed51a25568ca1391f9552e7747af5e75f2117391cbd27eeb13bb6be86b0a5358d42552fca6b5ee1770df96207c6d7180b3a25c6705e3e98b2be6a8cf5f07ff31df6abb647cd766d5d36194ae08d0bbaa6277db6cd9bda7776db54b0f59d481d3d610bfcc950e441659f96c6542e6f57768cd3c76fab0c41c3aab641326b2a372c3e971e891affa11209c092afa51a2766f51c83ed7236a1d0beb5a351bae94846ea58b987fd576b0ef99ff7fa36405e5e8c2216aa0e4cbcef853ad6f18ea371017e75d236f9a65858517077714610bb822912f86e9a1b10121ee96116636f1ed28869b0e39031864ad5357c0aed1dd434afa639a1a3d2ea0b32e5c3ec9734ad41776da76833d128ffd9473f6994db3137e39f2f57291bbc9562ea9941d5fd1fbc035180e61e1b1cb422e4189a5a2ca757f42ccd9079b5a71c40d29e286dd6625abba441fd4ea104c8be7489aeb2d780c04331731a2d6ddd4e2fa892bb0228e004e32f285d5d64b2e696153dd49e9b24f15f13a4e50a38e35ed9b1f405dcae7c8ec9c5f353cd4fc9a1dcd311e953f5b4626fc9a78ede091c95d03234fdfa29b7df629977851f48a2c403e2f95dc119049d2276c36d50cef0a0751206901d61b4f7a2eadbe65d1f52c05f63a028ef761e60addd471cb3f997b5e1c35ce376a36eb4116ad51829867f8a7eac82be3f99c4b2a316b2e398069ccbfa284574814171ba30f6fa8796ac89f81c417ee020971a73b88ebd0eb37ac7333dc738d873c373f44b30c7401307844c3a4f79f15782c720f732ce3c866b90ddcc8ac7f76c85bd412e76eaa1799b42df57e0473a28ae7b7c56cec83bee78faecc80e0db415589151b7c8717deca0194283c45395d0a2075138c76555ad119b2a3578eaf3365b07b6ad84b19ea4e09e080029ba9443993892b515f18e9358d703683d09028ec8dcb4f4b5aefd62af0bacc6bfab5a2a8e2e5854c212b0d4f9c0aa6ccf068e904150e2905798a8d903f3ce9f5283f329593edc15dfff21db7773eb68eb977cd92405aab27401c7412958f02bd31e56ce3b635a23b2bb6189c7b34e0ea23726ac0daa8e7c4d918228c66d60c37c2b16cfb56925bc451d5094998135d29c6686c947e57586e2aca5d2653de24964731cdc856d6d8b74ba9947cb5c0cba6765da9746cc42d3984cfb3bf45f2afa6e49f9444905676122d659da255129aff20659182f7d0d6e8f31bff33bcf3c663dfad515bf7e2e42753f968b015c3cb4546886c5bea079f605fa019dd5d86351ee331d1d10aef76fe6f8aeccf23bd969d2d8e2a771b4446f52eaacab481de4027745763061c819a528aa1fa183eda2958940fe68f421171cb5d2b24894ed05a5016114c960ac5acfbb38f9e3c669d97db506c22d60dc1f337314c9f82028afae26f68b50326e85aa27b8fa68eb74c54335f12da69505cc611988ad1052ae968a029b5a8129f60ae823d736dc7b564a60c197aff65fd7d8bca7c3bfc437bad09ea69cb56297bec829ab9cdd340d0c028bf8fb5d396f012571cb69a6cc3fa1043530e74618a870f7766f16ad94174f0b950c46036b0ea44f62e547febce42c23b92b312479938829ba58d499eab9ba78b2e6bd3b851effb8bee2f99e66b5f2c64f2fa6349c0dee3dbca5e0396e16e9b970b41160a63078dbaccba6fca7b77076681d1e6793ca58d7b01797c79f271a58bdbed8e67f857032efe5d6150477b33a86aa63fc24f172f43795065ce18619a583424cc846bc9a1745028767b6960bb5343c5dd9cd50c6cd20a363d22058a7f38579b5f47db54f5440916d24579b537d66c8f42bd958b4c8d422e97a5a9238bd19e724ba0d4c0f6ab542cb8b79fd4f1bf1ae3107f3839ab36e227228f5b11c83f41f1c023a688a56d0c6d99da87168a3820942ee6dfa706217a715dfee9cd0ec4a0baef9dfb03a1244e320a7493c2cd241680b3ab72abf99bacac91a38040061a9ff60b61fb7be2266d8b0de4e82e3836857568dabe70d0d22da6ca436a3b54094f214f3c0c4313025a9fec5b6b362d990d037e7382897cef379f6dcef7bc419b85c6697d4e25bd9bfa015bfca35f4307afb8fa84f7f3ecf1ad9171fde737696abc63c9b6d89df00b1c6fd94cb293a4c8c1c458267a616cf5b4ba4b1e8352c760b5cb57ba38fd5a1216114c484e8fd437cd5946abeec13af17d7feb575327b9464dc75c3531719ad268c16abcb42a34e8833605113e4ad90d3c0105a6819c3e6f0721617506d122e4d8aa6f60a5b6a96a61067d287b76eeff924785241abccf8ba1e6d33b1b04f72f4af6bd963a965f8242147ff0741a19a205530b821271439e705a2cc5b933e6da813beaaaf4762d67ff549c3552b9683f7bab598174a5dac2ee1eac9364a5a428c07036b029246d4a9791b35b452922a67ed958b290f59cec10d98a4931f7353397f721f56ec88b6a6f93accf51a2ca9748fee95157bffaf67d3287724df0d9d70fbeda064a57b4a1913121ffc347237f8d60519a940379ece7efcfae7d090d3500273c0cefc17e6828b3d8a189779dab8f8c4c81dcffbaf37af65afbfd77af820d0894db82e700b6046fbb51a5fd2fbcca88fe216072cd47a76459ba11fb00f0be1ca4344581e270e9fe073a3d5dd94bb9049e66eae916dbed807c64344d4a98fdd9c4f2184830f6f19c82ccf727d3b36109dd70380d386680777f27ee08254b2defde38c1861e828c9dd9e7d795eb78761e864567a0b985dea1b409964d7314025358064adeb6fa0a6d753d16675b3d0b1738d8319071bc2885d85d673fa3984b4a4e372b6252c5156b537017a273ab8c9ad0ca85f322f56d9ded9281a96a6f5b19cc6cefc47a9b4dd4cf5aeb7fa3422932b53d954f4459f8c03a2e9116c233e8fa6003c2cb036a59b187f0733fb15433c8fda1827deb3778a3539c40ea9838b0d77a31ac8c418f6d8638a5011b39f7bd6cc0612c97f7f84c39661080012632305731edade1b90fb9e8ac1225a12bea27da3c2041818debf5d7ca2c185d0a31a263913b054e5a7a372f0cdd29659a08c4f33127db666060b679e05bc3a176ce070f2df9d295d863ca8c0b9cba1f7fb90a4919d31b88b27491bb8c23417e58b16d13dac7f42fe2daea18f0423169dae737ac80080d1507ee0f84de961eaa009b91343ee26944d75e2e25f4e8d0cb49648bcd1b5bddab49991ded6b38a01a75c217f9063024e6f7090d6f3792859a3abd699f3551f9be1c827354aac7fc934bf705a289697b911f3892a953120cf66b3327cbaa75d39cf6fe8085bd6e3eac66148a8f365b5b56a8fe35bc212d9319975a87a580551ad89ee7f9f9ee87403867fdd26094528907effb598b8ac2bdadf72b8b772aff72327e7450ba662cd2438f46c7bc7659b879c7bf32d9398732c684ed6f1a303048938bda5d51d033db1833a838592e81d5eabefaa534c6cb8c23221166c3d2bd61b64f5e97b0468b747607535d1de948521509f1b10393bc7495bbbacb49eedf0520ad71e2d5c5f61520ccefe7d38620bab66c4e62ef06c7f96d0acc2a5c2fe39a5cf540b645dd7055c5546d5ead8b0afdfe2bd127bcd8b3de7eac3f14988c309dde95c5d4f22d33783cf885cf718d4c369d94aab75f77a4b05a2dae775e6d2f8ac1731d5950cd89e3cb61191a2261448486800775cb5550646f3a9fe77b537f6a1c64dbf5307ca01bc2041994a870ef604070ac4ae71b6fd8fdefb3b4fec4efd39bd92408db59d49a7e784b3b64293a66969ec83c8987a5677d9226d3d1779b0fde41439445e822529d98f50cbc0b4f5bf85c88a56a7ef6950b757825d3e9a98c2c63ed3c47ea8ba1c182bccad50497fb8eede3a3be713086a74ebc8c433fef876e8cdbff14a6396647886d7273b038bd815eab4e9017344d29a379669382363a3e683909ea47962139b4638987c998bb01490f90751f96fb720af2f2678303d085801c210b03d01d59764abeb61c5a59ed4f8addacacbea194f5286b0d1125d4283ddf84e6fde2118729e7462b228f7333be258f4cedc3c69a224d3d5701ab7128be7ccf82d2b011c13247033ee42bfcf80bf47ff22ca2ae45cc8e0c4650e36482b80b5bc708f3c23bb8938bc937669ba1da15449c56f9a21b3da7f30c075d2032bf46bd4cd476727e4ab37aa7f36c8c864ce2ac5a279a30cb4b112ccd1b9fb41a03fa15c964675a88f0fa4458975e0a2a0f1f1fb16c57b8e9f9f5f5b336fcc832a354be6d82832c8c61ed185e87cb9459be9ac2a946804ad717d70e7a4c81a2a95f3b546002dd2b92fc85165eb07f679fba2e1cecd4a4fe3f3e87ea15b3e4156a48f027c61a3ef2c3e947c2df5b0932d8a4f911f4608b823d254e1295635642889609280a5714ae4be433a4707263f4d83dee32b38186bd9b1f90a8c8787b416f30f745f32315e3414711433e5bf9271ece85ae79bfec9ef625b08b0fe0c30cb8403cf959af9fc9f710efda9a35018b327628107897705567d2fe084ebe6f8b5810e7d02afb5c18975af8032f2c4a7b48ab263c15ce472428bb5cd5b131a7e6970144a617c6f2e7a04ddd898a1c6936ca015444f84be373036c4904934f1c1480cb3ac7f68cba3190ae09b930f0872a45723792f4581dfb241726b68d96db0106c7f7c86c61ff51308aced0d4ac50f71e66c7143565fed80b61ae7037f39856d74228d49788fbe800e7152e6a7ed424a9fd2159eadfa0fc165d4facd1e12db6ca39b20f4fd4def5868da0cfded9bcb88c3abb1f32d550afe5d13d73760cb8b9a1362447b4ab757955236c0899d3ee226fb5d90cfbf575ff1aa9dbfab4d096ae3c9d03f52add907f7a96271e2b66161b20044c4d4280e6e9ca2febd91c86d853f2e1d384f23021c0c526983a313a232ad0757e5bd30afac46bbc72304bee8fbbfc5048269a5e84de8c0479b77eac44041b7983a8506046a05ef78c61b45eb86b5f2d7c7990897f73f92b5fa29eac8953764e5f4e5bdb254d9fa051f3983e04fe50f61f978e570520f4d582307a8a3da4e3d6ee8dfd3fc49d2248308bff9e7fc400477c98d9ee20147f068cdf1aa6d37b019c6cda6157b79518fb0b74747b4807f959eba5491388bef874a53b29d702bf20d58567478c7b530cd71a56f320c9b7038d3be64f3369e1880de88079d7be936a2f9e02adacd3765d2a3beee7396c5e6171f451669b916dde4940179b29f9ef44f2c57f181d2d2acb86c83724fd69fcf43ede4e05236b77cf79d13b8bce6b68fe313c023b2559081d686bc5a074994b5806e7a6703ec9706fbe0959623dbc61f473aee86d3260d4341c1d199071ce57b0c4056b007f1763cc0a8c052c610ce776e9c24e1e5de26f1ea5b9b05af80eaf36b717a78995d429d3851a888a76d22c346d2d9f93b1b61b9173b583557bec1f65f54448bc65bc53efa8b19fd634312984e26aef0566c8d244d7651a8718232fc1aeb937700e0f298ac414c9fe1310cc8a92eb9f05334bbbfa3ba80a87838a7d77ce68c39a519f36b46fe95f562aedce79f837ab6377bd8d0a1ec1859138d8ade7b66c496f5757cd5e0388dfa6dabd293e9e694108204e75c477e92912a107661b30649b25628e3e398ce8f3bb6a02db13cfb01e6e694bae394b7989797363b64822a6dce9c88b67a9bc862353bee1d709249a94079ea2aea4a8177d161398901b8bd1dcfeb8c9733f9b1d6856b5b5654ec84a8c0a0408d284a088be8b9f34188b8a9e9499fef43447665e39de268c2d597847d2f8024be1a70c74bc365eb5a9b85023d394999c00dae8ef5dcb53bed7afe4ff15c1343717090a285e024b04a52e910670da54945c8bd6d5bf5435f11381d17f5ed235e4392ea5c9aa3bc30e94812f17cb1230640b091e0d5d946c9556d933115f6068869b47d82d378d6a9053363eb9fab6376d010be9989f5e27a7c543e8560c32599192b6a9d460285fd608e97db1f31ba08f875be085c7c6855956b87d2798cf0069826ce3369de63a7117eed4a0a066656cf172e6b8a8663006fa4b2dc19d02888bf0365e6dc4d3ea647e49e3dd1561d1e047a451870d620d3a9b1f119e6e5afd5dffe0f0402414b3cd34ab6e8f8227ea98fbdcdc48ddc8d3337fb545364f71cdd99f2ed4c2ba2e92c62fc9208b1d2e9dade30405f084506063f3ef4edd6ffb7c04eb3097ab254d60913f3d0dc48f0170196d8ffae624241286073bc44e7ea005778efc07380c9b5b7321a8bbc4fffca942840270fc3e42de67d411232551f5c348aee9e8eb087cc62b8923cd9ae159349307588e0707ab7ad3cfb5db0a97c2555660fda889df3105d31cc8aa2a0d1599da718eb111334a22a01215c28d128a9c3a48f5cc8f7ef72f2feb7609055372fa7a0d8db1398cfc4fcc53a1b191eb5d674ac8e9c48eba4bb7057d021b2e9b67913ef6927ee05b56c51adc59dabafdba5b93c79d4a9a60aff79796608b086c6a79f20862ca9c4004a844eed7a3ffa4324621ad39d4862cf2b79d7d3c7966938a394b96b338cc99f671b9efcb7b7641c97eb439b61150e0384df248f731fb265a4d6cd6e02d7cc6b795e31a0556770be07f56c889fe92ecb31398839aa796d3a284aa0365d2a430568521dcb8f8be87125df5f8d55abf443f832ddf40cccd74918840e90a1f7ea0cf586ee85e89d7617028dac9c33644b3d941b736a96507957c40ea3fc33011b570909ace0f8e82b915e2de5f8d794ebd30b3ec38e9b7c6625a8dec797f3e2d3986117e005828931db60d17ba19b7ee0d36a275514502561981213731b2ea8b663be12bed24ac41a8a82b9051f6310b0d2ddc81f71081459710c4387803e63ea5189dcc9099d77a4ba577a00d24ec4c58384ef9887d60615e8fde864c9fdcbd631954ae39b5b6e66dc70eea54be616430ca3f54d73f42dd9bd0ad78a27413635b3e4002fde5e30e131c9d631e0bb9dcbcaceb104001b167df54348cb84e062e45b3f16247fa61f9c384b5fd3409deaf415727641cb6dfe3892361a998182952b58d51eb33d21523cdb46d31c18c4b27f75f2aa309b56163d992de7baaa73cbac100d5ca0a9f069c2f4f541b7f91786c5c143c076a3d132aef2b7017f6055aecf6a57da301ad87ec1cd5853ab76e6f88dbbdfc9d17c79143340ddd7c8375b5052f4d50a49fe05f5a21d840a5614e6a92480a8dd20f5dc50b4e822ec0fd668d8e8d04d58c06731af289f9ed2a38277ce8e76a6168f557b5dbedb86c567a66fec096bd5c7fc6f4b77c0946685bc556a9d3302d21861638881d4fdf5a03b38d28b0d2c9cc83c5806a485728324c9d0926b5bf2d5cbdaad1eff5df11def3e180db2a7938b880147c5f8434ebc654ca16f250e65ae6ed35f2fc79212b3ab30e9d1ee97eb165ebfb10ce36c9061043523d861a1aae29ed9828de5aa65fed80b6de7273395ef0575d0f6fc51393173cbbc7a39cfd5c759fb079518f036326e1f279dd0ea59bf20f96513725efd538f192e5ee6261743484916a6f94fa7eb9062adc1ca1e058c38445d20afa55a194841ed9a18675d4a96c3806bdfc2189c8d2d0d918479f19f6dbe47e2988fa368d43be8e2d4c97c656e4e8082abd227d273c458be72b86f3360f8485fd7bb3138fcc9943ed9bb49906361147203de532e72b57c52cedc4e237ba6b147d40e8bb4f9907a2db6adfe4b74767b87b929b3c27c6423c822dd086e4d4ab0ceaf4eda731c492344078e334c6cdb1bbef1a60e8a42d8567a71293ce6ef1578f33313932dc9f297e35c5551c07fa3310836fbcd1562dcf3a824747e9ff3a53c70e0c9cfd569ed12b2e1d38e82884eeccacf8a4c9f3b180c633375875cbc6e95c7bb98afb7e05e729bac49dfd07d9526225e2d801435b59722f33d23ae15dd7151d81b2b297d02c1d9f7d3b1928bd20a700a8e6a995f328f2f96a0287cf64a2b0e09ee113ffe95e662c54ce7344d3648aae8332796f854fb9725a443f3c4442846d305de1a18fae307064ad9435771ecc52233502988d4321968459c2cb85483c73f7cf6ed53d8ad150aee06e2c407edc2159e71ddfb6aadba180cc5e26cb0eb15ac2499abdc7c68b6cb16d7a4f6c487f5b968b6351fbca5dd5482bd48f873e5b931af3b0f39aada2f96f1dbe17d9e8990a3272c16ff49c2841e3c7ca99af6c2f453fe61877000078fd50e9e57f7f1c785f44833d9f50a09bae25a70687f5a2a9b84b3b8f11ff5ffe4e87f24a097d4cea0a449b9b5582a57c32951d6ac2f43a278a739757ef1ca78b74b2fcbcc02b3294d30ee6c0f2dd61ca2d6fc55b6f7eb1bb7af18babc18c90968ffcc5daf2b159e5a810c8b2bac5746eade65d856253f812e6cbd2be6663fce82fdae5e239d26edda83dd5cefdcec1b962e7d6d0c76b767d30a58712c8b1732c55e948f5cb00bc9319a733b797a098b9d04f8e777a6ee155096acbb7fe01bfa8b25c2e87023daf6885dc55e5c3f225d0f416e970deda2e640ebf69cf9bfa62e1f254b79aca7796ac142ebb8a61a06f40e4efa283a0148a3ece18a5a67d2bf347be3a55df8c11230d808f7359e097e55eb3888e026b8518d059ad1493d82dae70188d5aeec9e17dbd7107d129e2ef6a8026ae77a01129f55fd75ce694b069b46104140956626057d14c9810503ebd78128f9e2f320ace8306815b9ed148a84a01064137d0a9f072d1690e814269c71d2263007c9f3da9d6e6c25cbe513c786382291dd23713440551cc6a15480a1887c395950812337a3f562d8f29be8b09f9ca73e2d2e0743c329cf6bde25a2d48870786c4c4b17dcde045345cf448d958805874d1b3cd4f343b36794f4486d9d2aad6ccbb736ceeafce936226413cbe939c008222a0193e95b841d1ef535bbb1d37eddf8bf8a10af9b579f656b61261e1fdb4de8d2bca411b64fc63f054168b912055bd6751fc9575e1436137159348aa15722d4d29a87050d3168ce2543c764bba4dd6e9cea0da6b52f4e54acc659f3bff19868c45b6fffb57e8da9c36332e6df023c78da170edf36d96ec8bbf10fdcb57f067052fbef0fd7d0ad550d67310b83e4b61ed8cd2b42460b6c70948e65e1e51399c5d0dac7f95427edb77bb85f77068a7aeb557a0b94ddc50449735e36e4f88ec36867a2dccb5a19867a9588f61d8f1b5fd14f04b1b211e28761d103c02f340afa9e8664bf16de21b87ed69e4365deb179a7d0f1db214d77b4a56986c19952cc3792d6f327f8541efeb2f37091e7c7a5ba5349ac8e8eab0394e115b3b3b661a24af3b5cff5a466abd3fe42fc6f1817a8ae6f113c3b40ed079df30e405d5a7e2d23152cead2b771bdb26563e270cd0c3d5d1020d2234099b62530165fdec1e2207ac7f78aa623ff9f01758cbcff38786aaf075fb88b15d47d60fd5fcb9e0c7564b15144afd27080ea3bcffc8d2c8d4b4ced3861eb70ed9b7b50a760eef4f370ee839bb09177ef9c266928db871a64d31ea1907bcfedf5c78c724ea5dc328e1b41af192fddb4cb9b47cf0fbdfc8655faa9564f2ebd4a0311147b5aeae35ec9d264fd082b63399b0661d66464f413dfc10830eca78ad2493f2355b17717a938fe4dc14e14787dfe3fb91d74890ac6f80853b9b9b5969c4099759fedce69e7eef693e3b44b4b6aaae4e344d582ca1393024c7424c0f09836a6600975274b5d49e6d5b0e86b3e5ccd245f1d4aacc5d8e1ee43970b2bc046dcbec4a01674e6a79e0415ea11aa6a012258fda5bbce6dce37220eb36fb3d90434501a0019ccb13d9cb2baa89e3cbc771b560836efb2cdb490679c426f9bfe4f1e0965d2061f6bcf9bec3c867044457fa7696998ab0d02234f8ed453e34b1cc5b7846311b75fce18fd4c3320a7188669fcc3bd0c7809439728540077709013c4bbdb3091d460681a4006ea2b3faa291a82040860402c9d85ddb823f9481efa21288f9db7d07997d02325d154ee06fe2592f96244242a001e246b8c90e2cbc7a3f64b7ee3139abb7c5bad00ae45dacaaa516e14b436b88ca91ab2f0d935dd7b8e726ab7c7a69bb2d232f5ac114b40b459cba902aa5accf690243d3b81c31f8cbcbde3fc9f148d1054464c3bddf544eef32ae3606df73b9038f1d4ad1174ab2ba595f229c37499bcb5b7cc1a670eb2114024d230b677d77e4662ddad99d95d2216c4639975d342785e35df6a3680c6d3b5d235ab35b91c97b53abaf35d2811bd5fd2588841609aafe73b195862fe27c975cb0e6224313c805364bf35c1309e417ad2cfbfad7a6886ba895359d75acbbdfd2cbfcd5b6a70fb8c60bbb0fa6ff2c425cd4b47a9b258352a50ed3be811e9c23e950ce05325a946208b0a201cd561ef4d144487454457f0d6c719f723febfd88fe5b7ecf2a5885a214f3ca7f6676145354ced076b83a41b9c7dc0451816c17da62be086d98eb5893af3e782688619da133931226b58e6ea040860c7bcaa4e4d112873b109be277d0ba0f794b1245f295868d5e87a749a617709efe37c11054c15ff7765a5cc8aa2d9902635d4cfa6cc435e3b48f6e0a132dfa326d54f4ea548dbcdf055db753796e973edd7d7a30374368781e5aad96a126e6a2af0ef44af1879150e934e44fe108d8415eafceb6998ba34df1c78e1c49280e77e2100e427d81b6fab4b633760fe4edefbdc958e2b616a33a837a4d6a65e93ad9c43189cc6d453dedcdcafd212eaea174791b3d28d0bc5e0e4897cb87470dc38cb1e214c5d62e81c2adc76d17cf0fd761ec59134e4d808dbcabdec518f77ce7a01975a42dcc4e82628734de9f6f127b73cff6e02d25af02bb0c7a68b8b08ba7df26d9555958c6fb57d102f3a595225efcc78b3c6eb1b731a0acf98e27cd8929cdb70fdebc95ec6dfe4bd17f35c4d6d17e4ea383b5f472fb22da64a69d06e29d70d72f5d296f5a9902c711d459e75d242ac7d8642cf3d80e6b73c84a9114eae3d1c29d5c871a24c2f8a094ebf78bc4735875c6dacd380cc809a0a4befec00a1c3f54eeac6afea74ce53d9a38561baaf7596a2ac85821e953e58a1ba200763cb2729f3efc3d75e828de3a5a465de5c1140bd98efca0f3edbed8e4007b56f13946e51f853c4a037ee7abb237eab42fba166aa4a6ad01448fbba939b5a349c04a49e02b46f7e733415a91ec87cac7b4651d5e580b16d17a04afe7d8a7443b882dbf721b65e599de91ac0a86392e168f4b2d8d783711eee46e38d45b2134baf2e04d99963f2ec47e71df1205f64d51b86907a477e2b496fe2f86d0c3d33af2326d120c76288969c40f458b1a339e4e15146a411bb62343a8dc08e6865185fa5aa299365e42614974f00457d2c7ca04a204914944b5ae4945a1fe8aba336c3b3e0e89193a5cb3ba44b1d8a48215e04e7139feec0a08d7e2fbac611aae4552173bcb8bddef0d1ed4f7dd0f24f3d6c0715ee1b590b4d830d7cec00c1d1f194f4f75bbf6bc05b78b8124d4a239d3416f8bd04ac84a5b75f79d8945b096e576e12a0642ed83ccd75e73a7fbb8db496c787934584bcbd2e52eb82638ad9a9c72578fa07404e2b49c067659166660a43aa2665b715cc7f508285fc4e9d275f5477b8edac37cbb2b285c4430866eab9988536c1400d7db1c42de0948835bf09565610b8a1edeaab60735d54bf9d2f9620f9dc73d7df11e3eeb62ed6f9393bed49a36c782f8c937612131ad5122eea0a619206d8c36985f3e7f017c5cce2174291c4c873101a038e6803b4b92504701fad845fc67c8202963dd29a312e50ece2258da7a49d2a554827a205488110f7be3167f58a082cb1ae4327da160ac5470234cd25e861e27ea084b18c760c9a178d22f3e2468b84597fab55ff15840c44a729212588ab07a231d36a9dbd00d93164c2e52416fd174126044cfc04ad99fc0586946ac1b6999843d695044902cf6bbd7e70f22927dd5628b36f06aaebcf766df30061ae203cad622fcf18b993c0968f3598e01291229c11b6fc9ef30e22c1ebd47b983fd9da0ea10e97f5976b6baaf631f592a52a7e49fc8e659cb085d1657ad3fe2b65e10dfe198ff6a20653f083951b32c9e27580ac0dd03464b63768de7d369b2584e541d3985bde083e9c54ab0544cc9f4e818bd40d4034f6a5f395a1182f1183bc5a25cb76f0b3f2e9553934b9f4024d50279788c0cb322d1415bad3bb0ddb3f1e563530478d7cb1d5dbf6d36c1fcc6c37a7b5f7fea2a31715a76122258219077195428cc43041589520a9b03d1c216c95c595c0ba68f742695562c98927eff032bfecd3ad410241505b718dc358d90f9b0fc426bc261b21621e349fdbf35b3341a22089611c951609f54917118d61bd8ebe8abd25ca5f65e22cb1ca06494f929ba106671345e648e52554145ff8a11d01700f8277d32d2d39c2e863a36a4cbb25e0e4ecc310521588e3544cb3e22aa33aed89f2e5e3b58bee1892c598a6ddd58e1f77684cdd075a571da83d0bbbe01383e171fa5d45bf1d1f98d43c0b5c174ccc0fc74ac25995d506fa87e8fa0144fad771f64621af31a9baa76fe93ac3fdf6e3620ce927749879874f1c1a2f3c541fcca98409916c51dcf8f576e5346f71de39681183533480f6345616f8f44baa8ef3deae59f706a9eba8a5623520fa7d8aedffbf1faeab81ce4418d6a8ea840cf61b621daff0870439d4767b8642e71b98b432a0fc2ec8eca6ac17a076c6d10f772455fabda2c5a9fc2f25492ff8af587351ef9676fb6ace1a6115b607f6d0843ac05dd9030989fde3f39b849b813010ae60fc62ffe79633a66bf02922aed9790579d9d96062a6b3f54a8c4acedc8efe0654e4ece20a3f5435dd8e2a57c42a65f55e78a7fdf956dd859d7adb16e2726a09facfe54ba2c704a5a89b3545a607b4b2dc1413c3024e49a7a3b3da3092b8ff55eaedf599dbbdc88512fa2aa828b83d21ebb5101ee66843bba7a8471af30aa037ad46c72cf8110ae9c860f6baa24a9e643ff6d295ba59ddb951b8c5cc639faae96dff1029345882bc8104c2190f5b3ecf5142291000f2f8478507cf7a1946d4cfaa945187e3c5d73b6ca374f3745ebb8c12528ff81b80b264e9f1d59d3bbd7ff07936dd4cf713bb3bdb9de9346da4981ad3dcd877b7eeee1ebb73917785ed1202725d6c21fa8969b86fdb996d057a46990ef4b72dbd17db2d45fda1c6cea25b6f9116dc030b8174462844961eff6bc6bc6734af3e0aa213d6e1734e454f35e49fc60b7d7b5c2f039698faede5c7ac2a1a319b355f053641b4bdfc283717ccddb6ed917dff92b8ec08be556a573d092d6bbebceba2d0a076fff631981fc295e3b8aea4ba32591837f39ee8b296207c66470c66dc5b4bb1892d7a8c57fd7482c3a5f4ed26f7ff2f93f29c77947e1a2c547acd59612c970832211ca7a883288e2b6960cd69f40fc1f207861e34e1173f2a360549f712040e462e169e025e2c4aa89ec421b3ff13d564610eb28622c75613f4fc0dbbb257511b54772337353dd7a493e0369ae41adb103359f70fa165a01a2ba24805ece8d040171a610780c5527d16d61a4ad1fa01dcdfa20cafcc6f269fff0f010720cb128255af8924ef0ef20b3ad68601371dfbf25c82f36241b7b8f94ab254cc0d68f011783ee6aceba93106022b78ec444b3836999cfa6b908ba7972a76981d17e8f2561eea8e66e199f2b2682a3f1b93627994d71c9525120faefb608ecb1f975d343cb95c293eaa9ff5178ea4cc3296e67ad4fb75ab4611157dbd9d66af63f6438588689b282cd92f96e6c62b1210c189aa95ead9bc6e3d577a0799be24b0396c6c1949afcdd59780d8344892d2c3eb5f5a782bcdf72c2151c0443c662c1b66c931dbfa552efc3afc23e10bcd4ba043628875dc4e897ce79eb5775a75217449b0b48340b057f0d9212db0be0ead8288b35c8b43b8f96fc38f78fc725685e46283182064452daa5b67c00b1934f8b76145df6b01d9229df9a7d98eff9075988505f18ec4c3c8808dcf5a68809a308f5634e3a17ed0fec9fff9ab23a1083fcd55258e0422ef4261c35a7a98086204f418d3be651751464b275186ce5efc7ebff9489f77df36bc2d4b064c68576cdf14bc11d2c425e3da1b4fab26d591ca820819adeb24c8b5c7a465e4bcdf319099192950250bd275bab2240ef3d98fc7da84605926fbdadb6c3664f2c836608d4f5ccbe722e0e83ea2fc7ac944ecc2bb1a2ee37f9d47bb9f150868f618ea8527899d05f1dd64d00c2b5868cdb6c5441571b65ca869be8b11f5b130301b9156a93a6e0802d54545ff8b778b0c8f07f8ac9ca487d7ff39f3431e0288b4bab499bf83e170c183a9cb45b146ca3c62e68eed35b0df156a07ded2ef01ef5bff071c002b9e19d0e0f87deca1d0b72e64ce9cc87d0ea955515f2e9caabd38c23990a8645a7cd6ac0de356c5776a1a2e7f4f2c5c276966898af0c64ce999ea7e5cb34316607e81c529254a9a5f6460b39c1cb6d6d3a2aa3d9684cb45df20b430a41a24de97a9adbb742691895af456dec26b04d6658278fb4dc047330fc45b4c945a3e39a409bbaddd29d5eb7b26003a173c7dab9b00a295a3f1e76b9b57efc172d08d7e9341a11599fd08e92aca3589e847aaacbaf267cec17cb0a6419f5b23069278f9f2d86569d4d26b9bcd2a33fab791b87bc5872680e5c1b273311db4868004d2f64916fa01d70f2adfc0253d17a2a78dc12424144fb4da3a362f3b4eec97ca06fb13f7c20469d1bb12cf5acf3bea2482035f18eb247b0bbc4d36d2647c89884af57976922a8476a63687012e315160119480f8d3b8854f1421d707cee7e3caa76e5f6d6e002e64e8f8296e6b0a087a95e0844967aa2584539df8dcea5a734a8a73757beada40719072a0c8aa55e524210ba861eb8ed11bd70ed067fc028cd502e7bd79eda14aa5b89f52ffb5e23f4ec6e074d36dbdf8da7333c92532d9fe1671f907416fb94fa42861398b4c07f2dfd3cf2d58cc3e08834b04d9343759ede5d3abb578c3534f349622f5c9107610adbf930d6976cb107988d5aff0796e8fc24d57273a2b00f56d9511174e0f1c501435ba6c7c43e21bc72b647d09f4b4205426de936b0b91f2c8f34f258a93ce30682ed2fcef9b1c5f3985c2451ee854bcbc4fe3134679eadefbb6bf3dff6c1ba051cf3fe22d08a59a6f169abd852fd250ddf03a1a8fda869aa5a955316ba774f04c06e3a90c84257a249e851d3704626f13e1689fae4b1e36a127a9c21ba63f19533fa9c8453f12f154747245c63eac76a75eb5bd21d794d92dcd627b18459ccb4a8dfa44361ebde5eee28e74c6a1903928ac4dc6cff9268aae39ef9ee3214152398c8fed5a2a40d02b8f9680d42953f2cc4b7f9af93bb6d871095b1f042aa657e58a1f8ede12fa5067763741e0df07488709dd5e668d7d0e66d0a1980b7591e582719b0f301f06f6dce94892554ea3194b2dbed5f7cdc17908347bc3465946650bdd033d184434c856a5a98fdba4edefa5c2fcf9aacdd46833544a86777221a2a6853a4f763e0cb6cabb707e2d60c18ac977fa05a7517959be39de37afa9027f10512d09885644c4c1bbf3113b268c31d103ed358d6245b07ffbed58005a3ee77641b24155df13280ccb7749b80874368ee2c2d638a467853b1414886b07dc087932c0f55e846adfbb1cfc5cceba3edadd4a01141cf736c60dc0e3363659a93897f1e3bf74550161c0a8856720163788b10a2384631e92683039e77afebdb1091a698640bea2a0b56c28d378ced05fbdf3b4cb758f2c74bdaec29f45d6744c0ca341fb1751aca03547e8ab16cb941f338016337c18bc2acd5739b8bbb38add37d7c9c27fb857c2e2a3948e328d0808291c3607c43b7dfc336088e6f24eb37e56a79cb944205eded49a1f827ceccb952e663c0f50bd173c7c9859c8822e60754cfe0be2959ff4fc06dbd6a5e23f68e6009ab5e9a3f5fb5be00d8838dcc938b6153a9f5a9b3e93071823c6a3df6eb27af966f7d2f6d388a9ec4773826ef20b00232dbcc05ae44e5454ce5efe3b5359092339f8cc7ec674697a8c5b90ef9ca40f4695bf8093961b85bf3409245061c7f13e51779aa69155d2f1c019595ab0f2e6a9a9cdee0710dad730987842aba6ea11b641ddc06021630a16a035d16745b05e3cf0bb1bb0107a4f1ac95a769c39abdcc6cac01f6eb80a0ef41112642aac087ceb980cddcb93046ae14f8317d8739e44e52e6dcb63726489e3e985951b9d1a0d8c35aecd9e890a5231f70b9fa4f3738f418439272de3bfd91a1d77f79c365f161edecb0980c6588695953450e13e4377d6a96098fcc8d5630f804df92997c10dbfa26a7d3f7c1e2f488e0ea9237b3d8c2da163c228680545bb9e11bd8dc111502c8275ec39c7ac37509bb11b77463a90a462e4c9122c62a2077be1da648a1dba0f2dd7787af923cdcd2e4e479fe510fb62724720c6d33193944ee450c2deea9537ae22592437017a048d7e2580fc418dd39784dcdc86d104a07c3805ae6be1db715988695b30a5bfce4d8d1ed15b506d2d87ce6ac37cf4a94d549df530ad3fe3feee75c0d228686031485127401ba28b99c9fdce29074b87662e047a32f8e0790fcd9206fbaf5f1026a94c3f041774c4dbb92568b3e7f883855b1ace37bd8506ed395072d725d87ab9d4d83fb41d2e56c5c4a4425c94033f6843ea7e4f11273306ef683eaeaa51ab2d42faa1dd691757223f48f92f69084be316a1c415e2770ff1555690f4794abcbdbd5bd9adbc172178c1c9cdea8a9011a9853f32f4cb29229a18352e145e8bc4d664aa35e15cc1a0465044a30d96b6bbe8240411a45e0f0227ac255317cab7245911d337d76155834444b91bf41f36669e103d2726e2f3043cbb5bdf0b901c66b56418abc0b161b4453d7ab8bb6c3f0cf5a4cdfbb4f74c4f70995db0d84e966a02e196fabb64d326fb8f1ab4f895f1a108b03f630cfd757bbcb19e6c0cec6e4ff506095f8922f094758937005748169be099221c9947df1bd1c31455e178a83dd6615217c1d1c3d9eac50179d774fb0d53c44f126e2aaba0817f3d0d6604e9fd7585ddb9941f25483f29ef3de64a914a93ce926536fc4e3a2943a662561a360ae7c4ad7d4dbf5aac80a28ecdc3c96cc7c66db28ad30dbfa3970e3431f521a866b71472badddf478ff728eba7b178b224de3ffde03247f88911a5b3cf75208dfd7516db2095fefcc65fa6bbb22c9233cfcf85c725a5f53bc56ee138ee120a4e2de25ace38815246acc95a8e29bd55926e64c37fbc6d5b8b30bb9749c40f543956b12ec8594a70799f868114c7a23023c2f94cda7413969ed85c1b41d21213e71fbc0dde4b152b6dd26d747dd0c8e70c5e4139c3ce441422b495be1646a5d03ca3b9e3cd65c952128170eb89dce0a54d021d5721d1e447824d99c43fe82ecfb7528a954f12bd67023058b874369bdc5fc563629b732c24d1c9d2eb14881d4baa212f3a7afa7536efacde6a9c76903fa81e71b711942c9fca93d22895df867e4a5cd32bfe1e52c0b0385613774e329e8c55108e324dfeb29ebef1d0fc5ff566a620002439899b180309bee8232cdd5b072a35b1067868e1ddb4dfad584017de757d4f6700d8e650f302893172239ea15502404d02474e7c0de1a106b756781d8327775db6587913aeacca912ee8401dd201e509c12ff6caed2691f447ce0cef3ea708fb020642e82c5fcacd8076d9684f37956fb18cead8ae0312edc7180dd930ec0469d0f3368aa1a61eb7af08b436876d4428b71f4023e416f8524a1557935cfa3fee69e964b5efd02914a66a77da010453930a3040abda1f866f6a869c1dd21e815a47703e3fab79f4535dc4426731e64d5e81b764f7fc808c9a2ad40ae35ebedb687e2418d508e8a3e608835c1aba750d857b4da02063f4c5e8a6d2b1c81107d4abafc84ee57ec716443da53b82645674a959a0e270c27b904de934cb57d39b8deca2efd27e694adbdeaa4df4d4a281faf7c02c6a90a84d8b540afc6cc231a0467e12deb02efefa8473a67e5a06134d11b9eab1d055ecdefc13454b108c350f1f3d174a351fc79f4769068f025b2404c588da5a3b198fe04e0ba3c607f0d79386cf0e1d0d3fbea0c65080a3f0dd0ebe6c2f4926ce41dc918aae48748a6c460e0730670ea352843a2a52088cf783925b33291f563bb6581c4cc7fb7002f49c157729d37bbae57762a03e8aaf91f7e1330aa432b15e76fe03ee4b3f494060eb06b8a48f16a6f9dfcd3be9a9e8814bd3b30ed4aa1724f1af1de26896c20c0a51c32a409ee0c740b5d163c2fdb5be9eb26b40e6e760074dc758e2cd7d288f6b97291044738953e7c244248b0474201ddfe1978f3229c9d299ce03f4ef6e9db6f741f9bbc2eddde4390f1bdeb34176c7e8869a69ed563f47481ed56f1b09ccba2cb1c2812e29a74b79cd36cd360f8b9bffcd038490ea6ede460792daa7b34520d0ab1e813f61c485399a8e961845b0bbd4130d3e0cd8696843ce80179995da6b849e81f6c21619ed58be7b747419779e9a7a4d9b729f6bff9b81dcd4759880402039bfadc17a44251c3746d70b5d257e3ac0da42ab27d86f7b27a7395ef907b51bdbe23fcf1ea10bca94fbc7958b8dece10b27e269caa9476a91dafd7f6443d329648ec1b45e05dea4eec27b8191923cecf2d40ad84b15d94a3e529484d8bf8765f0b7b6c15b05c6b2d89f4f8e98b82dcc8eb341ededf18e151c753a7e0a0a2ae10388bfc51bbb35ee1b38867a96dad7ba31e3032cf61bf28a0f7e21c877a565bf97b10ffc62631612427e1e1c54ab785614b8a5a9762e86d17a026bfceb248133d9fb4c4760ad24e6f5f108369fd0ef7dac000754f8a1f6d3493c4028a125265405140fd76ef542bc6301d4aecf43956b9924991bde1aee05b087f6d096b415f0c3bfdb25a62e4f4581ebbeebf9dd7908a1459c3ad8e6f6abb1e08b49649e8d782dcb69027e2855b52d159fb3087f3311216a5dff710e9a10472212eed5291aec0b8b2792d3e423586f2b84696a70c3ae719a0f63dab48fa3f86dedfad6cb7772edfc8087067131585f773278b25157351223b06e6d818b9d1f783c7e797c2ee672dc54b245be68ec76d5bd68440b06f36e1ffa7650d763413f31fae773aa25a60cc98c0d12cc0cd863e212b06edc8dc638eb67b50d967bacc36d4daf0515b786a5064181e1e9efe640353edf077dc9f95e14605ce1fb19d3807c315d0229beeaefb6de9c03c6519f19825dd45a8f598c1253dc116f43d76db3213eede672d08b8fbe5536c121858e1dd20c6e6800d061527741f72e25a490654fe58a2f5e2143e1686d248b00b94738f67174a722fbb8705a302f0148e2529794e8409fbdc336eaabdc011155ab27e3c7bcfbedee1f24bf5a00f2537cbdd11317d2ff4789a9235abc4c42c48018ff2fcb3fe5009d55d23eb0eca992c63c98b4630bc4fb6747efb5b39e55633709b19d920bc11b6c49f966868e655cb604494458d87e1b24a99b8e2bb6b6808c4820dfbd32f3698d93d3b8ff4ea8fa5dd71d152c4f59ececdb35dd46349a53921eea2af7deed13dd11b7f9c665f7e8a0c87f1222d0db65cc1ac6cc99cdfdf9fe20cfe58610021e84ff4a959e1eaf4001f4c085d176964af358869d8fb978b8e2f9edc2c2ef084954c73a8bd68df254ba2d815a4b2781b55f12455321fe14897fd388a88abfb813305f3bef81b0a3938b828a1efcc7eb0c0713ebc0a303e4cdb19d67a87de377d216f712280f808ced4290a5f80dbf5e84ae4b95903c23842f7637fdb2730c1591dc8b2e552699d4a4b65ab88a19de3ca7c8e583249779a8a477307c858360576844536884eabf993ca867a6e67c489ccbc13cddbafb862c9b551415874a95b8f227472a285c17964b494b5c83767205ecdda85b2f5526c8ad6bc6c9b42c0e7498aa32004bb2463f35fbcac304877ef9f0cc0757b3db1d621944f1229ae252b0e0502159e1211104c45e55153259cb6cf14eb19d99c6a9d520cdac35d5ab3d565167fe0484db5b35da66126cda37a3c1f1cd06041b53882777edf4ccdee4ce85d6d3e3f5307c8e703bbfd092af8c82aa9b3cd8e1b85d1893239785a8115f600f166c6413cab147403fb1cb39fc21de786743a3a10250cc82747f1109254185728e86ebd2ff02c8ec4ea3c9ee4a187e4cc99068680175bd3e9706aef3ce9a4a106c0b62ed11624372c38b5e3cba7f53ee9e1f31826d587f7458c6d0b6ec671da33d47252108c8458f71e2bb2a05aa7b955ec7548b298e53d87242239cace6f852c9ffac2d801b2b9944aba2f3db88e72bc97c834c11970ce2c315f3ea42254ab34dc562382a61727e6bf7a664ce77de759d5e61b791842a38b7469fc646523487322cad540d3b9f6759d7f0f5314e01665cfd8dab1b8b2e05491730feb0b29e67758c3878595a0ba1eed3237ba9abe331199544a3a2dc6aded8c47d8c66036544894c889dd05300e732feaabc5ee2c3f4cfd02dff6c9b678adbbc0a48a96a125b523029c6bab95f71ee7b2fb7c05e437d331a1b58ae97fdad1ed8e4f97df31604b74521cccbf45c971a1462c7dc2304f179e090374b9875228322e876b765de948c96e3c00e96f7121b4c97729dd84b81b3a66ad41152410cad00a7c066c92c93a12b7895c946d8fd40d469cd7e2cb91f9fc56d7831a2e42a30ce670b2703817c9d5d08adb29dc53696dde326414d77414117c127212c4bdf18efad0e90c51a79e9f9535c6042a93ed1f98124b75a2cbb1618887f0e362dc6174f56efe0e32e2563c4bc3eee4201bf9e45f2281e4981860e63066526ecabf1cbe7f92a79c524848a3a0a719063ee8e6075026bf1197a45ebbfe4f2ba3913a5cbf4db998f458f51e6f2f474d8054ce8cc63f715429d11f6095cfc429499a746681cd814fc612439bdf486fc026de8891f253851ef44ad87479920097df829f369edd636c5e8d311eb536655b2bd230edea4b635e502f33d05bef273e31147a02d071524d53f46097e1591135e29954394ca65989201c8544db72fa068bf7d68af42bfb743e6bae335268296039a6a7d08adb92021ad98b660e9e1f1d4d492d64a1f83835a6ba776101b88f54c1610294b5274dff73c1db297a12b645eb26cb231c615229552d290157919f192d491bbfbaa65c644ec97fa6af42616f0a12b9d419688b279a7803a3c11e6b4ac3d9b3b33174d70e7a4d1f326dc67c5affeda7d87de480fe83be603023c01561e1667aa9309b8db4bb3ac7bcbb5757350cb1a506f122a0e1878e1272938712316d462b76cba5c5b94b12f1ac44c6e477ee7d9e756f942ff6b93baf9805081a02e7024a0c3c247e490f2ce6a60035c38dbd141ffc80d3c0062d7c4bbb71a5019c7c087ddb4f75424e685214545e14aede357245b7e4806c84683bd7a2eb5cfa6b6b58de3e763eb51116bad5ea3b0f56bfc728d5a49c071687433c65d5819d96ba5d8127cd3d83ce109524c7d6e5b06b573967ba53391e1cb95585fcebc34a07724679d575bf8fa9def55130302cb82ee3917243ce64d3539d9cbfd2872e0527fdd8fd5da7d8a29fda76e76601c64d504ea632af6b25aa55e4491ce0c8ba2ee46e922d867f43bb0d5d0d1c7d2ab18f88f089463a9552321447f1308a9bc73cd97bd8fb384b94c9108f83d2128ba23f24408442a325b7105250274038acd2278f64854e3b1410e1391244376f3e88027df2d453c1a41a586b95ca1768c99ad76f0bd8f97b5c3847e6eaae2a755e7cbe04e8c639cae42918ad53ac5b3cf1ca181d523d2860f81ff488c2d78c7011f8ad95eaf928dc8e58335b57f509a33d77cf82844766c15f3976772eb7565a9d646adf8b036ef57baac2b693a1628b9ac263223ddb3d73449db26d7b3bd046f3167024081c1afc7682fe955bd0327b8363e10badcae59f59590ba9bc0107508f2a7fc67464d58ad3305e022815170e2500da5a55935f8e76fdee4eea428bc61051f615055ef4a9ea36309b6985cc7ec17b7ee7e92c002ee9a1a79a0cfee59933e745595ee631177aab95eb99f2d5084f5f0c7975498885f94b7232044c922bdeb84402ebe9e0e423169eb542c918e632b36bc283b802a521e126287301cef878080eda0f5a0f7a998f0d61f42c1455db9301a81d8f73918be391fc4db745c920af7ee7b05d88960ab87eb2e763d935314035e1d85f3e9240f4d2f32ebf36c0ef28d89094fea64b9d00f4ec8617ac66db6aa089f18c69275eb2eb001f6b099b7fce187902b760ec480f53cb11b8555bfefeb52b4149aabf484f154272717e1ed761eb26b77ba29790f7c5bde035b89ba0ba334fd7848bf27002dcd87ac08bfd35017c574724f673f4157278e44ffdb4010bf194dd2aa1e8db948731d6a3a08cb98775c4f0475ce74dc0e0ca070fc7581b7c611436f3091b5b03d0761233cf37c877f11e01ae8bf6c3d2d1e3dc408df5112056b0cdf68b180da81ae05057b0d4cf732854fb66f2cb9a308f5744354b5ebf00d5e99ba22cbabfbbdb4b9d2478e64024144a6f0378f17c322d5f433b4080c4961c95858e68ee7a6df694acd965ce8d5ea04339c4e39314d4d957260cdb47f320fed078a986b568c5194d0bcbe794f1b028ad232b1c4b656fc4ca9edc1f475ee8d59ea2a2c1c6097a8ec46360bd36f3d42247845b897441e498d4a5623823792e969a52328c2ee025b93afa90025a595269bbd55071be8b625bfcae514dac7b9564df86758f97a4beda5cd5d8008159525faa7e4443ebbfce622bfa63845f2a4f605325ea724797ac2f0922174b42bf6c52d26c16a6639b3bbbed31304b1f426e6ab444e075e1db63d0837497ab93a841681f17d8d511e81390e997257520ffea05bf9b5f8f75262d9df0e9ad1ca9eb8194166123d28c6abd0d1c5d801ba9e6692606f5813858932fc29bcca82c43518c6ed08f33c4d61e0deb44833fb4fce69445ef61482a5eb6418d492c53a486a7954333f62ec6cf2f3b64e9e7e02154cb7192c88275615258f3774e7713c4da573da77e92db3cbb35359522e3504eb430fd312e96d277c8a831ed0c697fd207698c0eec71696b16b4fb745644134c4fe20bdd6ea7c1e95c2ea02de17aa0c79bbf4aba31835e6534ee5bd9b8a393d9ac6af815f03ebdd3a69a0565a228027715f1f43fe6e684c4624f8da718f8c8a9ded9e430690e64118584658f71b60c8d76476aef5e5a6fe878691a645ddc2a913dc2447c9270ff0113718f2bc87328e899ac5a65df13000c8da0a2cbcd22f1c1a3285054f58253c52789e2bcb40c37bd9e9693fe1c9b9ee4ba50fdf7f82219c2c2148d053de71ad207a90f8a8b51bc1eba53feb380b625c7bbf8d5b2379829f615dd0e9b67d08adcd32d61ad10dd99c0e62d613c2840983ee40ebfad7653639f710ce7faa2021e423dd115447436057a8c0c72b5aed77bff8df8447f8050e65420d4c754d3450d2fa3da1398ce4c06feb3e1bc41e103ab1963a9694b5c2cef9c6eae95a6200faac79011e305b1ce32347d1818d17fc6a675e44eea0aec1ead0da84459d14a436feed7202bfc61e9b0ff30ffd15f7299cce9b83187d64387393a7184633776522233feae9d513695f140e1a0b2ecf92cc83c58080525ddbf74b9b37bf8cbf197a644d2630c80791a23d08f44fc525756e0c86a0ab07af5209840e89a2d8b6f287975ada791dec5aeaeeb6bed715228d3159156727f4c2a09cd56e50cd42f7a3be221c1691d370dec00c58b193255a8745b08a5a07c276e734c44b3a5bc47bd4b9a6f05d14d16c9d9ebd3680efdd6aa7d3008547617cc137963cc23069a2c4930001e01ebc63e4a1fcd5ded7a7277537db5f869bf18c5faa2cee3c2819f8fd0930540ffc4b46f6a93ea08571bf655cf30a0c3c435b64f3dd3cf76e44bf896e7001cd6fe7711b44079312cba41e33a701c78258c2eb16d9b15c3a1f22d965fbfb8515bf5b80f0c82a6df207d145689c55762e7d9ccb48c2c5d5427c06847b6c6d4e01fbf93d627636aebc0c4e4be4e3590e4daf8a035f3f0009721d6b9f15c252bddbab03cbb2c7fffac5607d1e9eb705fd1bed7474c564a91ab1925072cf9ed3f5b2103af992ec7bbe4b1b90d89ef1c48e503fba15ab82ef8cc55d583558e9eacf56a2ead59eb6b51b9e26a7073f1c55317a58119f43c3f07c727ac118888ff591a9fe96aae53a89004cfa45fc64b7fe473c7f23926423734bae49bd6d0eb73c931293c7bef6ec11d9fc32683e4b58e1852558a705c97752e98f2a2b5f4bd0eb18e54b380f2c37b9c218628f61016b042298232e321e21e49069937d91f15dfa162fe482605c66b0933650de2e4da4a93fbee1de557abf59097174d052dbf379bef7f4f9052866f1826e769f174716f5de3d69267cb66371cb1a5a5c7b83ff5346bee368e05510447f670a57e1b09c782fb786d1bdfaac71901354504639c6ea580943cd0f9eaf33faaf9882d1c627de0c6283a2b87514ae94b7b4f7a8a0a790f00e8c627a1ed41e14a63523467e903d9f6aa7708ba5c870d49ee46352501626fb1afe58623efc858f8fab6923f17c86f6d58f87e82683e85f0a11794727f1a8d388a53eb6da6e27c1548ae1e996a1ed34e46f0616e0972143e39c8214ee8376fe2ec9117614070ddcb4d2c0d766bcd3d9a3ff67db11d76659b3b63f656680b0d49d71f5c50790b04966699f2d497d9662380c06fc006715048db94c664834ec159ef35141ac26bf27b3748705a1e3add63ae48aa273c94d7a558c474763d36ac64cf3a5e90a0bbb397027b21a2756b23a608bfdfe81f41da0cd9980b104739e658104474a69d2963eaaafd21dad738dde2dc762a6a1c621ed2bd28118dd77c0d7fc2554ee01cfbfcc506799e378322c24c28dc20ee082f2025e8575a65b793a15a13af66c7144c8610414e680135f8155e081496febd34b907cde355c8477f74de11b6ebb81ba831834c29b01afb9400d88ffa7af96dfd130dafc896f9e78fef9d6cbd220c30aff6d3eb2cbcdf01fe83a824a8517a2ca2c0c50a861099439c727ae1b0a716b71b6207d00304954b33171040af4806107a7803c357a96c81b10945ce2aa0c913f2f46251e035aff0327ed827584d80e37c2ef4f15a5c7f5f6dd2c98695136ce4f51d4975660359e03c74a57c83ddaf0749d5f7fcb22df26998c714fd08c7bfe5ddbc6344fd1f384d9d64de1e7867a09783f0cc5817b30e17037ae9440e1c0bca3e0675fde31ea72f648188b0b55254d532a7c431c90ed41ef76b68d3cb750557bc697cd78a9d6400c973d85f1b09f579f87b4afff50caa558696d59feb9ca5cc5bb94400ec7cd2e3c76d926bda64d7716f24a5d8b6da3ae0e34be429828d0a4aa14dd5f20c3705ad98258ff8de6db5bee52cae1e802a3a82053a34047ba57a3ed78a3a9cb59b0046bb1e9edd0ba05d3240e15a44aeaf2797a3f949ce75927173ebe308b8472f1f1a7e2ad3852388bb046e43d04745e0e2460e545585318554d42480f662b29af2f4f96bf1dd3af7ecb9c177c392875b8329daaa8d1c7bc8485a4e759dd77ce6a99d5e3ee1ef6fc9c306f1e360b7745cc64c348b73387cc6870124edf9a939e7db34e41970a62917f9edae2f90d7f84b01d101d6a2c09b09578f0b9fa89afbcb39863ff7c2f939d253dfa04f7e3660aaa7482311809d315bc32db6f0adfd938b7d1fd4cc8892f38b91ce97703a62b63d1517dcf3275a5b6ef5f81f71bbd2b52ba5c4ae7a55f8fbb8de5e3a44e57c0032f8ec27e7770bcf5ba62f41abdd260dc56311ff334411211cda04fe50cc0c088afe2bf603cb53e0394a9c58e88f793fe28be3e79062de58c03006372bdb457f50a70dd13d540b1cd8c8ed28e5776132c208d3a296ca7a0f66e9d7e9c86b53aae73f340b4e7d299db9869c72575b58590f0ea2495a833e250f9a1eedba85865b601d7954d2988af4dd1090f9e2c025b286d4b375362dbb26ebd98e136b1f97b8aa7a38789073ec0a1dde879c10c1e61143e128470edec5e2c1f8f5abaf56c5f4da8ba15d10633d501907270064e809a8dcaf728b1e4d16f50d9a1c62b9d4058e73ae48779ccdf2ba9a0d995978458e6d6aa53fa417523f3d79edbdc09e0c1bbeaffc87ee53c66c5c17d18d0567ea0597f282a8e0572f5800144a7a04529ab3179e25b8df8cee9b484cf7670c3a0b860514c3748270379d2ad08ea4b481ba21e731c5d3e2604bdf5ebb970dac6f8aaed7cc395d43d3d74044908a45b1b605aa8fe7d89c752771fc899a40e53f2f39a8c004af8b02903bd8adae20b65bb011b5a4f98fe53f7e41c50aea25dff1fc0fb8b4aa0cbbfdddb9b3580a5b3bb538d7a24af15a0f76a35188226bf82e31c9912e2a974c7926470e7231e38b5e53c21da97ce4aebcf1ff8190b79a4e31d0ab94fe9776976caf1aed322895d622ddf2507c723ade5d196364c0496aac0052fe258a99f58a9382a9128d8fc9637e46757ac6299e5523b3b1d908d4b218aed4dfe3ee514c8cd5e56aede2a4892cde0888c9ffb6a656ff14f60464d81d93ab90450f4b83d0256ca72246adf7eb7f0c169f4248acff358fa58265a82efe107122c1f6c9c03c8fc33bc5f45f7a0b46b46b28ab4945ac314627279a2bc1ca3a1d997c9b7e2bce2321e8c69e32df79a9ab4ce0254d5feac2dd35ee562ed385fc5aa872317312542685a3b3fa14fcf97cb13f0d3f41679e77986368e1162b7b2b596600c52d3b62170577dffa24f6e3660089a3ba9a1f90ed0d1332bc9588e60d254218c3b96726b3854d42924785b5c08f8c3cfb5e085391c331f98dbe61c86d98f2475cd094e4963d37d9622f0dd559e4d6b968b5e97d719eeef2112281083e3ebbe003b4f941e3c3d172bc00a7330167a28b97befe32cd36654ce18e64a41b79cd6fc6e5586597c0a715b904ac629ccb785594ee51abbd1009c22b3cdf9d3e8ffdd560388be7ac13c578cf17756ed1d83e3476228de56724081343280a65790665a6da4c3c2c2779212b2ab5e73e21c125f469cba6c8ee097965d085ce0127570ae0f7d95d0f9cdf47c88f7afe84b4971b5348616103125b8793540f1bf4f931017f88d3621737e9ef7cb0002eb9ffdb2cf6f9eed3520d09331629b10865aefdca47bb267852ceeeca2e7e5bde4fd584897af6d1eda2b9a2481f72b2acba647a846b20047576e536bd61b9e6972bc0d311364a7a14f53210b7a96b95944a11264ae436ff3c3b628b722f3c3d14f0e6ed82c34e64b39fee947c036b1c0ecee11e2d7fc2160988af4b0a95c3a94e88f0d4781469c528f02d6ed7574b897b1931ff98a87fa28c99048e68e9bbc8effd2d0bac3928a7154969c1581770c5728c4114c0996163f59a7ad6fd96ac47f9d2787180a43b881189591b3bd6f78773308268769afda4dbb0ba261067b6bafd5157ebdc8a15a2cc238b09e85da9832945cf9ada37768247b17cc66e511b2d8685048d8c01e5ab834a5e02b3cfe51e025cb2e5de7a0608632b7e03ad735aa8170683065bf279ced113d2f507f3a828e50a8a70075cec5e81ab58ff2362f052d9bd31cead370405e476fd48c9648f2c112c8c91b677c11ed6915917d71c68a8b04a16e40ece37f41b8ca0a438220fd3ea3d5511e8e3ec249b714b82203b54b126c1658616a0aaa4ccc67bd0460199412f1dd45438651b91091e33d7125d774f3449ce7138cc6d0485ba7353557017db6495f532ad7ef5ea1217d2a0db7a17b8f02eb00cecf469a30360b639130abc2c96c05e2208458aa897fea2d0c835841e6179ec173ccac1470885d9cc5cf5927caef6af48eb71dce96be80bf26f52796b0a0daa8e14308ef087011d5d196da222f3fe519cc50373ad41e0a63c9d9db97f2dc7272634e2750fe372cacfa993f6361df1efb4f6bbffabcc6f9e2ea0a80c22356fdbaea88c4bba3d9c7eca4419f5e8ee74d44c87ab204bfe68cb24bbae68e1820e370c99db005be2f96fe84bc44800edfa3d77ab4d7a20ee9b03946a66af032637d4953b338f4e1d0c9ec249ddb90af732d5d55c1e1b578c76a4a6e50dc4431b211de5d3b91d467268b4a5d0b2c2d4cc10add63321afb111feac2e12cb783ae0b6e03ca86cff478162a3249088e03e3dcdc7f45e3db479d6b126e17ca5cb960512ffeaa2391c3e652b01db7b0997e1c7c63ee51f2584dca5bcacba53d6be4e213a2f8b4d38e4431cfd4db0c5c46e1490042f2d6381b0163fde771efce436e83de92e245130075d770e6f15ac39d5f0e9c373af7e3f24819a3efd51499b48cfc26038c41bf4b07a92476f58771871e1d44bc063519e96acbb5b05a87a4524af40906c9e44a9e68852182432383cb51903129ecb5b4d7c45612606865e24b799e5559aa09439649577933dd48bb64b32e7208a83a6d1584d0f255fb7c9c58360dfa9e150bb12a76d002e27dddabddd38805cf2983865aa8fa512e7ee9905dd0fc5105cf4506cbd046a174db5fd1e280894122b7dc37c30512297fae7175be759d1ecfd1793980574ecc5ffd6f7633f13c13cc576ac33632f69625b3d6655950cf03719fdbb023b76318e8757b8303a8254256ca5b170829c4a84ddba22ed0da7e957f28ed0c829c429e433e34efd85819e1cd22b8a0c80224dec898e06af38ee4108ec0e84edc1b28c8292f8dc9817d49497443f737e0c44339d6b1be316bdf8c34008aa33ec2b7aed37f4911d123ee8f8e50e8a6065d9b0f5a87d253dffd89c1d876e114657e3d2f88e417b6b45b037f6bb25f689fff023abd50e60eed15e84c1c15ed5ca92055447b87429980a7045719246efda9da109a4cfbae34b74fdd3b74849d1ec930782a533fff875943d756fb2c74c31108ea52403fee829f2b0c6a6fdde0e41aebd15a2d2bee543936dcc099ff6210567a87ce65df76151b53315c976d42a15352cd792744651bb36c5ece162e0d1f125d88ec9663b891f540fdd1d907fef3aa0bae5773d7dc285da4c96f3acddba7fb2c2b4685773a91a0523f26b9750d5c04f50245dfc6f64b2dcf9a3d0f65c121f3dfb089532ad85858e0d3bdb1e0e38c6997b3e13fcb71494310aadd07c5f15e9e7ee317e9e3db0a199ae095f082170a7cb8749464499b980a460c3c26eb51a136a031b0abbedb3a040ac5a19d9f2182b5792b2d419e72e854057033f1fd309a9fce2354201ae8aa975f833d8c7f7e68f88c451746048bf601fdcd0931fd7d522ecc890b310fdaaf4b88a9cf1c45e544b6fe023717a52666b51c8ac6ad41b6425be1b1907a5a3aea707895641c1c16b22a4a22c1e2b3a9df89b0bd20ea731af76de1422b3dea66a0116fe21f22bfd13500c58fa15775eb5120ab2efec9675421e1c3aea14241aee50dc8e37de461b9517ea0a2f87156b7b1c03f7ec6c597f83ba16a14192ec85eeda851bef06b7636d5a5695fbe47bac080c3d936a1a26aa588ffa50e5c5b3a936f830cff429a0143235654c7018aa7ede383b7f52a3c64d15d1191523a9fb77e582bf0613b691c80d48269ad7b30c0d22a41a15de237cf9f21cd31ff18f5182083b98a5fef1034ed75da98f4d401fc51e31936e021a5b811ef8add3375e4bbc242bf0142e81be0e83ade8b7adb1af6802906543f78f2ce3c7ca7d9cfb224843025f5048ad462b7760ac1c53c2ec6cefecb71375be9283993f7115bccabefad1663e11bbc49409e3be2766b43c06ff0fcd46533964f81d5cfad856575232a0c7ddd9be53959fde4c60b5cd7bee5b97990e8fd37e09a9f45dba18c8863f4396f991094b36cdd2b0a2f35df8a354dbddf5f3a29f065fe568b0e7244f2af91a2ee54c128e52a7efc1be0aac58e56f2b372eaf6f5754ac4c2895e2cd1ed0c774b96df2d2f4615fb56bf3d06dffa1b016691413219f1798e2abc8553ae2026d8bca3c7750b0cedbbe8f7309a4cd08e83ca0b223424f443e52e52f572e862c661a17e040e02d79aa9016c5cf58b98565e8e753c84667e92208d77dcee149cc95018dc4c50d37331ab451724d0a5ab5ad90c756518b684aaf1a7926baeac99052e58a5af2494291e6fd128e28bb31ca3b7762d6f04436edfa027cdbe645c3a3111a0ea9f5f00caa6d655ea77f9e3547231b429a26a07a17218cd796aba79820653470167ca011f32c76b5957508de0e447841fca93b0b0a99b0d0e45d6ae3c9b88446f5781b8b6fdd5ee507642acea99865ac57a2553620cb485e5a86d74e1df424a0ec5e137f900d1598107d955e64788ff9c88b0ab461827f7d827e588ac2ad51eedec6ff1cc7fdbb44b1657e91218228a63cd1383fb6a53c4f1723ed3a2a99a13de0fdb083d5c04cb2a9427d7d82746a5b5aeee31af758d65725b5caaa7e5a8b56582aaa760c9f6acd8aed1329ddd0e10e05ba668c5804f737470513abfd7ebd234ea16ab45fe51a85bd330f7dbf156d8f7a3ce318e1f5fed7e58e6e93375ea1e46734a9a54940856d7bd1f158003b26095070881db44a0319a8f7ee92118e87b9311aa22a6fd80707e367a3699c4283e82cb6f39c1bcc09e82b188c408aa74b184cd7f67b17e0d147761e4c785440bae6b2728d70b25affcbd87e73c10d3f67defd5140f6958baf3db309947cdccf828fbbbf542b7a52a39ea3f5282f587e2b99dd77bd81f96517eb51d8f09c2ba0032fa394f408dc8a6bde3392c964b28c9ce2f608af027334d6306deb6ee85580e22d7d80295774649cb3542ff3fc9442972a0a6ab89d491c3ef308b0185ef21c7bfb76c18b91dea8d710d0a9a8bde99eb455220ddeb9698b16143c325d670d6273a7f6a5f4943b3c296186b82fc42d4642d07a3501c66e9754c748a742d8b30ac66b59edadf92f97d05c71fdd6d13bfde3ac58904090be174245edf222eb8741af562625f73f93cad9703c512e19e0c8cc56c525298a94d0e5f5dfe8d24c22a6ad971b45d8a8138a8b62276d85ad89756526fcd872c6509ea407fa95d114ea79b1fd712c36478af7dc297331df888258b1d204d2af2ea0c681436ff7f35e736e1ff6fab34c1b86a2745ad09bfa1b3c00d1c667fe3a5897079df871de6c508ccab2baa93cea1f58953136cd05573847044287edeb0835047cb92ed1c2e2b99176923213db6c3a843a911982c4f9ab285b63a3247669d647a1f3e704e94e9267c5e0c06e16aca3088ee25a3cab4b122447d2884a85e76dce8a59b380647ab7576d04b797b1dbca73367e80eb5f2cc488d5f36bbda72219e09f3ae97c2cf5ec617b2abfb0fdf18906c420b143deb7be35a9b83f8253d11a712d219dfef77480e1363a855ba3e02b236557508d12d468262cbf21695ebe47643d3d4e62af68b6bc15ca6254919b4e89d3ea8f9aab200a04f703a567395fed4904ad8cfb8605b416fb500acb5fef2b78f21e97f20f8dc0908a868234b981c789f383f70faf55208165ba1f0f73ba4c1ab1e41dd032cd3bc04ef9ed5524815f1be421d9bb2d3d5c8b02a93319be4a0d11c3d9e22bb18e0b0facd924d0c5358bab227049b12a976bbb4c21b36487383e13a0b15be63fd7d1db41d8c07a4de658ba8076790770df412f6c9db5bfd161ee97bdad9efd03eaa72e41b1dbc59b4367e70f82f6f1dc7850cfcec275c5b9b6dbbb32bfb6aa22667223288907b17a46b06b0db91af12890bc2ba956438644b357b0dbff750883a7b67489d7dd41b2b7df3db4601defa59e68ab1f05e318742b003d13a5e6ea5ede6082e9523ce7559d34729a4751599b8674947b637b860769f4ba2d14bbba7d74014b3ccbfe6c0f9c11568a0404c591a26ceb22c5cbb6e2ccea83f67440ed1bd5428f94f28fdec9f14cc6c29c9b734fe2bd7505f596717529c1ee4b353d49b11526bde13b83fcea02abaac64a583bef08c1df1a109dbf891142791d43d99cecf87f894dd37acdc377f2a4a27b8935447a009c55a5297a9a9d0dc42a37c7656bd09539b6e13e46c17edf19b95522b4d3ebedecba239a294f01c92999f8b5c8eb16a99e706a459a6620ee2dcfe85290ac89d0d5c27b25b478e9b5af06d6d2c676fd82ee8168a93ebcea52cf827322d67cf108757845c1f6f670737cbfa5ddf903ebc95ce8608f9bbd78e1f67dd11a2fbc126df143aca65804039ece86b4a010cb31cfed6725a7333a5d7feb6957179c5a071e0f174d3b9ae8b68c083288bc90d2f65f89bfcc5a3326bbb67ef3b20e4d3c38f0aa2b9b8a2179ac304e9d65a42fccf800ba24de5ebe2de5cbf41b726fe4d76c9202098a04b498c342a5e2bf52983270955982ae10f91882ee24be2e03f6559488b85c4d9a168c09f1a3ed57506cc559c7a47806792d4b08279b93630e46f4b9d44dff9757044fc0e934b373b3b0b8d55cab9ed0518dc3b308022690271df9739869c02434d14fb973a97e260412dbdc85c5cb96d1bd65366a2abc97408a1aa5bc0fcc22eaeca89193210f9e9986ced10334de2e926aa48cb64afc7c1944487e5ab2353fec88df54c1d2cca360210ac2e44cf322d55e953457d9b4e5f563d527808f80ae3513ad3352682c0fdaefb61f0fda7d96aa6bb98282affec76272453eb6202e53c6acef02c405b683920a0b5c4a540dd6458d3bcb95db61808407c20e2bb288678256b34577f13484b5e8900d079a8b017b3d85052ccd96b1f9f9a92f688527abf15001e5cac7e363d6a833c2f3bb90a940da8e4bd75cdd7ee9fd722d23c167291a0708bbfa31368cdea8b243437727ddf35fa73c8b9f7192f15e63567a38b3022a0a0e46cb319a8d488ab788e161be7ea29c396fe1a9f00d620fc7eedeb6233dd4e3d5a7c87f65a8461761bb5c540778b08072243c7023467faa3940162f5a4584128b2d76519ed13c65a4f0218c4f07c3c910f764b407d4cd373259d31c720b24a6824e30781273d398fc0bbfbf708dc2d67cd937a12a9cc3251e8a29510a2c839f6d11ca87d5ca89c1dc8989faac9b07fb7d2fb26ab4ab4518066dce003a689d7438da557169ff375326beaca4e81e9c1fa1f8ec52806cf65cfba902608cab2685418247ab03324397f306cc3a0d11f2121d0778c5a4132ae85d16ba7fdc5f149b41caa6db8c5a2b87a5f56822609555027fa4a3ae701f8eb262f681ad5fbbb4aba9ec87da122b54608cfd59b600d2cd86d3f2571ea72f4abab57d449e3ff9d0e63aca7be35afec7098fb7f0c79b4a84bcdc75d0e15dd147a4467dcbe1bddccfdf279befbc983c2d599bb8c4276726aa994876037395a105fa5b3b2585e4825ba5b04543d8db02f5513600bb29bba642e7cecc8aad145c2b049f7fbd6b2b083595f1c4fcbdd3882444dd04f7f0ef68f7b49d114e6c96bed6ed524ca6b03dcd19af420f9e0d17a2bb79dbb5f3ff16e73c025f9477415ba8623eb4ef9b1a99937c7201cc9f679278f339417ded4684ed2d19b20e825bfbd2fceeeff82e3a5315dafa588c8db0cb5f1fe1b855b8f0ba1db571e3085be5595d92c5308440eb3365d236aefb9ef9092c6d7fddc887206ae78a9eaa9786cc92b97bcc0fdf0f1eb1abfa5e1c2683e71447131029c6de0b122f0c3cbf0d760909aaa0010e3a13e4d86ede697cae38e3eec531ce52c67d6ef33a013603b1ba8464b89cce8713ea45d478d0c77529470f5f1c4e6ded5b8a92e2711e7235a6ae2a7788ee968897af8aa5c56bb50523be35acd09864406a1d5399929247d9b50504fee2f9405a29fd4333545dbf8ea2075de390db05f19f8e16fd3ee800f49407b5a210b5c75dbfbfa09eabd3575cf095d9ac49cc61713d07b4b14982ebd2fff2dd1649ef336607e29070ed0ab907dbad968250975e86d60e26779d77036b29410eb8a3a6b3f2c917a674018102024da5172034c90c87ca6b24a57c1aa98de12925c7def57926c81f7602c3b2f5962f03bd6abd62f62fdab0c55e643a38fb7ca06bba27e8d530914a34a503689d6e66a1a582ea6df8e70a90654fa67dc7faf769d710a3263a9d9aa137707daa652eff74ae84c94b14f2ad6f4e7b6a9fba56e83f19eea5579d9dc8d09da8945467533862bf234ea5bd0ae1b15b7fa22deb5c45ea1f189cd00318095dee5cd8d97cefbeed567926d6ae99e58f6cd73387f2178ccd808051d5a83fc3d21f048bb3a34575628c62954302ee64d2b74de45f3b401b0381b1a8a3095dfe57081da1776a1d9915698b6782dcc221fdd0fdb1912717fc1673b84f62d3846b1dbff625e954403f24aa42bedde89f930cf3a4f567ab294b3292fde4fe3b59710315ae65683e55adaa00a4436fdab2c25a85cda23ba64db908fd24e6b981cac7d86e896c3631cac7c50d2c3592268adf24fea35f524dca426f6e9409717beb865cd0ca1b80abc22ec5f1316756dd9bfcdae4fd56ffb381059f13bcba7ea630cce68d2f263f240cce4495db26044ac029b77ffeaa34eae4fc12e4c949d2a07674a43364356b5380c109f2e8b2d81de84e7200a421583187649f908932f0a91ea1fd4e996be8d110a829c56b63830af3f71ab86532609bc28406685e2ff35a2fa06c6e72613f559ab58911182d1bef417ccc85c796c554f32f3fa32723037092b69bd071895a9817914d2f0d9b092a936931f4a54eef70df31656711ce7db16ad22dcaf0bd2d9f3fc123d668031ab5cbc3e15fa2ab1aeddcba04cd3f8c5bfef8613a9dd12bca6868ad2329677ffa8cbaf7535d9baad9b4ac0cfbc1d031c4136da5f723bec72b36e3fa10c15e04fbbf4871465f421225f7d77dbdd86cc109241b94c04f8a0611857afa55230629144c9846c7ebd539a13b77b85b519720379d39c487c2d44c1392c062255a222707f168fb935581eefc4471e94b82efbc0eb72e1c4a6ad51e87c8975e2d40190df19f2ee56996b7bad85ea000067242d45d3115999433cdb08c57c1fe4758e1616fa28e64fc443395b0d70f47632270e8fe5b5d11a2cebf32e2de5bde3d4581f99b8de39fcf04b18a5a711c4f2a2a8e875f51364c1e5496e17965db71f4c79a79c639eec9ec283eb08a349b3a23dfb0b48ea7d59eca195fb4bd7244bf786cb409bde4cf2adcbb5161866e8af2628880d7d41e6dfa6267a6ccc0a2aaf957b4241dd1473f2dafc8e25f3f490ae79c56895c8ae3b7e16f2fac4f09976eb3b97a060f0361799765a6648873550b5e77d531458bae863a43fd9e69342261f1661ba16cc347b467e04f2f8b67671e5013d37751f9bae66c428860fc57c23d47df02e7ddeb428cc261b2f385420d41905ac2de1c1aaf6b84775cb631e966639777bb3719775e8804aa37c5290c74cd62f492dbbcfa5b100afd4c364b68b521b72acdcd6f54d4f9b944b29cb4c7f0996bb9f0990f0963d756210acaba83bf30c0da04c862f7045b7bc141abe04bf51aef4343cc8f1cc03934cec1a13dbebf10221f4b3d6451941ffb5903fa692b95f8a97e841df5ff99b442c99216cd0196de4757a5464d05f33c7e07af6e236c7ee593773be715103a84f586b45c4cc92220be9f19da97ceb0d83b48648224076f9bdd198e06af659e5b45752238a7a734d9565d8a589f0ad12d58c3879ff6b169317c0dfa562f4606f00c983ed94598109806213dce247f5240de2dea352208ab678e74bb71ab3c2cd9474d57bfc4476493880b17df3c1005b0eafc72c890f965744677400f138dea2491a51f562c7c53032cb74347271af5c0be0531c2da937777ea13889ebcc6171e9a76b9eed9bdd85aeb5e48ddf6a9b8f9b08a88e1b43a300d48370e4b6e1d1f0abd28cd4c16c376a5b709802fcd2bd436e0d9dae0de15dcc176be3079a355916cefe3c9dfa18c1d63fac11354d7a94e8ab1f094e27e6bb2449d8ba4f0e76747020b3daf35e16ec0762a47fe9161e3b7d2f9d61570edbb6069ee4bc0f3324493a0a0e3e6a4d50a14e6fee47a143f4f19138b5d9943229a51c513517ac4abd70234b42ce342d749298cfccaf7eb67acdf89c4526fbf6a5ae18c2b2f5723fa799ac76045cdd7e71bf20402eabbc3d92115a45fd8a8250b1008617b1f52c5acb7e795f4c7488b09c6feca5c6a5130cc057c6dc356656f0d91e3af9821f515f398d1db558dbfe263fbb65b69b4384ac7912255434d016d2fafd3ea930a3161b3c9ace792ff4c7573f47407381de7285fd0dcc93658d1c418a5cab0b7f34b4572383f4fd54f9427f367402cc5f1e35dda6c09b5ba0c37a83a70e75a5f597bc11d238b3ccbc3e5414d0db67bf960b231ee82262688bf90bf4c1e32f8abcce42501f455cc282b64422294f333dc58cb46d647a592a230e4213e6681f3c13425afb2a9cd4a604ae6a191460a397eb3f8728312c0261576a1dff03d00aa12ce94458ceca649b496e9b7f0b282195808078606f6eaa08a7d0f2de95e0bf270bc1cbeb4e8935ba93be10ad7f0e471d5b943684ceb4a13eca3a2c20328fc6f6bcdfe150f842987f52ca0ff72c1c59942912e2526be800a0ce7e32ff9cd93971b199000e15cd205233f85b68f1fa5b188c37d3263a3904d5f69150bac68fc21fe984f43b2ac44a35a35771cddd74a7fa6cecee59b74a7ec1947f7ad2c2579999340d90b58b03bb6b9b9cfcf4bcd3010eedfe3c4c20a66884d0a4227c4ba1c38efd66e998d8068b87c71899a5b62e0f5547ddb73c10e8b7ec4c3e5126f9161fd48b9b804dd47a84c78d157ba1dc3a3dff382344e3cc4985b40c8ced92d00c0ba6ce428d93abadfda36549a7ebe8431b586439b09f9b56e1d922463d83fbe9a0770f5a6f648b9a781d88c88a3979130394624d64ea0fd7b111e40d884530f2446a3a95e5fe3d556d5338a1ef5c30368c1a9f55322d3be2e2e76650de28d803d6e39c3fe731505f0c659a09abcc592997f300095973a95a69c26ed1468e1613e5cae00f0525b8b573136bf6e96732992c29875f7544a7c4558642ff2694b39eaf9c504e3f14e0cb2f2349e03236e9580d0114e4eece95480396c1aea9e3f2103e34747b007ed3b3effefb492b7545cffa1b0b5637a3184df915af1d46dde6afaca13054938d0610670117f313a4316330d33761983f6aa2a1af30477e448cce58062f9c17714f4a025f8f276fc4af9254a5335845585e0c6d48151cf95ce00dc246fdaaf8c791cd77045c1b12d5172f7a641d1294a037b8e13636097df272b30c8dfb33c242d19c4b21daccd476a4da001f2975979866994ff62f87fd8d4876be0b9259c7b42c1bb7ebd77e17ab02383fed6258aa2fc46a1a93202435d13a6fe1388f8433e5162a8a0c4f3f13777bffd9c6ad14338631c24375585961ecdd6c7fcdbd9d8373b06c5d93f185a454f1be70decea6b997264197c02bcbf6941ee25ab8e3c6092a53589f4e6fb3f2f004c278a741138f3ff2053ea863d642859244bdb62929cb710bbf4ccc7e3492c36f90661164d721f8b0cf1d57da4bbef99d60002a5edb33b68abb15b53df695eebbf0a58179bc9909f365e36d555f6735795771b3b08a18baf3beb974cfbabc481b6195a29c7bc46eb3697d026bb1ee24f1fb17b0a592be89bd2f2b73b8a700000af5d8dbeff3df9ff74da7c3c15ec3effe441bfafaf9e934154fffa338bd7b6dc593e6aa7e003e939ff29e913d3a17f085a0cbc3673383d0a1fb91e9b5a0f30dd5761764049631eb2c0406c98f6e341822e7cc48fdeaf0091b3c55e48de976c00f4dcc7d45ea1624c316e13493dea7ecd7b05767bffcaaa725c89306924dab8b10a0ccd7b4b62b9bb3f7f6146937f173fa0b8b63901a892364cbb04b301258cef4ae30af162486357066d9f130652a8f53ccd8d528c7e2a8d539303585d93360c5661ccd37de43cb6461bae853c0440b541a6aaf28f8985460a404e13b88be96433eca2fa12a57daa6857ae0d3f7b0c74e4ec193637fd4bf7168e3fba03df46f28127311598e3210eff6a51c210dfad136e54376edda655f1be7872796282737f759871821fc6b3dff99df757dd296468737421d1b7e013470122bb0086dd4ce42d41d9c1e628e66ff013ea4b381fa729936737ef32a6d4496a674103b582324b2070cd0a36c35397102aee17546aa1c0ee4c3b1a5c5e448fe5e6138191cd0295b2608bd5b24acf033ffc8f523e29892e1313112106f526d9067296b19b5d648aef1639ce52fd1534ae254560fc5ea156c6b3cb30292eda8ae0d4bed5ece23ddcadfd89ee9699d5dc5b4f66400e14286ac54bc24c085663fed46ffd2e98684c47e98b97f4c92d9a669765a004a3a99b42135c02f3d708e8902601f76b73c5be4431e8b2a5a8ab1707bb77264253d9be97d750a99deda6c66a3092de2b20e5a09f98aaaa8e9bddb0cf1a50481bace4f11b6b019efdf48bb61a2918003ed9d812d12f84fe0ba086925b47e3c6a6fa6ab7f6e27ae9b6088ffc7273c552ad87ca581d8855e88617dd4490370f42bc31c7cf06784d802a47ecc25c53af9efafb0389b6585f9f35bf3ed339603368374c74b7b13bd67eedc385465ef55c99b4933500b18db381907e81b88bf856b719ef24671fe7fb8baf0a9dc1c9376e03bc179138d44e350b181a5b8d0c81509870ea0607bd85d6e612dd2ab89b41751fd7be993344564966280234c4adb6146190de005cc5553598e5e084cabc42b1d0b8649e544e053d43c675e399eaf954a0bf14c761d87d5b2458d6c4943045eb51907354d4319b58e44ef5d51511cb7d3ce50b3dd6d548f84ff699cf9d5e7bd92bbd4d2baf5dafb4e1e3fb113ca905ccebd71910b7ce91bffa5450e8c810082c030f09ecccf88dfedb17a9ddd5ea814091889c89378225acee62336c2bbf9e14f23626d4dbfdee332b2e38ffb2a35c6fa1d80861e7ba7d4e177b01fa45885d5e3117cdc01fd95c3f626eb1bfc2880c547040359f29726938367b622b2855f7fa0bb7c2eae7d306f07e73a6b9631df7b98400afc728e37a25f8459427a57ea993abfa335bfeb73055feae2f8718d2567f48585ca1754aeb6ebcb3782b2c31591e862c15cb0ae9bebacb17d3fec0fa98b1524e3ca7cbe53babeb32038eaaac5c6725053c90e7f1309cd96b657e90a76194f5db60a003fd9197e95231b5a2918289dcd46ffc2a80e7f9ea25abffd7eead1ae2f9d72cc0d72b11c37f6ed805b44cf0794e8294dc312474e4a1c1045e6cb346e60dc4a55730b08f52ef43ce33db3c7a2528dc545c6f8ca0ea39fd8c78689db8f47cdf0f121bf899e102318f6e7c46736d9403aa286fb2723d17157c3946b40ecae1105da9c0f7152251efe9ac2af50eb56cd5fce3cffadaed4b1c6d1bfff73f7fd91855c11161ececce78937fb556673b8eac4b478e594f42ef689f115eab15e938b8f728873bcfefecb7b0a0ef2ce6821a5fb6aecd9c333a0fb391ff528f8bad967af7fca46a6ddf51e33893f7aaed3c4fe9bb1367433fbd312bd4775e4f873a76fa0e2e6b6a5978da65705241f0997e7dd5552423d3fb00b04d94e30767589c98c075331e836b35422d5d777b272bcd115586ed0b9e7b750c218236d2282a909477c3f41f47ff9d2a53f82eebdda0c8533c9c40cabac1f23e27cc27b90dbfe00ba48f54ce23b1c55ee891182f24644ef910046445ad4e13d107e88dd4f2f4c0fe219e957d4d44f3a9d86a1ba6b86ac0554d5ff6cb726692a1fe8dde8453f020debf18344d451e5b748e524c60efcb9420a2310237aaa75e501f17532813c53b8578aaf989005f6fdd0ec93f5be145fc321d7e4eee9ea913ce03f65dbce5c87d883f7f0dff5f78c0cf4195ac5b5a340744a4d68d878749683bf90530890d9816d8bb14c8b49e5da64176265600ca4f19ca1478163819806cc4d0d9a3289dc4d1a358ad6d42414cbd00f196f2aebea42bef67887aecb79767b59214fa1916b9b0ac8f904e0cfa122d7d9346f448671bcceddce802cdba7a24c0a6e30e0cedfec3f4a37ee0207218a73882bc230c1226a98161b06c421411c6e90efad305f16fee9ea441789a729bfe55b24032d20d0e09b23aa0821320c4b338483c2bd63b742b05d611d8582b28742445e6871893e7f44c260e3f3d26ac3999d65aed5857cc323182a992fb3443e7f3c71fed1af603a86c8174ffee310d126d558ff041dbb94893f183c9f5a3ccaa69c995c1d97ac6abf7cf078de44ce958c467d38fab7be1319cf12c3acb997f663a0c94c645ea25fd32b48b067cf2a62938abd18f70ed43e288f5aae4c7a38372a279301adc972d1361bc26aa6649837dfbfbd1d38d6a0bd73493ed3f2f95ec15dcd23ffb2dffc3277725cd6db947b45e7adc05b32d94147464fa0fdd7d13ee829dbc8253803fcdf13831b13c955d3e5d96e73f18b40f9d764c89ec297dd314883b55c68bfa548e5393aef8410301a5e9ade6ba3b92f66376f14f0b6dcbfa2b8f0ea21efa6ba5b035b91ba8d693599927536b13fa7c09781ece7c010c27fc79e83e00b8074ac35152a62fce81c1ac35bb734a1addb4e9e2140d71427f094bce8153093e7ba9be0adf3bb90a34b655746fe3ab34b6d092f45744c10ee955a7ad677b760635dde93ece218ffe341337f59927fd981f2b4277dad00221495bfdd5e9dded92d2faa0aa8851b8bbeecf49f98e6f3092a7f6cb2c42ffa5345b59f1290f787344338ee6f6dd06a2364be2f694a26513e9aecc649ce9d26d23c2af2a86d66d33b18027c0a33c7dbea134ebb512b93d97fc31fc3104230927f330649b76609e785243a66a79638205aa25425c8e677dbf34a9af6794a4e0fd9298849d76fd6613c7eb8dee7580be4da015619c623b273db8fe63a2186accee1c9cc6c9cbc5a6163cc97bd3f3fc9d23353d2dec17e27637d953b98dd16eed8b512f61bd55d4abcba64550470b987c43f1bea1e49c52850a646308b27c257445ad85d71f5836db12994d76adb178583b28c66a25cbecad33f20110865a6cd3d0c94e7163f759a37b16bfc75f588e2484f74b6124b5ecfcd10c0660487359aecd895e13e0b55c0821d138f1af68337812130d3f0913414886a26aae1ea422803c3fca1bf109e84cef5dfeabafac9cf9c2a2900d2c3399e15950681b6baf4d0513eb9cc57ec09f9f89407d2154ea834cb30fe2cbc71a73dd952a7f3db91b424d31a801ad8d06ad5dedacf9664b4dfc260295cfd5eb14c71471cd0b35091a15c1594dc80d665158c94fabcaabeeb8ee368c59fbba5fda25199752717295fe8f03560d222446d05d5f942e95f8ae6c3e5cec6e4d31a867e805027b8a54f67e5a0bc7adcc8c11892827c6daec75133d22bf7f25bd19353fa54755cfc9262e9c57b77147defdc813c1240737896190c25d569f272dddc32d7757adf6aa53db0289922d173c87e9bcd40617e7d07b695eaaf17baa11743f5047bfe136b38ca9f13611e2bf92d58f210a70c24ff8341b341632ecac40e39b4b4eb7d001a25ca0d77beef75d7a4a225288ae6dd34558ca36129f9c82a2e71d4c118acda5eb8d48b59e9375bcc5220d59f691081efa3a0df9f626828075d51dc6b066922b91e62151448b491a7b163ecb8fa13bb1c89a26a5eab9b28bbd3cd0dcbe5df7b7daccb457a7019715ef5680947c9e09a17dfce8ce82b6c27e84b7f7ef50cca005c8db6de4c199b12709a764bfc317438efffa3ef70b681b6991489caf252fc2abf9923bc70c2accc9cc5cba54fe4867c070fcc172687c7d5ba966bc13c3d590d1ab6d45e2e84014485124ffb0426c0ce7f03bbced813e19724af315170891e5e9446bb6321eb8039ad83c2b99c8eab78b85d39875f5cbae3080149207ffc5541cbb5a86f5c996431b756410d82db3e88e5ed6f962f39b73b2398f772510459988b70afb1c1328c405c465583b9512bf8da58a0cc54866e10310048eb74b5090818be1872f3ab80ee9178164992cfe3eec9f21927f8c3704196b6fb15da5ebe7a35e1b3f4512f4d46e58d60b610866a4286b85fcac7969d902049686aa7c2a35b1ef1d7c96525a02e7f984e2c650258c5c36d0fb88f8ef3cd0dffe08b58ff1db59ff519c4ee6f5c97865a909cb264f331765afba0c2df269816ad1380d8fca5afcbc0aeb8be243df7cae474038e1af0d7d7fc7bd3c79154dce458e2d68d75921dc65795fa2dba0f5f58be586c410054ca4721e9f953f4bca9855e13b2c522f93cea38c8c8b72e13278a51be4dbfee5d05c39febf2429a5e576b15b320c192b5e9bb5639d94571e040de377768fb299cfabb307aefb66700179dadf25324465669053f9e3bd6c1ce5e9c8d99b428d78d2d35fdf0ab425c30954113bbb8d9fa5d8bce9e41d177668401b71802f24b4b49d7a20b4a3d7c6c153d6131eb8a58119392d6c323335b1265a992a13c2f4073ba0a1d00333d3e74f69eb15f2d9f866000c951ecb91483c4ede46ef87dad64fea95d890d67291a5e7323437716ad82466796e9d381417bcb51a18ba8131dacd468d4d8bc174be3d1f92ea16b59859f99da29ffcc71a52e0e154298a6a75bba0383074d1a77f09f59b9224e4847f029a1447569f7fe142b63c8800a70d2a129cf6cf668b67e3cbe388c48fea58e349e2839be59efff6fe8e2984d6dacc2125aab2b4207872f9b8940ab0c657dcc81bfb829907c8c232252a49149fb20d286fe065f0b1438ff9f3418a50ac323ca96fec415535ba1eaff38415beba9fc1a68475677f802952d506f17817286e8e9c3a3b20d6d797f2631b585ddbd662d5de87f5f0cc27ebeab855521dace3f7e925ff1875f6d44381253a8dcd1ac12b03541021c74b736be8d8a51ed6db8325b27a76b53c5241860d3d803a96535bdc315b381e321cb493248854bf390b6205cb3fd68e174c0d304ffc284cf45923611b8da93bd01f9a9d02f79063aa1feee5c80b1ecb7ee94bcd65727462ffe38e780539a807011dd547e399f3ac53a385a3b128332c92c11cc5e966393e0da09735cbe84549e484ee82450fb87629a8032c32ef7ee0bae2bc47473d3518fd4ff7929591478de0892c0aed34ca7490130d5e66a974bf820d04b317f8c5321b9bac5af25021d48904b62be041d349c7c65d26ee4d3c55be0d442747d3e37ecae4f4cce43b4750e39bf6d41878e887468b07e5168fe8b880b5822b42f5668cb92acb27d52f8c16c0b4ead4629e48fa6375049792c322f4ca429e7009a77be916bd281dec88a71904484304b1b79ec044b8c4871065103aedaa4b627e0cabfcc90bec029683b45b0ec76f8e78e00f45e223da8ce2c40f55f76afd2b4ab245e4205a2972b1b07907170ac5d782380c85496931d9fe4a6ec82363c3cdaca5c07a21db73873ac6e070a417444ab2e7a7f8c4ecf4daaeef5a80c1779de8f311ab9321a5507666817ef2bb48f85c956616cc55a0d50c64343bfb027d12966c880b62e16262ab1d286644799b75b23cb570d60dd315a8dc8a955d70f7bf4d5bacc8c174ac48989f43d9778f63495083bffbebe22e4f5df39ddb63f5cebc3f62cad7cfd8863816c7de2d6fd59fa02b37506a69f88a29a7fe546fa68c150a9fa9d9f3654e9df8e451e9cb7590b4df987a49e6aa6c2f71c1d8824907ed2565bcf47ac3534d66b264706eeea1937d7ff03a7ce5f9cd1e790f7f75c859a40e13a26e9bc020de1918b95893de86f7f90ef31f58c84eeffcfd78fefb557ac9efd791ab473d50133aa80488b3a9ad59735e8400cb9239d2f3e5d1b45823a3b684ed218b6048b58fec3aa6d4428fd9f1ba7999cb7b6526d435507c0ffa6ada3e617bf28170f74f9c4c417a799f7a1c0e41de7df11e3b3ee0d458153c44dce2ae508232f229ea4ed98b353e82f0783cf2542254da770108c0e49e3827a45ddc612ef975d24b0105510d88e30cbb77d1305adb789d667d985731c86e3cdf456013aeabf9373ddf5a18c45549b67abcdb6bd1dba803f5a3cf2f4f551bb6dd723832bf2de0768c581dbc5249d95b80820b71226529ac03c3ae7b665cec46ef6710855fef0603fb3a8f0059aa9e63d5146ef5c4b474d1ec303a95695dc554bbe4755cbe18d2a832dfc6b89669fdb10cac691cb4d80945662eb43717e0625f975518ddbaa44d175138749d69f9fcfc0b2438b621a2187b60d002add35933e1accd455978f22589ac19b0f0eeade57988073e2bf9529e06b73136580ea7494f6dd17ed00ade27820bde89e9d103d8decb08d529d571e21ab8831cbd61a08656c627518a0486dd52ec7d3634fca74510ad867a6c3a7d14ee3dcc6f9ea0fb83929222b52def614fd65a809ad22382fcb5279351f9f05a4ddc1b87f06165af7e66a2eee5a92d85cbe797a53f6a5863c9e7c8138cc3bccc37ab0c27cdabb9f21e19e164642fd17fe664d1774615ab00dff2442412bf261629c6835a3df520d18cf1cd389825b79296ca0d6faed99533786abf6668682b7790998c300d4d77841026b5af74683f381c5b989e313dbcf413e4b381f765494b22296a5746214675db49a361caa43bea2b35259f9a1c8b8bb2f9b51005a6a05792ea3c7639d1caa3890068e67d51a3d2f99034e530f8aec73ce4f218a82c342c72b43b8d6b3e1a8fc7403b9bfc19d61185f57ada6bdee7d8cdc622694851684318b9b85091d476c58696302348ec606af0ad2bc8527afb93a5af8c4b721fc018b32ff5b38b1c0089bb145c5550f6c42c2d06efc36f8fd0c8bc89e6edf4cdcfec095c950e05e0cf656f2c5753306bafeb8b2904736aa676acf293e27ab92a0653458e8547b3e868a38913516881dc43feafd40a27be599f8b5d2ced137648ba7e25a02982221c73b70d828ae19f0322fcd3b1441824e1ee02d2d01c76ffad490cabb8143a97f82bc32e4739941420b7b9c9b7102ff3b461ad058f58758ff282cb9a2b31c0b19575a3c6fa06d1aeb25849b62223fd98173c91954c7b1df7de0b7695bf922dcd021d489310838f061595239a69cd2a87a696e3bbea71ae58fbcda252bc4f08e05cadf9b74a7241eb705c0f79d0c930887f6cdd010c5ff5e63aaeaaa5694e09f157449ebf85a0db494cbd1cdc8e8fc3416104617e172c1e8a4b8d43240316c54d566640d6b66009e760d07dc52c0c7b000c03195a884523e97de23886e5881925387eb83ce388102a3e8fe58aa913804d6737afa7f9af18c4d05ec17bd83c7d0ff50252b878263d75fa40bb1b21f966c1e5ea1e7ffac303dff1274af9183d0872730fe7b7efe0cea7a26ac5980e0a99984beddfccd763b301fed8762adb8d77919c4368b8d2c95df7c8a945eaeb586c7c8e738de69ca78b267f65b453de4032c4536fcf374479e97c32040b0ab98d3078b4cbf58272af5fa9067568e6bbb73655aaf422aeed616798c6aeb00247e51996959a2b09750f0688ca1bdeedc223e241b5d98f43af61749b3f2488500a729b1539ddb649d68c35cf06c88f1567c732f5b9d6c54f6d1d03a13b6889ff75f59e3938543d5d875a2bb1553418c9501bcabc9ba13c5cf181dc6280fea8ef71d93149b030b8831603b32768902a3a26628406835392e7dda8f4186b9d5ce349e2e6f59c2179d4fc1a627a2cd3271cfbaea251d8c88c67e82ee543fbf869475511fdbcb9a33ddb32a453566e9cfe7d6e7c2ce79d10e2a408014369df8632b0e3abcb1bdadb173d9956518fba1537b2ce9b4198a3c9459d6438053a583191a06748b1626b74f0ebeb4814ece75e5864719057d84c172b60ec53643f3c654f2a039819de0054e83185e700516648e94973649fbb781eb6e33c78aefd08b21a2eb8b0ee84c6bc26ba89f8c6bd1ae329d05304cace28ed413244a60fd8209651410cf07fcba5bbbe39e810a4e54915ba41f55c090cfc62f47c310c445c4578fd4b69ec8a71a891cc03cfc06e4125c65791c8ce04a9b1b59ffc208869778ebd03703f929dc5de90ddfd81c5b323cee63b59721b05b5645f7f07332af197d135ea05631059c29dc7910e834f6e96e5097116d9c3bdea9f201775f57054aeccfd31cfef2fb98c85284e9cacba9bd71219a7fe3b8b426a7bddcfd6ccbc2cc51d565a18c4e9281715319ba22f464dcf2b581087cf54104abbd0d4154f2c16c06746a471c41e695b24dc8e72f481a296f78408c118178029c454ff381b6b1340303dbc0556acf397c7863417751f414316104fd792946ce3bf5852aade95c52c7cfa2c66157e93ab8d6e5c0b5897c99f34a27af3fc1399e2ff77382846cf01690d5a776f003021334014c393db89d9e091c6b73ca1d4c8a1d2c3adb4572c2f72f958f755a4509bccd835b27428040a7bec17e408ed04d9cdec4c325fd2202ccd28ae8183244aef08202d95e37be0770c52926deb9f16ce9354e774f1ca74b7669d3b74bff2c01aa42eb191cdb9e53ebf9d681596e69f92104229e77b3375be118b2c129b86be271c5cd6657dcd74c0f520992efd0ed8ba0549cc304f16423255ca16db19ff77ede3fc12b16df264f3fcca23ba3080a26708c33a5490c317a82c15812157d644491829f8db720f95096c85d6affd78c0052fd161e07e8d500475786647f1c625dd62cd85de472c6c352bae2082543d6050457c281930d2791eaa601012b93e4b8967431c44f00b0b2d68a541746c1fb687726932efd1ab0b5d21eb0b33fc66323044920fbc176720304d3f7235b5a84d3bb223e52d6dcf300cbcfdf9b250d9fe2383fb2d15c4df7215a0ef7d933dee6ccc55b86353ce14de0bcf070d90a1419171c07c3e7face4806bfaed6d00dff9a0b3c473abcae90ac69bbb380d7eef510bf5a49065033bb37ab72c685c0ddceecc6a1d01d62d97c2e78a416dded144c87dfc365de8e334fe5d0a94a0fe4aabcd4c0756a2fc5ed0f7d0e084fc69875241715b17cdcc120bc58463565b850402281c313b0b1c7f8bf235db339672af4342802c16d0c27e9575cc3837c12fdb80e512c340907cb8f157b0b6b4497d290a50c236abe15ed7a6fb606513d4003d53191a1c26e71b0184f1083e09034d8db41d6796497dfdfd945fc0be5e06faf81c78bf4e30290d020827c5f12094b18e3eebe9618eb69861dcef63b823bb65de56815c567de4b674d540503e4f2eb002e1e5a4216a898fe32f42e58b09b68a24357841e5cfbdd52a2c9f5ad8d7a5882461cd0b2cdcd6bbc4676dbcbc6418390e62f547913a059677af259dc283444e7c97b7c7dfaa32a697fafb3e5f196d89bc5f7c575d59099255128e6f9e8b9e5530f9e0941a71efae331214bb1304da9eb9cba3dee2fdb15347998db854279f800cb1a7f9bc70bd980730de5f1b616ffec0f70061737a72972435bd24359bc4836eac5c2294cf066185ca2b850e684320b9e1b791601e019f25869e0910d3966110a414819741ababe365b67c545b72d5dc02487c90b63ebc80975a77dd58ee0574a1f3e831ae237a134ac17843567fd42763c812bdf8a2334d8cf10005b9982be46368940d67fcf35b0a5d258f9c788e3a10b2262b42f2c5013c026c46352b30c7a2202868fa9d0073d378d0865e185808e6f3b5655b94845b240427e31cb1a6ad30456dfa448dfa6ea0888cc06245b9bdb190c7b0b8cef75f85652700d6a828f6362b1daa599ff910315b25bb8d65522d9e81c2418ecff345107f28eae79494e69b5a95c64b7f01e4230c43ec1a56cd7539115020648bcc9cd256e857ab0914de122269b0900c64c691d11c0e64d75a5fa093fc8c12575db8c9be7818764b7f38da8667cbe93ac6b3ae33a04127a701ae8b581d726092c802b11f8576d8983aeebbaf7b5cffbf10191dc61030524a638c42943366f79bd6ab9265b287a6d8b20cca104ff308768efe8ebb3d953903b2cb2087288554ee4a94f362f2440ec843dc1255701ca619fc28c12fa98355b13b5c59c48ecf7e58b07dd736f51bf12a3ee0684d0fcf96a733be7f03e0b8c67958532ebd2d39578f4ffe7c21f2ca81c9a3e1f2c240fac316dbe208136cb4128b7bb059084ef9eb28cba6e55cab2892c2733bfcbde936ac689f2a05cb02498befebc09142aad21c21a394e8b5ce1d23547f1ef1de7c98b33fce5dc9a77bfdedf076cae0f2f8ce5862f2013ec351960958d034e48c80f183f416e6686b06e4e21160445f13c64f3820e0209025dcc8a153e97a1265a02ffc904b24377ac83d65173630a6000163b88a3ce6126069bb890e443061becf29b9cdd2d843234ce4e812302460f370f08e92353610f1b2aaf16722ddc92c77a629775ffd013d5b098f08cb29ac4c4021dbd4dc4dbd3883c87f58c4e9c54a014b0180fb0ade13daa2f94440528bfa8d4906d2ddbc439926b52e07787845e5ab6fa061e35e1319ba4a48ad0fbc2615807fe5ec8acd019593dbc73dc752203998e0236eaa36d77204fe5b66f71d5755e121153c0430002ab6fac90ceba1d7c7701649c721ec52db9415dfde7a7aba423f52fd1f444e27592d66131df3cf7a6e81f394fec32dffc8074a2d7204a642c0faeee851f88330328b9c50d5b94c31aa8699124b62fb58f59489f946a2a07718b64942a935f40f1a243792d7018a151eaac567c3febb90142424b9450c7e1d81fa6d6be8f0b3fcdcadd82c2bb12f8108fd93e8149c312fd6aad63604d2c15d4fbdd8012f629a2bbe8b401f1ab23f91cf7ba6eef88d2cbd8aac9e8034d00220ecb772158baec7d46f037309c2f5a9c2ceb6eb63e14d3b3d8e7402f60d70d1c3890c12b8d0800eee5cf469f05474dd41a5f9f860ba6d7b134e7bcc504da13cb154d3743376fa80a726e6f5669e4e95768bfa0144ece2d1650dd0149179233e1a2ddda224105b6bcb22f5729b72ce5f4533362eef581a3a0a967927841fc88aacf0791aa4f271b267d2fc790a3a306e8213a72ca4e9342434683e5207b063a6a249bcf0c5fb53d66fec49ac7e95841ecd89e729413f8f89dd3ce4164c878c27971b8838b93bdbbcfe4efae962d34a60033b9fe907700baa7a2e7477f9ef6f809d81dacd8894d62b23643b37a01d32178c8ad7bb2ef775448d1822971204fed292f34d48347bf8b28b181f487c1d36580840cbd30f8bdeeceee97637ae85d0e2472cda9f85117219a7fa8cb7fe07f93797ffd9dd482f27b55636779604baf9c66aa24d79f7efe894eabd26f1ecb077b950d4ebfcf2809a9b9137d641fcd03792abc2edd7b897058c7c2c36b72b074776dbaf698a57a480cc591a29c89dde58c8a0521d8baf6b4f76074bdf61fc9b2a45175e8cd5a0c434b4442d87c10eefbe92891eff29438653f230bfc4dc93965e81d99359d84b88e3e7a0744f5e671596d9dff1e3781151a5c7551862aedc933be69e84fd9de00daa8b70c8e65df04cd05d3052c0a811efdeb2803244210f3079157e1d50e0079e0eb79394e837042696bef58c722018390f50dbb092ad23c33e64e95a988a49684ebc857fe8ff374121e88a9d9cbe660514d0c418a3a24d516238f8bc9ae148ffa333f89673ce603d01897f81efcca0b69efa56b06206e6314965968536c05e062c8743d6a292a3f46ec5bc17aee74b6fcb87faa1f233190ba6024fd8cfdeb4b85c3cf9a4a0c9791dc1210c9c8e2b12b77d44a390dc013859614ad341b75dac6844a2ea7e3ea158da3f1a9f02dd17c0536e89980a650c81299fe6902eb803781e02dbc7bec688b7691e32d13673350865a004cf866d9ea808a65ddf112ac369658c3f9d90ab874dbc6df936a7929bdfbb48dc878e41105bf48f05b9b5a4350a8e4aa8e9e53742d55803b6bbca0b12ecab7ad1befcc3520a53a90d6bde8aacceeb80db7b5631cf7ad8ac7b9b78925b9c295c75c1a3baa370c16ccfd6b765fd841b47041c5308c40392af9e7e149508641dc1a62348a98c8f0f287cc9fdeb9022e5d650aa633b87cbd5ee109fc0abccb6f58452f4050f9730f971e418ff9897a141f11ca2e41a7e6867d971006bc9fdd5ff0d720fde26ea509ef1b43233fe8db9d774fca05442dde0d88ba3f1379dfe8d48700f4bb7999ce6a149e70c9c718784078ee9569b6456b2535794cd5158a5ab14020360aa8b38189f33878cc4f0d9b80683b10cd05c446e82055774845b81461a8c921f3cf895490b30ad2a2462f791152a428d34704c7aba032e4790d6c8a26f38dd076d01370cb1702a3cf564d3b4efc2db6b2a6928ee089faa2f5c9566a0efb98e9899edbd676646204ba91a40b38cdbecdc53c212217cff0feb2dd2726ab32df80219ec4d1c01705b043d744548280b5b61dcc632c5d577eaa637ad8a00f37a53f39404a02cf67425746ce44eab8ae8d4656fd89ff701d49a399a1b5c09d63889a68138f0e60c4968c3d94c0b88303ab2964d40be47f3b70bb98920e560fa46d19c027798cdb27fff95c0cf7c85810fb83a659939aed7aa4834393b9247429e486377f05ba3aa79e540936c30ac7bbe8d903c5aaf209dd80c9febd476e95b8077ff165951f97637c592818a2a5c432de2308a8d1570e0d85cf295e0bb62f1dc077d322f0eaeaa35d421f99f65bf7981b2d7c72217b9cc7f769fd8aba6e17f7573f0698a49823eece77eb5c1a7830f7bd6c1d429846d054168cf5791083ae6c0bd9f7f64f7e1fb544133484c323fad264dfe26e0edcb2e2a4d8de5aa752b9aa01b4c15ec0cc53f4045a1e5149a0ed8db48957297e4bd01505c428e6d6550b4252fec146363f62da1ed81e2a01c11e25ea8cee8a84667a36b3c469896b7b2ce0ecb42b536c0fdd3c1d46d2c092831b6899d7c9c8f77c98e5cd751647a9c7fb7e32fdea1b0b4d59c9858d464d0da323742540403b6b33a92c8840bd590259519b127a00b87f708aa9063dc169e5aa621efb830db95cae72dbd99b30cfe9f9d0516d57403ec534cbe69ed4af4d6f3cbc43350323c1d83a1452bcdd3e66a6376b5ee620e6917168f2bc51679d3fed7c98e9aace9a2de2a7eb54fb96ab177f50af27e9f2e8f75df0e9c77fb067acc2b5f964dc9421f4eb1d8e98c7230590c588710d040d63fd653c38efac0188b8810f45dd16992b24308d1c881c4584b2d91c31f15eafddfd279471babfe6bb72d4c42eeebac32e32214416729ef081092ebd4ec1073171fa871514e404f18dcbe68dc2610912e34aefbc739b3350b0f9317b48f64aa805fe769e942db4eee9dfe2e61d162a36fc9c08b8e756a4fc7368608a4e2e52076e5a4c858d216dcbf45783e9c73593007cd2255467a7677f76adfd62a7939824f81e7c5e02f55210c3416f05efb3840883a176e939197a4f93f53ac9ec22b8b92aa75b7de1102afbd52d6d5f537cd2ab048f65917e839ca906ba1a141f30ff503ad76a977054e89fc5f65c5b7ebd4ee55abd2c6914197d08fb4a50a85c71363c1c90917a386b33f1f52cb85866b0198457db7390b916536221a20e55819a2d737d1fe1aa09fe056ccc8d603768c6bbe51457ec4ee310086ca8be31aa988ef8b106b4cb37e5c88aef2c51789c1abaa0d7ecfbd5950c15a3ba551fee6cf6c7eb31fb18dceb43b15fd4856a46e33f6859f0b05ba16280fc4ff925da15988cd0d01983c8f7923915857a1717599f1ba362b171ebefbbcbbf1bf50bc8f078a92f01517070f2d3e7487492602aef1b67b58ff3e01b3c31d3cca4c44e011404ee5ede3b2c41e69bb168b5f61036ebc1fb79aa4dd447043ee59033351bece6abc947665ec5d5321f7bcbd182d7b8de1665a088dfa4b30be7ba5a003873b9fa66e54fa8ba2f333e2a51d28885dd8c4a529a0157ba22ace06711411f19ec85a365c6cf2183e7cb7633be30bf9faf453c250bcd024eb51daeeec7b91d85adb8b08b677a5dcce023b35bf3a331481d55a3bad07929a602d9c12860b23b23ee93fe68502e58aa8b892ec2a2bed29d75c2ccf2a9497b2636f8a06e7a4eb0185071402fae3b35e04772e3f978210f6de452d612e7a1f77b2c65a0045ea0bb31556d4787fc4e13f7f57499da158324ee9b16022335130f88e0d70c2f578a336c5640cce31ffe4853ea696c5b35bb6abf8bd43fb15738233426369eba0d2e53c8c610a00d261655cb6ab112198bbb42039f235e76895c9c9893d200f863daef0c801a24b8517b5ae3bb796510a4c1635d65f496cb979137f9d24719e42ae7d32d2b26f9aafb9d42ef7d8d876387f493f2d0fc081882f010b564b25e87d76dff0fbeee9e01759db21488d832e2dc520d2be6e3a218db41d765a4cb5383b6417389c4a4a435b7edc8b93551d2ac9cffaee3098e5971f0dc5c6bf20370d7641f007cb2db56b44a72cf0e25e29fad2107b7975585c4d77ba473ba259fb6c9daf9944bffa0a85183666e71ab80700291daf993c382221dcefada975ddf116842351af6f457a2cffe18b2673864e947773f8f1a34ce9f2e4a4c48b3d6e17454667155b270e661aef27d5dcb28fe1cf3400721e5bdeb8b772569fbb9f6bd9ceee37aba9fd9971d9178c4b37701a80afe59adbc9221489f30947a77d297aa0aaf6745827055063d36940ddf53b7786b81b405137bcad2901f49b3d23c9c0f162a7c1d51e8452c8105ef7313d132852474add7a3616db516f0f3c4ef91cbbf2a27ae4b8628a88ea410ee2fde40f99258457621dd120a9ce5ef4cb36c1bf39df8a986ce5e7497d9a917ef53bcbf7e2ae620e38c55b2a105cbcfcec9c0be9f3b689a9b9de95ef3255d15ec2774146b8162ec774dd24b792b3568466a7d618b85e6c8fca8eb5444aeabc7c4c90f742adda8a07930a20e6dda08b7836c397bea5de5982f095bcd2b9030c43799860896a4848b88d1c1afcd81a0d82458b5f28a27b66d8200b2a91e26595b951862829838ef7d815c8470543ce9bf2b77c0860726af71acac907e8f6a207dffd0230795fda072a927a58da96964f08ef2c2b8c4d8ac2803db398f2500b4456aa484e2343b4b948eb39ede32856da1ac67e2ec45afab575a45e222dd48b3e892a5ca8caed54e3b5c4e317cd98eae96c90b15cbcd6690a40ab10880e130a9f50fa35ee489227d0906fbb7cf8b8ceafa95f408a3c56ec9c52250abbd8da99b847897eaccbc4d91590a823a0b28261fd3317677642a6b66d017eb874e6f7b173c13d8f01a845080a3cf3ca4e2b952b09ce9d0d9915ab60d9ae9c7c7f87c9689d4015d9606ff3890327b0714202b3dd96f3c28b73ddf6675dc6cd224c1c5287f92c0570932d0763e4b04729976896ee351247669efdabc5fdd23867930f28ebc6914d7b330abb10e5529fe3ec45555e2376f9721b40776249c7d568e0a96d30f97a6a80b8a7067b25a5900107b5471b986fd3fac7f4ed6d9eda53c4b6f3b72e4ac6ca83c3644c887c357e26f6068d2fbed30158d13149e71655c1856e7c72edfbc0f100df75afd9dd310747ed98410b930bf71678a92874493768a789d8f472c3056ddd2b5a68e239033a7ebddd34b4b4e900262fa97ba4dabc7a1ba8923fe952e069ab562f29bc8f9527308e3a0233a05b1f9724459cf6a3941faa63e0e0f6dd7a6d64b1b217bdbfc8e781f87334187b264796de418467d75d9fca3e52139a8118cab605f8d394a6fdefeb6752065fa18750206880e0e9475c170bf0bcdc9dd386e2d0644802262819554188378c5e1bb1f195140ec62c29c50e3baf30e0c8b09717e20c16e825fff4f06e1607b89623b4771edf1c3d5f9ea7b4f9b3f848e2223e9adbd61049847497689ea4fc7b3e32258c79138408c8ab9af725c29a59cc9408fa290639e8587a8005f9fd2a27a2a1a89443c547c98052d771b5d56b07decc517718111ee965ba6714f49c668ea10aa1f145dd7a348faf8c0d44504ef0ce05081340376eaa6c3ed9cc62da640cbfa2dcb74c0ca882b723371561ace9fe9fd27aa6c79be4aca2e52214034320edf1514320eaae5abc70809674118f32732c343c77caebec6f5f16684d04902ab4358acfa3d332021713fb1051459be26996f9b9e77e1278799665635e290f7a66925c5d2f680d92774900e2156e2fd8ecd05d2bae5ad5859600b97f54146807c99b090e6f94bd31aa619ffbd7cdbf8976c0862edd123f2fa7d4f6836bfb55ea6ed6753b74ed065e2e5821ef93a4dbb9651d2304f54d02039519ab37c305acf847411b2333d8c552bec29978142a924184a8c2ea99d9c7ea352f3ee569d4f0381fdd8d877de2407bb5b353a1b5c3399b3b5e68c2a89795965cac76d87540b3c20315fb8f2aad3401b7a9054807d52096dc9ea70353234ca007a8e64ddb2a0c624c74641112259bf6d7caf864538c78b2e9c690cabb4015302bb2c047414a93b8eb00e1a3f1ca0719e945e04e5ca61adb36c867d6d370e6e495079ec6e53ce32fc37c092754a9962bce5603ff2748332c29c41dfd46256e27ac6a62f5a0998a7a0409d1f91cdd6710103c2679fc52f8a9a32e546dbcb582e432ea11b7d0df08c5aa5514fe50cb1c31871954953ed812c9c4ece5c7e3125f5420c2d7ee5387261e713a4174635a3eb4599a7462cd1a79141f85e553f4d7d7cd28368527b45415d3ae7ba725f306c66c3b87a02154c7d5da7f09f52a5a03060c5bfdb7e6f815133f8b2544213c0a3fdd039d34ecd4a73f92a4aba01c9f7c608216aec73b4159302fed794d60e138dfa09968718dabb07436b8bc4339c4a3405dc7b2ea0576ee7276c12f336e34120af32326c4a695f10cafebd6b879a5cd69843213b44a6034137c8fe3e8b09b44ee9c613301c336f58dbc8e934b02a5dc4ba6e6f7612c0cb734dfb07dec2d8d0d44a229dffc7d94f45eaf3a61a17eb04c3c145134cb69652c8dd40224b3c8ddd24f905b1bedb1ab188f58caa5bb6173a03736a8e1182901f706c41b622126fd95ac73f590359f642dfd13da0b2ff67cf1f5f0dcc66d86040a5b9a4d0b706354c6ed8352e84df12d3b9abac18394c055c96d5272fb5dea4e984c006695d7325a3b58ca61ec2f4e6413cd9a5c2fbe518f595b9a66da4fc668040a63efeba4a8e0f1a8d528d6fe97272619de1d2595eebb9dbaf192b2abb0a18fa7ed1c0dcad554719e989df5c1f95989fff3004489ac941b57f4cdc57ac7010e3ce4134d468bad6bd9e2577879d6198b111198385af0f6d6a80c5d9a00c33ad4ffeaa681b86ccee99fd3456983775b4fe66cea9e36327a59f4d3d7821783299ed43f1ae029eff857260efa936c25fb1e11b299afa82b51c5a3b44462a0e549921c4f02a4d325909e669040aa9180b962886bfdbc8d078585e30ba2338c175d5ccb9c68662e5ba21b6dd22eb0c7aaecea4c6e76e060d571dd0357ff7124cb9007188bf5957f5d9b998a3a7cd0d7c2506463a555e3e67743099f4bedd505faeb3ca6c28d5b10d9710b112820dae9b5735bfef2d2e744e4a292ade1317871df74527f6f2c884e520c7712e035951fb62ddaa42e1c17abc592ea0141178b824d479c5843b712772452c10e29c93592a58cf03f4891b262c7696bdb9e835dca120c30cdc82fb7c84e38f2cdf7be7a85206ece25225c1cf68d18503b91801eb29c1a771d9aa7af47a2adff01d097c71917a651ecd3c1a3097d8f2245af800b22d6eb066a1e061ed91896a59e44664a305c82e4f2e96fe15c958967c01efcf1dd4b1878a045488e877c6649667573ebef50241e1709c304025af03b2abd45fdad79b139a2e969ca8155cc1c8cf9fa4d7be3fd287cc827b35fe1a877a392478ca5393a9b368521636c9129389e0da2f6e17a4531bed0035adb0988d33085e3dc749332071e97eda194e7258507f6b1c84a23187326dba41ada6ba849727462e6fe35192ca39c6cf6934cd0b228c6fdf620f45137e1a03537b603ddc622bf8808e36531caaffb7b81c64e946194864ed32e1fba9069893e3888513e99b81ea7544a4fde7986f8d4f7692de55083c3a4350741b388dc5e07d9ec5811d6a426f42d9489883fa8ba6736aa519275e30fb14968974e1987ef2ee2e656beb76fc6c4209a1e458faebc036f7d41e6a3455938d9610af75641f6cfa01664820122578ef6ef4dba41119a4f8b28a8029d6f77a0a0b36904877a7afbb0040dae9cecdf40c5456c6ccea564789604746a49f683966d078e3b6789a0a7fd7d51c2a496bd74711455d4bf5cf94593e35cc874a4d6b789e1e43273150b05a61d461e1ed70f79f691f60151df21df9722edf7b0134e7e906ecabc65d1e8477dafafcf21c896afa0f0fc21d9be6c9cfc6ad46bb077b1ef80e2e6c2c3eddc7c9e1752c9956bcba66c2a7287e22518f61818b072f136ce3d50a49824e7b31f6fa4b4f88d1002cb9cbfc5c701e57195f0ef59d4779ab7a423e90bdd8dbebabef6b0d25f74bb00c8aed89dabb1b57c6ea38acc969a95a0e5ee4fdcef48fa6529d1ac0c177ec2a49905966ebd2d7557f19abcd473752808d0e747930dbb2cba6a5eea8a2386ac6234b0036d94113059c40a2b264d3894fa25a672fb4da9c33bd9aadedc8b51b54300fb2f56f7844a2da391a3444ac2157183fec375043c9323d12b263e49317319338fbe839a8080371d92463295576ddc8e5241997355ee6b691d087a764a4f3939a9c71d8735e72d93c5b8a1dccaf09fc72be281d1a063b4e1eca2909c599b03373bac5fdac37836dcb8e683e6af1c5a091f09acbfe3b6df2380d284eeeebc81ce920b0e310c057bae8582ee1d468af3e98817eccb8a1ede1274039b6723f961160b8299f03f5e9940b22610c90c1899a150ddecea552864a6f3971697135b5af07fa936b030a132d161b6fab708bb682c92bc7b30266a1f6be814aaa8c3f4c3eef0d90e288745480660b5ca46eddda388477eed22d69170126850ed267445ad2f740d2e3d06c465e5d61dd391fa2d003a5e1177723ebb4238586e37571c3c95e64253cb1f3cf0758e0cdd2106887893bbf36ede53ef43105011c4101acdd111209f41de5c14b34f21bebcb46097f6006ec7f0f1fdc8844133ab2710bb4bba8e9e044d709e0a61ca25febcaf3b4cac1536cc1a9f22562ce03a88bcb9adb84a7f7d359e21c47ebcdf73b4b16153d4c3bf3abcd5ef24344119d1994d141bbf9d9e69ee6d26fc3a66db5cb0f515ee0deddc35bc71656831f8d4c8c59cdb9783f03c4f3cffc13d308f4b6e973eff88d585ab291b03380c24a5cfaffbdab17c32c706e3a529587df15fa789ccc42e35361940053a0c0e21164da947b4bcf00ee0adad1580918124a3ff1eb721294ef78cb840d55214fa60631fa2fbaa05672a24c296c9b9e68e40fab4c8fb98ebb902b11983973d24765ae89b0cd6719ab268d5de949d432d1b088bc343530df19b750c9db177bf217ddef56d8cc8a1d0923d41f4d473b702d0a60dd87cc5dc3e8805e6ef4e965e82059e91fae04e0f6c3ac2062ed0ac3b0d5ddd7e1a4972fcfffb39e5a485b01ee697e40aafa3e3187f48ce558a1d59229fb7d3a5ddc8c242f86e6dad9c41da979c86163cf139d934a45ab4b6dc4decdf179302667850ea12ad0055051e5c7ced9b237c3d17261294e84479b8e78f2d9072a3ece903a9364a56b76130ef2a3f31e6ec52d0fcd2b6d7e135995c8e02a765d9e63b6473a734e6267354ddf9aeeea09b68cdf2ea7a533bc14082118d4ebc48fd710cc5d724a9bb4b1f175596697eb644cc6408fccecd871c801907e6965a3414727dcb6854b994f89894a68fb91dd75c8526de9aca57f2bf481e20e8689481c5ee20e2909721a8903b7ff3c0fc3d90a3fdecedf52919d11934f2f58c9e8349ef2cf1eb743ece7b64d5302f568d9c13d81962c7efb29951ba6a759f133774a23793e4c100e8b5c21a078f4f4277754a3d0af1081e90e3eb59dca03da7b958b05eb9bdcac44a6cceef711322ab1c68ee58830c88a5ff0c782384e82d31737cee37172a8d6189a932a7ba9e9d693728dd848f4163f72d773718247ea5f8a6716dc9b244bfa8545513c00282bdb8aa64e5e9a23083b975cd19e95eebca53ff030baf6f65150dc985a9bf6c7f3ead8958f51f09819e422f15a2364afb91d82cc6192e4ce77a5941d6a3b613a6ea26ef3c46acf4083bb80ebde67823063947602ac7b375bae4032541e6d6895d130071e9511257bce113fecfe15cc62d1ace5e3d6e46eef4b81cdec7c8b4fb19fd6c9da68a0a38374aa56cddfb562e01276f1dcdc93513a32cba2bc8aebc1f6da93d79aacb08c7dc774cd7f3e7e51edaeb052d46ecf8d4d5a5524581d537b8fefbc6010b37d65a24d5654ad28b20018652508c39b38ee4e74d146dca0061805e6e88b3536a87cdd6f07d6205c20921af2de65243161a5bb41f92c4df74497e3c189a732227aa5d57c7d3e37401a15a342243b07c2a4b44e25600f239596d3d9fa2afae6fb34af34ceaaba35543d9350ad5747cb2bc3b5c02d6cf6d285b03108e5a23d23de0965f30db0aa8b46287a26e6451218c1a9e677baad1d9a152a4af88402ba994beadce33fe393b6ac3b3ddd4a9efab8640f16a2f0bce6dc23c1ff0fb71acea7568a99a6243377dfeac8593909be28361962f37f29688b12cb817de4b0613646101daacfd14f7779a13f17a6b497724a3ee15447189ff06b8ef8bbaaf0754f94f11a65013836b5d0a5f60e9fc7067d3ca94eb2ee2285e7f77161df8a616c8c41eeb30f420c41899e576795877aec31a93b35378f91a6e02091b0f6dd3357827ed92b5526ab5210f34eb1df27979fc062a4060027d6aa4b92dd173e9fa3a7290f851ad90449a629b915704d45d398d674bd175658c8fbac8accd5b312cee8de17f7ee576251a0bfa434c583f5bfef49ef48c14c60328dd62206025cef73d8f9d777bdea59a10edfa03f8772b8204361b2def3d29f7cbf626da86b34a07e45590fea70a97ce23d850afd64e9206380f405776c63953ba9b915b5589f9086249d3c3debb8df516db4d6baeed32fcbe0085dd4d437c4f52744cabcf592deb51c788cb522085dc5b7018923a23879da320a78239213ea4aa200ed253487b3d9abee88f72ab96b1fd5337fbc3926dc39766c5a0540482e304197184cbb43c683bd21de7e7f37b23eb6115ce2b5e8f64ea1d715b7f7d9bd2138df1ece8be014421aa6b8c898fb79f7dde4c32222175ee0a858e2ac465a014e2177bd3781e7ef62952f86267324dcfc883e127e7283501818d35e1f938c2583cbd91f27d0de5ffcec34db02944e37a1b0075cb1af187168819f6fe9faf32e5049cfb55b47df851a2146f4b8a5d88fc193a041ea551285285c90777acc46675df6be9e7e06a39ce56219a17d1b1d98d5a655620446d1542aadcc928209177f98d7ba4c638bdf3f9226c222209d3133c0ba3311dde23d156ab900330d390afe1f93787576475df9c50f54ebebd2886ebd10efdd47d864dc4b28770308f9a29a77a58ee7eabbcd550bd76b60a54df5eb86f98cba8994334b30007905a8590c7addba96af0d73f7bac35210430a445d7b3c011fb2b74cee04119a0058f332ef65be20fbf6f84f98e15fb79dcb660e67bd5a2712137e34be706583b08fff7a3be0120005bbd19f99e1a05851229b79e7d2ed24879bf69b477e2041ad4df7f322158011c79e24a6be92eb3e4da993f51a1d60a306696767bb17ca6527092112befb211d77669b7becf53a467bcac58360ec9c6e3653c7403d9c3d500af070a0969c232515deeae50fd1fb681671814be4aa70dff86f330aaa25b0dd395a34ec90c55e13790b12854886729913f2924def65e9482388f2f14f6274866549c43aa144f8a70ed3d5d796dcd3a2284e28576e97e0254277576f196f7b4302de726a2078909ce70538341fd0997c1ca5de0c68ca0addc535253894160125c362345ca3e004c46d57460833e81c78b5cc8a6a5568ee11c1d161ed204323b929ac813ef64e01e93c34098683cb8a681c73cfb0d38c75f51e16f0b010c8259100f3320263e49cd64905e7e99cdb15157799aed96d0d53f6150993af3479a4e417c7e1cad671028f2d5c3cc7732f27a94b50228ef4d1e877abe9aebc9984faa7af01e56339eafcae0a4a3efc9c63fb96b4fe5e377db90cdc9aeed99c9089836960473d651a6d86c5a7a8557af3a4ac8c4fdec1a9b39a4841d394766a267c77bc7ccd4fa15ccd54e26e692d6d3176ddfdb9e31a7ff1da866deacc0169693b7a273ce5114fe4e6384b30422ff66e3c81902c6263073fa20c8f68ebe5d7b28d682b1951fa61bdf650673b6a1ded41eb19a175bb35217e5a095fd2215cfde56991fd4529f46954fcf5944794dcb4075bf398500fe47f2ad28a191de1c8772e116f78b380118d41af283c2ed2fec6337a4e8bb4b10a13cf2075c7d3b2e06ba93e4072afb69ea01df21b35356e59fed78912c8305f8c9eda3e1630d86d6edd407c8c2627f284084054698b972652275c29308f730870b121cd574b6cde06e81a2a04bd988ca698908ad1e440010459f9a0983fc702c6dc5c30d838617328014a8cd8f891880e86ab6f38d5aa19ecb2b42ded698bf219559d2ff7893ecd98f96385d2c16e5f77cabb3c85a5e62c9f41872ed7762db36e0756eceb8581ee93a725f7c397cc98d8c6455d0d769f2600e9aa6b306a33ff35d4e1e899d2f98842266b37b0e9e0ddb911699365b9559b89844b4ca350400451ed1c413e19f1b38f5378d35120c8de0c07d70078b8a882b6cef00ee88dade3ba380616ef12b3a29ef17b2c9a96cb87f563cc1b5211baae7100a9d7c7509317ca02d5e4be34298ac0aee0eb92343ef8316d6cd8c73b41d38b87fd2381c5462a842c864fbbec452bf77a596b5d39a8af02ec59aeda5c9ccf06c4a1b5aed7c51b1a76b5c83d3e9ccb3a9dcb3b3c125e8477972e1aed0c28db8e28d179f11d861550c8bdfb6f27f5f67957e6cbc021166828a8deb69d157326e787dc4e238604aaa8a9b156d07b29e13611fb13be90e54da9f49aca0c83266220f9c064df20ae05e829d809e264ef1c32117f5d9379a7b5f4b4fe99e56548802219c12eba4a5fe93bf28209626635dc7ba8c394fb46a8fa55cc86649830c17bd9c64dc63f012b5862ee355fde64976904ffe9d4d747ed17555980c7ac4d675c3b75a6b7bc2e0e0409dd10bf7d8105e484e4c6f25fcb35897dd411a0d9ca6950fc22395b191e527e52d9fb1d1590d5df55d1f9948071557cfd521facbaaa52d59d3151d43ac89ed810e9a9d1b5160d3cc07d4f9de534fed3e771b22ddaa978641644f9f47da5c2b0abde353658bb17e627a2e004256a0e94555a3588ec68c8f4ad66331c5b0556c7a028b94a76c357ee528220875d85355010932ab687e5893348a37dbadd937095b050fa124abe54a279eb25351e9a8ccd43658dbe9c5903d4b9cf819e198604af24b204a6cdeebdad3f42a38793ba0d9ce8d5972d706f796255029b22e51b98ee53353cb1b326c672c88e8f6d977617086ffbab9a87bc69e430d94b14e378eef7a56faa88748806f6ef49c6b44273d9a7158a21d031a6a40c75dd5c26361db06024d82aeff6ee14041d831db4f76486da7b36bc0b645fa99feaea01dc19174257a6936d55bdbfe2ab7abf8463ab5b61fc1d33ea079c1ca0b33a51b056e0c68aa6ff9e7a18ed21f448e4fe0d5d0fc7946edcc8212eb04ee43d2ef973e992ddd2d7a9db7dc162fbfe1fa7bdcfbe569b677820f0e6eb1c2cc3b3f3f0d6eaec8d087f6632d8df7fa40ba11fee15cd4cf2eaa17685ed2c529cf8ee09284b5e1107b7168500b436e4e0518e9fd485aeea797bc2f751e5afb1f14b4ee8efbf83627bc7d23034898367a4056bba8233309160fba39794685418711a952735dcc650cf875b6e2f64cb895260dfb046163c33ae2d59873297eaff0ba590e824b52736ed63d8c8ab4b2aff766a41d0ca989afe980f65cff33256d2e2046bacf7858419f6b87b98b5687e8c0e8b9472a6562e42e93ba096c69c5c7482083b6e87a1c97b16c92912414a66a92e606f2c9f10531bc4f14d944c266e24053be4b3cddad0b9a626861c1109acb686eff0eb23248cf70ff8c2780099fc8e51b75bc474ed03d35f276c3e943d14e890cc85a052f2686e383c64f7427a04bfa1aad3acd7e997077ba9b7d2734178a5b418eeb9fa2d676c12fe70798d2809834a2626f75a7db20fa04e915f4f4dd2306228b9b39df7e97054812212758da9d7892d1749f668fb1cdff1d97f1fca145e5db5d7601d1ff768f2f98c06c992c30c911743c0be1a7364dfe9043aa1529d95baf89d7369cc8421e2507a769a3ea79a454ef5bbb10149366a811b37902eeb5e3ecb0520214d367c285e1d08b62327ebc1004a6ae4beffc4f292474f9855e743ca3f4d01f689d2e5d4d6e6721d99254a6944e9088a944ac235b2e56dfa71c858a69161f479bc8058e5a0654194dcdd497afb212523b32fd712afc42e8637c0db8d0b366fa1d60382350cc4991e51ee64e1e7b8d33b5b681e5449222b12087560f65942054f6117d2a5b434591761580a61838677fb423fabceeaf2b6982d5c8e5dda6c92c7ccb0e70f7033ca07076b3a0715becc5652514e965f0f1874ace6b896d7b8cb2b01a9afce236dd7b2e1c459cf4c5ee182086d6dd7d056c09d61196187d8df1e84992a836f22b5eb87b5244d918a2962b54b885930a802ab540f28cbc8c75674c5f085acf9bb67d709d23790d7f4338ea0aaf422f7c592363514f1ec60da0aff348ea2a68d3c53e933c67e426d5a810a72e8dca853a4ffbb9795e93de2191b0aa76ad16fad3d6b4021290cc2b01ddcbb8c76c230e119748fe787ceec13e07aa374a6054aac16fe83d96d0d884da3271ff90dee7b4f9605ca9d42efe43efa279b849f232c96aa77e325c4602adef53ebd5717bead72ada3214519566a0a08bdf0c50df049fa1faa8a0b09c4fac97127fd1c9c97dead51404d563dd614305cf95800f26959ffcc0ad09b149c9480d197cf657958ba09624606ffeb37b91585d2f8118c0587619371487600b17ad4d946022fa0d522a26f2bc09d0309f3dbe0154d5b61360a632eaf51d94920ed3897eadfc2b46daa58f8fe536e2639b49c15336e467177aede90ed7efae9fc834072775b77c2cb0b4e53057848a3bdaa6d1fe3ec478f99e055222dca70d67a4e1059d26838aab09360bd6e89820af72be8bb5d36a898e2f0067157abbc70002b3f8ba6ded44ecad8c469ee9e9d20c105a6b58ef5b298cd8a13cd96133fd26f6663785b9c6baf21fd4afed288486732a82ca099de9593ec44cc39f68a8b7bbbd39d97dc767ed1c410fc59b08d4461cb1bd05f21387a854389930da928dae907899cf818203e769578aa5d07a895c871a2a801e6a64cdaa128877f9347d08d172a4e09e92cacdf46cdc12e4d5c57ca88dd9e5628cd1dfaa357ea40864fffa386fc5b7192a972ea6b2543ee304f46f64cbad9c010c3359e41be1d7cba02c377e87483eeacff9aa6436027c6cd1a71fadc61b1f4a07828928ab554f9847dca7f9b8cd528fb45f681aea93f1b7eca02948a83f00cc70f2f64cef23d803b14e4425b24e34d9b775e83b5ff3bc0c4e8f28c166e986588528a5c884320d1f170ab904a7a7f2ff2df86d4cfe72a606b41d64887df56e9834e4c15387489ce959f3a21cfafc967873ea20a2bf4dba9ae18ed526db679263d4cb3af12b22b72ae831e8f5c45406b2ead848650e8d995d471b1c44ed4381e962d1460d21f733c14c8b8ed9df702b243eef8c6aa142655322051e3b7507d9f6e0df0fdfa6871e8dfc9a2204519b7d5a78fc04710b81aa4248040b067b355ef27b4fe3d17f4dfaf1c57a2a2c50662f3c54ccda75ff3490fbea4d50dfb35bde3a71942dccbdb89f2ab0620edfc07988416ff60bda53e894022661a060fb3db5906d03fbd78337b4b1ad368752effc237cc9efda0bcf539090d1e1959dc872b4d8b941aa386cfdbe10330ae4f40661100f07ab15a15aa2f8032726ca5087cf4eb9c7140f9a81756e711fc452790525e989649d4f60f617e29017700d8e440155d48a81a26069d961099ef0396cc999a9ad2ad390d9c7c9307b075367b8c24b74650b3ae88436bc2b0cf3f38a4f26587caca2d4daa4653e912f44c4ea9be887dbe5d1fc594891a910900ecb72ab216031e3bb5807ea29a9fbe1b3a409a996dad005c17047208304e28dbefbcd132cf15ce61b4d8a9b3b576b5a87834ec35a68d8b60104bf75deda7ee3684519fc46b9c9b2e506431591d4fed4267d6b4a6a3679d37e0933e6478a3824f8f54985199662db73ffec97318b1ed22d7c564648ad3122b53acc6993406bf33747f233944c81ada655855d5ac3956709f9ed786e05b0290e8808294dd1fe0e82edcf737e2fc11cf99c4383d9eed0df2b6ad004a90262c0e70d83f8a73c4d1c020168ff8e6775da48bc5439c351e73618a34eaaeb330d080a7c54ac3af7604790d2e9a6933fa19cfa9cd046ca4f29d73e4bffce62f7f27dab2d237b10bcf99faa864b1db91996a2adefa582f51bf6d1369b8109551f3ca93ca0323b6995b48c99aac54404e63825ccf519d317dc73e26419a148b60edca0f56fd1847f24c87dfe6bd7631c5ffe3d154b1fa9b0a5027e99872933d42c56883404e73db325ceb7643cbe37e962bd98b4c10f939f467b81cc5f4a2a9278beaadbadaef448c0c2443f99abb7d3c151dd9b2b1357eaf84f5cc76b2dc236ba953ff98e3405bbc8731b54fad1439d8acee40f4016639fcade31cf0e863f5f7d8b0069e8da0839c628f059e62c371f6822464180066f382ff54837d0b1448fd4e4ecf4bb6de82cb8a6f6d35a777ec90ad06f113f33ec9ef6079fea9d32cbd206d2c668bab9a5892ecb13840ffbd2fd9da752cb7c9bd0fa15232acdd9f8bfd27a9ebc9a2d0b412a62a7e48a08e00872c429079243b9b71430cc6ebdf1bc3d127d889d9a67fbc37b61d6054baa0b86eef8f572e759edb57305480ce8635729f6e752c1c8949bbe474a77a328a93b63e354bc91d9769cf3e0f93c1f25d0eae0da582a042204349a6c77bd67ac32bcd607b964941c2dc10dd442281a3eef977d4764d2829b6b5dd2c72ad5882fcfe771d217d0f310c417b2685e0b7a2031dadd9e2383a741b58012ff2b841d86bb3c32b3d9464547fd14fb6c0da9f9025f74e0dbbe4648bfbc55afb0f0d7f870749fe115875c62d0a0d464a9b07885363827c3a31512f7c291dc61fbebd38f005bcf7c35dfed2e106190edaf30289bd6bfceeaee7bc6d764b09d9d3da0eb2fb4a67baab8829c4abd14e61da2ddfc8919fc11dc47f5d9791d42f1bb664461abd3275b6fec751a3603a006dae66f80e190a269018afdcc70e17fb5d932089736771ceab7091d0acd6190869f07b9427cb867c31a712ab9a1459ee909e4ca6124c962a5053b74e32bf2df1abdb6dee290fbab469e6d973c99262fd194a1bec9c668ef116c870193236816550f013dec0da47ab468e774237dc7de1d608de8d95ebfa32ea6add66eb69a9a47d2dc3e3f540444cfd888d802e35ff50d397a5302aaf5cd14c6d524c2a36362ded1d536472da59b59378f69a52e3c8dc90f5c440b0ab0b69eef04292c1afd5ed441314cb1d2e8d08d412647cd3989a2e37ce21867909931eb84ed01582f1f33cfa08f8a0f870ac3f219a4ae6b92aa346767bc0288551f42b2b9d1df704125d5d4b98918e3fbe8a4814b0650f58df20ef5a9765b2777fb36d71307429577008ee9b8ea876d82e82a83c14094d5f48447fb637a7157ab5bea0abf2af0e69d4b5260fea525ea70eb1500554eed57d103168d9ee3b73a7b69bae1abd7ce3533235df12b69635ccbe7b3777438ea259c872a4c3fcbbf11e78c36b2eea4eb123e5c7f99b0448c8548fe274e56df6762fbd5702a46ba60bab6868e0cd426f1a7db6a25a27f1965b7414aced51f2e8004588e2528eddf808c55fd4f3b7bf1fe15ea2493e9bdb47a3da0b88f4a4a8095689b673e04814369063e980d5a6bbe07fe23f0265087a48173a4a318db09cd6ea96309cf21a1ef76386e99a29ba1267055ac94c3d96a0ae5758d132a91223a49ad0ffdc8b91c15f2bfb16c51e7d77fb5bc1cbaffcd07d64373a0ff60862e8805795b1723e7f58392c5f12e9dfaef9515bdd9ca48c3a6e53c032c20d10f0cf99495beff7dac567a66c061ebbc12fc3f5e4a4ac75bc170168c223be56f42b4e09235c9f3032b34e3ed94adc6714251895d82b980fbb708d1bbf4ed59300729acf69bb78bdc96e1ed80640aace5d9943dd8fc7cc6a851af25463c284fefcfa153ecc3210604ec7afe75a18ec8ebaddcae75b748a7a58b77817b7ad5c895490f13bec329ff1a167ebe2eaa999c962b9ecca7677ac016718af6f64b9a743249bb9dc259cdc61f26042e2622d0059905ab08f748374b1e6e90d252df96521e76a5cfd5c1889df33fd6f3d84ee47115dc69ec273b1dbcbc9fb95274051c66f8ba9f038f111fbb85fddde01789bff848a7a0b9beb1b007943c4cb25a2433864b26b6e52977a9ba41c421ea48015f6baf0e91d98f939abf16c2cc394a55acb1fbde2e72340581d1b7d69d0b047247d1e16ec1545912cedcfacdae5f67e8c5a1ade40239e6ace9405bb99366b29e3ae2240a2c2afa12f41ccad8d347e62d57cb9c9633034d343f43d1bfa6ac8a266a9f8d806f4ff3ae08575fe6ab33d28706a04108687a7b0f65400aa54f48b97266d63b7f2ee45c93d2437f45716b19c0cfe3a649d7619f34be9275ecf389ba76bab25d022f9665896501e1e1d7222e9df81f432f2eff0417cf0e1ae34f79975440b54552f48e3a81e93879d5da9c3a3cafe06bd94ba991fec47c26ac6e4e6f72e17d0374ae06c8d57ce72cdb7e8afb1a06866be218b13ce57fbd4f135612dceffb71b24c654a2e1082934cf7f34ea59c62809ea0a1fe9132399a3565022368d52f76930aff26a552bbf50b17a543692f7d3fefc23de5475927193279499a99825c74fe6c1e7ab81193f34042e8e1deb3dad9d549f7d1ab2e79fd6769229b73c4b6102d729cfd447aa3a50cfc4c02aea8eb50c4f60e582b9bc265d4b3c4e8d154552eee3fb8a68b49b82f6a3f4437f2ef6e3979d2f6ce6c7248a8a4b40add0d6c0f2b30ae7f2e7cb19efe0c1ea2202fe47ac7a9f7d9629dd06605bec81ed3eade9ba49d8bf7a3a0af0fa4179b44da6a3d9c4b3b3655c9a4e290c6eb02aa63a4559d2490652235f5dbb11205693405d93ef0df4fe29f97545f3613ab491ff312149fe7b102b7d83f393388248712e3cc4e9b1ebff1801b0c74444faf5562b82798fe626f7dbb0bd103f8bff7ec6eb53a0d6fedd455bf3d7d38c60bc605348e1c6bd8644248a557c3c303a914bfdef095b7a2eec2e77cfb1109a65127c6aca8e6a82f9057e52b650e0e33fcd7c1bc8528b241345856c097e8873a5dcafe8112d1ebd418465c5591a7b5d07a7c0d0c283f399438e1a28ba6eeebfc476e95a87f861654a4e49bc1e730ebffba5375f7a87d645e7a4588f91d009f0029ed2dde5479c3ede464ef6dfef99c05df01d457c3ec5c4b799dae36bbc6c3fe754cea5d8a2ef8f904fdd906429524cd3b1be012665c2c08acf66156838b0ce3b30ab122c05f3f4d494a20fc18a9cfc8f2661ed6e3cf5ea52afbe3a4f4d65ff43759f42dd54234441a3fd88c89bacba413820cd8c3d4ceba49235bbe9baa6075e0f9ec810157b63f2bf00c7fccd40899bd322b18f463fc73465ea3835459c142cb2b2939862c77b7add066ba52334773491e1de374c4f9a41db16b0e47a62f0e606971768fe4c210ff1d0c88ba04718242fd962787d3a33c6cf40f116291638b0c318c4f0306c76144436428518d44a0bb4e7912720bc8a6f5a03e1bad583b7cac2ce3c732d896bb3f22b93e17dc86dcedaef179dabaf2e195be3c50be9e1881dfa8e0b25fad2ae8503e878ae5893d1549dbe9da82266b18e971e7b0b5414477e42c262f4d4e634143a6f8cce6268b712596f94b668091f3495eb54715c16f904986aa0495418aca9fa623f5f90f02cee9b6137638f6ee4965a09c372da5f7fec4bfd8c848df54e0c1dd78eba996523bacae8cb9ab7fe8af59db207a8ba5629ec976ec60792600cb3568e0582cef46e6bc6c1d4a080aad75381934fad3515b373156a9e2b586f5eac10ffb9a8b2325eb1de35a4b1a5713b8b338741954b3fd13466cb0d4afeafdbe02200232823735d463c5116e38b908195baca3496664eaf9880784dd156ebb3282250889e1697e2412cf84f9a5afa0cab07b08133d60ad554e6e706f5f580378ba36c6dc19d7866f65981bf877e0844dc77361c00df89d5b57cc59113939a2da49b623ba33756f61d4d04d6022f19450236929f219f3ac58e882a5dadf370792245ca86077c260bb15dc08f5f21b9f6ced45d5b0e8992cbc8d7e01d834eed8b9ee711d79fa73be494b005777e50b2b69cf2067798b3ba3bd71b9e0325fba52a066c6e5742f0e33e2bfa0ad9f0d19bf73c4aa194a501da60b0448cba64c0b811221cb727b6b966cce021d51507bff817dec83e6655aa95c1d95e0b12476df7dbae6e40313cacaf95dcd2462d3cd1e42758ce4ddee4cc996fe8db112217acacae6430aa573240f70172f3c9bc872dcb5926dd3eb345ce688c5f0f8907fa2803a32e51b753f23047d370a65d89acb3078c7237b3a1b2aa596e0cc462a32a570a70d9f52ccb85d3432fc0d7043e74ba6dc3b7ea98f78376306bb418df40028d73ae76166547e88fc07565fd75fd2151bffabe34e3c67b20c6c64d7687ed3164fa01ea98304a4ef9ca807bfc479a0fb1aa2be4e3770f3beb0e18c0d37e287508ad9a3acd5bc628e31dbdc13f103d000957d94ee6e144cab802d0af58d0488efeab42d82f75fe87834fe6e446756617075a851f7baa90248a0289f828ce867ffac12e9ffbaf716b616d6ea624e175f9320f994e3e298b56cff9436f1ac41c86227dab65726ed63ccf5731e85ac8660cbdbb3fc1ec75917ddf645daa719b5ec4b63ded3f45a1331c3ee152afcb069f82329829148c6bfa892c827ec6d1e36be356a357d00f32d29c1bd705b69abd6a13082d7e6b1a3403524c8662c80a411b498ddde7840aa520b8a178f9b98899e074e494d4e7049ad2d73a73284d373490fbaf8f8daf10ce9c57f6a6f1d0d7ba25aec7aa58b20cd06ac7409a1612791d86fac4f085373e58d3fc9ff99a305ded0ba0f1a7f3d67774dc5ef4719cded5f2086c04348c3d47bb78b1f07a32b5e7e33c52d55fcf40e4cc387b6678c469e53eea988f8c1970727e165066097f4b8685d58a966d65e98b54d1d3562642418e4d4bcf7007affc8382145e69d12c4ea6abf2067dfadc6385b2e05694ef8ebfb572183f3e7409ae92847514ece8b91b22624c8af99c299d9c2106ff94289a642c2bc28ca3d2466d37cc3bf89c4d058498c701306685d6ec05fe161e53f73a47e237c544307eafd3bf514e3477c0adf97b683664f3f7fd328790e335b42c87b3141ef71a745a560b7db21a346a5b1365b9e92c02f6e8a0c8bfc9ecfa203465f7d0f6e52e555a88f4596be51505a03b0ad5073b30ec51023953d9c0a55ff43c1b236ad438667f405c0fafe88c988e5e08a905b298169db8769428a9b7d56522d1095398166cba6a18a03b9c005553faa52d3e487b95da75a64b97f9e6aa0c737d5ca57d80ab2d85d681a7f41320e0f20efa5989b8964005634d3c0791e97b8c2c34d49a01da39ebfd3a21a375255f41bffa4bb1a62505db1c5632e81d5d92987594b85538caf39acc66df75df2bc0aeb2601ca0cb7ddd7f7770d3a82b66fe210e7d06ff7e6697554184ced4b39811cf431b98fe415ddf7f9f5ee2b8633a69a75b2d84adb4a0fe6dafa5bc38b118f9ccce92aa53273507bdf2353e64b6d2dad7322365e49218dafdeff5c4d6958f686d3fd16d30ab56f82bca982a7e967bf9c7288b4129940d77218e6fd47abc1f826185ef6d26b382973373c3ec619f6c1c74ee0d8fe90190a94d91771307b4ee09d24ed819283fc2d7dd8c3b3e98935c0f07a042f03e51262d8eb28e080170e23ce72a6f0596258f05044c09c644305bca82915b2ba47840cd1731abd61b80fa3ad57e4f43f08d7dcc201ed50f151535f944c4bcdf55646e78f5fb18ce5b2a4898ec8419caf64bcb0b71bfc8f380952be686b410604a344a5bd40444235b5d8c6bc42aa78f2b4b06dff2b4c11e06ea012f4a5771925f52354142d5ea8a0ec829e09a00a97968e2954f25cb21533c3d65a2bf859c73c67496686d708a97257a97a42dba3f2bbabb47f6f2581696b54fb80679e132d4d506feed0be9ac72bdc3280b232061e5166e64dc42a2b7a7553f99050174dcee6a3889403c59bbbb0287463d989581d66770867ced9316bb84e9a5741bdca38f97e42481442154e7b0555033382e3eaa51f3162512593a2282c358138de80a79680cfe45b600f4f38d8b1e18681f921f45f64916690f39597d0426c58740e133f39b87555d716cae72cf0f8f918259c924e9fdeb3a9c301c8e2fe37f7db3938e012d055a161701ab80e087bb4ab6ee037480b42a0cad5cf5542aa11a20cbf2625ba17e75c9e9edf8ca164a826a65e016bc52e291c8f0b10ece3bbfe523e4b7a28aa4f79e216cbd961a43cbc0fcb998c7d52ad1c2f01351c2b86f718e39b16df0410364778bae81665206ac176d786e222538da62e8ec8b7ec7cbb9dcba4678cec8f6e9dd844e9e76329ec94ecaef70e9645b3e086f700a7a092cec26e74532d3978225030bd436cc2fa5f70d465482f47af153260bc6c26963fff99cace6842c904540c8163cf38931829ca2ea9abd0405ac90a828cade0a4ccd34a8ff0aa4b14e7762f22fe8ecd636b6032b0756f3e03bbd518229bf1e9afcf59a6e1519a9bfa9470a6c726b0244dcdea3eb22e7809f22fce06ff7f11b771981493422944015da8ea01a0ea077e2c95bd37e1639107a5699112994a6a77d780345cb75112191d93a2f2d8de80d414ad3efa72e86e40268a075e404e2dddb66b698de741a9f4ad3eef484e391647aec53f65a780dcc8f81eb1a9c2a489ffa7657834ed6dc130b2b5c2e1eeca69ccb4ffed1c40e9d6d6ee1e30e75afc9f0761c943249e25dc28249a416aab676d298a3b79be39b85bd88f51082620d14eb427ec80a77fc3d736f69a18defea7dc1c1cc0e40f792970a21c380b15eb67f3d00d5752d906de631a074a1f406e08a36bf5f39e478133d0732372c4cdfbac74b67897eb90e10e3f826314b36bb4ccadca09b08d36c1333c16ba0efc61051b5ff12656253dfddbcfffbbd22d948d241a7fdbd3c064450358342266191785bc07b038d6b1eb26001fc0997ea3cc85952b1b52cd414983071784c81fc288d91cc6313208051769abeb970d8996b11ac88ae48b01de1501853155a093d7fbf22898144c8dfd2aa86e9bedb3eda59b9828c6f2f44b437714067ecc2b9f8cebda784ac4e5bf4074c733887b6c10c9f5fb7209676b6496f5704c4282cc079396cbecc85164b3d0024f395eb5276b308c3ccb95416f93e8c46f8d2dc83e1f5e52c1852f0d0fb686686955d39a5855417d1f246fb5bec955ee0639d990b220d094d6e5e7da4182bddbf85b5aa5ce4517f5e8645e9e5948bce6e4a591ee7757434ddc2b65c79fa37c172fbd8ef52584913ae40272c50533164f8f634a4436aeff69a4eb5d378ffd2003ed563bea2f0276243386b0572fcbf91370da62e031ed6d453d6662e7bfea5c02e24155a1984c3838d636b4938f1129b4bbf365396da2694818e039b42c0683178e8eb06a61cfc33115bbcc4089d73e1e07f1287a7f40fd572a3c5316ba01aa76db58604fb058fa5dfb13d772cc59fda201316d2b9cf67af73fc8789a86280d67035cfe6238515aff6502c3a61c8f2c3acb1f412c316d21efcb8181f584b91c841d9cd609b5bba6b9039615b16d4ddaeacaa71d7ee930393351360877ede8111091c3e74e7432775f1340062c48ad4a9057a750c30b0077b8b7da492f9dff361ff16bae7902c65c4887d11d70aa9e31413fcbe2757bfd1379a30e323bd6f9f1d248a7097f0800d25f64528dea323df823b70de592208ce37b8cabada851952207206b537970e62a3ba238f192e3e04699f9a237adb3ea5a85724c67d48255523c3cda63d84192546be765cd1f27c954dda686ac8a37b65cf1b3212d0caa122b784b3bd316f60ce9c51a7a305bb111aa454c60c32536fe82b858f6852eeec023088a68c52a56a87ed3290cc1f55bd7aa4dac781b08ebf5bb21a88a8ad5acda74e43260b617f6a4f3e60f9e97b2e438a86fa93808791876a2f96d4f5300589c141841e62de2a78768e5715b76e351f620b517e3a2d51d46aff69881f0fe980c976b552f4e43c56efaca035206ee57b994d9be5af5f51e16360db66cf4be2f9f374ede5415ef97165bc3ffc9e70c2cfac3a0b1d9044f37d1a4b271cd7a62299ec78aa9cfa73f0bef4c29af08720ffcdfc63ceb48a56aa3666a84c1761aed83d828b75a2bc5287fa13503cc6b52907fdf313805e6bf64dabfcf24be2629288875c1269f46f18d0344969d928ec0167e9bd9264d157bb884a1c95f5e47cf875c19cef8f84266c3a309f1575d874032cc725a3a6e4342bbf0503f0842e7a3a281c6f3baccaef9dd4b4ca94c449371247190291d5f3094e99db57c69e66d02790aa17f8888aaf7885318b3b8ccc5a4e3e52cd5f6ea78fbed8abe6e961caa7106682325645d616725d976a62b4c1bdcb887e401be0267bb8cf3484148a9a5f8950622dce73487095393c4bb9f05366f4811877702054df9689204e06fd5beef2e9425ea6023d244c709572d5746dc5a864a9de164eebd4b7f9148c0d47a3bc50dd66e5ce22363efba96121f018ec741e802e1a979ce20610148ad95592cf6c09e42092b5c740d49cf5b3d4a87b66a2b214bcc323dab0c3770f0c5e8f2d313d7e61c43c51782b992170f527f5e8433aa6f81244afb7dce9437ab44a9689d708b935119ca26fc4eaf8a6e5122fb0c34912f8752e6a6fdd57a09533e569b96c06b46add52825cef96e316714df20bb264c12851f38766923f904992de8b719ac96de8757f86f945fde79602542a83507fd2e218fca6719d4aa4f44601cd62d6cbcc88bb00482d81567215dab442baf4cca607627a54f5f5b91a4b68532deaecbce37163d93eef1cc3f18e8a4f06d394a5da948c77b985085420009c0992ac5c94f26d94eef8e9a7e44a22b6714f73205bc0d8c741bdedb85ddadb1e26efdaced1744942c208633bd7febf71ebd83cb04bc019e9a20dbd5df290f22aba6ffd0dc13655e8094cf0f7b6b60016f7021c074e6b7e710dfb8aee4f0a1ca407ee56edea6755434758c052099e538b9e5de299a6578abf731acba123aca6f7af67ffc8c7f248967eb887fad5fe629ddb2a2a35714ea4d87d694a18325db620e542347c2fecd58e57a04f164ab31a48c00dc77967d0819015f92111ca3b7d4a80196b39765d997faeceb8c1a887cf9ea470536cf04ff6bce9d3682bb7f0af1a30dfd59d7e75fc42ac1a09cf4187ed395333ba9e6d8b84eb8fb2b26416d86948335b04f3a5ed6a720a6103febf41ff8480921b04e8c5e3c8d31a66d8da799d3686b9bc7a3c4559a4dd8dbb602e0c5c001e7c1fa42c5921234e68362e5d228a00135cb379ece6aad8385187e9497d1e206848fd040f300cf0bd49b578458beaa6961a4b08a65c125afec840a697222b08affb160e70c276780197360e4b3ce59400632c88f15d3ab74d4233fefa02704d9d1b5b08b6a2da4c6f17f1deacffb783b65c843c53859cd49544feafab019c0dd8f8930fab1b63ae3696da894508cf403e4a054e6d29878dd5672cb529174b042214aee97ba7e290b8d9fbedea2c50d40caa65b227348b9408506b8e2a2f126e63c3f4f9f814565fcbbea566d0dff25320fccbcd065b6bfbfd3f35a1c513a12c5a418545d916995c999f7fdb2b303d3b3c0e0c967e8ae2aeccf441921c51dea138de282915312ea692b3e51d54dc99bd2a1fa502b05839c001d2132e58e39c0eb3b6b2f6fa7ce8e37a1ceb1e4731792bbcca4132d6c698583101615d2f23fa0267716ce46dda21ae09b26969e7ce9e1e0b2a006091ad274c4226bf960015d9a7befa78be9d2171a6b8128fa26d88f66ed0ac7e68c67a568c76bbb748fcb24f40f9e11bb77cbcded23e3dabb4a3a66f80829de8c2c7ab93a2428ef58caaa6e425d5673158c1dd510631029f1463a28b2bae643822e8a88defd40325a7000d607c351ae1fb61d83d179578e2bee52f2b9c1f5852feeb9d83f96ee8a0dd5782cd2810b6889d4359243c67102a7e8004fb317260494f333ff3a696c4cf0a6e5b4eb3aad6b30911844983efc3b0e1e63e54da027a27e267dde9d0fe87bb4915ae4d1fe67f0b36cca492ba7a0e9004265b6d5d9219da7d6254f00fedf224a9739ccf3c9ffbf6e695c9446fc80cf9a054b891610dc89ad1b07dcc75e2fcce22be5e49c362fe8eadc13eeb6e7aaae062bf8ca10d8fc8df2f1ec9d45ac689d43753084426509b2e9d221b0a8e7e6439a57f18c5405d6318620000dffb62a3bf2dad9e52fb836e8c8897ab8d78a9120c9009a1f11772f7707d7b0cbac6434f5cb6e1c378ebfd7e3f93ebc395ca17fec5aba9dbad90f19a5de63bb94cc948a85568bc2460478ca5595d2bc72e61cf4ec3acb9ea46ff566055e968f66767dd6122c3d5c2f33fbc1c52a1338cef8012edba4b725882aba6060986155df4bf1ab5211eca1f88974e7c6ca32d574fdba9fc70cd7c819041e7b369796e2ee0149ba88a430a66e60e5cfacefc2cfd7c1294000872606ecefe85d0ae7cec91e8c810ed6b40f4c4c1acf49d6f0c88367a97febd1433477ad5e4bed4983ac001fdf8269e791bb2f80f5b6c99c56f83388fd1e0ef9d43fb3443b5c07698bc1c3b086cdb17cffcd135f27aba98f2874869d5e54343cc1b8ff20d80496460d8f8996a84b24c27b77c1bd1f3bd942ee8c2a8f9456e673dd3639a0b52c1d952b2bba7d869e86637c842b7189d1c96f4b881651a0f416e2bbe06e922b92bb40011ab0767d8c69265e63c337df16127e0fe3fd8dcb06bf642353bcb017b51d054bbb67e8e1915cba324f63cf55d065d6f0dd241782e7b4648fc9b5c840efbf9317b4393e981181a7cd313f1466562d6efb2519ce1a82586ce5265804d4ecd5cf80f4142adcea11e973a068b40e0ef59b38c35f8f9ef62a2efac753bcfe23421f1c85a329fe757ba34af5a55577a643a66b5302c7c680f7ceb28b4ca777ff9b3b5d07a45c16f371a7712089d207896893692b4b4c9c7f2d78a1457693cc1b648975b7402341376a83c38e379360a095bd06dcf5c85d54f4440b633dda41d5e435fd3c1acc462d9b3440e0a8d549f0f5f6c6a92f7e33850d9d3a2e93f88f6ba972bf945c2d468d5a841c609e1928d7e5a93546eaec2cdd3b060ad4811293dbc050c61554b6a3ea996761d956e644c6f9eba7ce833a5b7465c8b196de061bad5060b439cf17db6eff2d8ede63b7f49904f9813096e23150b82883dd4e9a7960b74c97a54d2203be79104d0615caa5c62a4d58dd0fc7235ccc3ae4f4c836063336d37e339dbf715aecc185e18a341d6b43a90a4f38eab090e3f815f799879ebeb424ec2f6da4764426ad49770bcfa5b2615b9fb67084f0cfe6a95037f9f339a3d1b35463452f14fd47340c0ade63ac22727e10dce253fa1dd79fe69951c60a8c80fab25ea07a4c78d87d69da1832f13e1c402bd0f4ac86bc808bf685eb5fbd030fc98771a4d6ec50d122db765245e06775160da5e95beea8e156b509e392007fd9bad11146e1d363f5387241588827b7554de2ff35a75c8e825d5f4d4220ff4e3e846c2b74aadebfff5f20dcaff3ffaeabc5546e1b48a0f74311f6988641e8b71de302028d8332071d36349ce6b7eb8045108edd10a39739862f1477b60312f11551ef9fc58810c4921e9534e91c017ad44e77a3d2e526359ee5de7b356e687e77b07a0671a375d4e851c443bef5848de01c49960b0924a6887cf926864406fd9df062863eb6fb77debda8e5fd85417a97e3f56f4af839f3974fb6a0efdd011087bb69e86d5d11409cb9d150d5cd10823b30525e28664850f837e22427a633c5077058e463bf4bf318fb758687c4344a414cdd9e3bde051a891f33bbac0448e708ca7867053f772c950215a5e72c39a8e8bf45bb579f20178676b5e6cf5d2200d312d6bc50cd6a8276b74c1e77ad77c6d529d7d2a350979f9a1e1c6863abfaeb41f5700c9374c70f5f01e3674023fd0d088eb0b06b70a9c39d9393332d7055482c84150f776c782de68ecf05525b7aacc07bbf3311b7b02c855fbcb8f239295a6334b3e6d3489a8d68ba66a6a5b9ae01167833e426815ce8b6579279b3c9fb823352ed3d5674f6a9365642fdb70838dd58a842aa0fedb384de537fdfb36f08c7107b3b7f5ce8810b11bd4986f806ec6ab8eca550dff9c687fc1bac4558dda7aa5793846cfbffe38fbfd179bb45d7c551d6b7f3a8474360479969d1835073b98415b5aa18c1b02640d1a02b6495c6cbce5e6e5892ba8260197ad48b0446c98840c3571ee8ed5d570fd031fb2445f32c7c6ea5b9d44d1e01e83adb3530141f1b602619fe3cf09304dd37d8d7de42f9a6d9b5b6655de9ee47650c00b48a362acebe8a49daeec353493fde40fa0f2e1fd2c499e64d753f272a3de47b549087675df9dd474058ec574c5b9f768ec4fcc70dcf2bd7e24c3ab1b98f45143c4d652aa66697651920bdce854585e9099b4d768df9cd873ef7dbc8dca36717f4178cf88a07285837bfbf73de42e1c1974acad81ea5de7f1878d738eb83862baa6b945b3090cf9fffd5144939587429cfff81f302f097b72b3e258783164b4169c78cdc0060cefcaa0304166ae80bbcca0ada5a54a1eef10ad2cf0b264921199eff7109a82ab9cdaff639885495dc68a969b298864c9dc27fd59a0371a263da8f21e70c07cc478baabc3054b4c1f3f164a339e8c18bcd4426c83f1eb49ca53dd7075e288bb27928967d82d01e744a68c4f8fc82ee3750481ce0570ec05a5dd5cc1e67da1e07c26c04b88b906009a5df36019f7f3de4ec0df6f130ee2f9734b8c18125e783b14820777275fb7e08cb7119c9066bd2a54a11b74e532ff62c1d4a0e306a8850d5f00b3c72248620804a8524554fca544a5b2aca83b30be39db5d30ebe4018ac1cc20525a61c317a655cc2c02cf22429efc60ceb22339612c7ad8555bb4aae362c2c5ab1cb642edd733a8e2456cf304324d70301a58d6d219bba9e323c8ecc70474c86140b5008f2be4281e5d6a37cbd3295114e93b6ac49c49b04002d02342468d45d7256c1636daf6bfc7755de53e1c0ec3cdc75b38f06487bedd439fd03c90802922f13070c19edf61ac00af607849541b8e19ff91117db1a180ae2cc5d0065fc00f018e7e3e4876dc6b0ad25927958192620ddefabb683b8f32b757fdc659acd7f39ef53a85c2a165f9cb1e22c5757ca30e682738634064b17ee4c5528ec91092b4405627495e96322a51a8ca8376e6dddee4276bf4180392f44abd89c4653e84af840b0c6a38b1e0b176284c380bdd4c69f22b866d005f9989b38318c0dd65d880676079b5b729bc8b3caff831144d89986e66eccebc6a28aa6de1f10e1b0d2b1868dfcb07045060ba77119c027e2886a572b65a1af6188dd3d15de3c18130d8fa3b4104135688c66d3e878650871b3b874432566c31205d96eac0928615639b14fcea43e3176c91954d37ba5537778357d0c3d5edee6e78a81ebb8704b958a00edc73bb0740b0f8413e7a1e393603c08eccd40af8ef36ad8479dd879a0a1cbe12ce4060377fed814f09602a70c8ce6614ac62c748a6ae0778d2b32736b18bc822d36a8f9118113b2937e9b937aad4c4ce4bb647bca6a53d376bbfcf0dfaaceb7ca5d620f4541c2da241bc998d39988dcd1ce187387ff83649cb5e8da7a1a0d177cd20608f8b9e2e72ef0d4c6f2f0f57340404ed2e4731dba29169185cc3d6792eaefd624f9e4128cd9d26cd0939638a53693a07786346b317d514371021e1d9ff98b7a7949b271ed6da67f16aa3ec061ee7894d8c1a4e91ee07adf9235f217378cac3919e968b877c8c1751ba119fb13ec56c4cfa10981657608d79e75e87e1e5d62e6593b0b3f2c33d04e038e7b33d697da7ba0f1c6cc29732c053f8b3ee75a2c58c3d288d55c36ef9111f9270a024043ec10ede3089dadbe33ea1fa2146c068643a0d252c9ccaa7b2fcc9d52b5fef39ebee1d98cda61033d8ff7648612ffff69da8172d5070a772d2d2316f13fce1bbc54224e4e50c1929fb21d1da2135a86a45c354a26f5ec669274917dff408d5bc97280a75250e32d70b615decffc17472ddd973939c2934f6632f5a7dd71e75bc8b1b23c18252c27fc370ed5ed413e0a0e5f8d8d5e685a029b3ce00d219954e4a6214de7074ddd6597f970aa8ddec328d2ca2f3252cbb9cc172b8ad99d91b259d7180ae06db62ca02f35ea33870e1746580a511e8fb4b5ea7dc2d52a8c733f040373cba874d0388dc4cd9db5ff7c749e62829b3736a646f72f71b02c254c796a9e6159aa6763a9cf112d7214a4ae9d8307e9ed578d875549aef873491f0ed533998bad2b3feaf4278c23a0818bc2ea84d32390f5f9b474ef1787fa64e24d3b4b800a1b97ecd4edeb8437746120c4f58d42758b766b17e0fe44203f9475a569a28aee1bbf3d0ff7c1bc98a0e0e95a6b04cf81e3194539e1e65663451f8011529003a1164ffc68a02fd9e98de21a26009accf6ef367b04e84bbfd0b6eb93da0547f06395dff77c7f4619d3bf280c0700d4fd0df3a5c0b4f2f8b2b4f07cf039b4c7ccdc36fb2f51c94753b9a5f7f1543a4436f9bba4794e5a2a7392ba5b7e1a39dd74a52fb68815851bd0f1a52759a31632183dd897ca1278939fad3c64fc1498821f751448dde3ed0b9c24c8053931e376582b070114632e04965dedbe2f6eb421121684febe2fe2ebd56745ebe9528b17c9fd163bd21fa9cd89fc73feea688bdf1053537387edfc34ceb9037c88fecbd56081cc4727673f15f32cc00224de992e8ca39c66c4df0ffbb73a571abf98bcec8c45570a023df1dbe7c2045eeb5499c07de0a05a6b10f91f568d44238548fb0c5ecb30d90ce89d3609b28ae30c27c1098106950cc585e1fb0a269f897a9c98bf2a27063ec450393513e586abdbbfe28852ab52f553540d2f858181dc7419788cddd90b63cd0a33dd7250c4a774bdb3383e2b225d5a7e65a90b0de231c3462fb6bfad36fbb5e0990707f34b82c4f2788fda483a97cd4e742d64440419686f80da3f39a25c4478bd3d40fecfcef8857ff034775c930baa673993c8a8fb9c684c66aeffb9b9e508dc978a71495040bcf0a95697df12f055831d7645b5266c04811fa8e9a71645b8f4bb81189290e485aa5b42370a8fc6e72657cf90041b1509ee0d658eebfadbf92bfb5aae502e388a27336b7f8b4aaf71d16c1b5162a251a6f81690da5f30545fd571cd4ab0df54bfcc59322d7bf2b58cdc61df0c1bea59548553a42864afe3f4508e42ab64f8d87c0ab4998b7e35ca14a42d6f8072b228730af623d0d834cecab5fdebdc56ef4f5d7434e56e8a5dcf0196a6988886fab989509d684733f8291cca90a451d6e1506dc8c1e906086bed39605c1d688569d6176ad635bcf621fd4d09b4d8fd8d4f51d9646b3fa801cb88b8cea1341ebd60db2c75e34587a5f0f186403283fba1e952902fb4baac482803b1419d6354be68a581e75a47f72f7fb1ec2b04fa9ebba6809c46bdc466746f87afdbcfbf558928875833784e8b6cbceaad664859726e47933854a1dd6335342bfefadbb58da02651de063db65f18fd054e4154455e4ef265012cd20e130a91591e820811ea6cb2bb84e92f7f596d48b3e0712c772f77d63a3f2db1744fe11d324dd44377c39a8599e3016a59b0847141f817694de7de3c7713d04eb20e7b142d027d12b06d2f346a5a23596ed715b7c6c6f0b278ec5f024fabfa3fdc62176bd726b36cbd527d5dcc7e555a0adc189564ff7a9a669ee8e9e5d8b45313251415427ae8e3961832acfd04553d70feb7a9618d26dbafda214dc358daee9968de2915392e98ee32901e5ac94039fbe6cd75b1e6a926016377caab5aaa0886f34ed66a3f130545fb4ad42a6f4d831c51f3b6452965516d4062625602defb27b03384529867abad06b4163c0acb3c72f126627cbbf339455f8d8c6f7b48fa3f8f175c28dbb6d1696501c2b618d6b63cda0bd7a112a2aab13bbeee9dbb2203421878b31bc2c9c853a4cca714aafc9b3081a5c6f9d39350d1e0825a1bf30f188b1f730a246382ed2732fd81574728804773d2a0e7d10b08ab686f2c487488afaf1ad1db00d4d4dce9b6113bc6290da8349f3c40b1da80373fa390c7eb5ea7c2f72a14780be9f47b248cda1e2aa43d4e2fd174a74f0151df039fd4cd56a95cd175b464f6f5a25cdb6d5439cb7aed20ae51849ff25701e9f8bc743d52c874a8fd4b6f42aa8561d81e3da32fe1772226c18b6242f70e719a987114e6f4b9afde42faad90dbb5c52f25704ca6a53ed7b025cd6812cf42225661f5963ccb8285b3f8c6aaf882d3628bbeec240da927823d2c183ce88f1ae13d3887a78e917e8058e1aa08f97444ab7e39e3ae90f86f3c4538b9747a9ce2e199d72b9d15ac9e5b287da02e54c0a70752508638413ba6d49a9c1553dd02e8f1bcae15ff52625cbbe6edd65188329208cbda948ac8d4ec9462d301b8ae54867712e4bebe11dec711471bd73240c37a7d57468de9b69750ded1fb9aa6dfe9c56d47adabe143bfa306b6391b1a1018d5ab887a8e82afe1e2e9f7207ab7ab34345607924967af754bfdb2c5572d2f6b16055d9bade51f42a4cad1e40c741b173bcc1200851b0c83a7d19f623e89ca26cb236ad09205b98e2fe5418059c987aad40ca36ed6079c77943cf55b5bb6f3b947494c4655576a06bd12cb8ea7fb239c66d3c4105fe39e23cd12edd33ddc26d6832e0a539f1d456180684fb128df9eb5b90f77871ad13667b8cd5cef12b9855f5fcb33d8c7143d1039f332531ffa4c47336568f23d604ba0778b3b0f4e2d496c2dceb7991be81caa57437be07677e9c04aecc4b1b7117ee95baa8e5da4cdf2ded1ba541a8283aef806f73539228d041a4f88a2a5fbf19b805de66e604065b502aabe3c5fd64ff80d075f5235d8abe4103f2b315a559ea8f467f6e7f1fe74cd6b6913d61430d224e55d119c8448cc2affc9adb4ce833ffc473366100e924459daedfe3a8b7111a861997e879266e38c1046665e77a57924b89bb193d0881a5fb9c4532d5e31aefa10347e32890f979abc59ee47d726ce00a80fd005df4f90e77215268afb6ff5c73e26729aa7378d82306d9cbd5267f774d3e36a93ee6d4562e18eefe9f2ba7d013f0397fa32f5bcffeb437349fcd171808863cbb9a4b5b0c884cf287c86bbd75270c364ee132fc2699928a6b4d61d03c36a7365432d91511277981ba44d168e4f5643a44f2b1d75dc4c1b25e62ef4d27052e12ae301c48e493cfaaf978eca2f38b3bb10bfe029f7ae77c110f66ea993d22db1683c56a31c6f6d0a7d96cff28256b6f4a71b16f52da39e825f7d65ecffb2cec2fe4b6fbe791e1b2b4b85880ee4ff1906c020977d426a17b16fa8bb0b3cefc1c70a9ad3db3e9c3882e6768b4d31e8b451081264fd33f8c26aadb5b005bd759f0637b4e72f3ecbb63695acd22b1382e7dd90e1f83928e3fb607523ccb33ed624a3c855633069b4dd8c4650b16352673c7695b8ec5cf08f731f8841bd6052da34d204072d2d996d30e895d1ffa573f5e637bbbe62dabbd364af7c5396a8d744525c3c5f81df782a748d0e454f63029e2b64ff1ce63581db3cc2a62f4dff2e664666fdc688ae20eaba21af23eb3b2bf19a37df0e06adbef9193a735b3a58e2b28d5fe74a498aa726044c1fd99f9d205510e61f876ec7276745b603b12b6b80471324ae015c8c000682fe54da7b3860f2387fa4f3970089fd250ce570574fd4032e82ba70845adc784379dae9ec8ea2c6b474f4d1833428f29fdf5736fcd71894b2c40f0b7474fd884ef65e5172a0d56569284e00ad07e90c334cc540bac7612a25e244b9469840b7e45c16522af3fbd9639d44d66047d63648861989bdf96c91ea41088beacadc7517963b408ac50a8a1882f7016f2e798fe125939c2a9d1c5cf4c7073d78e7fb2c1012e5b5ecde8e0123032e123fab595b27ebe4d615c39ac32fe8212ae86938d8df50243848f2d2ddd71c30cc486312d036b086623cac7d644dc0c9e0f31aad7339ab2e4c1da10daf9a30a54050ef420ca389ccd47e32187cb48a92306c508adfe139a0769051d271e988b90a16df1e670ecf69139110e6cfe9f91a02e9802d67fa702b57535a2607b7923fc29457fad18630b6b8769168ffddef5bb744d1dce148740f937bf8ee47376981d27add621667590b4035ff3a77b921027c134c567ead4b7ef55ebf9f605851fd81c4fef7a8f5cf8a6b2346c3c21efd0a72033c55f21b019f453e2a6be5b03a0fdf27866e7687b8732e01f9e9e3c775b59b69d811c6edaf0f2e5e2e14f67b1b9ed5e9933ed5a1bb62c5c02b081bab15f7ad04fb373b44f49a03c0763308025809539af7502b87e8f8baaea1e9b9a786f90b82b7ac1b2c9bce4c136fd3b9bd89fb7a80f0ad3c4f0da795650451d7267949bc4430799648ec4f0ceff1b816381dd893140123cf015b24c55500adb314f63c4e9efeb46e511d4eeaf0e4ace61cd21697f03821e46f583ab6cc39982489bf5a0b87dc7d964d4c12383d66400118e6d658ac7eceb75e0f0451a1664f78f80740c34d8fa2ce50da0d37c343206730a90d31eebb98f2e3cc3f5f847919c54e09fca0d649a9943fba858b8621d701cae6738b10a808220b9cdc62cffe5e6752b8a0957e8b785d2d7592e78023255514b8930f62dca063a78f77740a2ded78b44de0a09d75749b88975ef56fc71f3c673e4f720bdb83583d69d71fc5307b47198c4dc780dd0458e92f142995f48d20c187809f1f7e62bbd1db6f72bd0b9f8ca4ace90296b423a9ff6dfdcaa69374fd6e273117f2380689bb9b40df4262582e963c972681c8bb7b9e43ac04cce2d6733ca18e687a7f294f4d0f76e746a2845f7a0acc58d78d7edb539bd915a1dee28395717a2ae35d0fa0abb84dbc15b6829c317e65034f0d44a97f5eb30bba6c5330d6e9a662e8c11cb1a68676a4fd15702239f38925dce54bac61e70dd2dd5ee850a77f09ae8b4560315f941a780ec37b03413e3eae767e602bb24bb495c9532f42692bd54036e5ee07371aaa0fcb98b64f323cca4305a60ccf1a42187d43aa0a0a19236ec8041318bf4f1b6eb312f3bb9278629aa7cc3f1f839e2626459c10bd68ce711a81b7e464beb2b00475a730938f68e426eb8919cd305ca024140a339310ea9ab584b4be99f1368f4a2d7d627013016f2065f6a96efc1b424127294aa53dcc676d0e9d6c844160daa731ad31179d0f04bf4986faf43527dee27b4c543ccbc59b1e5e32254ac659f6f2e077f9a4e7bfa81015d0411aa9ed20779f954a1f3c70ae1582b0471b367641060cab6e2f8dc81091758ca5c3105ce8a0c2bc5fb37d6f1b4797f5c29b4d88a5e350c887092078ee5f04502d2661be66e03a2d08d0240097c0ac83e65e82ef7be8f5b62c6c26052d4a21e21991ec2cbd341716023c124612788d29af1d550da6447d307a0c7f60aec1e72d0e8588dcb47fb2df2d8279757c8af771fc9d24057d6f1ce359d2f0b6f71f04dcb5d392b49cb5e0773e2eb9beeff20faa607ff33d7dd1bc8398a394f7d5e6e9cbbb5c25e58d78a7405b126f9237a111d8318e1152f1d4ddffa0ae2a8e182b657dfc4bf019579c268f15c7b954194dd5c826f1a0a3b9748081ae85ad78c321ebcbab9f917fb2d303f04c330219709e898a0c666d17fac623cbb72007b0ed47c5212adb9886b25a2e0bebd7e7a8d3e69ecce4ace5610a5678de672cad90248f8a169ffbb94d6c6e98399edb7a7f71e37e02d3527d3629c4d32c740faa316eb56e0033ee2f5c2d706d6ad3f79342c0be6f1092d89f47ec1be2bb14394ab73b1fe37c707fd2b4a87a1cc1b81a1ea6ea4e9c8252857de88dc2a580226c26885272f11caecded1424bd5b16716787fc569c6774276dccc762c5466537185b48699aa974f3be37afe4ce79d6463b69569a62fbef4651868629567a0990eed10c892e4b4d19a19386a930ecee412161575d129bedb5d1d5d0e7fde88a2a6a9aa49dac0246734bca0703a9ad5e31397a7c48b6ad7d3d6a6293d63f3808b0dd8759d831e04bac1c0d1fbf21de3636d855a8565d58a8ea7e8a98b2fb0cdf9386ed1f37f580a64bcc11781d2e0c0e5d19d3b03ef5ddd2cb11c252be43456a10a6a0a3aec01f4ac22a0c76af15514bf9f7d736f4077bcdf7575ec681b81624d4024c987156b8359625248ec9458b6b6ebb170823ca1fe0f5f4f3a69aa299d71b99b16ffb88727b9afc31d1cdb0b3b5c57d76d09ab8f9358421394f1a72281f4f4ded6e0d5b08db6feeb8d42f3baae66dbac0e2401e34a7b2bfe41fb4771f2a517db2b631b023a39ee82c5b9aca2a69c8f0709010abe49483c2ddec16b6356ca47b69e732f73f78dd46a64e293eb0ace9800221ae49badc88878b1d490e4fcd5141df08b0586efe23b7ccccb7eba5ac1dd2a06aa307631e4dac41cb69bdf7014fdcf002cab8bf2a299e20d7a030b8ad25a45f0de5e5ae7e2b1dc6c516f5c2c4ae80777301c9e1a40ba58b7d53c3e5db3263dbf585ab9ff9bba9df1dd49a1512ca1cc08f2ac695d073c00d7571c8963f541a8aab169544442d9f8fa8a8ef3319062c3ded214b81b5ffb2b593d1eeb3a46488fe815b773f52b04be34cd082a967d3214d8ed012074f941fba73eb654262e5c1793ded185dae2bda8ca70566490d49a8d66b8fc2a87c961b38fab8d69bad5720bfc4e94922c18abacc5e106dff58fec54a4fa9fb316e61ab32967d7e4794f1e843afd692f1358bf362d3c4b906793e8f34066ae011be7f915ca6f7d31c60869f6af96f45480cd64f3fe0c69e8f3967b1a0d3216bd5d6bc83259c7e7372b6141cbc82e18e42bea2778f77f880bd95ca72ccea7e86c09c9293307ed310fcb1e8e8ccf11b13993405665b28ead7f8fb43ac718aabf7f5027522cd74d2f6ac308b77f04ae375174fb0679b17c15ba3f59863e1b9e1f8ddef473707330640012bced4b4ea55419eb09bfbe71d28b9d27614b85104cab043349ab177016c20001280531598ce242e00c49faddc7ea4c0b9be2303e60ae0319be1fda532e1b22a71d7aae642e93b9f3661b8f29a2c91590d2ec33e156b9c3faa53a897d17cf32938041df51bc0330f4f6909db11bbb9c54143e21a580065e80af7092f37e780523536d5bac46000eb673886da5880d3af7d7263272450b3fe46be1e13b24043ab2f9ce565f013d1f6628fbe8e2aa5d42bca3547262480011a55dd41752c9f9560d0968bf8825f71ed8b6198c18ee49053299c75a492e64825671b927ffeacb34a0944eb86bea8fb7d3fc6392b91c6b7908cc703c3e434e0ed9b1664e3a33cfcd47ecbabd5b92d33b4dc85eec95e8a54c04e5c34f498c83226c3e7698f4d8144aedecb51a659713a577b857a63c2e17b70bee14d08a6c6e46a7e89d40a6c8f88bc192f5abfea00d9c0ee7d7b6a28e4b19c66784ab5c7287e9cc335c761cbf16ebc73e18744873310e708f84d3c53979eb47e707998a354e8f94aeba2ed252bc221eca79f82c1ebf0899ed3757255230a8a9d23f2273d83dde9c251b8b1825958203d5fd7a835d130ebf5e3783140c222682e8df5a0bc3e8ea0c95050ff0befc5885150e9aa6dfffaacf2be2d90b4985466e82d55724314ba6e2ab828f1c4d7473d81a3eb158a0be137770825eeb17a122235d8e7d2fca98a94950cf1036c0f45fe0a83c63c77b5e40712b838d66e990030e595c224e74550f93782ceacaf3e20c91733a4690b136282b1d7443279858776e4b96af30f4f956a169d01f27c32e465af1127c3195ec96adcb03b632430dd07dff823122641c7bf5f1d6d6276d949dc82f11c73734837dc0f27dd5a8133ed80ef04bbd961baf44c01c3dedf7499ed52d78dfe7612bf89c95597a7ec8fb0fd5a3c4f699eb01b5f332d406b1a62eeea2b702180c319e521023c29ea65490a11010fa30d7bb75fc934de25a447319e2a78a415644590ace9b00e80c5a6a255e7e4f3e0fab10ea778300b8ff0a10b581d3e3980e387952016db548f5d7d317dff833515fa298f81ab11295722a31fc4fe778dd3b96cafab46226a071d8fb9b26e9d3a314054ce1410ced5037ddb50b0494539e652c8c1decd5bb805496a562cc090d23ec7a285f1db63d8b01ca3e8bd563ff4e8a551512b39249e9a78cdbe2782f95003e7030bf81408e5ca7cf4cf8eb5df5d932e25f6efa817561372b5880a38b0201a747fcfc325137aebca464c57b8ed74c11c56a103fe91e06c2c9073a6ffc3f7bda50f032295a1d0ce8792af8bf26bd61c5ce4b7e7006bc27f52eec6f3e77afd12cc6c1c7db87a2a4f5db1ad6e2a8b47c4a4060c1cf6c6d484c11b252aff108ca42df9fe85e8531bd04ba18539a9bf11392e6fa3fc993f190482a7d4c39a9fd0e781716b9caf8c7616e2cc6e3f6b9b059b2ca77683c26491f862670763307d1d40269bd13c850876b8beb66f3f4e59379bf91a84dc5b50124970320cdec198d18524ec6f7732c273f27fbaea8becfaebad39c068d7a0e291b8bd6055ad2016e508109188b1f992fc1b943a803b99fc7f8242ae3612f9eddcd210ffb61b440b65bff1a817010eac3da38cbb474542c340f76f5316f1c91bd3d078a1e2a72429fc30f47f34f8b339bb4226102087791a8b8beaf1027593148f6ac0add4b897049ab139ae1b00fc24dc7e75ffec6f3c1a015ae6c2f352058f581df22da54a0dd020740daeb44671ae0d623882a480b08cde31645e53929963c602609676c588626cee451c41d84b11d67c686f0e784c46d335cc1c30bb2c827bfed38338d54b41805c7acd04bf6140895cb184e3642ac35ff4f91b238de1c135b00257a255a490d520d1731f2d8446ba8e7e1092689649d50837ccadbe5ed11547448b0aad906958606c82ad2a8204bbeb6b9ccae0f6d1609c53a15a0ec0fc61fb0384248e8bc776cb167c3e14f1e518cc9b9a4b0fabed0ff185d8ca66c1db6342e016fed6ed4e6223531f9ccb93911a5435050ce5793ee59ad61dc9ecbaa1bfa7544410c166b4d7d6cd61500da0d4c394287636a05c1a371c5f7a5072dcc3452ba442bc85b5d59cfb69fa5c27a17ab82248bdc95f0b86756606023ff8e5ed975e7729e10b240ff48cdb930006bbe1810803c9da036dcbfa20bdf9289c94076123b30f2bb89b6db9b2c77469a9cf8cccf314ee87391e71ac4d52611854353ebca8e898952ed755b9f3cb7da48238aac3749b60307738f88b297882bda9c55e9c656ee062f90960a7ca43cd95c22174b70e6b665a5470b0aae98cffd9a1dc0a5e4e0016c490a4e1269b203a05143647092d6125fcbb621fe13aece4fff39704f4106efbbe31b92bab1152e38b7dcb02dcc9f1f016205f9b9ae98c44821d45aa09be507bbebf98b3bebc7510236761373c38f7c7aec590183056ced58648edcc0a115cc4e0a2e26331fd99adb271ff57fd4efee4f8af4b5a7bdcae6c9db728688d6568676f29ef9567e577eaa49c30149cdab1414f557e5f05a72ab829e2defe505501ea2506a6b64a43cda7b817fc674408acacbee2b9de4de9a650296c232a5346a63369022ddec52ca193099a3eb1cbf3cecefacde0ef2066d9d50d5f039c8928166f8e88309c44cf4a0a5184d4d7dae1850cb8f37021d33f5bebddea93894f39eb9e73e6782475b8462bb0ca2cbfa48a358d21c845b6f6516d84d63484d7f07eb3a024a8a0e7b9e5ac0a48667d14758145f3e89ca0163e65c6a32b9994ceec6d035ab757208b106ab07d0ab8a110ab41bddd021586e8f7580cd1c991bf1277ff2ebbf050982430625fb375a5255c59ad8be4bee9457199b7083cd13ccce81d2fd6f0f3efef87c207ad8a38499f73c89d2927d5218fc5910751caa541fec278d38a4cb777c85c3f7633c164355b5809ea3a2319a3a361a8399b439e7a80fd21c175cdaf32714ce2b92b6abe4133864e8eb0302ee8b55a3c7bf1989c0462e8ad27dbb34016a8b29aa3787bd8bbada70a19ac71f6a2b4cb740cc02800085cb0589ac8b74e450c1626aefdfb9d98e078be2a50a7df746e8ddc7d44f5775f908d021df6fb853695e8ba813f6c1312647faadaa7503b904b57779ed9dd70a9aac881c76e40bd708e0b323fd288d891795ec754afbee63875873218cb3e2bc4e1b134fd9ce0af3061871b2a7777bde18484899e8e0d5dc8947e95e6b9104881d8995ad7cad2663cac6434ee61b3ae8f32af4c2bc346bf7a1fd3656e6c2fcdb59fcf2fa50d28fab179f5c28a587941535dde87208f395e1658a77b635e6c368db1c6eb14e07df36c1b783b5c703860fcc52cd35300a54855474c9ea7654bf1ba29fbcb1b151aad7e15494fe1a848d0591ffce96b7f4714784913521a7e1666821c01a68bcf93cb4140868f6aa745619824773af1a343a5599ae6fc40139b6d1ee000d288273c7a02fae700079f74fb4dfa0ff071cbfeedb5a6c5955316e20251daa6a9c7584afabd593450ab8ff0a5fb28e976f2a16731ab30070751f6cdf54f7610013dd058927e533618bee9e6f16761540977807683a81a7d248fcb3aef3c5c1c3fab0b033ed1dc9f46407d28652eab85b3d7855a3b8191ffd625fccd932d14c43b0e6d3ff6142bd291ba7e86d82ffb82c3ba0acf2ad8fd2a368dbab2534a8ad9fa3b63073cbc6413f427c1f584f906ad2cf97bf16c0ac0d69fde766ab8884e75a0910106e435fa9892735bae704df7453f1f07fdd333b9791077025d4d5add65fdf29e64eedcaf461781dee07f0f879bb47a3d5047bed8c223da15a88c8e2f2ecb60efa5db414d0a978bc863870aee8193d939262b0208c75c1f69acebd01097fe0a3981c257ed11a11c65b855a57072860bc9a6fc3ce28f7db3eabd8ad24323db4fe654618032681c286de528a68cbebb3e123d654d44565dd442dc82771f6719869748996eeca4bfe532a7274e6878f9873d2071063e25b51acca671bdfa18a5c4588f06b1cfad34d8df5686a343f0382d7805a21744a1b78b0a1c054c88cfba2168c84fe62b250c12ffd3ca1b6023b180c3176ced4a8725466e2008c92ccc5a50072489479b955ce229500d4b583dda447577968bbdb1fc927ff29a968ece08c14be8e9ab34dd5407bcec68b1a3a5278f0fe719b43b935c31234a8ae58674660ad425bc827bce3ab07929e05d60d0e25b6fb86eaf943cef101f909e0119c93b722dec43ef1deee7b7429b843542b5b7da61e31a0cd8ad704fc697e66fc0a8ac87a525fc23965784053f3b8b0d369e346b495559a1dc579ff9b0333ab9e5ef0639094d02325357f775efca0be32df318c29ddd031fa76d76af14afea3e799de636aa35299eba787480379ccfc7c0a4622c59a38c306c854dd5b6f920bab49702eb5a5ce63c673b1ef449073b6dfdbeec7ba2793519b12a3939c6dd7104ee38d6de3a2905db8b7a194d1aaceb4575b33150d4f8bf36e508e53f0542256e2ab5dfed78ef17712daedc72c713dd3e14e4cf7a79c309c1c5e446dae694a909e81f6596f9f31d42b09dfb323708c5ee38aee983fb98041f1a050366ac4eb3423da36511f75e3ebba2357816f9e2586a5b802850d824e527b05d0fe42b6bf06dbf6760b0849691d76e22fe78d90aa362c3c7e73da1b54f0fa6af0b48357a643a1e328df18c5498b45141b18ebf0890ec599375a51a8c3301b14f36ea83ef0be49844aaa6c96b82d8822543c4aacefe93025afc22f67ae802ec4254a7234132f138937bed63f411c240c82e24a70c1d52c01a5e40397569edf6e8e75c8ef4a0452e2f57009914044865bc0920c90c8ff9f672224e75f453cd80dd2885259047da30ed42e04d3503a3021eea857920fe06f509267c6d54a5e11814e8a0160a01b67fd8725a9129e268d4be0ba4962ee30a11388bec59294269804fb6c920927561a23bfdd7a0a855ba1ce108cc9d7b75f6967c4468a3d7dea76bef220a821853c1768b127e1b1dd9b05dd02b7db2174e1a3cb6e56e49193eb540bb5a9dce50cfb88b17e7d748ebd142e050466f2779ad1086b16e982ad49351df6c6e07dbb886ce99f93f0e1cbd24e582fe3a96c5e921e9c06acf5a026761f76c24883a7cc32adf718bf8d067b4ec6a5d6400cc04a9f75b02ef8894434175b622dad2133215a26379edecb1eb31327da04f4818de62f3d2eec642b79be7c03467ad070d8dfbf913443bfa1b3f80357ec78a10324f29881f4d07b81d3471fc6f398768760d7303bca58581b7131f00d37174529a88b70ce9e574dc6cbb31fcd5271881a6667160044eae567fe516906cf8dfd2ede538fc0f228f1570ca4a53dfe01f85c984b4fa50a3acf278157e6b8cb2bc3cf2aff254e529f26b1735412aa881bc84b45dcf8d76e1c01519d78892368433ad45032dc19cd2f5eaecc0dc4f6be33f8587836f0b0a70f8e1fe256fa9f4ebfd88032df479f577866f1e518612c481fda32c71ef70b11622fdb3f254c2a6093ed04d4438f2ac1f48a31fee5876033687f7d5138a9aa88b5bf02e7fc3a670ba1ed2eaa6024d5ff3a4af032235cfdb2869e10f286a54912d1a53451182f8975d73afd338c36afb32860e600bf91b728c542664597c84a71525f71aa29a8dbf902f493a52f4e174dfd041e7611b1142c156989468a53249ef5daab679b8404b8f21089a32c7f3b0fe736f555efa72fef59c52532340f595080e2c4e575b7b2d0b6db24d558b36ea44432fd84f954a8c9952f7a18fbaae57f0c4274a1b5ab00bec512d34af5582daeed587ccf406482f6f060862ae9d127090d6ab0336271bd9a0a7b4e1aa9bfe826cad2ae281d15925753fbc0ee1d37c0535d0be124636d1647a248bbb2065b5073cd92afbf10335f9ba01c68709b3dad9d9b673436dc2f9c3635b5b4ddaba5d40db506a13a8fd842667d738d3288d0864107127a5374fb57df2f681477b19787c6db854b1f4661e9b200e92e7b838eb4c043b2192afbcd3da008af0df0713b46f1bc95ba57bec9475a48a8a4fc4291f52dc71b9bbc047c157db560683d2402eaa9f02eef5df847c98736def49ac21b48c03b35e33371a4e19e7e9ef912aef856b149975f3aa16f745c00e492eabdee8fff49e4292418b18b1b505ae6d40d75d5bce34a1d3f84ba23046af2edad0b812e592fdc92052a6cfa6d9af6f15c4dbcb7aa284bcde22b037ee9cba61e0114fc5fb73bd55ced4d3a040347e124bd4ca77ad57d36b8979fa45d7fe69af1eeccee2031b305d2ee0f63a8011c30bf62a30e5a77bef07aa466f0cbdcd8a3c33fc8289b1658487cc091f663107ff71e025e4fc22ae0cb31641c4d443dc03068c9616e0c20c592761790c2e293389ba3b92f2321d5268d264f5e3d871182e612edf189dbdf1d567226e9e339acc212b78eafd41f0a0b61612f2e466938bd7502fb0a066a166bf1d36afe622320258defa570c3401a6e99e665e7d9b3bc5e8db3658500f3fdc49e93585bd41a7deb6faf1676319b78ec014e8112506edcb6c5d56cbf1d781dd0986bc05d653b7405032c4e71b88d043ddf05ac28e45b44dd4b500ae425d2326c180e62e40c716404582869cc3507855181940abf139f5b805f385feb95e8b2e850817fe732f2d4165da60f04808c38960b297ce4376fbc6eed802fa2da86e7331b598ef187ca9be3258f38a4be5c66418d0ac0c00e96f23e616b50a07180af771d6b62fd3a36766bb676370a8d1f2e8a83389c962fbd25f03e2f6e9b7901df562d36b093856a36a24f14f8d48a5dfd538c30b62b8222951d0dabb7be16f5a23d58fd39498f69678bc64762b89e03984e424f0f0340c1bb90aa72f72866ad8ea1ee2baaf7d0ffee7049072260419ebbc64bb2a217b428f3fa6a43d1b1e938da0f50525b0fc5b9fa231252c0d666eecdacae238bfeb9aa2c8da131e93ab84039eca23a7e6477ed29c06a8ad37817130850560df7db560f7f7414d5904926d3fd1d2b92e57dc182588b14d9adf00739bd8da7e07203f41f00692336c732132a9a464feb201caa6784e0c1a722338cfa398981cbbbee07cb114bbb720afc0e33ddde58faf8cb658a1296c05b238ec02a1340d13252c87a5fa67b6740b2892d1e5697549aa837deaf932758c1342e859a658dd55dd817a098ec3a6e013e3293ba8d839328211e0492230ebf3f53c505713ebf1943a25246955cf8b08156b071e1af7842bc2df67bb7a72cccb34b0dc156f9b6231c371348dbef273873321d123ef6342f972999bfef5f84ed70aca4a65b9840fda528afbc549a3b1710e21aa31e3e0302c24eba1370131270c5698de0332ba7584aa543c2dfe7c91561ce42b5963cdb8374e25c1509932f165b9dbc34223e932883c553c5d86c0dc43bc698261d2d6a0fae6d07a1bb506e6de3e1bea712d2200970a59adebca5ae860417e53a4f13683796fd9d758d747e84f49e86526e5c6fd17c5c4a2cca157c0d22b8be58b763340cd0eaecf2b354a52f14d1b081d211b7af1abbdb756a8c8aacd7e0d7d2a103280af84c539842229819413185a089dae029ef1397fe288184aef2c3545839592ab3edd5c0eaca9a1a649ae0bd705894887a2e7c7838657ba3b233f1441bb58c3f2438da65e5771b31d01e8fe804e6ef8f89fa0019c4074363641e32ff4eaf06161f1791a1dbf3a93c83ee65b36727ab4eef70098f351dd0db455df8e806518f65890fd0578f64e33337d5d33e8e4959211c4bd89f3c31ebe307d09ed1a1919242897f08bd47547ec76e32f5f612f90be0c548a85e85c2fc41730ba6b3308b9996fbbe64e1ef8470ea609b10a429867fd839a42fa4afc0b0f3ea6991de8f5dd29f29dfcf30c88ada20ffd344a6fcd4ef6a246bcaf2de9860b6866f48f60e554dd34d635df5f5c0abfef31bf139c20c6388bdd33d2e2202f046bed83443f84e070b8149fa8efe12d99239d4bd6e437ddc9a0981414edd462dff45915506d995d4b27a0c24513d39e4c1729b0b1d8e0e1eb7547e26789045508f2811b67541801320b9c592833ac6bbc2ef7e94c9012c3c7ddf71c2dddf595c91af1bb5bd95b7e015e17e6e28a4919a34dbf1a368f5934817f8218dbb3ec50e2d7c2df866176b9d888ed29a5826b0a8b68c5bdd66120aa3746b2b39bfbd5e0deedcf11734e710a2856464b16a7850866d539beee00082a2638dcda4c7f3501b5579b17ca51cbe799ae74a57f1585f3fd89d7b8d14aaeeb6c1a9df3ee544c2461e7cd3427c119fa8989f356dec4f580874fd62fed881baeac44ba1e4583cfd031091d38d0cab535f9428e8f594f9b48f71dc5e866cf4144a20adbc90587bff7122ee8fe86fb4405ea3a7d509d77873cdb4036bfa8e8404642af12048fb9f8edaf266c4ab947ab0985cc69a022d59fd39322728643bfced49a49b1df7d12121d893f1255817c1b97280cc7ff7eccfa207d09831a1a6eaed7f4d7e130c89dfbf1904b6bd3291b669b4ce04ee0f8348347a138e95137c3ab60217b3980666cb1f161cbca1ec1eec615ee4060b810d5c9b8541eaff83fe0b0ed107d1ef83cc54e52089594c2c8b2679721b07e48f1bf857379a62af3187b1a65f26add0615feefdfa0a663c3de1352df9ef13a6d030a8c0853e26dc9b247d500d8bfc5729ba68b034f4b7c9a6c6177887787531013b63102c6069dfc52d707f916d4421dabac14c1c42c2e14067a4fe665ba30aec5c730e2bda8b073149e448d2d4a82265940372676a864deebc21bbb6fb5761bc1a55ab0909202e7166f3617f71df8e6da314fd028deaa0ce4951a66bcb869be16d94d4cb170151a26f7a7673e5551380588b2c430f8ee3faa49d93fad3eb50c84344b606b9fc774cfac5d3a5af6e13872546223cbb2b0771242f73cdccd7e4fee5a7e74707363f9e930f065b47b753d3969fc32e6f99930a3332dc68bf9d804f433632f8b56cf11ed0ebd80b0d0b60402074a12d001552775ee5eba90f14f889878981b6eeefb4429cba19b17b408e13ea458c815176b51abf3a43e550fe00bb2bfd569126b4765a3019f2330a85d6e0ed94df007393dadefe75ef907511c5fb24f52d763dc8d3228bf87a304cbb5519ca9b31483e2f8234ac763a9b2b8d075815a8be13fc5990a35f3aef16ccb3f3b819245f10b5da575fc706cdf17cdd560a42a9a96aca3bba933b60583db2a56af9d8fd9da79bd4fe653fbcc097d23eea1c7a3fcda30df076665a915d3b4cec864df15333d2ab29afcf782701fea73a00a9f79b090b0e7a4b3324a4a3dd072af9eb7f0e7a24ad1f4ad290cb631a744c1aefc46a9cfbcbaad5d2a306c0d742401cc3cf37063fe915b00faa45dc7d4e94b2c0c00bab521c623693b9ce72c3f502f0cf4cc3993f113a64a6b847d59c3b2423b69a0ff6e7ded830e2d54aa8faf8a4f7e63f919c3479df66b8aabf4b4c18a6e7bc301180a91b2d5092f69921a4dc40246d2218e05eac341c0c6f1ececddc5aaa90ec323a8a12819338fc6968e4d4608aaad8479ca413e12d8968c1d1d1930a11ad4ed6fd5b02f7f4a1118fd8cf436c685dec6a1e31750021f13a81be4e5661468c6d716fb299295ab102d65d857861034d903d3c6cc86fff58608a9d07fecca198279fca6af937b8b02005000416d9f5750c7322669ccc135e770431fb3ef7fa8ff5a6a445e85ac565bbf0b6f3cd9542a64ec396e87aed80733ea56ffc949d97be7a7fcb8e8a636eebb7d792beb4f534059a65d10e65bc66ba0d50b8d01ee929e3ec886ecfb4bac44b6a2d676f8eca052e8efb68cb7de1168799acd4c84f2c32f5b6802b76417c0b9f903b8e6af26209f1baa2a1d772d5ca9959c1e3280256b1bc758ea861a6925e87cb202dc967c3091d72545b148312c61e7d7cfd1672be80fb67b696c0c92b3596f2f350f5e0881506a65bf66437b91f4723191f3367a90281556ed236b19f68a7bf557659a8d2d8b0500610784a184595813c039f6d6a0f7ba20602580131ce0fc5902feff477f9c63db41e9f988cc5e7f4e9cb03b1e5d632d69e595614347a8eadcd44a969a0e33697aeeaa8a295f665e5491b23bfa1c7d58cfa366dc90e10712720c75e8c085b13d09cec95a5554ebfb35deac208aea59ba24aaa23ff866a24f3b58d8e40e41d6ed0f8ab75af4c921cfe1d25df7a055624d6734f0a7b781b0c5129f5fdd49d58db46ad753bc12a4db9303b74abbcaa0f13294038f5d5b6fa38b0c2f55546b24c8730474f6a5b25c88a41c77ce4f621b042a1b825da7d707f40742a88c408074588f879af28a91630b781ed35dc36b156b2bbaf58039e4103ed19c41293f601c5aca4e73cf10aa5d3612b5a2ad7276c7927c22e127c1e9988b4cf9f6da1161abc8970fe2eed9630dd0875c2db1d489a5a8c3c1c2849f1207e5db2c99096c636168d1f5a1a174724a0710d7f94365340f2b353d61d4ce658bc10b91fecbb98bbd3911cdbc92fc8830bf296c46d71dcd2e799a3a92abf9cd219d971a2bd94739079dcb5310ffe02b1b672dce29b475673abf555766b717fcee20fb499159da12536cad801b10b0afab85818b7b64efd1bb7304bcc886963040d48a7ebb39cfb2afbdaa4e6ed6d4dbadc87d55d8c5c9708876ba4af653474ef0a707621de542da88e662163c97d318e6e9906634925b2b27ecc65f18b366dd9c3ca09a46ab4efe1fba4a061d7b89f6bebce3b578bae120921118bd112ccb43ef15af6ad71b1aacb675bcf8bca06b08d4a0d14d0c3759a1de9cb9f4066899f2e47ffceb8c768718d8292bc57a73776be21e16d2eb5671c08e3d11b998abf34ad8a62a59327a5817ae52f35a1dc25411fee242416b66ddd7bc2c104f85aa7e85b380eb07a852759e134c846559159318fb677c602a2ff95012555a9f8b271a4f301f8e97a40bcc6c95bb8c3ca0dce5c39e745d4fb5e5433d9c0459757aa7f25c10528be3d20a59c8b7c5e41abcadf2bc474f5fe8a2ad5c417bb551ac63ca32c8a7db07a978ece872177c000d6073129467d96b245b90891e85e6334df68c8aa6004d9343d5fbc747fab22c0ca317d622204fd0412b2f8e30d99bd56b707b90e6273e903f5714675b4875af658a8a8c542165d0411e5f60ceba75823870a82abf1d4727624c21bdbeee92a54d395f8ac94504f754da1eb7358687848ba7e043734f06189be42f3a412e1105b2e03e6bd08d92a35f6dae2868a9258f61509bebb76aadb255c890b9be705a0a701e42c16b781f1ddc3cc4a6d497fb27e9816515baa22b97fe1d224b73de5cfacc9828145a30d31f9bead87ccc7106d6c77ec87db709ffa565c852d825005c47625298a172a3e279676ee07b22eb2b820a833d2eeaba610660753d7d14804852b29ffaefc4398bacdb5fe2e47aa65d0db494ef78280077a35bfe00b4556ff1c761eeadc72a40410bde304edb59553d3efe8ef2c15a56d25ba49b0c8a617ce8b3f6b1157a5c23327aeb27f8f9476fb879afd4a5dc0cc330c44edb6cd518dc5a4392971bab698789572b04915a7c47e05e8060697de9c9ed0e263619c28a121fa82aa10cd2928b06fb406780694037618ee38ffff5e2e02f9435fafa3b3966456e258101f8a43035cbc316a7b83b84d82a1f442a817dfe4eec0e6c56b51465342962636b6328413e6bfe6a5af3259bbd37dd803e2ada98c422a595bbe2c1af8fb35c2e928f310e9e4f5649c5eca5affbabdf025d52ee028c98e612b2026b1edbc23427d0b56f6178599e9646c14653d1533f5361b0f76c3c7cfc154a56c9055dbd0302cf5dd4bbd9cd2b28fd181a32a47f6aea24e9c2dcffd418f8e2fb3e09ab35340540693a69275908ee1026d649e37bfc2bc56298130a6fd19a7257d0a68b3d46bda20f13b2e725136e0e973a41dcb38f6dfdd86d0f8ec2b5f41baa4d58d5dfbbda6a9332c56736fe548e967328b45480ccd320e3709440f84e310eef0c58b485941d27b67131c166974aa32c8cd1f9d06b29ee949dd8fb6f71e8cf73d25961b4664932e7d46334a4745123bfd0de10b60c2a7db10c87e0c47945d4f871c882907c040017a4eb6287afd3547b7a40a747416b4a36038604d008b45762dcc31d6da1bea7cdd593804b93d2d15845eb98e97d3d52dd6266a8fe7eb27811d629602e07e745ac1302cab30d8f25f23760273fa3aeb4a3ca28cac6fe638c87d90bbf4a30ff104c2a74d61717424df7bb91052b6f220fe9163b1b2b08832fcebca9ef585ae0dc240d11a8a248bdf5d3512904b6f9b93d5362e4bfb516a5251a11f926aa7676bddb54006ec827d49015e7c1b351b59133e64dd1dbc0d088e6b203f07463e8c1ee7d0fc25df149b3bd2ea198b433d92fc4ebec34b012dcdd49cf5182a0c0cedf77b5d3fc4ee993eff1c8b95933ebaff13400d4575759b434263fbebf77dac88aa4fa24e07ed4e39c226184fa1afec3ef3d20b86f6f8395a198ffbd57158aba51efe6db9795666d2751865ccd97206811d726da0d47359c6ae0e835a484dd9b978a2f0a3d2d71214d788e8b746fd40448d0cc1c86eb245da5f56a1ac8601c9493447bd6e340c3d361c94373f0b607780d2c4bda44a46171c25c530513080e398877efb8fb7032dcb05757c82004290964a0da64447133ba7aae36de3391cc738b60605c1c255c9358ca48bd58bed909fcdfa76712c45ecad1a833616ab71ee4029a454afeeb7e538e19b779ad8f8d33e83779a34fe93bedf048cc08ce8a4b8a84d7a5cd6fe46af5c360f0c1ff5a4df841512f9001f07fdd6a6ca17edb266635da9bb229e27a6e98ac2d61cefd463026a87aa4115263f7cff8b556db48603999f7165bc6e6cb9106c6d55b8ed34d78469408ee89390f5024d0fafc3b2581c8254da22465a642699300f96068550911c452bef6d17e691181dd1b1cf281a666785ee62214197d60c1438c45038a31afa4c45feaa86e5ce2526e99fc8505102a6b2513d1c5365e73ed20739838a278dbd4c57b514aa282e5d2e9086e4a08bfc40d38aa03b3292323baf6c4c7ad61bca8d8bced8b897cff0d6a19739bcaa943b8f0ecca17f100f5a519b8166977220539959f6eb68a687fb7d81d8a6fb803462472ce06ba462be0dbb0abc5851584f8dad14ae44b75d8758afcde6ee024d561ea11782ad752af8b353035291ecbd9186d200bf5ae325dc919d2d51d7d6eb88052150df90262389831e9262f1b5639ca94f65dcbf08515c0d8568a787fd4f7aa7c77ea73c2eb1b12563232023570b4d8e1972b8c2635b299228dbe3596dddc1335dd5a2c85c9bd30d0d5143147b01480b59d9c76721a30acdc2f52b0b685817c813c5abd3cba9118161de1ccfa10da0db27c366307a3e72491450375f9b692c8b6a4194d6d463bb830b9b021901a79553d00a4fbd903b7371732cb34a0af5f3e53f7df118475f2a0eb632477a0d2371aea1e376c8224791cd645ec177c1ba6f8d78640af4ab294c93e28cab9d60623cce603d8e60ea7bed800d76aa23678d3310fabd466d8310fe153517a36226f3f08266101489ab26b2f043780f5f584a384a87d17ccf8f1a12ca5d2a46fad2bc04ebbcde7ce32906de5f81288c11d7e050d479466883312ae51ac1586ed93c9e18d3174dc47b1000213ae2855f04eac4b8bb6971aa9683a2967f1ad178ffc3a45fef547973fea47a82535e24a01d04bd1787d843751f59b56b21af3dfc3d9e4c67d9e5a49e3ffd564438e72827b780f1f5a8e13cd29ba9c905b68bdd36ef97718e33c824655f395fc6b02a5590f27dacfac2c6a80ac87d15cdf779291444301ce46b1dfcd5cd784316b6687781dde9ded2f3c10804b0c0b17f89a202af8c9f836d635d10cabd86e3a43c6987d56194e761bd70096558fec4131904661d72ad092fa9b216de724231e302ad9df3e472103f7994844784feb218064e4b638d220ab0f8fbfb8ad4f7866e9a1680c78adc557498708284d348c174e52463c94c269b8d8a599fef98c07e7ceb826bc9837b695521b41bd85cfa7c9c9d77808c1386ca040f601ef4349cdb8c686e52c0b8ed8414c1a1403717ee801ee4745e9ab55c5f47660f13b12600fd6da76d03725f28ad73652d5f5cd6165271ca899a153c52877fc01cfe5dbfad48df0d2c38b8ec3dfb892fb0237ae4072fa8168a761e9f5f4ad95adfd5c1aecf1e3af16dd872c8fa0b83139a0bd9f83096c03ce6c4a6de5d333bf5caa1e369421be6c06265474e0a11d66560fe60a29033e346c8d1aa389ba57ab6e480b97debc77418855261b25757db3e435dc0ac537f89ab9c74751ab3c3a57a5feff5d81a65a126f87e8734799b60e24f57858eecf035e1e35280aec77f47ec38e10d4adfc589d7db4ea9163070a5dc3445b1d9ccdc472142a3b0cb996b85e7bc7287a534e24b80becf92ffa253c0f3c9e89b9c609d2b2b64720aa51a0bedf0a56dd8700ed9cbe7e7ff2b1dd2c8cedd2a8c55f90965b265ce707c501055d231630a3eb8150730082fac695ed4cd834450d5e514b21becc41329be2a3ec8a31b49eed567c2e7a0d56dcc23163b3679c7aa8acb59193b1fc88459908d6c27176a28cef85c03ae92d14c47c011ed4a5ce6004bd3e7743398588fd8add9f129d29059cfe36884b10bef81f0f39cfa5165519ece9a37719721ea968a83c573255ad578f96066de6d1b8d5bcafcfb7df5b2389592aa6b53b650ff3b105388bbdd396813265dd67a647d7c11f0bf5b3b7e4a76c9b1829fcde22327caf5aee575e649b3d59ce88c0db6eaaa78b960688827434d2e582011e466c765f819145645680c1763ec8052e0fc102423a8eef826b23f21cc8fa9b0e9694ce43f7e48d0bcb8b87b0e4cdeddabbb30a409c86c6fe647a7f4faf4b5733beb9e7ceb00bac4c27d45d3f701fa346ff68a3e739e36ddac6f1e333d70880ce16c676a77f2b04e6462ededa8e797d412742b063c4e6bbd9dd7220d540ce38a67a23c7bf69c978d45dd0b339a5e52fcd9e4e82bd9b167eec18a97b480587e9b7e4cd5fc093112fe522a38d41bcb00b11e4e800f6931b69f9f384d96355430f22ead7206fddef651269414746db7e9e104381bbb008c4af66772d758ccb06dd71401c8584abe94ed476921ee30f2f6f6e9820117bf82e4eff946e639387240bbe55301e2ae2663c9806ab49bb0883f7ae167394bd87644b957a632a9855f0186491ba94a64d6e5931567005fd965b0d7bb46fdadd5b2f2dfa555699b866f0732033ec7d280ec83fad5e44978275f0897b0d349167222d0b32ce6dc5494bc7549c44c452b95884bb4db599ef0b99854083ac60b25950919c560ebdb75e3d20533c010c253dd83daa20adc72894ce8880f841b6a3b9e69d1fc5ffcb43a353c873d428fafdc62eee8e9cad69db69f7e493cf82e15b647beead64f89e6e2d6755127c7c5202af434961f34ac53504d8a5eb802a7944f63265bae75e086859369f384ca6fb2f54460b06170e611f230e615e72f91031719b486ab5a8d901a671ca7aa68a552059284d7c8fb603c3fef5d2bb3c2d441fce0fe488eb2fb0d1992c97a1933da76a49ef9415b65f538b0039419c76f0ff3fb8f0577c1e1bac008b6a5c55811bf250b341e522cab152dfe8b8bfbe046b1d7af2207a3ae4f48f1810dce4d8203bf7b1ce438e857a1e9082f028344bb89e0d42733bc75bc419e5a003604bdd880f41e0ea5aa057b931f6763bc1c12c189583392f83ee631a8bd961c3b0e01e7e22366285736d9337529b1d4a02edec9f370f567ad9054b98c1a3fd062a4e1f1698a648474b9ea1c4f42195f8cb07743e11dafc8d55a768dd0239ae5eedb8aa16e07e0a9588d2fcd67d6de8fea9f3832337e3904c02fe8c162c0b4947011def378508157acda8be418d01c561bf338afc5fefb3dc366dc28314e98e8f2c0bd1a5d559dbeabde26c672702ed9c4225323cb35941a69193754c40f9b3ff36539783caf2fd3ab2dd3005a5937f80936c4dd80a34e9dad9283d9224a68eaf41c06bb6c3fc53c73209974c16a1dc3f965ad3c8f0603957c56e37506555c90b7bb75697edf0a159a618f26d0b20464caa679d05c39dcb71aa71ecec96bb8dcdc48a61228ab3db29fe09184cd46995a0e2411caaab623ff23e9e618a80bef094edd3833be6dfcb9efb804784f1902c53cd580b42a458efd58836d81613c44d027000bab673b5ea3de580fb121a9f17c6043bc88c15b695b3e7dd306a9d574e31fd94f0427d8810bc7ee70096efcc061e1b0be8065b5c088da3d7bf0a4e7a3add0d84898c9e1c4642bfc5dcb794ce015199de0d8bf5bcede47141891cf0f9326f962de5d493b580d15f83f4177ddeae40f0c8f3f08ea6b76ae8ed0c0656a15607c7cf8f48aea4ef87014c285dd42604f5d34c11c4fb2ddd68c33b0a4bbf760d4eb459eecc1983034cef25c6901f883033e8003a30460bf2ea2b2d69454ab7602323477f5aca888c4c174ce37aa0629823494f58cb51dff539d1a3407feceaab898e3291a7ff42a25971a38ba60ad0265f29f202b16f3604e4a0a47223515dd7b26d95ea14b8ad1efddbce99b066cef3b9eaef48339fc4fd2b1a021a35fcdb17e56c49075592e316fa93e0ad76af07b8852d0ad96a6d356e4a2fe015822f16979d7de10bf6c437d13ab23d3df3b363aaf37803e19315f71b298503c7bf747a8eb9c112d26d3a64bef0e49de2a942f36ba7921a8c10c20e1cb632839b7b56ff5369e06c4fcdf93ef175fc03279bc5990b3091c81278756340cd56f24dd03afa2c5640c5459227d2b3baa06d9ce59ced2289adef9d4b780cdf5930bd650f0b61f39a30f33681fe2ca600f54d2f8322d718329e926a731b95acdc3e11930d0ebab9761b45eb02d4e93bd523b3da962a978465cf81400e5f51517b2337b3039fc8d25b26de5f22ae1db0f976cee7b76ab2ff8eaac08c486904852bf3879489310afbd65ea95bd3d657f437a9e0c972a90e717723bd0760854dd85898c5ded4d7d1b7732465d85a79a3feed179def6518a46f6f8d9f70b0d330ef211f0f07e3c9e4af45edeb38fb71527317d10de7a573e7bdda10f1fc1bf528f8d16b455bf5783d39ac9692ffb6d9d8d8991068817f6bd331b7b34817025c9ababd56af72f15a52a34ffbbc14710f3f1e70ba1657305e4e11cfe55bb86c3409153e11e5f1e6b2306a00f542e262509758688cd2cdcf4010406f8ef57d6c01437323c68d1a32458ced4084ac6c9eeb87aa82915a1791137c7d3899bd5b46148e9bdaf708379c70df9d793ac343ea33564babbe2c1e5424697f8c87c2fe78d9ca913ca0b371d09f9c3231cb4a98e87619b811d2eb608ac39d74ac1d8dd9179bc716a6aa2e48d33b2666510b79992837f53554addacf6c21329ac4e7bcafe2a5f6e8fbd0ec01bbc3c4e7580a009743a287f8462b3467643ec2d6219431ea9532425a7cc24ed557fc152af9d4cf5ad3267555afd3a8274fb050e0ac3e4b34ca29e2532a92066a80594c0c870fc0845c68a1aed1aabeba1607ab24b37909458c91ee3464e387a674322a2f27e63606898663dc5aef2433b8b76c63863fcf4b4beadf4100d51b160ff2ce4314d54622988790a47340bf9359f7c1751d2887c60f472db02664e42fbe6c3f7a7d1060e23b37d9e8934ff6e32ce428114cd5dcce1b7576f75af6673d8c52d3ad7fbfe013b9d5b194e15496e388d0d5800e92497983a2057cc2836d7994ddf1376b2c5a487af48a9341c357650a6f020e08fba57a9cc0fc2accd06abc1c771d0410a856a12ab0e33c48bb74a6508b91986f96b70c9a2cba0a198665fc0c635d663f33d840f050045e33066e25a3b200a3b951a54067830fb28350b59c76df5333fa361a6cb43d7c82e6e6d9b6e747e293de1474633cf5a995e62850fefc96f6b01000a47f7b1786ef125420596c8edbdc64f2c4a7c4652485484b2076e3da0e3db4ba1c859dac5291014fa45cdfb8b2e087b48c16fb254a8160ca62d795658d3c4cf591b48442e74be08fc156e61c52774986ee3fdbb5503cb620b394c391133fe9b7827f872da96e98963b84134d8253942a7dffc35f901dd22abcc05f22eaee49b177ef0f031ccc5836deddc0600f56aae111e67fbdfa6ed0fa1cdbf3ce9286240045f57c1078e2486f6c0518346f3d9a133d71d4f2f8da53f5aa465759de4de5323ab2d49e56e5d03cf0ccf88ececcde6f26b083e41d718b4e4c9a3c2ee1dabb357a6b17f26889f4b8cb254784fa75a0c846f2b572b694370afdb952538c352adf2121991f206228d13dbe1cfe0cec53eb0b35892aa6ca48abc28e045717535a90b3e3ad8e662c5dc552048a1daa37fdd1b804c30095393bac26682f9e13b72423ff4d9fdee44fc63c456f8199548f28a1505b3ea42819a94de753e9031acf4b165c586dc59a325975c4f81f9f30de8b20c36cdccc85a49beea6e7e03f1493759c2b2181ba12a3eadc3f9cee5b49d0dd7d46376b46be89d06bc1aa815be4a101498248e5476033cfb675dd641c7c2f62486c9dc855fb5ccf23442b6760c92bffa0724e8c5a164305ccf900559733e0e318d0948dca2fa3dd938debacc6bd87fa703fc0c5eafad15fc7f2905f3bef0ade83f8e7949fab2ed6df2c67764ee45204c4ebcfc3590580c6c77ca1b1e8f28f00d9741fdfcea116ea6b2b4fb2b1325c573ad14c2f5378b0d51064f4170d0791a7762add5601adb6ec6a614baf0e53b1133db1cc81f9c0346c889a975af1c14ee58376ff9df597eaeb7c68c6e79c450f5a144c279f87be0f020cf0bbe9b9355de83f5c3478782285f96a1eb933a578743268c5d62be0b0959b9c5b09f4ad56bf4551060ffae7be110d66e95561ef034078a3ecf4edf281ce5f180863a916bb8083e418335a27543a4377b05dbb6d5e634149f442f753ca6441730880205582e4a2a8273f28be56ae1c69216eccca35b690be936a2ee1e7446ae30ed704af472f96693a0a245e8699935b7d0251f67e6bb018aebd21908189faf5fb6dc322a42771cb3541dd1b13563ed3bf9a04efe4dbd839d093bf7f2a60a58e01fb7441c1b13e3f90b3415c57f266a0fdecb8a37aa2af78b651d8be0157c659542f100c7450364ff2c07b5537194e4a656cec65efd9c61243ed1ebbfeb2427c3ebfa04e569c0970d268749fb5ac0620ef6cd4451e8202c7afddf144a07b6054fcb4d8ad2fb507bc29b25aa8be28a4a27bf76ffb0f914883f00c4ca6a725b2b00ed0c8fc35fab70f12bbe37c5f5e9f9b2eb279a08eb1d3eb84cc5e204f49e537a091ed36c7b51e89c8de8cb03293f14b2566a5493114a13293b66d020296c638f32bb80f53cace0afe559050900fdc9b04b66fe4e01013dd877a025ac87f83f31b82de0fa7ba5f109fef3b84d9f461320cef0683f024a7e9e4c08d3b8c014a51ca6aa7647d5346cfed37d16f8de1dd8fed01be38976bba70b3089ed684245e2d756be2d0e9c263029ce83146524b52096e881f093a12a84361ef05f815eef9ffa7f88fb32c5794834e0255c4a5f99fece4d5be7f8e0b1658874c78d391eae1a9e63ad41374a869d5d8df65a61160a2c93c8eb43c5840a07850ed743c6773858c92265eb26598dd5052a6ecfa49d23e9f791fd2e85a6b3581bbe0fb5c63c59b51ac53fe43e50b7deb726089b633f6d2884dc8ca9468d6ead221a37ab44999091de765f1e9cfc693e73e89cddc13ca06f08d239951681859bd7544648dacd860e06debce6adef01b4251fb1e17f5d5300293b6c841db46e103041c1f08ada1cf5e21226b694be912c5fec5a979efe048531eda49b297b30924e0e20b8da4775658658b2e6489ca67829e232dac9f2b11ce1ce57fe84cbdc90e3eba8d181c34858cfdc5d9132eb98435046de53d5e35aef533d6c91c83bdd8222e5b05e4e5874c9c7e5d57b00ebdda98d9cb92cb642cff54601a57c8dd9c685e58bf099acf18b38f4784a8d30e5ddebc07018a8b15cb7df790544c988aa0caf7de9a9bedb51b4841ef1050c68ec2e6bde1b36811fb79bd511aa6fe254b136e1a5f08fb65d6adec5b294a711ea769058ed4f9f26f9799b234c6737932b92685b595f70b7f0c84c132752f50ce1b48ef301d70de1c07b725d6bfc05f76c3800f8c7f050b9439d2019f4dacd01f8a55e2c6774c633e1d8439053e0c5e62a01d31a61f811a980c073dbf096c6888f56d87db3a643c60744115b0967240182c4339d6a72f2253e96da703a0d3c3493257de6a73e5cadb10c56f4ac25eebb86105c41946ed49d22ef099852870a8bbb090b27ad8b8cf6c766f9f0e12995b08a77bfe0e10b82b848c75a41b4b0f5e1549ddc5d0bb864fa6426b0a980695dec8c071ad3ca22ed2312b6c9999bbaae7344fa7b8732dc44b85a78768799f7ded0e70f9ce5e9332ae6ecd80c62f392c13faf6320c1cef8f5c7acf637958aad36949b98b8435c5973533f2ec0a0f3dccde768ccbacc9e4a2657943d8d8a78d796e9f61ede9f0ec58a6d481d7fdd4761862084a955717273a7e7525f5b1ba29bbcd853a37d80db0fd7b65c7f7efbab37d7159192ff3addc32dababdb5105353da6168cebb9295c1363e5972ddc89588e419f483cf3a2d18d452245127dc373ae4b4cfb6cb7fba00b1d4ba119146f4cca5da8e0cf7f7905006a740248581bf0d35bb878f56234bee50e60998ed283eb26b5303d1e55a8964ac970754ad281cfc97edcf36d28af06036f5945f01481af1ae31abbb619209f830e09170bccaf8fd63eba7b44a86601d45bbe2a1955830e41bc4a9f98f3805ebb83c5fc6b92b27e954971656dce9df8d74dfce88f434ef8861038bf53616ec9f5c4d17c6d1d3b5042c7cd2c42d98cb6fca14ed94e6ad168de936449b4888bc0cf95207f281782f5a4a936e79e80c61c6c117c0be6ccec8475b7764b3dddd1eb28d6c3e0d3d1ecbc6a62a0757106a638edb45906a4aa86d9c9bcf8cb59a125bc406b2393997c194cfd73ff85df90c007cd1eff2c2193823bf8002facb605a18cd7ad403114cb85e2acfa55bd80e1bae6dd62e99624f07398ad0ecade972618908f158cd7d9511b73a96283311ad92f81ea8172fdfdf13a8ea147a0791b0f3d9140b6cdebc5353e4540b50d90b98ecab6a5231aeaa6ad1df1043836fe8b3f7863bd666e6fb76ad56a9128edd00a00d489bea1e610ae7dbde462f2952defb78373d57f12a0bb545c7e2349f9ccd8db56e1421d69398ef980bb766944edb0543b3ffb52ede5610dc86f65daef3cdb7cdcaae2e2653d4a1e0c192bc8a730440e3a931fcca01e3e621575310b7c1948ef061ff67a9c6d7ea5854b5a427be68aa83bce38e76832b64c7d1bb1f2c92aa84e36bb8103cacc788b691705aff5c45d33377b079a28316a49759b9f8bd23690631bdb30140a785eb3def8d5f5c36d9d7ac8353add43aab44b5df21da1bd54adcf4956e4b5fd2f1fb416428f6dad7a1e29a1e962bbefee2d5056d399b25f50c785f16e2a1463cc67fa868571c80d22ffac2106707bcfdab3639daaeb1a53da26a3be6fea2858b6a6908afad646760514481ce99f45cc159679e58b2555027d398f8baa271d9e059be81c6d16499054b3832496bda5277745873b7dc3b498014521f48558f3f8f4ec09179905c7b55400e2e4463e985028f9b3c9796854456e152a0b0e455d17d51c60b709c3fa85135cb5582d47c29ad77a98e00b807b9a60952b2f4db68eb0a06427a7b748a666a8833f7223eed520c14cd59c95397989ec2a633190bbaf7732324fb505eca63983728585f9e09c76bdb60af5e7944ef1be6382728e74b5ee7e9f00066a0f1fc34cccbcec4599ad8e1e543deeb4733b37e38ace8239fe0e628650ed1d0e20256122ef15d59187ae53c277f5e365a82792c832b9d4196e57223c9df3637cd92e88d9ccf8cd16509ec6d91e91aac6eda6eb8d8f21b6718c958844f89977aeceda65baf71c1781aa28d1cc7fd895be6abf9961cfb7ac1edf6c72a63596d062274e17c51b7301601db46a157c2243fb9ce256a285943aa2bc7c32004af1138344ab275a8ff7d6060a45c1ca0965942362fccf34665a4442da5fdfdbc714d6acc5b2ed2ec75fa1a6343863da5d9b5174d74e562757cf5168de9472cdc75f0c7635859b000cac3c4d51de9d6950c9d968c249fa895260f4366e864e1cf81c4f18807f782ae645e1e5c0bbce72d24aeaab1371f78c5cb0ae22a4449ecd32cf085d07a17543296f2e451af0d87a0f263fb295be2ddb20eccb879d1ec9f2ae0a64e598392ed2398a62512a284832a965e8e9a51388682295b87e9270fb5dd3f7b7688dbd6073908945f2ac20d98815cfa33c45e2fcc94c8c6cf8bce11eaff823968b0d012cf6839b26e55767b273af5ce4c6bdf7a5c455767d45502cfb98531d60b96e16a9727298049802e958bf3d26321e73acd51638ff7585473eb917a3140523d8da2b8d72901f1ee3b89d954689c8555a45e5ff7ad3129b81e616aac384a51ee4a8bf271fbccb559dec60f80742a277c5c0eb4d17ca9885fd335eb178c1ac4e7c0c7e1af818086a816b1e3865121d8554b7bd1c55b757f1a2f8541799f18c6737a283b099182a49c352bd3fbf2c3306334480ef0f6c3ec33f36e001e3d0183da63989dbfad38260f0fc22dc92b4d454ad65c6cb4fc1c1aaf9d00185db3679d2b588a8df26bcec811c762331e5edb4b068a92158b0e50cf85deaf691c7794f87dec738a6b2948bc349de7b14b151371c7dbddaa43edd3c3685e0dfa099ad78209b973029c96540392f0c2bdefd8f5a18df5ac6355c3942ecddafc63d6575e3a164f47ffdecde77e5d3c184603d31caa913030aa5e8ecd620d285584562817d6efe1c0ca1fb76dcb6f0c531c39213b4fc428c74c39b5c6b28c632776af950e5b5f5563f697b6f02c00d54aabfc1f286f2a42110c62314b93ec00a68a643cedb3ca962d918bc6d353346eca726ed2c98c999ff95ff42fd2267c3bc620be55f8ce3728b8e66ac943f679b7e5930db4522db58e916abd70b9fc688af81bc300844e6a5c25f5d1f51e4fa49bf385bea7159d7b28f1d7da28adfb1df4fdcff8ab242664bcce6213c9aa997ceb7ac1a40ef9923492d95fc1c7465290b09141d923c99cf48f4840cd7056c3b3fbba0a8da7e9886f5d197598b6f15785e19e02250b1fac854e49604a17da6cbc9d78044c36d140dbc668b6756d5218664630cb7c2f99a217e738a270fbcacb004aa42e429941c5d8aeb2f70a03074540ff64c0279e38512a51ed0255ed118750f50534ab3fd6f8bb001b28b0d6c29c69eff86853dc63dbba39b68ef2da3550db2d91db9fda641c6005c088a25037c2c7fe8a94fdb122035e23e775adbfe122c1eb561eb609fa691b381368317b97e80d042437cc943b9fe9d9f5c01bd705a684d92477bf15f2a442d96e39eb29b01b48b4f27421eb027500f1797bf7e16c2066f8effbd74998aa52d818ce3f14334d37f05667afe17225a1533506898cc5f9c3713e1dd6e0346cc1d0a0cc2d49cc8c5a25807f33d8df77d683f8741691027799783e70feed2e3f8078c73385deda53cca2ddb82195096a0986e8d6f77bf9e0e8cd5f89571003d6068ca28b0d585c5ef6c81c450d7633ba6857b21348729abe28abec47ce89acfa83123988571b94e94c66c5a21ab068f2b7386dc78f79cd7de01c6735ef3a0c6c1af26186f3a9681785a9c274ee89f79c7161b69fc178651da4c3c8633840f6ca0fc3f928f197e7094231faa3f27cae3c65594e0d09ad1d0c9f984d1be918ff9e04bee7c939772fded241d096f04284fbedaa4f2ef12c41aa31c06ed53b8083081a506df6cd9db38759c63badfa75c367d5370f54fb696d6a2c4c0eff89ef1507ca62c49d830ce18aa08e7d2f1b6cad3b106c01201474d060b1fccd3c63a2609769de73d9944a9ecbc6d65739651ac5757c626eaefc053fd026424d66db75624547ba64ba9607be9185b30c61884715a7a998e686a816cfcc3d1d676e3f9325d4f1f8d79c98a98dc2f23b5529d7fcb5abf79a43cbcdd08c24fcec1846bd1e3e412e5665ded640e78af3e3a9be8ae6da610eaf15c2739a6a68537d71b64106274f324fac12917ad92322aaa61b2e5100ceef77cf70ae0ff4092f3b8d3516bb203a4405c16c0b44fb971ab89add938b2d7539d410d17a67dac31e56d679e8f56e48d3cc51fd6a796bfea99f4a8fd9bd3de83774300afd20296267cdfae26d667f934698d3b9f0f7053a90fad5d57553f2d8f7ee5d24aca78c8c28d9aaac21162fa81167e3a6299423267140191ef9234e4f346f5e5ee8550d9908fb1d3c84e6c6380a603d94333842c10ba5c6f15c8f62559b1b2b337b055dee8d81d3a0668ab061a4e1621f797c9c6feeb4b3a7cc975f3151862f6b8bec09baf2bd5239867bfa332488e9e2f655186bc5ef126e5daf5e9dfc62655f8f7a041608295986db82dc68bf7cfce5eece73f1950179be321f508286cbec1e45893faac8e505947b1a94ddd8671fde572e1aac91fd635e8adc5943d5e6b4de2babc9ce3068310eed06ab590608287e79e695ea693312dd6c6a905ab7ba36725ac5e9f0e823f195517e72ec277f967c8e298f1e2095963518efaef910a11f47c78ede3c869190643b01bf7136bd662e36f60d014c850ae4dfc80ae4ba37a84ca9c4d4cf1e79175522d605ffaafb47e8b9c617930097ebb376812f7dbd0a53ced63e2b2477cd468862473870711394d4e40d3982387045d40942c94d42d44901c328cdf569b9e475203cedbe5256c23b2dd85f50b96c4d3b00f83addaed97140caaa3b077e34f18e7cf7e561a7a34cf59775a4e2c8bf65dac30974a513e24dc4d0767131396964d32fac5b89e0598d69c645764c794701eba3618985d75b9c2cd5f78099c900b4111808e67450fb7b43ec8d2f0b4395c97d0dffe149c87f62f6ac870496761f821ace4833a624851057124cdcdeb80f240bde064218784b1e0d2cd902a5158dd50317b924fdf6d61845bf2a47936459c469760ec5f6f30333f560b44b22b53aa0e96889d966c2f05cc4b54535b718faaf28a23de7dc62e6fd447a4db2ca09bc37fda4e30ace16756f9487b89fa26093afd8e1df9f7cbd5c773715745cc1610ddfbf2f76c1aea1e1d30cafc02e438adbdbae1eba2b2f2d7dadae19966133d0895409272db8e67e79d2ff06536b128d8e8833bd09b48755b17a466ed66601be72c4843f9507b8f0bbd4abaf3c0ae1849856cb025c77c14cbd8774d931a41b7c6c321aa5bfe860e94c0ffb53a7b0414740892f68812bdef4d8ae627c73d76cab9e7b44d7d9705f26aecafc6de6b257cec04b9cd15058e12de304f74576b139ce4b98e2a2393aa451829e7d66a68780700fee65dddb62a427f9d6bdf4cbcf8f1b064ff92ad065a27b737acf1c4b34d30de1737c9fe4a2f2894b8b500a83af2faa4bd014e8582e6c29331a99056b3bdbd37a578ab008098956b837a7cf85e1a07e231f1f177d582274f0ae6288e993ce7529cbb8a01810bf3557c33fe493d95f734b8b2a989892413c88bece3270035b64e5ba5ee5820fea6ab3778b6fb063689b7d1abf889102fa959797a46cef8f63c07823799ca8ce5237a79b7cd67636f7e2aa80dc27ab783e6057b9fbfd9afa62151dbe8a8673c5956ff91ae000d35f5c2683b54d5ee57c6cd6366dccaba63f53c34e9a8cea227394d6a5165134ec56b68210cf5abcae6cf29e1f5c5e31f561f66ff004dd9d8792b9adaf879d0ee5a730a6d48c8179888071bf9081a64c0cbddce068981b62433f63115c9eabeb3899c0bcc1077ea18d702b0557dc4484c61efe25101406bd0161128ea5e68f4238cc72965a1dcf804136b741895137ff5cb4a2a70923eab542138a2dbf2f059dec716f475ddb7929d9681d08fb757c41790eb56b412416612a66e60ec313922ec04a397bc30899aa0e7066a77c99e8284da4d7949363d6b93c57f560d659566e1e4f9bfefa483f0a56a3e72b2cec66371102b9e0171f3086866704c5ab3f52e6d7aaaef1783751611cc80e241595016442849e8d891819659503a4acf6e089885f097dafa334786c5fd6fc6ab986a20426bb7636a7108eccad1a553580021df2f58f8b77daa7c3236d56b071cce9ff167765386806c6b893a5b3228b8b5c0c1d7a5df9da47081f62170b42112a498e9a40cc9c3ac96ca84bf686f4fc5a3d09384b9898a1c1f14dd5a479206f377480609cd60cc2f4f2d7c8a88a883021445f6de33440534e86754a7d7ee75cee7e155c0158f55017a6a169b51ab9ac30f84757b38713a598be33b6fbd0b478f85730efb1791f9fe0f15c2a51edd9f279befcaec2d1dec91ebcad4894a12e2569e9f2a44b8f1c6f6aeaf5850a4a54433abaec4a09bbec2cdd7ffa5cfe9ac34ff2ff2c4bcd7156273a6f160f8e0a606474f356157572d28116a73cea9e6cda4bcf31b569ed5064878cf7745beafe9087bfa3d048ff868065ab04103162dc4fd2dddab332bb65b97474f5f38e6cbae4194da54a7dd43e3a25f23f74e222f21580a12b71ac4bd2d88a4fdc2744aa5dc74f944b1bc517f9103bd67016b738f37e98eb8b2741bb5e106f1a4c0bd00e9f85e43d2ebe7d5a57c64847fc613597a5df75fb1f0235e5bd076dd645b6eb34a5b4f8bfcc2194b5442e071a43a1fd17d283bd028f20052e77125b0909dc59232bccc43a9892c33b556658f7c45ddb0d44db6c6ba541fb93f86b38b03fedc4791ce2a4992948515915f2095480920b2434f2c3f1cd1b0fb411b472020102379bb8b07e3496e4647ad4c49117e452867ba7a0c2639f538649fcb44e904d8c73a8cb6d7da3671fd819a9d84dbe164f7f636828cc78ef9eb911f622ad46e921e4cfaf6501263803b34646f6b912869a1f77b89b6c9b6bd23d6318334f992e6fdb486b65ac15ce0ec3679e1e1205dbf383158f37f6662272151b13bed0bfa834316308387e4a59615be155455744cf962701a53a3d3d4df70d627caf6c83f033a1955365bb8941a438120a00bb0780b60bc77f07813a5b7bc0bc2caa8b6b206b6a8b3063d5ccfa0a0df84b90bdaa24f0c3d42b4c70d195420e95cca29bc58c6e0c59360d5386f720fe5d4a665b1a4f56fb62f941d73f446108ee1e692a8b2180d7526406a61f037dc227a44dd43291abcdd7abbc95109f5982ba2f33834365af919aa363966c221791ebb1607d8e729144d809800890e1e493daffcac24346d11475a038355cab86469a8daab2d31713aeb5973bfc7492f7ebc081f9fae98c836cbe73c642be12bbd6f38c9e57d106528d4c4d3d085e20b67e1494ea5844110deca894630e075c3b86d7561f89b4e7b9c25a85faa16c06802516922dbc62257cbd7b3bc022dd661d323494d60621811b86ae7719f99fe2788ab0d544fca28a2451f686bbc77f14bbe749ba70362508f64d101dcaff603d00a4a62b502c9ff9fedc8809458152f5c3c137b55a4147895361451d87d5c8a2ed5ae6e1dcd330490376410eaf24562101bfcceb98f26dd4fe13b69244fa33a331f0a81fba4d4729ed2e42e9bf0b6b0488af671c150d3e7a6b01d4ac3061dbeba8beec7431fb58cd788c28988286d38f34ce73c7fdbf958694479c16719f5951a2a1e3c1c458c136baa96b6973b2f5e561473027652797f5291ad311162c0740f065bebd6997fafb110fa7d803edd164abb713d4bd417040c90e5d047b74c248e1a2ca37a9e0a12c2aef1248dcc31552bc7ee1924b36078d80bc220a2b3a6a45e78eca2ed41b8fbd033d039161db8a1393296825ee722b3b9f867dc48136519daab8114afbe090f307abecf7ba8cfd22f724544ec9b9e74f8b5942a1ac8ded01e32b29271cce46f122977f4acf60b4cabf02fbc57638044243f0ded819f5b963260c6864df9b24db02731903ee6648f6a2de12e629069c095fa39446e87e925df1693333aba238915971d4ed78041b09ef98851750979bf26c1ec8dc87122f13a3d8840d580ebff841eb5072b879e163f7d52a17c687a86fbc7051526b7ebeafb4222e16b9a4ed96c3e00c27988b46fa6adeccfab50c05d52c4de9385a3db0efb0a3ccbb387e599558dcaf50d8bee676d25f2e0ea89109aed4bfc60339347db16aff1e147d455d32ed8f225e4226796c27f9a254796caa3ef1b67113c6d1947b1f412d769bef5e36a47cf6ab86db8fffaca7ec5030db914ec63b5e1df2bcda4d59b1e49cea9fa1f55c63fe50c5bb36edfa9f73fb206a50c75d8ee9e12133d3e4df8215e4ec4a592ea1fc866ae3bd34d66d85083ed5a9be1396d8376971eaacc11bd2b94b1c9173224e4879734954daf860f8b9a70a6c49e3e03a1c7b7f4b78ce15b8c86212b43c34efbaf612a5a75b0856b7e2e6c61b5fd4b4028ffaed88284e5f016000d03bf9e83860f4c78cf7ca8749f23795e2bb28b5d5b53a2e4bdbf2f3514deb8e808eeae28208b8bee8faa98d743b5271b6f486cc246be4fd6e275ac1647b87550703e72f78e81b9bcea776040a648e8470a18d169890d0dba033c49331915af42544bc7d88e5e4528ecdd455e4b58e0fa9dd22c9b54079384bccf5c106e73ec6d122fbc9b42dcfe1d06868ba6e54e61280ad9348bd0799ea0c3dd0001ab67859baf2f72b6da0018da4092e8c15789e11c479810fb39d8d600b127037421cef7beda0d19c0f20a722689611ba3406f4003ef82edd0a5b5dda803ab22882ec4e22cdd0d2bb62b4375c478609c978018b93dd9af4b7792018a038e045452732d88eb5a6b8366dd8266d0e996eb0a44af0f839a31f2bdfc4aae6831d400f56c3e17ebbcbddf5dfcb4f32373af1c29b235ffb9392b54b8ad70ab02f26e89ce98910b38d77e664bab777860157f6bf4f5d302f0192384294f84c4b89fce0cf0ed706978f9c3898e5dcf903be105815f8c08b677aa009018adc05ae7caf22ed2b96ebcc99bf029944ca8ff32dcd4014178b5de60eb351afa33ae714531e36e2d5805101824eccf58670bfddbb040c04aef8817c7b7d941c1ba71841b09ae1fe96995641082eeacf7e628851f33484015b0525cbb460d33401fe0e5e383758925428779c72cc6d13357a6bcb48ee2c108244495a5ff39c2f23b451cb6b7df7748868518a98794b9feac03f2a55647e088ba4f6d46d3794b62f3b07ea27cff8ad1d6c84448917894c5822b1e36226295cca1640afc3982f6b4d6de6d612c2e441d481a5800d987514136e4491de3274fc5b6b3f9493912e8b15aa014df9b3f59658fa0c469a05c9a32431fd53a9477c963887e6627329cd59e591c397582f38169e1d67c8525acfc42fd24b905a8de1bb6f43d61a01264d51fbf57163055a666f077402ec36e1c49cae6899d7f0d8875942cdce2e8621758b576a6aaa3ccfa0803b4889fda8317e16945a63aaad01a2a3f4694ab9fff15b8a14f4570d90faa3d38990a257e85479a4f2eb819de0c877783bb0d5ada6f384672c340daaae1e2bdf7d7987a3281e4aa86c970bc134bd97ebacca18362b6bb340753f7ee6d517ec562b7a88fc8550729538b5135dc2ad46ca789381ca5ff6db82696301625bd74061b6e3796c1351270f07b31bf62b958d0fd79af8ee4a5d8226de14819d3e09f1bc81ab0b7e02393be17bea934df8cad6d8ec763c372c7f71a4be4cf20bc436d9506812d0ccb72c8407f81928a5e6257311d33b83e8aaaf2561a6ff801e06259d6eac5b972cc4406838a8a22e9eaea99e3304e6cc08f94eab4c3b058a80b61aeb14fbaeb49b69db714d80124bff438230b6064c5f8ed7a8a5aa3a2c3be7a4ee8317eddfa5bdda42d5cb166579662a6ce78df5ab8c84b20db9a55ef5cba1676b7fe4a85bd5167869929b60688c645394fb776bfeb25e4e8ca97bf0e23c38b019474709446b16050d4725afa17d6d5a6d908ccc01197439beaf9987d76e47bfc51556df26005f84805abd580f368291c2dec0f876e3267581c0c5d272193b8dcca8e7bdcd78f3302ccd4eae938465fe9a7224de5e468c1bb6ac48dd1389083b49d07cc8452e9c67acf672f03230a42ef8058a24f3f530d0dec069a3a82f4823fa7df28861b8b530c3b89e217707de95ff857b6ba7bd4df1f483b753d05cbdbd1cb676dac9759986328313b6786a8dbbc7fb689cffb9bedeacffb58f32cba432ad7e5a85087dd75a0c84467440f6cb276b54b8450faf1ce2a9edf7bd927493d5057d101b6d6c3026aa61479f780ba465abc6cafba76e9f11a50e05099c33875571cb3b9fc929cc4be39a9436e1f3e205526adbb7e7bef433c6d9472ba0a08c701ab960f10b5ba6d51da029c5df25579677e3702ef3d27a7699deb5386bbe9bd86e6d625f227675fb6649f9d19bab34e5525685b44f5019893b723c4e078a2e70a209ddeea03c65b9128d4106148861a811c72f551a3e2c49468fabd0785cfbaca9e0cb2f850a2faacfc17d391032e8af2a6e1e21223ee81b00a580ffd9e82cc2b00e3da4aa30d42bca3a0284e53099842b3f79713381701122fdf59e09831b222039e523f22212643a5a6997af5bdc150864790690bb49b7eeeb72d9254cd2eb664b26af94b6409222c3e506a2e6192ffc3efd00759529c6c8bbd20372003276a9db5f7e7e6cd98e7ed9ca3deb368c448a4f7be61a588cd2a068d6de9ae1a471d67b30caf2ffdca0dc6e76c6b4ea888198e69445864abca633f02485d3deea19f7059507faa108dbbb696e1d1977dac70b2c8998cab531d1226a4ae87c43ebc7365caea9cb23c9af910d3b719b73979c8e58e0eb442bc335a00b215a4c30ad7c61e47ffb72e81038534d1af514927a787d319dc0f81e334241c0dfcb64913941a2bed84a44c040393f83edebfcd716a5f79a84983391efc96b9c0810756edd6bd3711895b94459f8882029ae5e2c4398d53d648da730a500eae7c4b1e523d618fc2cc5c00f7e4b4bebf2024f8889036209a272fa1e8f85d3af2be589f5f7f57fa233aa3d2b0fa25d916a50d094146b61187039be603ae0224dcb9e5e3adddd354c4825283daada1910d21dec1b2f31f07e8a291fdb4a8d8f01459f47c06066f2879ef66401c7885e4b3e6efbc47802bdbdeb13c987667b838ef266f2baf8c398e42e044580dc3e9a660dd5a2a0e7b27f73720dbc4b58067e256020de0fb647b6b0b0707d3b85cbf68e84ba48f8ba96eef527a7c0e3ccd5c7d1f02ceeeaa21a6b8a167cfe14f3d797c6d74eae7e6d96e1836f5c0b4f72963bc37fd355f8e65b4a41aa476a6dfeceb382198e46c39a634a6eda331fe66ee3a3f10d7a370231e6a4f9ebeebf995bf96bfc54df08c637f0136b38c0f9ff4fb80cb7f58992d95b7626ffe5cefda023641d2612738b5206c55aa4b719ba4ba5494026462bbe35e543f559018711bf49e69ac44b85ab9db8c2a3e942ca70d7d11dac4c1b96bf937a11548aa429d25c6085d8ecd4da9a7f87b694c51adce9c5bb283a4f71ce9e20502da82210630ad833928ab41aeaac61fdd5b7726f46d9b394343b40d7ad8d55e41d7f3c683c56003f0c77800fe009e53dedf11ccc9c8755889b70c3d858075db4f78da142f95f28143117e4578df11476203a10201099c922a23ec8718b3fb4b44a9c5efd45e3600e334972404134b36e042f2733b653975ba375355eb8b73c0b3e04caba1b4b5427ba5f1870a7f93378942d9c7c0fab134eb9c445b56cc375dc668761334eecd654351f5d13e2ac25a6b96244f2cc9250b9f5e08c9d90d9e4bc60319a2e5563bdd493b9a3e0e2a323389fad5fda95ba2c4a99fc3de221c777d3f2d45fb2e69d73f320187af8dc943a3db06d87c8b7efccb6f1c0730dddc4afb6fbbbee1d177bec9af0cc79d0c73d7117ccf2f28d9f9803160f55ddafbe6d5ca19d1b477eb8b2301a601ff5293b6b94fc7af5911eea213173dd5d558ad4b20dd517021455c68e749748cfc9a8089fdffaae71f3ecd3add2550b0fb2bbe08506d7a3b79917cdb276fbfbeb113146031e71910e4d42a923e0430cd766d627754c0440aaac627d2c5366ab85e980a7d5aa61fba08760d8dcd66e82f96183be0547c2d46a453f50a6b16d3887b9f1efb5f24acb808b60da3332c341d552d7aee79a87b6e73302fa92d618c56d90e815e9de1c5cf6bd2e7d34aa311fcca7a84ab91abc9d8858aeb631a69b6b1197c5dcb86b45eec8ec52e100e46c6f579dab6d6ce95697ad34d6763bbe7db5ee0f4a76db1f92d5dce29a2a3d3b37848399e7cbddbc9a94c9eb1005c58234e23745d923d48e232911d083c71d549bea55baf8c6acc4c8856df60768fd7b950573853681856090946c69352584f171dbe43c2a65ebb40c392ac4075ce910f3a7e57bb28deca64a5d83f65a739f8c6d798d9f58a4f63d6f396c75392b5251d529322ebaf5dd9b70fb034b9e187117115c9e5048ddb2920604ab9abb926157b7340cd4627d988da2cbb790f6edb8483a307f6d8aca97880d4c26fd4c42cb8565320770450ccf3919e922b2cc80d62835f40474b70438ba95bce69f609f217842b97d0dc8a0ee9ae3867ef5d63baa19ec033bf6b87e48e608709a3730d016b55dbe1ebe79b2ae0b1cf5d347d40791b9913a4e7c6f8f25f3d0156e5b067a0193dfd157b7833cf614f1d9d6c9f3a08484202216925112b1d89702c4ab7c29c468e04ba5460cbc1a9c05dc4e8a201609184667fa0ea26d46d9c819d91bde75423cdc48cb582ce74b1d2fd947ed093abed5bf8c660758dfcf496c2dfa2068d2f85fbba1c40cbc5db4dd2e48b888aae03f748e29966a17e45c63b24ff9c882025f83d49f771e9d8a2539a31a3367c772265c6a2dd93bfe6b7d485e9fb18b7960bf3c726653a4df13e92ac558a26ce06645ac4a9df3587666195771b048d8ca5b5d2eb0ffd6430d097aa1411ff32faa3bead0784f793a225b651f10769267393499b23c443997d8158a860e85f56465a456778b7467e1f5e27a1d27e5132cbffaab72ead8dd1cc05de377ef4408895a2050c42b98c7f86fdbe22aa3e78276894b29c8d1f3c62e27866471f0f9a68337c3d42fc7019846e08fe363dff69b0de6eed26bb9256e1c5ad47aadf9ed22ddbc7c34dab454012ea8415ccbc5e77fe5ee77895cbc784200c25233a3cd9eb29020487ffacda719432188dfbf81bbdb591f491592fca759077d0c9aa5332b1f57e088df9a8106c495b86cc1ecf6799ca386c8dbc5c1a0056144d070f5890ba2f1e15c90e08e0ac78f684a99a988de2afb0e1dae75d33f56bd01f70fde7b9c719b2568c94e152143c916c7e979b1f13ee50fcd050c70a0b54dc41e2fbee48a5d4415615e5eed0b3433684034ed40a2b46c8d619188a17a6f89f88122702540442d34c9c689e8b134ef32775c1a661204444c57700a0e1c7daa912a4611cbf1ce6ecd7ee836d9119f446bfc5d0923ed567c6302a4c10f868f7523cc677ead9d29677b206dec7b4a4a2924cc431e5f48447fbb763f7015ca5d32cf5299b3b092b7f587d4c2a2ad0c5b1493d33f87bc5a6db2b03086c06600aa20a4362c9f25d3557a96fb4735fa6d71e02c1b1e24480ae664c92424da774c01853bc2be5d41170038b5cfa91f80ceb9b50bb6d6ed841a46b31e0a50dae82c8da6736cc7c19628900f2bed8790883874183afe39fdf8ac6800fc9ea5894659fa7b69d7a188186d8b2754a42a200f7aebb1abf8e6f3ea49bb77aae99dbeb9fcc3b7388ea0242f51049ea88eac8ac722c1c527095b6dddecef40a99381c756a47dd4fdfe700634f0be649ae370664f1db65982692cb3974ae3127ef19b2bdec949eba610229b0731e1faf1ead20bc17286e59b01f4be8671f7a6bffdc4070c336ec35df17316c3b788c6bb869d18dede1d06ee7a2a53ec7fcac93573f0d1e0918fa873a2f14ca91b38c9c5789589a22d845f7a78073e471ddf3f6b4c86c91e863f681116a3df810500d4791fd17f80a2bc148881037e65627551e8e1126b3ff97ace63111881f2eeb8cfea6e2be3767da6cab116db3fb85bff33b8fd3086fab56c7b1d70d0c12f3446c50321c2d74cf63b9556afb02f10ff57986758b131a11508bbcefb93d40e2524e842a39f545278ce0762544fa35cfc7aeccc32bc598e4c248b7ec341ab386bcb951e4c9cee48c582ba1176993644f74c4756a32e5892de42340385597cabb0206a0e064f30018a073a05995b503d1b134ea166ec385bf77807b2bb1ccf29c02862d5c25d69698de62bcabdb7a3431411c5295a2d07dff6921a64d0b5068030a4014ad6d801c604bb48be19a2286ab795c1b20fed5d0420b35de7ecc31d9dc46e2309ddef202032cc9128c9fdbdd29e5270cfc2e8f31b4e4568b2a2a17269a55bdbc3313d4c520e37dbae5d1414a818bbf749bc4624583547464a84fa04617792c39abec7c43e1b3b3ff700baa11782395b4aae21b2f7af9cdd4e1e395d89300360d77f8eac15890955e3cca48870894bc254645433ce66180ffb45a8aaffdb694f200f82226d794e2cb1074c9fc645709f8b91b96c46c6aadf1a1b78de1b4213ec7211d5bc0d000e0086ba72fceee99516b729a75bb0d71effab9ede8256e1f4478f49ba298730b55710df1464d5b9803e1f4dc76838f38bbfa85695e40dac4deba91e56463db3c412960e00da17b8e86a72d0c6d5440634a470fe4fcedfb1d0a87de97282bfaf8c7a9c238d1a62be2acd3a2685719160fb29a195cc50753409ac92497ea907cfe467b86b79aabf2d90b1c7c3e8e297405b5e3649ea50bda5462e91684eaa0b4d6cb4ea8e1a2a24ad073e8d83f87fef06ef60957e49150764857be6514f14b721cc11a3b7d43748430b1883bff02195c8b3bd519b558510cebab888ae5a55523b6b4edeb7765c43e054e73cf305999ee56bbe874275f6706fde4e5ef9340516058d72cc79f49ef74984082ebc6894f530864a2e763bdcfda3c4ab5af988235dca5a889c6758f2c6e655707f5522dac8a6af0262199f285d4e553660672ee86ac77e034f2ece2a26fdb2fbd85e46261dafc7d28bd4d576f5294650b9e784133fe26ecf5e372b0d683bec60c4d6d67983b8463427c79aef251a83a592048ecc0f9666d4c607399f0b7999126b0e1aa8026288a4cb5dc7846a14d5cd850057564aae757fa086e0c26ddee8ede2307b5f7277749919feb1f5d6b33c4f44cc0320d601e98e6c4c34c3bf88a989495e86b53feba32a5047dc257d2b815811c7c68b29c20441680831eb986b6cd59b16fae269b58dc267f228de2a7dbd60ff1eccc1a9a22f99aa37135cd35b25894911d491407fd036a81d8ff5cfeb94d3c46bea769e2610c29c66969b9a7733637b4dd3c0bc6c1e4c25b1aef50e39476f51710f3e9a7244423acb083fed145d19fbcb74c4c289d54f2b63d6416c83a1747213cf24fe77dde95ff7833e8b3882027b27db19a0038bf4f42e252a4d0b00ef00e261677b3820183a2a65c76dc4882410657cba99d514f9f814203c7f2d0112b50b71d2ba2b93e3abf047b151913fd2b6d0dfa8d8104445ea437d09aae10415c2ba3359e06ea3a8c3a73c1b335fc60e64faf30e5701a4c8513ac0ba20c8d36984b9ce6e43f351d99ee96168388364efc77ddde362caeb7b4b0081770cde697e5add98b2d4d940af41893fc434ff9a7eede4f440d6281d64d9f9356b15948d82b9749353212ee7bb05789fa0983dbb0face76cfedecf28400110121c9abe434a1164aa2226c320cf857b7044075111c839add81729cb5dba55770f3b4ff2df01d988231913c65fcabcbcea67065802d3cec38d548e68cd07fcd4cf2af1ea5a1848ca8f4914ceda740fd402b5b3de031088a8254dfa079426255f79f77b5703a70a36853741396f8ff103033e2349fe21d569966c6508e6abc49a1b11d3931d77e49ab6570f44e619592332bfa8617cdbbc940f692255c94ae38911a02de55a91188db626640150702e674140d0bc9f5d72f80d52489b9511486af43f571aa0a8930d54298773ba4748d9fd8b8a39a7ad2c831d836649daaa8e402000576f817594ce5c2191f7b1345852569a04fb94035332f72077ff402f0b9fcb955220cb886215ef38ff1be5804df3ab7a0f95678a904ce6a64796867547f1fa02e918b6cee9ea992223770d48a2ce4b0a6b4c9351ed60ee54c8c47f37ab117a80d2f50eeee1ccbff91a0923ef1efb4f6dc1eb87e5873a9b3bed58e5c46f1314fc06d8ca90e7082ce0c558e1b705e0933e01925de69170a787321b935bc31b07ef22c135fb87e3aab01d26c8c8c3f6505d06ed0f424343c5c2e2320112e289bb751b3b1e564ac609ec0ab997775dc4e2e1e6c269bb2174d71fcf4de71b0b6389131504675eaff4ac5e20ea37c353e4a4ab744e1c3876b0b18da6ee2a2c1631b0604675725e76f77123611d03869259c34a3444a9682bf529689db61a44932c4ee0114900402c0b5ba6608929cac3da47a6afa3746118b76381ee2a519b4d89cc65cf793ae6cb78bfdc940e0a89c1692b16d57e035b59326f2fec74b1b741370460a81ff44fb2757c3fc45069d9993818a760944f7bf07a523debb22fd7b6d1e9fdb593dbc14eb2d0023fdc0cf316003d5bc918ded8da53e9abea36e7c453794c817f6efc26e2e222c28d8f95b96003ccce7e79ce4fe19623ac585307be07d600672cd92a1baaa6c99180a75a95910bf33c618aff30609299d9fcf049066c0184c2fe01dc49934d4a7e162f21861e3fbb9d40fb5bf8d9d1f98fff863b6a892e611265ab213f13315def4ac4c7096a96631de63f9ec38fbf4dfb234ba929ecb7be136e076a8d81bfa0fb3082283a037d23e87621e0b54fa5fb765a2926c92708f3d146e282b887f3c2825315b020d7b50109a18698558bdf34c5a4d1d6f7e3a3b575bc585be408c4918f2be48f60ebbc6842b4d8aa05a8bea1263e6bef11c6ab0cd24ddb134e1f027693987ce27faee809875fc6ceae4aa558a485a9436ba42f26f5e406a2b3860a2734f83b369dcb588f199d270651ea4ac7c2533756234db94804ef0eab48a2bcb6911c4b69b01daba0bb4887a8781c55942d8f2bee0d04ca38566363b0be582614d0cedeae379b277a8d050c9c8401763cf93804d65ac0141efae1640056b8e7024b72371b4b600fbf0df46042987dcc204508ff4ca01d1a6e0bfbe4bf381a982d35c362a237c4edb81fbb460555d256226b725cb71b4717d52252d11d6e155ebde2ca7d828ca6b77a421579b6016d005d386be82bb6e10c122a5866d2742bae4d11372fc5dbe3bcfe04c68e1cbe2bd42950bb01d3bf05e5930c6ee7e0f36dbab6561de97301cd990f2667714bebbda3fb8f3d62e3d06defd56e8f73099790e8b3ac0db76d48a84b30c177c7d004b84a1a6f7591b4c92ea7036569034e8763fe10ffdb5764af22f215ce5372bda6d158efaab415e07ee50de641b7305700549df17294879e1b578d2362ec3f2b8cf97831414831cecac5e1d8dd13e8479c37925a24ea931e1a6f22b28c64cbd7077930673ab157ea634fa59f5e772a8a302ea419a665fd09ce9b37476066b325bfc36b212b1c94775f780e2cd76eec2b6fbfbcda1c8a7247c98203d05576c2210597ae04cded466a9cec4d393df195352ef21c2a25b93ff1b60890cdbf86062375fc7b5f2e5f6a8da431cd9e9c4fb26e2d2d7462338c404639d8e83aa2f19db37f5949dd046f7c31a67824c30b3570e31e42448761bd805e871d4a9ae5407a52222a1de742415d64a5c7d4b399ccbd7153e43cae19bef19ccd3644931e6b988207ff6b14cae99c611776f1aab4e4df18c46f143fb40236922b044165704a10bcff2d26d1e6ac73e554b136063929498b27b56cdcfbe16717ed90542bcac1a913d13fe72db3f4f21be227ad787a2ad31c5c3f8d3efd9bfdc75997be3dddb3a6aa19855589fa3e917848ddc52e88e147ca32529e4bd663dd43fd7cdcc94af59d3f7bc1097f6580e9be7846d75db8ee48013b3796156dbe6724f39d1392b547fb971044f4c01c3f1a5b72353f2bc5dfbce10dd4cfa74cf8e7fd7f707807912c4ee974663b69376996762b554e6289c51815a62cdf29df69c38263be52f0dd602faffe5bbd4faab59d13eb9e57d294494b7b34d94e38c0c19c4f33b4c4ed45f5b9eab3ff3206bc4b48351f8c6e019212ea9307077369d14a28e9c564c7689e57267304a9600dcc68d158129c1e9b0b010cbd042bdb9d59be9462faa2078fefe308dbfa650b2327bda5479383349eefa350d234e2c1a28d7838188c3d0e245b67adc742f2f7b2ec7b227e24e4d1cff25ffdb61925a7a930a0832bd3262e7609f5a9469ec3dbf7ffedd3ad76a1bd0779fbccc6414b00ea1cfc7f74578b234a7a999faf6944a16112bebcd3f682a067e85de50b546871806d960042edc726d7b3842932ae467a00c43f3b0dd07b938d071f2f40b2353b2960d00bd045e2922a74e3f8ddf6b748aac5769735b4a9847748043d768e720759d90012f8656207ca14a190179c22cf880d430ead5b9cd60abfd30c223dd48c62464283fe9c2857032f21554cde3b9f68f3c858d02f44a99c53438949f86f2921f3cea4fa9c79964e5627e2817f58e6db49cf40fc639e281ec32ea050d0487ddd593ff367fa9da5449fb2ed0eca29dd402dd8e9177022c67fcab13f5a58828a28cb579c9e10ca3ef86c48f649b5fbae092ca2b3c9d3759d737fea9cabf1ea6157e8e0191ae273873baa0c205273506303406afd4777f012a5697d8f410a98bf97442200a79f529903547fe6a0a82686a29a64b3e3d333903fee49d4cf0479700590731083d7141900f46ae7839ca7087ce95d86bc6af865fe7ede9dfc0a10bb539c7c4bd76c8058d3d15ec6213c2b833000e41dfbd0aa2da4657e2f3fd6a4cb83c8abb24966eae4ebcb528db628624b13545c3ddeb0279a069097d9310908a9fa7196ad25685d6d97e6be0ca20e7bb7a1d12a81e71d7e7a7ebf7a0c065ff94337b4ed1471bf28fbcd8c421e31bc1092831523e3f38e7e6c50ba4da1c0d8dd2d8fa70b26754558d3b484e60aa0a4468de87b0045d5001371540ea0a28dc80d826c3e06da9803ee28c83559e96e4df4a6408943740f873946ce030876368cc3636921f5adc87ecd1f2172b6aebfa95c016e6ebdf391cbe60b25ebba4c0898e7e73ceac08fc7d109709da3511f07d6bd25578cd2057df955becd594074d4870b91258f061e8688c1eeb5b72f76746f159375c7b039b689e1be5fb0250f2bd46fc73252655f83341b853269847dbeca8b6db47a517833d358ca8353eb82223492d0b5ab4139dd07a2345caacd2d8f5c67aae192852bccc0b3d054ceac24970eb31e0a2cb8159c7d8817b897e9427876c47c3747ebf36e19b946c7d5c51a5aa4893fdda94ed01fa5e526009481272d598c99fe2465fe3c73176e0f33e9d0e6fe48a10f69067b1f43cd93942962e1cd00eca3d42d8a4230c2c12699c0816812447f2819b7f3ebc19d18e62d5d0611057db94264e4bad33859ed831b546b10ac94d32e870e16c5f1309a21202c5eeee4470d2058ddb3dfccd8b023c41e70649fc8aee13c23dbc9dfbc6445ae43f16e6b0b2cd597943d4435c4d2dc1d57a5fb0638a152125a10a5cba51b4c3d97db54c656c0654a16a5c6bae499943c36ef3ea30d2dff7bb9a7112af1e8a58b3e4d9cbee381c259084e1be525697412677d898344317acf5adbcaf6874038be4f25abdf0bbbde3db6e24164c05b02942360ec4a2d62497a521114de8f080a8a1a5109fff4b0ef41109ebcf1e18fba130365c5aee87e96ee98c9412257130532839f976da218106b8632598b719ae0f4bf91dee6647398f22343466cc61b8f579e0ed55fd1dc9dafcd84cd4868f120caa0f66726e4fb22dd090d23b98448926f0526ec1c510dfb4d69120325a612f52f20db34d820eb5a2cd9fc499bc7f4fa1af19924c150b72364f533016b8ed6700d69ef7575077b43dbe5691a9a3ceee0a2487055cbd4be2eb3e6176539a0f6c9cbcb1622e57395b35164beb193c66b6f24a0d1e927e4dffa4437102e7b049d1a20d7fc5de11210248686b7241f8b662f56dd2ffe73ea138f029988951904abecda39ad81651eaf5d7067fa8e6bd3b8b5bd8f99930169f8b55b3b00cb261000f29e313f48e598515899f4ca659f6e5c8ef180902d6dfb11171c4a851d790d84055d879fb9436a964ceacb522016526d3ed0d9b65226cb0c20c7b63ccd0405443939db1bbdaabc09e8d5293fc588570358f09ddf91a4fd740a8c427629bde2008dbb7a69ad9ff5044692b2e11112a048925aa8ea558faeb5c7edceecb9d72eba3f6ffdecf935972f918a871f0290f375ec6e099ab2519b94d974c06e201cee9733cec9090827c3796cb11774013da30283977f76ef01ea6be173220785f13396f2f35136baaceb1996de8084771ab66ebb662bedb93b8b22fbb6ab9fea517813e517101345c799b80c2303baec3e0ea8a5b99f0812239904d7bad8d8ed81e67697486b8262e13de507ec3047997472c405e0029c3a5fdd74b7ad6a9e5d3dfca7031cabf0182e1091e1293429cf2dce30ba4a8efe59158adc3b67fd5a80ea2b720c4a0b3bcc444facb7552b00a6d0a7f431c0b42d7a9267d68777037e32f44bc80425339dec9392230389de2529e44c4b4bb9aca1df0b9e402f0ac14ac37493857d666163b30d9d0d48274f9e0a45061566c8e3b2e6a2d315d53660ee2c515710ac65226c8471416210a01e27b4f84bdff30c077437cc7675401a9bf4f0b32f7ee5a5c3101a65f3f63e97806c3bab93f4b714b5869428c85a8d4f8cd60c517d340f8e33bf14b000907e043523dee288ac930ef5f0b0da9e54fd1863a8cc60425c8561d8f0471d424414f5bc3831f1a31021d59be3b8a8e08f7a5795ec4717de30a24eaca7f1873748c8c5671aedc02c2e03befef90969c8fab73848f13673f6b00d720e4366ca5679b8ce84a15b81fe1f2661c4e4092dabc0a3005ceab664fd40dc7cd5752e46ac1641c7075b82f582d9652a52671b9602a5969f2d7432fcda2db6352d341a5f714abec7828179a14b411953bc4e994e17e1fbdbc13c92ce586c3aa522138282242cec9c1494abc4ed568b2f53b75ff1a33c608fe5f35654e1e2fbbed0766ea89f4a3147146ca6df675a60c30733c3413c091d62a1814dded839fecb3d8bacef3f47ef911b829ac4fa29503e296502d6df89d2eff9433cea6c1240515e0c4dee3060f8e9685dd51f2cc502e139e794f314d1d2038f4b4118b32f073099b77fdb03feb7624312ef7d2a8d75103d6dc079c2a2b073339a795480bb06c6b5e3faa0fb3187d392667dc7eb10d7e669e2a004663058ee5ae5c8262d723b379206174443bfa41f58a66d2b77a5912c782178eeea52a918a15552b08122b0832d293e1b0501f8f061a22ded83c954e6e25cc5e20f05257fa1908aee5d0ff97366420a88c21847f0dc85902ad0fbdf05117fa757734a0227eae7578e7fc25c1bf617349bca84e68d08fa9bb91dad7695bd8759c394d5fcf3b4282677a9041db58139464174aa1495ce2e183b31e73abadfbc53e4f0833d3025aaa168e70abb83d0e0b821997f25a73d6ead5427f96197550977a737d9e5fb3ee75aa528d30fcc536859f1f70bcfc7649ea9f1db757d899a136cf9b9521c08838337b1d7b2915df34a9f60861c8f3495213086483d35e5db060134256ca472f198443c334012d3d323ba26ffa14a1131116309d8e52bf2d546351b8ca48ec7ecc159e4638b44a0c2e9be97dcb114c9030c417a6c450061857a29ea2cdd825939c7a293ee6a8f70c07873acd05e3b6d250b39880739926ce4599b1e93e6d7176b78edd6b7a9a196e0f01ef7ba09cef4470ce1049275e1d8a360b8886efcac1ba51409fe1e2fc0641cf0e9f16a72a6111c3be7c7bd0098ff004210f71bf7a008d32acbe9ebf707a702120d38ff60149038cb34561408ed0f961c328e4442a6ec2cef5307c97310c46fe4693eb1d7a9da42c34e62e6adad4d063e54ff0fb74be54dec537bcafbf77418c16711392b892313b10b887aba1ff835286c978e3b3dec4fc88054910ab0318eed60e877b378decc360cefb7a5b9d9f04a0181a6fe8f3c6c89a4087da44101c53cf70ffea95790fce8edbdea78b7c1ec1a053f053420fd5ef5dd860a79011b1936cf3c2fd82de0deea6c8f46f70c0a7ea0c8b42028dc4aa05a76bad3afbef4733ab72c9c320e5c81d1d4517c44343f5205689007d0801973c4ffd555cc6e91c05336f8a25d160651379bc045aac35f2129a7ee28135af2fca89886af1bc4f387bc4ab5de6ae212e465d388e9cb232efbd544edb5939232285b2fa0179573fe367e71ed74ad0ae6437b605a5eeb7b0e2fe13014a3ee390bf4737daa4d82738db759e9544152ceed57e01670edaf014089f91401d61c95eb32fe184c42ca3de69bd5cb854b0ebe33ea2d848f2b762fbc08e0e9afa8764d02a4193e5698e252f8bd692ddecf3b4b3d1e71030d7e1126343b0562228ede5cbedf56cfe67d0bc60ee3b5fe56885c32a913a05a3e64cda46c1ee7363cea28e20e68dea8ef8c40b748d8a54873d3739baeca9c9e7d144c39017ed5903064caecb171ed4cdd6143e303696d50cb95bc104510e071783c80fe7f9702185a7b2828e4947ae813029450f9626af3c6288a343ddcfa20f8bfb823669245a09184e5b64edc59719b71206a88b65951d25518f4c47470b2f810869a91e5aff17229e2685be21e649f0d588fab597668c9fb025fea00bc12d6653286be1a2c361333a9d2a5b406e6f2842e83bb6ce46fe1ad20c190b2b89e54fed282583879a24ccccbfaca6f1eba3a2fe6d20d90e609b777a294cf47c23deeed3c20238fcbfed7bbfacf34353b16198907e708769be128a976b455c0bed7f250e7050d9846ca23d250b572310324d522c2e11fdcff163d20a62b3cfa8a97f0cf248ae927ecb99eb5bc28d3c1284a5e5d1f7eb6cd33f587182b70872b37d70b1962d62916711702c68a98c366fa6262ede8b6ef5fe17fc819caeb69949729fb103e0811f7018d834dbed8f917e79cea7a5af00b40f90a624bfc9f90e409f5f3d7d3a82f5354ec3aecac6b2c7de15bd5bd4b899967b91c70780fa14e90a09e02b86d7a3dc6d2d41c4b1e5e51f05f206fb8925245b936618bc79949a05a5aa727c63e5db81c14c9ca4e706b0c5fb14bc2cde6ca369cf8b667f855006a4e8bdde8d51e445dea7b3d67e21fcfe5b1212aec21ce1676898e20e345f9d9909cda927bf4a6404d75a7278db1258d203da1358a215801a49e99bd4c139738ca40ad76dc84ecce9476b5100f6e0230cb13fcf53379200817a9f540667170aaa1442ec677a9db6e915b8e3ecf66cc1623e7f50a025d7b61b2050c280d2cd6763be253705845efb5b3b9c5168bddb78dbcf208028064ebdcb5e71d0f2dbac40877fb6744c45313fd86e3b5603be789644570edcc20354a34d21c9bff30558057d19a95b09b254cd016e688bb9606d039cb1909905ab1a20c00d01a6f328805c41f954a5ef60408759280ad418d32de894f0fff6b3cf8fd60e5a46f49e78d1cdd47883da1d32ce65d9af17dd566e1fcb4eba60a64daa19a64ff7c5be2f3488c49e5687db9c499347ac05cb999b43ee714fa6367d0ed7e969ac6feb12e446e4138d16709595ba3ae63a0a67d4834024147df84ee3c3e4e68879a0e07e401c6acd572a3086f7b6d18ef891f24d8947c628decfc9c627230127c5b2030dcf9321261d4c395982b79d5be1d0bcaf106a31fefa7f9d36d4de1c6e82b544e4b4bd05dfa54d581f2ef007d4cb878c3d6a3ce16eeb79106653f9f6513c05cb91aa11f0c8a48a437eba6b019fd3d530dd1b29c6b7fa458cb00f1bd0b056984453c4839a4b17541843ccb0cf81b9864a0294ca359518cc1ce246994227b36a0c8136134284188958578488a9d403c56f45365c19821bcb9de5a2bc5d331ae7c81eee2aee9bf021f7e35f581f37e132c3e392dc9bec0f51563812a64dca0a8f51d206d39402b9cd6cedc9d2325e31aaa3a33dff57b843afe9bddfbe9b1b14cccb35c12c6d6ac87b26da9eacde2bed3a62fb860893a03fc00b813fd7a6064a326ce50ac0623b81d5d0a5a0c9453b9e1e18a69f196495cdd906529fe037712615ff12b8a9f031bca3102a147bc7c87dd215df79314ac18d7f0b75748acc20c2d0bc8d19225f21ee6bdaa455ceb62ad315272ac3c26b1a8046798d580ba1aac77771676ba3af077e27016986b552d4b46ec32fa4663a2ba4e2f6f960f8641a1719912133e088134c767568e77d49a780422691e4aa9a08f2bc1819179d21d760859bf0b8beabdc520f6ab24df283d2feb2fc01130541144f6924c6b80c518eff7895288ab81b56dc8ad0397e4109da186e4edba463d3abd550375459c1cb675ab21e9c6f1cdd5819a100e8b74a0f48f1ab3f2008fbd392920e9419d9eadbccb8baeff922b3e6a94a3fa6e607b0febdc64a4c88cd184eb2b4b10ec0f635ed416434e7eae6c39822285ddb4bf8caa80749486557178e8a86321d5e57343c18340a5407df5bb9430f00e38d780fb3584abab570f2d9be7986d2083b66d158758ad47fbcd3a6b4f5b8363cd2cb14486e2308952a1abfbdda201a088605d58b4653bfc1b68fa378fdd75649a41e5be658b873b128432522fb09921a54bc5cc19b3eb590219f258243f9a36c456f913a58c5996f38b4874b7f7e4f9eff4a156711eeb51bc890873b43b515a6c6c216d515c3d741762f27d92af50170decf826bb5d16beed200e8f5b374e4038075b3c6812924a372d442678a25d07a2dc1a3c426c9b6d50e5b17f8ac51b2afec1c44fa3c3f1f6b3c4e697f460c8eb44c0d71b787b736d601cede12087a12acf6780f4025b4489f7870a78fd14df97921fa677da8fee00f7773d736b31d276afaead3e240d0c598913c4932684101a9b698fa606ec689bd858171fe22d457165310f0543d548b00f9c7d80fd1cd931552e799edf2d12168cb0a8c380e636039ae9faae6029c279882dca20f2cc102905f17fc86fd5ff1370fd958b06bb055524a0e4c34885218219f1b0f0453a52593f6a1e7d3294474d94f7d84e1ac9453f365915db1318662857c61282f357e89dc65c147c4803fe3f50de0044419034512db734722bd08efd6c9663b5afb9009f3d81cc9db3d159cb0aa047261bf1873dfda832f906f6c3e5d80ae4da4be17f3cd442b31f728fc508f086d4a5cb917e777c1813848359633f44144f539550294e53a39b36e6d3596b267f511b0342f30c8e6574fddd1ae28e6d7c422eb460915a99276aeeb454a376ca57f3c430eebcc454b67a14d57085d59d978d4940309572e236ed0df5c7a31ee5aab17b6329faf22e930d498b91f823f530f64dd52df8cc9179d806a0773b197261fb87c39c8856da90617de00d5f2527f81b0cd89dd01363bf9997d7dd96710d95fa9c48929a2c63c0811dc24b6add42821d76b79ea252593e1e3a141d5704a157181c4ad9a909d651cd08d1893b0457f032558aadedd1b61768c60f8edc6b9f5e379fe2acbe6ec54eca0e855a187708710f29a78b32733047640ebcf9be02a70baaa769d93598b661c5d6212b3c9aedf52a664b40a57f8bde1dac8d4dc4fb2fe311d16ef77ab1aabcdcb528647f311d6a9b85eb1c688281ca04fe7d9d2e37250abcf36a39b31a4ce0ee43343d9d61bae44d1e51d44fa4b677556c5f74bff602bcfe5c3d3d0588b177430c3bb20023850fdb7bc5f4ef41999f2bff4079c640b937f38c1dd6894d6da7c3e4c1e2937816b2b6d74e42d143b13beaa536d0adb9491d27cde6ce9d5210ba7fdf7ec3800eb925c50c7d9b94b020ce52bb66c7c0bfe5724bf73606cf9749532a41fbb8d950f45d5034cd8e7d6fbca21b661571d74afb04183bedb14eb18b414b4c1811acf8172b60618a866c6c607e5c14aa8ab746fc83049152077523dea96f2bebe47613dd96d977bf4a41d43df58232706d1bf8087b7dbef977652b9be064e0f8c6acda104fead45c4b40fa54c9828974bd2f19b8ae92e1aaa0c416efc1c85f027105ee7252a4dcb85b87461a59257ebc898491a53652c45e6f2e5d6d2804b4b50b81d52b7c7e871d133970c0d8299e044ece002bc70cbe89728500a3bff9cd1710a5622b2c33dfc0a049b68228ddac8711f18041a38daa81f91f1409f0826a9f61e34dbcbd9cc99b1bcee6a22a25898c33e0cc599c8e16d7d0ca4bff868116aa2fbac5186da9405c661c3b2d8b31c19dec0625f75f7558942337e6c7526b995fa4969e2b5b4ca8f35345b32725939107d860f5cf4ed575fc14eb57a8b7665bfe26552d03a1d2921ffffdfb3eac66747dff25b530e5774bc6cf01ca6d9d5cfec3279083b108b3741869f968da3d8a881deaa3a5b22402bfeb440af233d834dcfb6e8e8fdbfce5467e039cd48cf8f579445bfdd389766ffc5d9712c129bf3dbd9fc1cc7f93a7eb7c7639777ed5c01cc6a142ba43b2bed79c5aeaee91657f3fb12eeb5fde50b208f8d1d56be14ad1875cb0ac38d99934209be97384b8cc18c24c6619529433bdf608b87e61b62e9eda5aaee273d8d91ee7735066f7074404b3d600821cffffba324ae99ce291f3142f5ea1ec9a220f1a21886559d734d13ed611e4f385239a05601c561c74ea68640d6361838b2613f13ec8f46a94abd2ce89dd213a7fa220307ea9488575dc8d5e2cfa93a5a0e8f269886a5249ca4c278cf4c961f14cf9237b1ef2ee5b35ce12a7d7e055fd954845901c17425545895a8a3e0e15030b6592918ce01b2d18f4d240e8109ef2225eda5ccbbf5a249c39b1cee7d8f224589db723d6855890e4e7977102eecc05905f93e00ec2b5a09fee730687d49b524f1046d2ee6e430db31bab9d2221536c1dd8bf5e0d0a5d3022f15799d2732374dc1883d7a9c642cd02828d82110adf14f5d4eea9b675c176901568c5d976e2cf1685bf3115dad19947b74bd8f56fc5046d8dfdb7be65760cebcacc6c8b7810545d49c1294befc4e755be6f46549b86a305c9cfa57b043914e0793796fcf39accc4a0397e67fb57715beb59016afc69a832e66076997999a77252b372b5029d4079e1e008863c9741b363bc8dfd007d7641f3e7357ab10d337190b6ab7a9417c34ab3c9176d3a48492210647a01d3739706827988b245bf3420201130290778fe3b7d869e5c5479520c55ce518274d61f788a3acfab5595396dd2266a999b09da110ab61eb5c253a2f734ad4114da60dacbc03ab71a11f57795e39b1884742bfdb4559f531e82b428b771c50a90ef537797c233c34e7c488197f32c35c183ddcaf421cbb6e8e05a041444b6856d9c05ed3ebffbd51a5fe6aeab7a46f63528260fb24b09fda3629cf23d853028033d96cc61075a0278187bea38062f2bdaaa157f9affccaabd1ec2797940a58575a3ce8149b7b8ff8e72102b738877a9cdf540ad3034a9697916ae6045ac06ea6563bc49abb97dd56afb6bbb40a452da411a2719299a9cbb200cd5cf7eaeeb5330cf461e6a342f89e805bc296bffb43d6b7fc3141015bc97a2edc540a939e7a4bdb406767083897c8b008498493b6fcc5feceb9ee2dc784a82be1d0c7a963334421e65ac0f2e38d9b8559e7c8066fd595cd985c126a98ffdd158e04d59e385cda996bd9bbc4c3a554b87d26841e191e20b3ba9fb7b01c395838539cd6f351c5e5f358e36da580ff33c40531c172956f550780671b654825a26fb2e544e2af9be465a603fa1a72b2d7f5652b5d008dc8181ff41c7eda32d785144b0e20d1f6acb2e596aabe59097da488c4d2d0686448b43e2a84488f3b6c90189b3e3d0534501a422732405cc4223fd1fe5af49fff4ea2e653513a6edaca10394611f8959f4ce0634a68e252df1e08327fa154e106239a43d4b5de417c774577f73c2c51e4e78acf3a187ae5897321a3e08c5c4b9ef8d47952ef833b2a871a681558f017d0b30791a0cba88a508be41275f35dcc6bc83fd6418fa7cff84df8f9f6887bdfa1870ea8076d2cba01ad0f8a0538f70f285522e5b99fe4f5d78a1ff5a943a0c9931b2e11c02e973f3fc3dd857b97fa892e5d5fb7317954431f8424775d2a290c9861b6b793bde706b42d93dfcd15aa974a1f95ac0ac511946fd6c6e4875535e139b1dad5d35caea3b2e8c4b894ce7332a9361504397fb1d519a3e2460521927b7c784769a32e68509550d27f5dacbd48d9eee3c37c921e9b0364046b4acf85b073c6f0a2a38bc8a30fa6458f243a5ed31bd4be36ae7eea415354b459d9e76867e2a20696ea53efc4e7d735c12d68346dfbaddb9538b712bf2c6bd52418dfd3add8948abdfedde3b584874a91878fa2975563757e6fa243008b34042d60b5ea97b9126adc46a3cc413b2687a846156d1ac100302c392f9d521b0428d055634f03ef22e1bc9cba2b3697cc06f11c2631b6d0239c9acddd17da8d8d6207abbf9f2aef9b9df84bcb0757e8e67346651b6e14b8c00297694ead159cb6a7b8218f3e6ff0afaef598b548d902ebbe25c260d2a3c12e107c8fbcbbc8a0edaeec4939c52fea1b7eb701486c52281145a045c508da29b29c07ac3e5be01f655c23954a9920612972c4a6ed29d05f7de937108ace94ac822639685ac030fb3e9db4c6a78675faaa6258b94120532101687c002e846d0f94559a1ebc40be4d1593b50124106d88c50f4a3526d5949609f52e7aae24918778ff9c364822cf3d332e71261f36d66b535093fd3bbaf38b743b5ff455fd20274dbf36ee6a59afbe971b8a6cda537bf6aa0351f8fa96572b1e14876cb8679089e81460652637f8fc71b0253d1d5c0888670f2ad0b8d802919f7a918a4c94d14fd505b595ee60e993bc9fa47d76fd54a5a3e2fb04d03eda336ce2d45358bc17b1831ba47e80f55318c10e4dbe06a3c2b1c5ae4c189db1fd1a238afa1280f2c93d6aa234cb9ade0f9e0f9060643b0ed1d25171c271598a8665e6ef4fd912dae1060ac9ca5bc75f5a80131e00224a4efa609c997ea3369f0a25854591e25f9278c4273d0c418c476b1847f0f043616362ce69a0b1bbcc44972bf65df870d7b7c9e5f461787eff45de92d8fcd2dd66030bf1aafd88ab0d00921c6edbfb5f5217409a83d0f023b55726e89224fe4a3b7af02e26a57fd156d326b5f5d2ebc7db017b894a9031c3b7825965cca80b5d3a440db14271dad916a9f6dfa2dab4acce6407f86850bc9e179bfd8b4b2e91032946ff1b20cbca685beb5f2c90ab1f071a42b1287d58bfff759311cdd700e4c713742f8611e629c056a38dd0e3f6443086bc6c3917df8ef567d1c07af420658372049f6b64f1f9fab7959469aeba15400539a006d2033b78e8fc5a58528f87beb4c07aa550bc0d2da53912d5f1c71cfb60118624c1ed5111864048190f3ce1b134be679b65e608b14b3b452c7db5829b790ff4812defeddab297caf14f401a1aca7016ad5a938423b788500270e770f32cca3ab763e925b4a4fdabef7552a611fc818e7202a39abeea8fa829aca8f545dfb0d44841550fe137a933207f117d37d0731f2cf62cb16db6c4a239e22169e783e31fd18fd4726031cf1e36dec5b649a2ee07fbe602c4abaa089acde40cc7d68edbebb33fac279663ab6b9d2053365332637cf2067ce67598fa23280f956d850b059784c9dbe53da15456b84ad40da68803fcbea7d4d5117c136eac2512ac34637474b6b75d33dcd3603d6b62b2701cadcb6c14eb3d1e951e2acdfa24e4a9923fdcf3419376da4c502fb002e4ecc22068be0de81cc60e4783fe678d9950c85008ac5ad90bd3e34adee26fff0cecae062b4d50754d3223d1c9ec82f26f29ddbe7651604e99bdea9fac7ef69bfed2fa66b029f2c5914b4cbae3d0c58565b2386f4938fd7b072777938704c69502360e7051f94199660998220ac077dde8c098a338f6fa89bca0cd1695071cc5db44c99e092a4bf084cbf6cb0661612d7abc20135c161f927243dec58e9146ce9d415bdb82fceeb0b9d48ed8b3fbf410501a597ad985b5483a9510e417d65fe79108d2c05353e02f3f09687e78f4250e94079241770226afc932e0135a5a8f5cddfb765527a8eb5568440f7f85d4d4952a396a51372eeaf3e58fa697387b3ec10202319cc9a0313406e8289b5142ae2d368833ea060a8f61a76864562b402ec90a61a0ad65ca578b0b3240e80c278b0a94ab236dd1645c49cfab1bec00783ffd6e0b226172ad242f4d76fbcdecda34c8350f3bb3a67aa87307157a1e5941b01910ce0a7fa7d0590f674d29c71763fde20f9a754bb1a6eac633dc822f7c2da63fc98c66576ca76f8e3c17df60452b5febc7a103ec1fc2a1ed5c0088e12d3874806570d3b2fa67c493243016c69532d7c81a6f257f0228b1d3b19b2e403a20bd483f90f9fc7a1d3bb1bd508a1268385357af3bcf5cd8af9039ce6caec2603f91fddb8df96243603af42898bbf2fb74abc38ee77da1af4f482fc1c14da03b83ebc55f2d953e354bc5804c8cbc6266dc48a5c81a14aca165d30790604f140489c6a7ded7be812b1a4312fb7ceda0831196a4d7753657c9e9cd83b8525276daa8e9c65795f6940411d9375c267826b924bec98a3151c268d763271f5a3efb12c257c1e3bc33805b16e1157d5b69e65631cb83d37e6c678aca80baffc3676e175ea07d8d52235449db3bda16ad98dc5d98aae4a3130211ecb27af958026f5a4489659f6e8b72e317238b9432182cf13cf3ea43a673c2a9229bcb1c1965b1f087f650e2ea8abbaa11e66117b42f8865c8b3fa638fff8c041bb0407dbdb8d5652ba3e8757af44ace4e7f6579f2c4d2deb29b53af8c399f26e6e14adc5642934a607818796a30be08a2ea9828f91fbb7a76b1b62101d59316b410995bb886c8a4016bfe0397957ea2af1e22dae2e2ded9e54411d4fa148795aa3c4ba4ab8263122ccb624a8dcb2fe591fcaa2509893340edd820f43a44d76086046e05517bd810042a45d0d80537013ea96c93446fa5478f1b3917d36260010bc638ada3642117c1c6b7a1e6f2dc75fca0fe229d36d7f0605e91ef81eec24a9ab9c4518a3b9aa296ce5ab3950fb22dae80e0f307db163a47ae90206091f017478e4370393d3821e1b16fa9d1847a8d3936cb6aa461d5dff2d97ab0c4bf451aca6ec69e7eb643889af8a1950190e3da0b7ccb3c224568e5ec43ffdb35607255075e292c0a389f7eb99868957bfe617cd1250acdbaacd4e4bc48265dbc28366fc3a0a40c4d89ff11f74b072d7fa21ab7f9dda35d3798b7fe305b3d8fce20a9f8eadc9f21c8e2bdbf3c1465fdcbf3c665ba287cd59af998adf0ee837ef49916c23d965b2986a96f13347046c7ccaf601e5e9e65ea188dd3eca56946b522d89dab2841d182bea87c5acddf3de4ce8f6b65a95c712b3e7432416b111d95d249a02b61eb57af6f79fd2b6ed23f14ac9f5c5a3ec379dd0a1a1d06925dfc03df1a914828b3622334dca127610b0eea884edd1b31f5268b0b1764557536a12a85a43f13a9f1a4596560bba403436a923df595f894b1d5d6fb1706bec09a26d9892cd00dd8c04da93d5e63b66a9411b7111253331e1f38b52cfc81a07a3a25b5273d569a12bf3b1eb157519fd4efdc42c4736a42b4c06e922eb8434f73cb80c9be6da079672696a1114127b55fc9cd084a29986e1c5d1bf3c26eb17996c33b06ca27fbe3aa1ebda4929b99d8eff221a3a11b41b727c6da305823249b98a8547a12152b1f890cccc71feb83e05c8b5066a4ed6b81f9f168df3b46d07dedaa86017fdc82e01d90c313179f67f167282f7ccff26bbccc30012d6bbc49ab2bbc2a020d9b9022e665b9da89ae3c025e8bb6619317b7321d5d958437211266bb2a6dbaf987f3a68a51b1beef4a4063964c37b637ba099c052d086be9d5205c946b57ae919a34ff245ee898ba0942a240d910ca34a0a0c1391fc4cc2f9ef9413762856d001c5952586d7b798a0d48db75b418a829d899aa445ecb7ca2264d193e7042c556b37abebe26efed45a5f605c7a7f6b0602ac5e7ba6910d177c334d795474d7b93ac9fefd8418836735eeb037d5f0c4f8415f5084ead91563b27c6b0e783e74413cbd4f1f601033440ed0be5f83f0d24e4dc6e48675cface365f44dcf653a4fb4d401f76f28cd3dcf3da02a85fb817f84e2bb3598aaf2b31973a45d6f91e6cebedfed03e7c150e35cb53d00b417ed6e4bbb816076258beac4c59dda3a938ff914c21968b0ff0afbf234e0bcf9dbbdbdc8dfb5f6794fc75acc5e48739c92b61c20b0f217380f0b7a0c046ff4385337608a95124203b4697e97f9c173e73268a66258c777ba8bd2b6730bdc9162cf042e14dc8d496bb5a98d8217569f240c7a0e065c97cbd8274cbc00dec0f99b6b2a90d7fd0ef59bc529f69d3038425d5b54b523df874e6289f7f8b5e01e793fe2f68ea3543beb22b4294e212e5e4e471fb7b81aa098eff08488c6f3fdbc75d1d363461b283543942e14ec663c113c9c56c2b39fefb8658bb5c6980d779ffd08f8a5989d55813bea9f1ee59c9707005fc51ef80d4e5da6688466a2e25e98e785ff2a2a885f4155a4b71a230244e3442268b1ee2c5d74a65ccc41e3de5685cccc6def612a3330a08866b66c79c43b50d6d1f320158c8e5c82bb66b9e84b5098a2923cf87896582d8d5d4d71dadcd3f37ba1f8c0c58b6632ea3b91857080d91341f98202b994f18241a8fc440529405d469831b8224d2ebcd7849f317ac0a9526967623bae35fbda8e5d63d07a91da7367d689fcbfcb584290402d79be92fead1a719b28ede8d43e742a56be5ca131204e12243000e4e881d451b0b199a8bf6ae8298778054e27ff1c964f672596b435926bb23772ebee4d80d05133a0dce55b02a23abc1df6fef1d0ce544ce565a2799c9f469b3c66755c501117490632c811c57daca1bba094c4855f5c10027ced0fc6df1d6275457d254f7d52315c9f34dcae386e03d50b81dee29fea2724e2a051f6133073f7ecd21302689a107aca0d85632c0109b04f8f208fa9f0025a49b81232ecaece3459f97f7780337446c002e9ca12e4eb46e18322fec691a5f5f7803ad1bafb384b331aa843d64fac3d32f560c702c3f71a7ea8d7a5021e47dbce7e4469494a2395e56331ce1e768effb95983bfac17cb3204a36e5f37b2dd460cbcfc0efba224ecdb8b12a7381c672b70e7058a352c5f93b3b0816c4ada59003119f23513091c29b317fe57d70385113e5fe0d1c83db565f9e21ce4fd5d66c6b57946e4489f5df4120937a44cf6abbb3ef71d5a24d3458c3eed28957e513d1d226005f4880ccfb5be778f1f7c62845bcf10fd4a4096314188a273b95f846221fcf0f477717f25cc71f5be87e360adee458ec51c763771f98e169a352c79957287da9c8c05935a716ae46704e1682afda2745f9cb2836fe30e4df637fe9b788f7bfdc9b8b85ab5f274646a22cfe93ff77e74f724fda33eac82d269b81ef6e170c2164df72546266073843a914279052560b9f29fa81eba29d68e7dd8539ee254f29d70719dd5c5f5e079211fdd235f4f8b1f1a3686249221e31771de879b8a39a8fa90f374606118a5b26bcbf71e6b05a157bd6e28697a635d7f80cf891c1f66670e0f11a824dbc2f2b8589380b52809e64dbfc9200f3e4612b54068bb52bfd3b2f8e876969e460e797d84c5c4460d74749f01a70758d9ee7d3c01a0e1cfe771f0414cff9156e2ce13019c4b2aa24861ea55e87a8774ef8bdebf6537445a1cf01234454e8acfeb708d5955574e4c887e36eac1f24890159495b873d0f4e507f53f974b485d79b40aa85061d4ac4ece5d76edcb822591d1d43b565456358bdd04ebb9264ea56db8e4004220b33acc56d778f36c757df0f56fbdb83857740b9b010f9210158b8da7b61a08689634bba9ebe11f0b1a758aa1c7ae1d8116d2e248cae26b5214271bf6e793184bda6479fe5ae84ef990d7fdc85615dab880a826b6d2488342a14c74260e78d8e1898817bad53ad571d8a6b15823a8fcfc789679697935c70a33163a18313b77bfc2b5a93af253d39adbfe791b5a0e18af7a5172965d13c1765d905f2bc48bbe38b70b2fcc370bb843fda740f0fa7c6cf38f5d1f708fdbbd74409541738446fe7f11f889c7ba9b121a01727feffe2b1ef82d8278a8f6e029cf3076e442d0ed5323d8f3f2e1ca2565607005364bfe504c75dbfc3319fd943562a255cf1ebc5446b5c887cb9d51aa0171e5c397b9b816f235177980a8c6011cf3ea91ce1d2052c5d6cbcc0cb6340952220f0418b0c37b2ab4ea984bc4cce147c43c721807e8bcd249f2ed7c9ec5bf6d38db6d471374b2e8dd93e26450846d46e898cea8cfa1826f2c5b1e9a4160287e895ec72546bce593dbd6c0b6228a692dca3d07953a1c7e13b190ad8bb08a92322d85069c4ebd0ea13750ed4c3453fa0cf2ece8401b4122bf615c23a5d6e788038a2b61d05b8347156309bce519b6b0d5b98a392df1dbec840ea604f48c28efe5dab6a3485ccecae095f72dc598a3aa7a9feec86712fe008c40ae093515adffe55ce32d67f1cb1f13617a753c115c876826ce649ae244b5191c9a3ce9d065657139b197b41e4377aba2a8e365664c21a899847a8b65426eeb3331c0b0e7d12e5f72cca26f0952665baa4bcfa7bd7322335c800b734c51358858e7234c7c5ef35e5dc4cc0f442c2c9f5fad9870ad9871b58e6d487e5265944e6d92abf2d29a501767c5ef631b7205a0573143929cb844445d61ce54131a1f5899b63f7c7429f4f59b1003e492ff0a0f80e122df9864426f79d0c1a6005db6daf5274b22dc6842c1b5b62b4ae3f949eb684c95cb246047f5a3211705433c7a6c656c6ebdd959c9688cca3dbec96e823ca16b1c752fee6384e0d002244531813d318803a5c59cbd543beaf4b23da133533f63f9a1dbeaf3ce9b93dba27b2d10e79c0276c530b53b57542e4ca1d9668a18011f78285c409e24f563750f797130c2d98681282367878271d2301c218f5a652f951252e2345b4f95112d85c32aae5d06f17fe052d4fd4ba5b06e83617fc7033aaf1a3fc40fa0cf45d1c46fa2ff1b5ba78d01f6fae4c53de5ed4f91404cbc01f0d5f3ddc7ed9c9ca614e7b00ea433ee4aaed5baa0555b2372d2c59f2196c8179f1a84e96b9c6f8bbe52092fea432ba51eb0cd16e65ced489db6cdbe649802928895247f231c096c852e6c014d7f4e474a5e8edd35557ede2fbc5d61e3a9960a054dac8c2e78e17c6728680f215dba8acc0e8eb2d21ebebffdc2774f7f765a7634e167379ffaffdee401081a7187c14df510c61a2e431352ef9517a6965a63248efe5f8bf4423fe4f3750e2575fbfe253bb96f3454c4855fe96f5edd85e2db7146ce285b9be03338f0ecfe9951bec03540a589134329cddabe8a14437136b081667231cb4be2ca1a5c88429c6ca3f2c0e3ee87f395df8bf7b50bd71bbe3256334771c89c862960b59c902a439f2b8b843d838bfd5c7a4f199cdae576a06c2b032d05a188bd0e72badf0625c5e636d05eac1b14144cbee1ea314521a63481d6b02539d721f440cd1627185e96abfcf1a4eb7759f148128ad8c020d7349ea7873e8b652f7544b4ac68866f1dd08e7235cb7d3eb97a85a72bee05bdc975e87c27a69977af3d8ccb87d965d2042753c3716a5f45228d02409e06fa8bbe391a01891c3f15edf83e5c6f5b50502e26833c313ad859da6e7f1c573fe3a6fc2afd615b506d568abe6f9009efd346fda9f8edd1a9c86d72a6e767f80ff50288dde8d0a838b985b010a3b0be96dabcaa0170a2fbec950708b06d6bb40c5492206c015f08470ea071b31ee67c1b47e748ecd4fdafee65cd332c980f023991a10c656a60eb12814c01945b1cbbd2dc3062e0b75d0756c78fd3aa7dd090c85b4a880afc2d28ac46afba14058dbb27cb93b31003d9a1ee074b955c8c0451021ac66a1dd029a401a9399e198727f759bcd0f72ac2bd98bfdfc93dbffe0bdea3d20a8db8c66defccac89e059fe1cbd3a8abbea16ee1e339983951935bb134fef13b49fe73edc20ec8a03912686cc917f1be38bc5c20a3fa7c8420555870e553ac7f810c5096cbcd0094e1aec14ef79c08ca8e6ec48f403e1776c79b56b9b2c0be0d77dbefa2cbfe10a990627aa4ca275c3e4c5a9f61f58ba59ba9f81ac901d357e0918f713ba6e13468abb7d760f41a78dca4ecf549f2b5a7542a905cef89e5a5fd638f191f8d9e6147f92723a2cca46777056cc35752dd711bf7c4fe358ea7b3e7b259c304e51232c2dfe44d3025db22a86d391d27dec6b97ccea6f2df87ac52d5bec5bba0fd5ffb43789646ac167d3230d91779c83f3a1cef1e1646b657c70c35eb70a03ee731dd6da3b0a5dc9ea34b7b37f6a078b00218713996ec89f893e4920a4e8b861d017f9b8a0234a257467c7ea2499d30272330f1b1b484fc685b85b0f56aea9515f341fc4c6ae4e146b963ca1eb2c8a5e992ad1a56ec7d5febf8152226b6e7dcdec116d62d69145a69b75c92713b5d5aaabd97446af31d8800f91a50f0744e15cbb91b80e4bc6615910ccf8085956c4f4697139f437e8a381a81fb6bfdda7e7a4fc6af49e6fe3cc1412f7c8602c0cbfcac41b210ea62fa46e4b2763bcdc71e2d59d2616e2ab83200acb01ab75810059d5191ed675e364975b466cdfc0a5f2625283841f7be120298f8c30c295c0a42c2fc524c5c02bc723f9f4576923bd261e6bd6e82a0a8eb9205ea1bf690774012aaa2de9fd4721e6d930cc37dcfa9df5971f3f4be7e3eb5f96575be202dcb7472789023d475cea863d490b59b9c7fd9cf70650654ca417261165f6e1b57eb0167e6e4d40b30ba7ba26b0118584689d9df2a7804fad88b6c75339c1e2dbca339619535879be594e11f7023615be78edf566dae0d3a9b460baa85017cd8519f64ee231b01a568ac7cb8582f7862f755621129528c731d6baa233cc666452f84921049b7e5ceb778ad52ddf09cee25d8784d5ccabd8218f52e7d0634dc7885f33cf25c966a8644dc7c349409bcbd6e2dcd52b2ef0d12f78bcc29c312edd9da10ba17d10d62ac19ac0754c74c98fd937fcfd0547e01bdce16ed2389b1dc813dedfeaf9f473e3d4ef8f8ca98923fd8919551e245ebace908569913a179661ccb012133b7005df3ee51847daae21751d47f256eaab7004fe6fcf9b09179b6cdb2886e6a1ce06243af52245ea1565c948500afe3ea5e01d8c983d1b19000a6fda978dda87335f17e730c36ab2fdfd997fe44269cecaa6dc4b0f6e92251347bbf1893d7099b43d4436d3430246769f735689e7c042b8d5b2f06013c77e6e4b87d64d05f7759603741b9bfe8ca76b3dbc2dda23a8c54b8f6d336424690ebcd7a574dcfb2391fda30ea0e073600d49ff1af57277d8713c1fb1e8071f397e391af79c135001f16d260835e14767e77dce250f123cf69761513918ec55fb93115a381b853e8c6b230adcb0cd04a75a8db44183a0a204cfa2636b2768587370c9725e21366e9a332f71b6f00ec8159a8d067e01a4e83684fc5e4ac85e830511e71b82db857ba59c24fc86d4af388ef01bc010684c87f6e27b97fdcfc285b774c3434463d832b58835fd3ff1d24c134b381075115d6cf675889c2bd4858e75ed21f4a245ccd2f674268be35c4d3d4654fe7a7ef1588654c256f00ad1c5c45291cbe9a86ed1edee2d81105f216feb47bf5382a9fbfb1c4360ca89463e619aeae37d488c1ab2e2845c713be28b59e1e96b5c5ba10750f036990627c687d835efd9c2de1cfef29c442fd2956976e899977311a878c797abd85c8225c55abcb300cc129328e00aaf3fb44112bd1ec58c0c4c6551682ec31f63ccc1daa27c335c5b9a1bbfd46fd50d3b213440f31f0d8eccbcd9cea33a7980849bca6b6103a08f1a4d2dd91b7da582a8ff5acf8fae38d13d8d24279da8f7dcde3f114b93291fd0c84636563dfd3cd6b0acb2204553cf57f1f4e805ab418bce56bc79dc890f0c84a1623ae89a01162696c0c53546d7076cf075d0fb07fade750abae066c53ef4e32b46deb51c1b30467095657eea73582ebebf903f1d32132e5549cc9f08981bb7110075976dd81741461a90da7a556d587012639b71b23219d66f53272b6893c71b624d2cf38d72daa822beca23eb4fae66c351cc87ef7931b1b8d5a61c9232cc9b55efb50fb69abbcb4b3aec1481770e9f118e671e82bec41e78e434350da5b6a7f163a0a5838b1bdd3caab9850eb9946ae441cd1811ba9ddc8bc4393f0f4e3a6b3fef508b5c935c6dcc5def0e851a6b161c2e0ed9937c72fd974babc44e187d81769e1cb0968e26145091ecf8065e9e69bd9092539b3752d37dcc8acecb14c566159220340869ba1ffefaff0eed14edda6fd5e1db91e6f7519d1a322bb334e483699f10df7a57f090b69570771266946f6a0b52cbc6b6f3cd6ca67b6558318b1f3bbedca12f2821c1fbd7a3f8d74f3a4dda465ce46c642fc247505b6e8fdb33057651de458773cabd94bc850b6fc3a29fd09a1dc06ae62ff8d1c7f7d4b3a5d1eb1e7223c0c1a46d32e907b962226377cd653093ab6fea9daac1e6abf62d18bf0e9f4fb14256083092b1b097bce608e2be398dbc595f2ff0a2aceae915d0abbc471e93503010c7be913ce6fa54f892e74e783ff99476f9da45c6dfdfe17ef7f3c779c7fe3458f90b228f9b18597e1301115c9d144553fbb9508fbe8fdc75f7fb62077052a548628984b1e5dfb40f9e1274972230871feba33a1b4a630b36d685693c83830f542591bc94d9946b7cf245c788b452b8c913760ca6878510fd53ef08d6c0b464a118b4038bcfacb65e530ca97f020e92081ba686d9ee50ed41c61136df2966bf34b441ef6033297c73419974b3f1a7b0a9ae9239e9b812f1f88b513f0174847ef2cbf0a234bd55223e58b736fe3f642e759f804e7b2bbefea4a73e0c6487daf81bfa1319acccbb6556da2c397e460ad044342c3c0f3db538e4285707e8a6b1ac36ad401700a576c7f3589f5bc2794872b72b4b032a8472b26972e00072a0f7a15c099315934d8d41752af3f3ca9cc787d3321f3b1fdff110f942f305b74aefee99db0adaadb40b0d53b5c3738b7300d749635de01f2f8accff36544e20a0f9414d542d3ef017bd281230b1b4a63ca0b771f87bd7b6b267c37bb642778d6c758fd94a9ffcb76d947c1d3ed0f21d48524537fa576e1ad5d4e3f9f96b8ec9332adf2968026250333957fd6fe70566349a87ad4136aa295a6a8c39ce7208d31a607729f426f0440570dcd1385434ef570e40d7900684f7915fbe7e00707d8b16e291998ba5d24308a8fb1ff873e43e157c21c88c7505b7accd91f93b6564c8519fbd7866ed8d68c6db5d31cf5c4a969d3fc5fc0192fc826863433fc3f004be402ec0e6bbe2f5f4cee26b7ebfcfcfedc172147eaa534ba9d3ea00ff382cfa02bca21a02bb0b7c2daa563aceefffb42db11faa1441a90c3540eb5802ce52e0c692db533494cd2e8f611c61e64f52175c119dd4aac08174996c42c7981116ae839758b1328859f880ca484306b189196ae0e4fa8bbaabcaff8167617ac4c453f2934049450c29ff78d268c774bc40a9e6ecdf2e4c9d187bfc696ac723da6fe0cc8c127f6081e02eb08b9605cc126339c3f976ba7d96c9176e06559322001a059486da2681d84e5863c9054326362ae0636122469eab8e7b84ad82bdd91f12f60dc359fd0b3e176955d0465badd6bbf8b789175015f37cb0b3a0487e22b9e9312577d5e6e3330ccc2baf4c0eb5321d040e77df94985dc95b38454d31360cd9d0f5763a6f9679aa953022b9ebc1e73294831b13f04c143a60ca6f6dfe5ef9a8eb07a3d0d28ac402396daadf67e4931d757d62a6793bf0f6f37c163ed101565e5ec38d3ea00a385a0e9b29b4d1680542a5864e4ac1453abdbcf76cce05699bcbd899dfa7634e4d22f180bdbf9911133273a1430256d5044214e54588029ffdd992eec051640ceee6b9c34abab0be311be35ef702ed33733a0989a250bfb32ae55d7e154d26662cfbbc25ffc5cc84f5f7161354b137c3a082850b2676c66b8c6632459c944b05c2e9eab5d20bcb59795860a08618b28c24579e70df273de486efc18271c5e59ca7239a6f4bdb6ad4ec4f7b1783c9822a68e1b69a59563f5c8468025228ebaa3bdef9b6d1fde6f443c0fa83f54eeef0a021e09ed814027b3b0746df5f7be9dccf07f4941760b4e557532b59c9c00ba4236d0d285f1487b18222214fd8c83d0ba0b7467760a721177508b0050df1e75bdcd6286a616c03b6b3eac96f278b32d905da8ce3b9fa14df78b7c176782d2d6ea44cda9fe7a6e4d1fdd25a08b3d192d54dae879a91878ea24ddc79034333a98340aa2426d0f048470d6bc9d895d8a432bffc1a0afc3f94551749595c7627f468e8621985af03010c265b50889ed7de25df391ff19fd7deba7ae4e1afff1f55ce193954b84bbb3c5a91c7a11c2fc924ff867db0afbe6da03601f7c0d53f7f222ac64fae13db59f87f0a18749e313dba09f5a234d496bf68788ffd20c4deac42235a0c4f14643aa420dd0367f51db7e98138e59cdf31e0c32c12d42fad18f3636cbcffa8895712922ae4d7b259040700de3534ee0eb8c55d9bacf7766d58fb374b6b3f97638719dc9a181e345809e0ff1d8b91db0e602c24bcea369f4d9bba663c358a31a8af71aedd76b22eb1db7057677c54e5a98617b9e4020f318d1f8c6c7a13d03a121614764420bd3aee2dfb0c2737880ca0b7f6ec8d70685c2a2bbfa7eaa8d1ae10d99f43ea93aa8523582e0621ecbac27702f92c5831a7debcccbff2b1ca8f54cbf64b76569bc896a8afe1e1a8289d3ce9d267d283da2eafd9782f27fc0cb099090100b65fc433e90b0da774624522fbf0f121592b223e86709bcc95cf5497d9c50e5c40491a3bc890253f1cdf15200e491b46ceb6ad79e26bdddd836b5af1c87bd3d9a92d37432bb733fb0a303bdbcc225ab2a2d64fce91d9ed7bd1f7efd5027e3fafa2016430c3b565810cc2933a79296b86a5ab6397a1742dd4a175b31e65eba7ef7bda875dada8496b92dec30cc004cf2311993c8ee2aa9144bafa111f5346f4f056a37d41ed5cf1ad134f0376e04fabc2e17c5bfb2664b3076eacde1ee1643974c8ef9e59406d030eaf0f7be0006a8d1e49fb1c36467f9acb368f46375bceb819afaf6105ae4490e9915c0cecea3fa0e2c08551c7db096d2f44bd4ccc7468b1c77b2452f4fcc97dba53fde136a26d6750a92b93091e827065fd46acd897f496f54e2bcbf5301c7b2f8325e46a14865c224845e8830f319bb448df4a51dac9c96759b9fb7c14161db5efee80815b499c508a3d38562bee928b30c91751bd1ef0ea6a9d9720fac391ea5e13302640ad2e35be3a1b3e3ab398912cfd036d4e47805d9ae9c14f5f4ba4b26afdf640b614005d5ab8490be3b37a4fb8d716650be938fb3055c21d0bba77b47da315630d96d2251e5de4d15b1c5e12c422d13f23cd98682b17e90e294f0fcc2185f46366cbba249acd1217e8895671a8a8ed0bbd8173db5415cf29d39ec4e350b4ea9a43206c5eda3cb561858e8fd7f70b5f7673315faecfcbbd4bef435c3b08cdf63a1c1d6e47eb3cf0cc67805ee6156c5497538bceb528ae60154bb4cca29d83798e4b597063f04fb4ce737cee5762c2431024de894424ee10b216e3969211d9407142ef59cfdf11c2a0129c3630c374caf7efccb704997dc60e3d13fcc2181f02c86cee87a90ade2c581d5728b5026b2e191d62f737a859543778b982a347ef3999b26defbae00b340529dce3f5a9121ab18828732cf06c275b7165b7e3f3c9a1d017d6c0edacb16a383b0fe06c1a35d0c90cc754e86b51efa263c8f0236ec85f32faf9a53cb72f541c1d4102eb2ca7281801653014c564c3bfcb33942c9171a9a4c9773adcb574ebdc2c0372005dee8789634cc5b6293efea8ab11eaaab88b02f29f625852049c215177fc091dd1d8175b55aab7f1bfa82a10646a1864f64ddec35861c071f77152a9c3dedfd8c9f2fdc4c9d69665a416ab965d10bca3c3bc39518adb994f8d1b40bf20ddc634ce8c81c06544c07d0f1867205639503086c6979eeb82bdbc9e9faade2a13b750f35468fd83372c5613e3bc4e384453880717eb1c6eb5feb9dff54c5344e1086901e0d3cdac89436c6c82facd83ef71c936c8015208b61a56ac956c6ba6182b529dcb25ef49a5b6b6d3d27f9e1e1f68727af466e9cf9fa4389b2318204b721656b2a27323e103777aeace520304e609d9312490f26f3d04b45ff46c141ec66feaceca90983b52636452f83011ca06e63b42ee24ff24e0111ebe22e8cdee7ad94adbf7acde95b268caf72977380546d0a5d499c9e5f522b417aa921c839a83259ed9f5449704eee6b898deb24023454a40d7e684387ce3f24f3687881c5157f0376cdb560579aa122d2c148f5e80738b4e1012d7e5e2932ef25b72efbd501afa25bb94d3a8dcba9bbbcf7237e418d86de497ad9d10f899927ba9aa5e16cc12d5b033c4f5e17107f52c1bc5664ae4d601f4f4bee77c7b3c783000932b3a5551920f8d4c92a4bee269c0604638802e78e8ac5a58db884bbc3200f5110ad7ab94a189e2fc436319c085ea55b9e4d57b78922f00eba9e38c070fd9add3ab65babf7846a2382934cb6d8e8bdcc6cff91e9d4d2c962e27b67f23d0601aba61b7cac3ec5d8dcaaafb646387cadae46173ae8180d493ee5088f8034f8a2a6a0e380ad336134ab303ef5c84eae23bbbf32d8a428e2a08cdbdae8d334a6b9ad8ad0ec188d3fdde53b4e898d71264de09726841388b4e67968c86d3241db9729fb11209673e62954df27888520ea07433e2ab6b602eda5f761b76391e1f37848a95b31d072ab2b3b8ec60fbc43b24aebbf530a5a1b09613d552872b69dbfac0abdb51d59b9cf0fa1cb27fdaba97017d2da98396c99076e01fa9b82b70fa92a869be14b2f466e7f0f447f28f0540b7657d897ea68facf27bc861877a90a03346dc6a34c4de17af3a9c79990cf6b22abea5e29736a4811dc8264f62f98f5d943aa5c48b0572efd5970c4b4eae367aee6d707b0751aaf7704793be3572577cb1d21360d460f2ceff884f899d4aea93f7c325801a9e362d85378ceaa3cad843f73898be82e0b316733b63cdb0b4ebf7472773d2f93553a768c9a8d5917074844d31f82ee9ea847c25417eae3c0e554cd844c6c8fdbbf4339942867f8a322ba0a7b5119383a7d60fb87dc1150a33ae22c2b4ba6baf50434d4ec3baacca4c7b4df8c054188d55a674367fe594a28d9c7199ddd55d672dc7c6b588a9760c5145e708ba370bfc1386c6b54bddc04686b4c0750b7868356aba6deef622f7564e0cda08ffe1526c1e92d8093c84b50b7a5346341d254d8892706f555b8b58b2c5dc7eb332d7222ca65c79921605a96944f87606e1b9273d2d7a4c6334d701cbbc9971801f0b55e7817ea30daea0c526059e0845ce2f11c690270485dc835526c266647cfa781fa74a9260da94f8bc67ea7fa55beb9bb564194dc02829e603b0d6f4bd8e7a9f19452db58b85ab6047fee214289e88dcae23b8e3166760044c676f2c0f51dec3d32eb2d09cc3d2949118110129f88457d1e2de59fad3d50c42e236cb2fb9e47be3c5ac837a95c7e77bd4f01104795e9ae827eec713ad58b20285f9512308809e8b21e13a6705f4a267efcf506ba4935d7c76a72171da149f443c6850431c171bdfd96480852545fa67be8b4aaf70d6aebe1182469da3f0b7a29f43fd7f85b50b727fb6491550fa79ff20cbb9a0bddd342b5bbdf61e1dc8492f0881e48c1713c48761dd785dca89ec422e7350af99e6caaa6ef655a0192779e45923dea937440daa996ea080dac02910aee413ab5069d4659ccd860d1d4023679c5e8f6407930a7b52e323a7e53c7cbb279154f519a049dc0a1334237ad668f97c8ede15675650411f01cca46c02d3009e76514ba9b5f0f685cd035627b5ed83da5d72f4006c2c1af07d8b1ebd5198c4bb1da14b2cca0a5f101b7863e2343bdeaa6c8c7267c1d566da86d0fba77b4e04da809e6cb97bbecc0085058897a543026d7a53e7c33ae744597a240ce854305e56b6383633803a54ddc7989a32d23d69fac5ed942823606857a767b4c2ec2f355bf2ba008f0f5b27ec1151bf1c1d957b3aaefbf22ec3fe65e91552343416eecdcd17f571ec85b4e6260b9582c303508db8b8f586ad246d7add5c75088d438665da16ff09b90767ce7baa2addd3abd46310960fa996ded32dbf1d255c006b01f37b979f2ca447f3106e685f6a5a57dd1d060d6b4effb69733d83ecd8e5d77f620c8aa79331f990dbe45540394d84896a65601717acd681ee2137f8eae1f7a98f766dc88c370e1f16073ca46e841791a86fc98e642d517391c07ffa321a235eaddc18ebd3b79c3ee32d5281b100c433f8456806f9bbb2a6267fcc26d0b6b8074dbbb5b99f65e160b0dd8541f7f9c7f215094409afedad1bfbbc62c55e4c8e97be4772f44c2ff0c35f2ece4b0bc062de85142830c61a2f7fc96383176df1271cbfa786fafdf077a145ea75e5663772aeec1250eebcf1e529e7d700a5716656a0e737a72769b537f151d61b71a3b236eafaef7d2e6969ef3156656b8cb2819154e3d94889b0fe7fb2bb315fc4636de0d09b440fbcce6c2a086b05f7f608b8df0dbac53abdaf2e60f9bba34c85d7a40c02e903b49d09782052b30f7531ad7471620b04b6e1e3aaca5ffbf590d04ec0315031b313d4ebfe8ab2140f08afd7f5879a8c7e720cdb963eb12536a174694e0df914bfde4140a0da2ccff3b1be5049296936197c13a5c585151dd0f1ae324d17dc41f958667af72305ec3c6e5a5f8782e403f0ebb05de63bb284c9d01062050ed74bc6b427775fac8bce78065e719831552e46caafce6fed349c3e4549fece9e1ecbeb2f52bc7ee40e859f40b240ef8b00b3e82392a16c07b34f20fdb30a91e509ab871616263077b4978294bbfaf5027faf3a07c49cc8c3a7a3369e537c0f8b37b915ce4a908152fc6b219d0ffe311879cebf3f9872dd9ff813d32f6d81c09664e5ef340e3fdc402f5af102130eb1776f1a4cf97770f1a8c6f236b315bc5910116cc762b138705627e2b52673dc5c0e80a06146b1b8044711757ca5292c748e858f97778e9f8b8059d1bab1a472cbb72ed373d3cc0b06aa1e3e3a93166fb16cf2aa9693d9a3fcd80bc8901a442b96cbbbbe025cd7e078fcb94d175e4024acd0c85df4387f37f3bfe65754013dba46339ccf48e49c65b68aa03e6f445986415b81d44072346093df0c5e16f4490ac89dc73ac3b63b21ea1ec90898d5ec2d1b4a043c1112288d2d3094e06d1832b8c7df375b392c698f74fa24bdc41c44d04539c0f928ae41f0965b715fcea79d4ffef239785b6afd7141fd1d02302d5d4f9082522c70d6618b959e1c43a9c50a3a64679d3f31d00955ff62f0fcd711e51b4f0aa8b0e35284db51ca9cf163bd7663f3fadc5a5f4c388e14f91958888cc8c387987ec2b872f8fafb1ca926c228b7e376931543e0cf26cf8318d74cd04fe8030195ec2752d9ff29d1e6eb26a65ea04312a4c90254456fb03cf6464eeaa6f0cba1e7bdd5e7edeef870231b57479f1309ad7d894a731648be32e1c5525c306fc171e26dfa3bfe50b835eee6e09a652ca0384cc9774eb4113e473f0ccbf0f71aee929cc905302a9c6255e952be1bdc4b86e3c9679d80d5f8ec16504eb549f4110760acd6eb2bb63f29bcf550a2cbbd9def98b3d992ded8471e426f5577362ce6434981a4c1f36f9b80a4530371e44a00296b203f94ab05914bd7a898c022d329985fdbae2966d45cfb4bf9623dbf0e152f73846648f5205a2e9bc4072040092a469829ba1cd721508100bc6aabd9b40d8b18d5be1c851a4d8ef4473cf3019d7fcf85068b9c16ed56d34dc18896fc73195f79b94817972a4e74e1eb26c0119cdf8b947fd148050f413799bcba87d906168f8b4754c33d3e8a14a9a9c8a69eceb3cfca440b4e0a343ee2872829e16faec212e3e8729caa826c4e1ee4e8284fc09fe34bc0cc982a16a9e958208c1c5e4e3e872cf0cdc0c4133d0e77d42cda68c4a7aff4987ad6dc7ea711ac9b7aa38331926ca7a16695ed684c5b9301bb56edbf505363e4d4140a238e06a9e95d3bd09c518d57aa45e67e125f54f6fd29d4ad80afe3458c31a11c21152a988c8a9d2140e91c2e4a857fb1684fc1b6bee43286c07eed6af36107ce30869ebaac6408fd692bbb579e2f9b1d8b3a8ed0de47f9466407442034bdd5de5c5fe0950cf8c4c0aba5b32e4b328fcffacaaf881f53802aca7d5b9c4b50401a9ca8e44b358e52a3d7187c6a856d0b3217bc98dcee98771814e40f9ebf0eac14120ef613f8e1a017a311223b04b5fc94ea6214b980f50ce870d6f3591fc247db11d7849b3faba339541a9ddb8b1db9453b91b4472bd661fff0fae0637b82de0b5433899e40d4218c896ef138d4dd911a870e2f1971fbb157658b6c66b1cc0fb85bc66b71e629a4a41c6415721732018ed0a1e33aaee4ddf2cc7a3dc415220c95e0ee53017c72945840f57753334020e14dfc7eea69af4c0dea03058cda78b6ec1456f144eaace619bcbb47a29f4d000a9c072fd3517e45f3fe1bcee516e859411e9362ea0ebb0384736c10b152f4cf97066fa9b715332f2967cf749529c4b9a6b4792d80ad8a59c5cb48d5260dc4a29c8160257fab557d7c145a52f31c0802c74e6f7e50f6785af847c25c24751730df617d1f032fb19754ba66d0d960355a18fa7030e628dc42c3bd45fa11ddf6142da8ddbe50fdffd87ff1dd8d2bf4af2ac5717e292f1b0ea8106d7ded0bf022a40f933cb2c58413eeb45dd1374cf1f9e2282e04f20fa4bea9c199404099b0385a9f342ce8734f9aa91d6fa98e8098d92365f84fcbfa3f065094af8fa43a087703f68534f04b8273822b1273463220148b8cfa75c6df67968fb2cdbd63782c9bb2f211c2bc4ebbb53f3433f5e51547b05a7719424e14d819fba437aef98eada4634132568ef34d0940774f4a01862f116d574c3b8d29cce441b8ddf645b6f75a0fa1e4eddd1c5900d84f82980c10c4658e7e478eb0d9de2671d083adeb02efac1e4b52734aba2ea4231223316b0b5151d9be5eb72c559fa21228ddf2f9f35a498be752ae1dfef24cd001a6b3bc18463d52183433d1b0773c0c8633b93bdb56994a3a6c6ac710219ceab39363edb60fbb70426002bd8c058fd3c3217076e4fcdbcc92b813a3a1737c461fdc97481f536d41d026ab4d38f00a880639ffcbbbc4971a92ec5fe7137d1b3ebaaae946ce8561a7914fd759eea557f8cd51c1240dd22e75ea2901a1cb16b4090e3eb623bfbea1fa7bc4faf30408f447f37bfcd131c4fb7afcf4c2614e8176ca5c9cac2dad620d13121d5c7e1a0d0bf1cac3090433b72f86abe9e54756d9704ea97d172b694fe57e2dc27cd4347899246507c52a3976e88ee96011c4ef405edeb421280c48c0f66566313eac13055d7974814135937276380a61a6d782c1991e50a450671f94337158a6eb6178225fe4338946f8208c38b434d8738c75881807dba989730750d3fa4766519dc912f840a10ce4821691c1e8e23fec6a88ddda816da16c73f6cfe910a6e26e4b7807b88fdb63938ee40c8de4ca93bdea85a627d8fe5a02befdd63c9b74735fb336ee72ed139b3405d72d02153bd10c82e3464db9c1d0e6697a8bae7ff859c95ec487bbe512810cfa1a2147068a31ec70fe828fbb35b384b735ef5c6d163881ef49f0cf4270a94722b2f4982b31e62dae83e2e552d0b37406cadf765e3e22f9a716c012b8def718ab6272a3bf21a3be52eecb1cf84b9dd4ec74bf3f7389772752aeacdd5fac1a2e6a18bb1b171e519a0a5fa5eebbbb2dbded268df12e5d75875c2492c54c622805edf36887ab14cd3220e0204f4694cdf488d371dbe3f06e35fbca772f348fca2705dc49b05ba757bd997a35a46e5f8b6f9b1a8b41b7a45ed438bd2f4ebf55ce32bb6ce6d79540f1e2e1875d2edc09b6ae828dc5a7306d9d7cc89bd2808a707398cfab467988fab18f5077d019d322fc17c1fc9379b59da2196ddf3dfaf0af0e3d03fd51f056089bc392d70248f9e6140236d92db566837f337cae13e02c9dfa11ea2619eebdf5f4f0ccfb4119ad24c7ae8274e0017a12595ab4f0b1bc6c0ac978ea20e648fd54ffa77f638f4ba345c7f74918b87fe144c8eba9ab4c3ead767624c827c8232443e6eca6cd1040f7199000c63c6e799d67700e32528c24620128149943e17b1a41ed5c8cc1f1e961bd1d44eee8faf227368972f311ecbf55b110fa7845e3e760c259a27bc53c2ee10deb1fd148340c82a1c8802bad60d07066f95c3ef6545dba4e686d95cc8e6b15c3591c4b0fac5947039c60732e5181dcbbcddf5b36339a37c708455ce65f673b11417479b4aa465f23dce114e0eb42ce0dfca3c041f6aa0c9986c45b291e18f12d4cebd5b4c1095d7c7d7956f90f354b5a4c4b4ec9ec3b2f9099d73cebb6369f6df1dc7b034972c3b3241246f5ef6d5ec8f61c57abe14c13260d5bd77289b6ad9d63cfd75aaed6f3508e643a0f618e05057615eab4ac5f66ed6e888fad5d811a16d7980f6339b2b921d5098ee7775fa1bf7ce8bb53b483dfbfe3f3342dc02142dc951ea7f51b14a7544e5bc56b49fee94885815f1558a3a01c4ed4a450fe41e061b66022382b1cfcd1da228c4694896b711719a57209366347cd552a23a728a101ebfbdd15d072681e9db066f4a28926384cb188fbb3e8262ed969a1f1ee688bab00ec8b7c29e05003e1c29a73b6ca5c4c49a01069dec5b0dbe3156fe0090783516d35a39c0564b77f2e7a306edeead73617b284524a0fcdc17c3ee222dd40c6699dc4eb9c81d3c25f47cf850bc1c8793d5c4619a5bf6e81f94739c60d5f1a4b375c48b23190474540003d3e14170a0613f33e4bdb54ddcb3708db411e59ac9f9d6e7aed4b36bade7e9ae94497d75716c86ae8e1ea78d7290f15bc49c2b06d04ebb1143ea707c4db10496d21ad5dab9a5a7ae9804d15cd2f96de4985a29b6d02674c59e58ba09fc657946e2dc787adecdf9abe2f3086a76a8c4c1b7787d528bd942dedc4518077c558ef28590d4bec4c77f5eb55c3c512d6ff8f79e0623a7835694c8800def6c22a86f8d30ef416afaa6bafa678b486fce29520333e8db2fb03086246e1d85b0773c1dc2e77860e5236c47f6eced37bddd06c1a1e49b3b166af89dd547f2acdef3480d1d5f16ce755e3ca2f721d643d856a4516a90f8e7eafa69d83f883474c83f45abd53ab6a470b1621e57d581493860f1b30306f29f1d883f9d4b5ad35c14a13c7e0f606208cd6dac2dc11f58c7a6ced09c3fca411788f9f83ee293b1c308d26f7816718ac5d1dfb039e38670be5bed3301ae98aabe7d8a1ebf741063242eb15ea6d5d9b9fa536086c157be747c7ffaa6b7c9ab171d567a2875038fcfba5cdeab53c9541951c188bb1862ec9f60b13f022043d64e9d6757c2a414f78c1d54369284e3f24b8bb8b69ceda1964e48af663722917908e100d33214119b3e22a31184261cd6a2f9e0152642befedbbf60ad0e4e922a6b8cb0d055b3f080aea3b4317b0a2c96739b6b371699c5968455b3d4eafd0e736341ba244b569d3cc0579196227cb92f83877aee6b3c63cd20006260a9cac13732751050713c52c3357adf1f22baf3ea7f87177c4e4d76dda1124359d1ad4b8ae035aa9dc1f86b0f60cf7e5a62746134a4475a70ca6517b29899209a0982418aed005baedb822987336b963da01a1b382a508c0d1036571023f7c6540f605a3e5f692214a0e06a59bb62f5f2cff1e2c149f776a6e41553bea2c7beb4b2af054e7f92dcb0da80dc7c65998fc4f9191e88eb55d72fc3906330438b582a525db403135ae70211128a86eeb820ca066d23f01c76d75a972bc2c3b9fadf76e712836ad5a26d25a8f06ae695a68b34267520faaa462106cb749937df5eb04a8b2a29049d598853799b8daf54dc13813de82a5948adb0573a46dee79c111435563259f5dfad93696b145c2f96d1155a07d5aebb908b1a015225c8e7a072461d4331a3bc7da4bb3340651689fb0bd7bdf02a5975d8c2f98aaae406b975b025943fe318ddd3aef273c674f507acb36c01146cef1fa4614dea5aa82c1880e1307307e6cab753963280571f7279b01a61c3ea0a4ab573b7c1a2e96ff599d95ea68a3024bbfa68a8f452fa3d57840adb6241d1eb570cabf1fb31cd6debf78455a7fdb14db780da62ac28f13d566b3c6f9fb65840672a44e2bb6760b46fae6f0ebdedb41ab6434572cbc5dfe78f16c9ee06e089d4eb54230aaef21fd893ed43a88489e63eb6432a2e5e1c1fffd394a217da455011bd6d7e756316432ab241d1225c0cf2c27f8adda03f4999b40ccfe95fefa2081a57bf3af452ff3f13332a32325b6d9bb2e6f11f3cda850df5dd0d24536f17bd29db3853667dac4c50dcae054d63d9c665d148c2e3016bdcfd8d77e6097fb500be090ecc61dd1cf5fcc181b018b528cb4402722f6de55982d80d36362d03c14f19740f04ce8556c1f536f2cecd06a535b46fbc2b42c2e7eee07d77cd7155f1ffac30e6689d167efbf29502fb2633ec41aa5fabcaedc5c1f1c2eb827a2e28b00a5acc027d037258723aa494fd1b7d7394142170e45c3b90c495e105dc6894ed63775cf06fc1625b124b08850c535f7abefe4091d97ef244261680079c18582c355c730c3c982674e3474df8dfce6eadaaebec615fbe27e74789b399b684ebf2868b7e0cd4e10e4fa97227dc9efa8f4bb681e4500c30994c0d7a92935301fd545e219bab93655ae865ea8a2bf04a3f3fe1db320a3b4c04c203700bf6fd5fa78174f32eda8481a465b8eba45a443bad1bd5b7adcc6b69cc842221101e39d45d18d739dc1f450cb23781aa6b3c5ff1c14c6f57873f7693ab48eb24f76fde8b566e0cd686aca2080ef863fb12b945c3abf70f8bfac74dd97845989e90e20a01078628bdcffd93325f988b445ebd060657dcf745df5f181104997bd6269d5d8fe7920953afbf73e388d9787b3a916c2917bd60c65ede5f8a9351a426e2894c798d2429ed85d155cd0f2285bd8ccc9d9416f3bb833381bf8938c20669929e318f30693472e25a55e09d2b616734a97b40ed7fef74b5c4d3e18fb126f7e13c9ec8877ede555dc27ff7691b165ca5f7807f57ac666db7c066081edeeaea90e35df184823dfd8631d776125d1847a01b9b1c7cdd9264feb0b5e219ac2bce45739a6a4470857ccc0b6834b65c68070f0b464df5010f384d67bfd11fe515f0f76998298dd1f955a11a15130108aebfc22ef20d3d7841d25ff2a4d07722885a1f574df5b031057d16889baf06e335f34218402825d480f3e853b41e9794757475ff3326726e1e10b85f0d09638c891e0eb63e0ac2a018833b988bcafe4c510c5c4616c373bbd1af74c6b3f1444c0ccc5f1c8610604487c4af1c05c5c783c47c2f56dc66f2b5dbd75ffaafc6ea5b2d55cd92f1a46ccb0c32ec9194075f9d17ba52770a63a19b278dbbc852adeb437b8456a36d9b70522f0079eeb2c31f54c51b92ad3cae91b5b05fe77426f2c8ff28113ffac134cba3593da7eedd464c6a0bdbda7dffbd75c6ad2f3a1b72b00b830eda28535dc805b4fa0efef49206aedfe3b389010bfee858a51a22377513ec8b8012f696674f32a9cd507aedf86768e4a312d1ceb5af310fa4a24978d260a287739a062a5520d1eaf36b546985d80b36536de63202abf50529157ac128f6074496d0914c791b1232af5e4c2b95f3a88dc92aa214552be280cb9657c78c52357838ed2ea3b246fd1e4fb3985b19b26a5ed7ccbde1fc62c2233c4cee3d630d360c9800bc257931810a8b2dd0e8dbb0501de720544cf43c4fcc065189e78774ca8953a72e73fb490ba1a243db7258e0cb3b1a0af28351fedbc38d361a9576a4f2500aaab5a92444743e967fb92b62924f15c97c80171a0d45187026a4221a95e2c3ead58315a7e048f68fd54c4bcfd672a839cbd6d4156a7b28e0fc7a350da082ba2ec9ab885a5c9ba4a46a3f57a6da505b66656cf9438d22971111861afe0f45fca4c363a22b6f84b294cb48b1459391d59381e98b3abfd62661df8dd4b00699a5da1c537080085b4eaa999599bedb26a943c190a680720bca54c5e727a87a1b1d306290b3b83fe7a0807f6461f0295ab4316cf14bfc359570e885a8d40ffc0c2e1fa3d03a83621d73d1d4ed8b4dc6c9d662adab465a6f6fb715ce52cf84f9777186e1c667921f2aa5edecc3366c835f7f50921ccc4cbc20bbe25a2a6ca3c619cf218aa014d0480cb6eccf04e3ba2dda1c7cc572e254a0a1d8ca37fc5aefe160c400e8f1a45c1c20af48a0961c0ee01031c91de54409729d986e8f99b02be6592c0a96d6a74bdaa9bd85bb0eb02c8b87cb14cf469340c60f51bb2369d5bdb983a51acf0d501d1b7b5ca4d3dcb26d00400e2b3a516bab844fe8b9b7b66a55e3b6bd6f5edbadd4ce981e8dfc8bfcbeb942bb6d35bcd356e65f2b5a7d09e9ec1550ac219cc65760f0dce4d291e5c7c82ecfeb4b76b7a4c60da34711da43015be7c8b387aa0c8c886c80e491c65e26eae958fae4d9f14ad31d8944f9341b8a33be8dc3c0764d1d53542be3390bd63577e9c671096cbd213f3ec7680f71118862e6dde5ba96829a1dd03529e6935dc34a746284f6ecf32ecdb18a9e3338b0ca509715ac7b8a5b5f493e7d0374dfb0f77313253ab58e385ee556c4540ba402cb4c414844a1a9de4d30f40b6ca9cbdff598bef6124d07332c7a2d9dda6a892c5c55cecd8bc811e2134b18dfdd1a85a5e881f1da41e6a70aa90f6f7218f7cbc612ce5538ad09629312120fdfce01fb2952402e70ea05ae0b3addd6146408a175f775c5809c20431dc3a073e716a45104d22d9c736f94b4565b5c5b6c197a8c30fc5a2c3689078e07cab4996a3f069119947dbad859c5ba6f65628cf92565752e92b2be2df1cdf18f55a1f7ed1c29a74edb9aedb50d3175e060599d6137a49156b24e948a26fbefe606b047d711fd676651f02ba3e114dee4c4429e147273bd00deadc5b5f892768c4f095744b118e054d09a8ba66335269c009edb6259ba1ed3fd6ea64415ca5387545ea25d0b5e2946d8086dce0682ddd67935f703d8fa9aa919752b1d7442f38c0d43335a8fea7c7606b41185f4cebbd23351a3486e6f194d24a90e5cbff2675f2ebb3e082abae471d3cf8bd55b69fe5b01bf69a71a6b54602315ad9c38a8edf8a7bd438af30bb584665b9be9ada57cab2dbefd16a6f9172d81767ce8a0c820e0326e37228145f1026a82f875477c65fe963654f9686bea471a1c5f6c2c29270007925834c8799ff4e3a14bc8d1ad9a1ca8d8569236ca88ae6d12596c09a08d97fc9a421c1973e7c34678dbb2bfc61f7d84e5379a15f329e3981fa8a491b9dbb05d48376fb053d252f4a63d5cb099aadd341b06222d86631331c51427c5ca43f8c4f3fb64c2958acfbb4640191b610fc7f6a32759bcf46395c3aa4c18b001e2243185439b227801ff5568c3f45fb2b8d55996b32e0681c39235d0d20089a1f6a4140d48eb392d3024fcbc24729b1504f76cb1f0eef63c9baee1c25e478507ddfcdbd83a80121ca26b2fbc72cddb4e0f5f4cdf7b5e38dd8a15c9929372bda1b467fdc4fd57d0c50844009e4b07e9293d07e2d32602b9a16427b7812f70d215ac0abeeab98f6a2f9e84cfb8eda8bbea0ea01f318ab5b25cbd76e298cc1327225b854c4b4605e280ece9d59bd971dd745b02eb401ca83365ffb55cab9bfa34e4b910dcad208a9fc37df6a8a2be897f18a79bbf8cd4692497520d8339058c99b92a71bd8c2941ec021c7f069d1e20be8d3c2e3be0cd020c49de1930e0a19e5831f75e889fe6d0b7f3c66bc0728ed32e698dc0fba3c04080a5917165e23125d83ce81c1f0a30c9f3dce7909fc5d377910d2e191779894c9c7dc1e8f53326e1c505eefed2585b4a8cb22fca61e3ebe6e0c78217cf5f4e112031d8258bb8eaa956e5f5f28b403d5a612942e575bdf46f84b377172d77b8e5e3354dda6821a38dd020bc76192dcc277b72ccf29683630e70c0622e4f0e738c79673ccc1653d9fa11f05373aa959b2db3194b447270ec199241a8833e8e9fa0bd759dffe348c78a93019444d4fc9511f99fb18df387883d543a517fe424b6f51d619201a2a8fa4772d70960e18ec15730ac4342de5d2c1869ac02b5d987b12eeaec9068cec71883a4280b4ae6d3d5d9e2ad7e55606babc4b1c4c758097caa5aaab37f2270fbbfe446cd45e3d2c77c0dc56441edeb0541fe046d603a58f7cab37592f01f5edb296991baf26566f5c61a0edc5f41c8cd58a3d1448c2c83346fdd89ff2392eb1a9d15e077fe52b087ad42f70b22a416962a50eb885defec2947172fbcc9032758755a218b9ed6ef601c0fcd8b61b5ec04286df24ab3609f0ef27807b51b90ee6e56ac344e9889da3a8a736791d925b239ff89e96e1aca2f697e6206ee8720f8d64e8073ef79eb0f8e85f9680ab974c7435f9992c339920121fce35b41de7d1ceb999bfad46e58bb88feabe9dc4b15224cfb817b1c1922bfaf8766fbadf626d7cb5703dfc585adc572edd50857cd032db834611df89514e2b0bb460afd7dbaec9066f4c6c826b5580654b146d543e4dcf7bbe9535547611bf7a4d06a4a2d990d56b1352c2e9daef0cc35a7de66500070859d13e33c1dcba80742c978382cfbf3007620e9ef4355112b61b825fb573d62dea5f3a1afa8e7213567692eb297e6a5070ceb64e67ee5c316cb3326dcc1bb59996eebad4688bebceb982ddc2314de55aabec3a2f987dc29dc7c3ecfc14390d5772967a3bcd8c99a58d3852e84a0ad967ca8bc16dc2be60a48e39c048a006b3fca2c4251668b63898d1a7e50df0a4b7a8756d0de51faa628fc7989d35e024526a978aa586a50a81abdd2455eefc0493110588a15026bab67f9aca11fd631a6915bdacf905b01536be98d4188fd29559909e30ccea5d7f987f3dd78ad2535f72d1c9cf019599c1bdc9fef6e3ffedcd56383b8b197ab018c62b1f10827dd359cddd56348dd5e3cff944ccb124a5f02c7d1fb45c4e7c224317e488a0d245fa3d15cd1078be375d81d86b8647c4856cea8c178694c6bdddce686ade18a70429220ff8af5b525dd67f1585a9068c4245f1ef66155f39652bcc4ae54ab6e557797873fe9c76f096141bada4539c02d8a9478835888b6d7983037ac8fbcb1e22920a800b775e4af6289f2926248c25fb63575adae4ad18f83c8427a9614bc7f472a129b11e9ebfbc8c9e7faaf5a366c8fa11f201ebed4ee907665c7c4d69cc2d364398a0517c8f2d5c60d0b208e5229dfd612289504045370a3bb66e373fdf4cd5f80bbab0991fe06b5247494bb7b928a73005430d1e91ad03994de5f02a571cd9299f25c474330ee0eebe21ba644129f53b87417f97215f99244359b1df1e41b482c32af8b95c7667a5eab95461ca9192172a83e56b33a90cdf2c9462092b5440fc25feccc02a3528b048eca4a1c385a41fe20534cf8ce7f7061ee5d7d44d773b815fa7f6f41ee9f67203c75b1c6e90d44147e4ab55abe30c23fa45b62667f934330677baa2185bd2ad07ebd2497bf43b581b68fd560f222493aa23453599983bb24eca1fcf3149a9313f9039f8a759d6a818fffb69814b0e50125c56e61566ad3a2ff9931d521503a30d4d2c024f99e316a0566bc83a298a8f310632e0a8931a5d4dd6dca4a9f39fa5dba266ebba3cef19ea232bb564babaa91bfa3f268bf8793a6f04cb93116d0d4bb2448a4a4a7e56e8437f3460840f404c4410bbd4840413e4adaba3b680e7c9a9575183261b1c6483149116e5b52d1eeadb640df28d23c9073f84ac9a4b71a584c0f30a4b3c8d0228906d90c0cef567eb4d75107826a743e0711d09f345bebea7fc3b01cab26f2b3cd2356551afa1460d2ef3e495e01285ce5f5cecc35e74dc3c9bb357a87889c7e6ec3379f1c9d6595aadbbfe0854303327e998b8d1f54831086a2517799d6bc83bfc429527cf25e9a7e5cc16e14bf81387c1b57be14ccce9e0b040483790277f6d2be841afe6fc226ac91e5277b93e5257af7a493c77685f7086967789e9b3b8da57f5599c445543d4f7c26e100602a569fbe53df19ff0afcf044aae197ed0477f29f75693206f7f5a0fd5e7851b4eef2df825a117582f8bd1387e271faa92ae26b3f12b718041a1bfe4d64d0e50510ec31a798a497f794624756f24b446c52e27d206168028159512607f4f36e49dc2d6312d3057768275ada5abeacb0c2a736d4b428503003fc1ce61c258cfa6219822c78856da885a5261a543f73aa0294529a61e49f5fc264b357920df4668c424d9d93c2e45ff3d49c98b117eef28f8b8280d7251597ffbf6b9a2dffac2adfa5b5253ee96b6816142245a92730d29a6e5a1578d72cbcde927754018555a61a6545907cae5b74fbb6191a4e8977a8f63561aa3446e8bf257b80a41b6690997ef1a52d685a63a1be07e237e46974992429d82fc1a17e983df130070794b36e3e4fca153316ff37a169d682243a2406ef6bbf73f3246d6db90d3bcb207e0ea5e6da26c30fce76d6de3dd4116d1c51c021dc1cf175c9ea5bb3122ec88f37d5894bf92992caef21a5a4a845f340be396fe6360a26b519a7892117dd89014b8fd20578c4430af972ec6f699441e9e84d188255e5cc59a3c6e8fd17c847a21e1dcf994f1a1e9dcfd2f7cd6e43acad2295b63d4ed1c84da30da00b64967664a169aba493cc62c5cf5bfef6303160a44efc97b2db51acdd7c53997eb669c19a9a8032ffd0ea13e9e84d063a064af84c37d54dada7c00aade643ca8cca126310c61704e228d077542b4bcb6ef6cf399955fb8109625a120300b55db68c3cbf70d87298cadfa80f4b6ff24e7e0d25878ea42ad78f2b401d7ea159de6433bb5e5eac585a41f14d840ed7c7b0ffcc688c03c5a08d3654275fe44a738de3a2b8410fce8799debf72bf41fd22dc00f370364c3c5fe581dd4cdfa33171a80679600708a6594c7e9f15de9675b8d485c91b7c01bd1dfa5ee4d4e5b769cdb7867ba111ad44399e08e0270fd2edcca802e23053b8598b960f4a5155ef3d1ba51fa899bae8400d5ebb785728bdd1a43172d45ddcccc0a05d1d79327a8129f252d5d8cbb75ed20a1896b81a0e00443dd1ac74da84e34224ffcd239c95e56b9ff4232a619f2cbf3abbed49076dcddefbf5f851f8c575a1981baf4e66415d376f0e676f048c08eb68f8c692acd1123b2bdc3a55036fadf2bae78d7ecdf85afd6e92ea6cf2c2e47e5301749cd815267bb742ed99e9d208f37f60da594e74b9653df3224ba03fdd8c0147119ebaa62ee16aa95dbfce93dff2113988a906d76c346a2a217a2a8935b92345220b3997bced572477990d8d755f27ef9bf00623ce1a0936c3619c5d89e6622cb726a62b38ad71c3fd0902e61f6af950f3dc85c18f431ef2545edcbc4038d52fd951c9108869b249f65fa5e47f33d962397f31026498d554bf1af4a1cb5fdbafda036e4a6d1051c26a27fba47fbdc95c220d45325e714890af71eb8d8a096c6288522e2bc7da91ba2286044a8fcd6d788578601010349d6228c02bd2c8de67c61d873be09e05ba01b77aab144b1f0ef6e353b61bf1d7ff005ca07287305848b917f7f58aeff06701b9c8ad5144159bbcf2769a575d8bd064fec14b2ecb6b4e4c02e5eec2115cbd14babb0dd775b679818de81d988a56df74c9a3eec5a077d87f5d6159cba5002dff168eb67b2229546171684d1051011800e4d619078b7f296504079b056f6542299a4516f86f0a650922cecb90ff744f6483655bd26d55974f532020c6923534b9184868f9296758712b2922fa37a9c57a426b7c5153158f0be439e6c415c9a46c0031c2978f42fa5fc40bb175a6f9acab2faa0e8740115750df2db74dcd9025d6e3d2d8c905e573bd4be459c0378e6ec2c39281b53400e06bf6ab74cc0f1c98506cbf5a6203f5149c7355dc055cde9448e1dffbca86e6bc1dc0192c140ef0be25da93cf222c7f82ea520ace6500401c59140ee094a385cc030fdff4cb509bb661f77b43817153c9cda23edad66aa2c6d63c46fc8c36fd23878591fd95cf9730801ceb2c29b268a90bc6d4e52e786ad468cb0f146e46bbeb4d773eaafb372da7a98b0bfa4789b39244dbdf73ab3981366f2fc05323038cfff282a72603b102a0332a15675339816450ec372c0ea0b92730df2fc182c97bab710e1d20ca67b9bc0218ea95258f163957f459e107d764983bfb70dbdf1f29be58b607f09531070e760ee0e639733fef1211dd868a408a8ea26851872283e27830f8222a6c077b3637106ab4fd168bcec306b686b78cad2fe5958db983802f045071277705a52182042a96159ed04cdb4a40c12528f9c7b7d467b606a1c46a0763a3f886fbbe8f0c11f5364dea299462d565b74c46a653a96a2413bb569d7e0a999e3e96df551c5cd12a5078c366bdebca7f1909d6652e3e65b39997ed1ab98333e06ddad284e172b51bd1a79f036eabb416b6ecb2fee8ae79372f5cbabd21dec5b05e5aa02c3fee8953a727d68217fbb1c3f53b43932cf35e8fbe2a4a4dea4fd0d83c6e742435a9d949a1b3d60608af8c3a37e6165c2e086f8140051058439f11782d5991c84dae8cef55f892b86ab8b06f1367928f247bad15c512d71bcb4a35ddd23a61b0916e3f08d2aa6a00264115aae17fa963274319d11b6afc194d782e0ef7248e0cf84ce6e9b455d1007c5aca85c2a6fce11ac58f36b677962bb58520c164f79907ca81334b3637a09b54d8679e5bce11b36338fd0d4fe2ed67a38f737e17a7890b191cd5f4504236b5104d4620378239e30bd479e25c26e015a03853f6a57974f550d831de816a64a098c10f64f42a02e7d2c9e78753ed669d3e93fdcc9053e64dc77acdc4009c9e30951b2c99e64d05ad5e6709a393add876df582a95e71ba036e81dcdf9ec93cfa319d32ee89587d580c6d3c69f1dae0afc1b3aa6c5ff5666d241d501bfde31e2907b79360cd6d50567e8d0ffed075bdf06d53435719946877f55fc6c357134b79e069e45c654cf7730e6cf60d361d96251dbda6ece26f637afd4adac2ae3f63a375e4e3ca3003927d3423db64d6e8c6de51f7fbfef77125fde8d04f875c88c4230497ebaba2fd0a7239d9ab3fabe1563318fe235874c569a8ae5fccb5761d7cf19990bd207c2d56c96802f2c2ca825393e7def10fb80f68bdf0ecaeafaa3877556c61ffd344e5de73fcaaac8ce18f30f880a1d8afc05278fe64c15ff7ac9742a37b68deb11a64796d074490bb72bf05b968c86b30366bd94e2809d5a559d8c5e089596498c8a25ab8742eb326bdc0bb9ea3de3b64ef3f09628951f1192d41895ac97c5c7f52f078d551b60651c4e7425b2976c96685646f1694f0790ad02012e9a42519e815a2b0dd1578745303c4b4efd3372f4b8a499d45552ea557867d439899c48ef64d98a33065df1bfcf4e68e3f765f06cf3ad2f71e1fe83636a233239ed51c7bf3b2083fc051ca7165d8b087850dc8afeeac56d9c571b4cc7e202513349d1ebb386bb74dc4e24500017d92b832542bbd8e9d8c6cea8dd096cbf9932502454a10ad391821906c035a1cc1a79514bd885a705225b7b06749b3e64d299e4fee03a82dc3ba10df90bb2daff432e273a187102ebcf85a6fb28683c4c776254e96b2707c7a5973c36d6c175fe20916da529daefcbeef9711712d063bd95863d67e4d789341d56a316e9347924aff141b1354a4d4ce16f758db35556f438b18fde2e056b2f2f9604a2253b07b74400457547dd13b6396616f14147460aadb6eccb068da77458239df34beb5cf5c80b310dfe376afa5d426c2bc560ce9ac8803ee76b23477b8cbb6004907addbef1bec69288bfec24bf5df72b4d457da3328288710b0feab4714e781e4042b2162138715a7cdc9f301fe38a5e1231bd186ac3b586f6245518ef8682309867077ef5e712025b80485408e327aa9d0065a1330ad80f1faebc80924c49974b886eff8388b683d1f55794860f9b00d49bbba64453aa3b09e524909437661e4306eaf54216b658dcd86f4992d656f5cd7b8ff0b7c4a0ea05cd0ed6f88853d1caa8af445aee08c77b852d7a765298df938075227e16c65de4f75280719cc6db0a90cabb5c22e4efbfc54b28e677ebdcb8a0c75c8781335791e0c6d0776161a7c204cdd54f9b4bc3a80f95cc5b1daf64cc67b6cda86498673b59f3419ad31df4d77442d6f95c6c6dac4c7963a13858321c5b60fd36b16fbf2d2d02768003740981b9d6434886febc84f1265fd9dfabaf0e64292c1e8529df3d176dfed203e78169e75a23206fc49c1bb4c96fd4cb509f55dba905f863838084968851427f94b7e3ba4bc1953a7e8d6d3a11d8e1a264662d9be9926c354046a3971d170b4e76213d6fcc6af7ed7b07ccea1b9f186a8e18b08168a3d4378fb76da9c8128c589782b20251512ea314dd42fef31ff5138e3b9391e41625fa074121e76228bc8e456f6db2866242a33ca3bf2294ada0e20bf7b8d18179da97dbbb9a97e97825a11c44071e1cb322e6f3c224177b7a77271dc8ecb43f621f6fca5fa8d175c443732ce66969a8f6ed01d99231d337ae51e3ed0136d3bcde40e0d111fafc6a77ae9fe53bd62823c11bbf0f37da2d80aa713a291812d519357744ef5efe19b738c5fe5edc21111b115c8190ec2fbe80cc43977294b293f65ada33cdf815a56e856d42bb8730c5ef1ca1f3048bb43f5282fe97b6f37771e2da8481741058b75497b4298b92efb93628bfaef0afbd9e997e91f838ae7cddb157b804cd89c7c9503ae32a9e6ca0c567947afeba43af1bd4f284cca1c1183f40aa872fe9f8cdf93ccb170ec73047d5b3fb39f590bbde03e140841ba439acc3b4b483f09bbfe9a32e9775ecee112ff4518cd6273521a647b42f4e1f78b948aeb75679fada026cc2e6b1ae5769e1be491117198cdd6c4aa0ed56e0bffb8e634e5dcc0944af396a4745f1de3b26f8ee358f290685a4e0a7e04033be6320aac5e304468b8f6bbfb2651c5fb05718590cff040ad1318f10af86db3ea0d84894557e3ed28f4680bcc33e6ec5d1807169a5759c1d4b2fd424d5615b3f8219d3031d7e2feebeff0ae63e87853c4df058035fc10fd371efeed1595c1fd086e05aae60cd2d105276f599bdc69245f479f129aa1e3b4bd8ffdd91fe6b8ed16989323dc4606c4c04dc86930f6e4a81449911070e1622a9e1bfc5c3b4acce9c9a0a785a9d1e650cc6766d14e9d2b4a86e30573cfc1e8c7b58fcfdc3b4738c5bf92c128498030a49d35c37874c6ad1f0ac7b73538deed69333c995a84f225ec31dcb8d3114efda7a6068940b46f6d5e3faed8f1be114199400f81f5ec4a6247849106afd8aa41d868dac237dbcbeac3f4420591b4f5951183f17d1fa4eca6cce7639a3aaf686ea9465787833f00bdaebab75ea255372c7f1400b9f06600955ae16dab563948b86ce3c147b79b76002e35ff5d58668b843b347920603098bd0c57e0f53fa4618508aac906f547c22989d11bbb6fe79658dc0e439d54969211b85d5e5698179547de35ecd91f0b34d46259c9c444fa5233a52dc104f64e46814b5ac877edeac2bb10706518f304c8bdc39566c2540f9f46d348e1fb14a5b9aac6266030686804fe10a687710e9fd1a6e9cf397d7df06b7b8a4fcdc7ee7c765b8cfa23b1817cfe2db8bd810351be0e8568db67a19681d6fec55d43b6b33d0728b0e0f78e98bc1ed479346f1a99733905229ef5b4835bdf86a0a9b5bcebbbefc204d9be1fd6249fd9b4002898b0ef0459853fad104e5522829655f4f895ba2e6fdaf1fcc9559b6ff89cd150e0842510d5e9d73cea9bf242a52c041910361d2726849bbd0afe55d52c69e09f260485c37340c816d1fa7058a52eec850f67b2aaee3cd928eff3055bb833dc258885755f7bb56461ac27ecffb63f473149ea424e17cc758ba724a43ed6794c13aec9457995c745aeba59a3dcc9a038939fc124aaae8b6d69cfd587b2b4fb2220925c4eb76b369b7cc32215f1f01b35a85950fd6e9a96521ef64f904d9932e4efe09f86b0ae9f1fb966e9fe13d002ab6013c5076f772a0e0300340049bf421c04ed8f5b68fb1a2c8dde76b6138510438447b6630330bb0cfbb53ae95a582386808e83bb15bb3f3e82527f705ac97ae9e0e1d980c50a1ac453ddc6eece746605ec17a12f1b52c306e2ba230ed6682211f5219ae1c44b936fdadb45fba0a193616fb399a3978be9b96f22373cfe52b0c5fefcab8c37c2715b570acf65efa73951716e8638179800e745d4361f490db83054b16eb81cb42c54eded22496c14a4dea04edddd20d6cef6113279b70e44cecc860f0e84aa84a42d253f2531c708ae5925d1e4966a634263f3c848a2c20c75b43d64cb41bbff45910c2c8ae471fcb993cbac07938617cf6d08e383cb76f260ee79521a3cf3236ebec98c5c2c7624223829879d2c089e50964096dbbce298adeba53af4e73e0aefb7cc79d9bd86ee8e0b2d9e919c13c5fe028276752718de306537b5792fb3327f97d6aba3b59dec9387b889984c545cd57a6a8b72198237cb781069fe0c7165fc916a9fc0509f751ae9c532d1bd23fe205204e1caa21e21556590f373ea1345741959ad8876516021c75376d0821eb19a879cca305fe339208105b49e26f65068d18785938dbfd56b246dca3b5df04b9fadf1be37a5afc36b7620fdde6ab6bb58c020635db915ab8f633902bf5f5fc4372ee807f5029a116b6d2d2af29ffd301d7ede73b57557d9061dcc8707e9ae90b369ae6d25f13ae95cb56eb7cad4c41c44345de5876d65e39344529fa3774fb080c05d1436b93aef521f92c9fcbe6cacaa5ca735b699367cb5b55e5fef3ca31c4e1cb0fa26ec7ec3511924d9fbe016b2573e0467287213687676b82d7374c35b9ae8e0a981d4dba9332b33cd820d1e1cef8ff0517eeaad915c608ed0631b1cc42e984b57698abb1faed487c99877ebfd84bc2a93d321d7eaa0753a47b2075d288baf95fb74665778305f623eae63f0ced6f8df37a8a21fb2c62ce314d4d34aad8f1fcce52ae40eed023f7a37d8425175e73ec00262e671cc92664478b098fb4fdf945dc0e49902b8d8ed4ba7897c488a895fdd414d0846ea70dfb026cae42cb114f1186bd0c4902e3ea2e6faac497a7a520711e40450ef03a491cf11dfbad2f9bc7860866076fa44f4b4a44d8154a74f6e4efa1ad12c75b2cf230fef0b7d7b0dc182f0f0e01fbfaa3b5bea9e54a5fc448334326187b181ba25a0bc8ed61e5f9bb1affb6777a557be0c3a6061652283298e820eefd17d31c98254bfd1f1d27d7543938f3eef284be91a9bb821ffd8de8960b43f7505478d15caed0bd8aadfbabf22c346067a4547d33df8e44a23e95037520144e701df498f905ccba7e06644d45fe40070736c1f58cc3f7ee04abe9469ca8b07c3b1ccddf600cb54fd2e5b987ac9fdf041661cb05510b64434a07256c123e021b6ef058856645480ace2d29b1e5ff6f67fe54da01fbb52455bfcefaa07758b67c0eeef639ac752605593f5ee0e38031c9c002b25ce6922875089c4d07c6869c9340c8c9bd26d0afda93518beef3f77dff1a83340d19911c5a5f6a265f3ddfa299c5d818eb5625ec52904a63baa8a2b5789b8bc5c0d109bcd69d0f36993d8da9dc5874e02636905df4b8f8c28847883c7ca9a0938f524c0cda257f1d7cb148f83a095aa9931befa9cb3ef38cff20fd6a6e947d7b3773eb87a64924d5e75f6fb638c952d959fb6f7b6556e325e53ab2e87f03055271c91f5eb52077503ba795f5ecf58fa4fcc87c15d0f97f2b44a7f99f65b7aae2d986e8c0b80cad07576c42b67c2d530464fe1fce7fcb3cb765e8da482c6507d4e8d1ede491ef426734395a92166cf7436d69e1f1d28961805d51de237fe31008fa0857d7d4afc4fcaeac70a6ed32c1f9f93fa6f9b29b28d97f2dc3373fe2c3ee96521620508a3831d09c9bacf0b953d9731f6134142930987a9ff5584668701f17bac9b96c955bb79c78a9975f943dfeac9b6837f51878105788757e41da73b10827d2b98688f685f03d381ba7b116ddd75d88786677853eb2e687262962ac2166c64ebd4ade78a2f070a7f06413ee545dea6ed826f7e19c1430a132ebab974d3fa8e398eae02c97e27fbfbe8d4af950b85cc7574cc0b9c9f5a2fd54e08cdbab96b15ec4ca5346a59f0e74d37f12a092144cc575117e5bbc677fa22f50bfa8c2f712ba8e6559dcb533b93425bae0e8026f6d14bd91e4fbb828f17c8003d4ea646ffef7dd81f7c58e42b451c4a7c3feb4adc0603ae16cbe4dcff1edcbb130a1cf5a7a20704b2258421f454794d1fa66ebf83cd05764cdf8d0a576f37a6c494a31139841bbf595bd6f63e169563bb93816f2af9b10a62390b8a3390edb2948664795eee2ea670972361c29a37e51d50bd9553b244027ba331365baa1bfc5756c8f1594149a24c5a909a2d850c4124485246ffa8034d66bb4be7ccd43ecf2bab80c5359568bca19d1ef06dca09d6f6db8cffe0282c006da79ccc6545737cb1bb74aefb4e41f175e1779675e1e1bc5156e3fa62e34e32c5c6810e9c2ebfb4ebeaf589c28b84a5c0c6f8add320a882310da0e3dc83a5dcfd6078a0972fdd8083784319e6378eb0a803e46f3f05affc0361c975bbcfc74c3645a02c9a8e9fa66b426e95802959ce450aeb6a9d3d4780b75e97a90ab7a16fac84d83143d5906e5c6cd6dbd161bd9fbb7a4d42c851729770b9bd6f7febf851cadc982471519a4b3849e1f32dab43dad7e5e34b92c4214c4980b55d09f76b4ece57ebf22626a0e7987dba2f30420bba5c4958131d8da01cb5257c54a0fea99954ca468dff077240b7b869d013826b342382693825ec615cd0bf43f95dee2a46e161c8e4c0feb7225921b66cf1f0ac475cf530747c03afa78f59c1b0b3c0efa0da0cff3a8c402e72ff75573b7047e441d177ecc315928243abc02f9d2f2555dc37fb4d4b913ca6384b3195ab4e731389a24a8da56e46c6b3cd8889c80a16d8ae03e0727fbbb2a82d28976199c1f4d8cfe40a3cc753c19841754b293806cb2fd6f8d1f7bc5eb1d1aeb1079ef7b03f9883f41960d684ae09d8f6dee635803d3a312432544c469d2163dc87ee0760a19e82b5893c8c29752550eca7aeb7117e36f02109a7edea533b53a4d372df8db675b6eb835d977fb1615031bd286e3147051800be8adec52ee595643201de15a08c80df2f9ea402b7b2185561f3db139da84f634f01dbc7a3e48383b769ed5a50cd382a5271c23ee7c939f91e46f0102870aa01f18e4b4593453309ecab079b2b4fd246c26befde7a9a0e9eaa6303a7513ae637feb735fb3737e8d0741592ed995ce0db4892b6215ef99ed22b74f89ce150f266ef01bb3edd70d1f1d7fc2535749d3315908b106a6bf719043c918e946a98cc0186728ddf2abbb0a4554fec85bbd040134f65da3f03af539efa903971eb7c186a99d5594dcba8ac4f44184687368ad4fbf9a5d11c3e51b7a6eb95d3c89b464c765b6140f9f400197d3a8630a79773f11d32d0bae2ae71817dbd73ba16d7a5a87e3c6ca9dd6fcf851100d0b9a974564fe4ff6b9b2897199e3f0f3580db4055ba62b61eee4b8342a88a308b5a2e23f8c32747dcadd293d52f275aff417f956b0435b4eab838761368c4cca11535a2877e9af222cc21cac21767214bb4675aeb83fe420c3951a94249c6dc1b3bde8fcb13bdb5274e93e9c22aa8d0fd2852a1dcb29d8d984ed33424716c4c3ac2a5973e239095222d271407cb13a65b00bee0e5da09a6c62b148abc1678d914df690a10fc10ee93ee9be1c249f577dcd35bb3396118aafbee3d70cecb9139726c45f1e22b0568cccf03aad592ad86005fb644237cfcde2b99ed2a88704c56f71af4506d26112d10ec23139466322fa93c2a4b563fd6b1b664a33b29697e89fdce30b710ec9b3350b74c5a34ed9a1f4c20be84d669b6e5f5988c09387da79b61b1ab8caf6c81ef15ac8bcc0c5cb82b461803e3d6e8db94514f5bc4717709e02236e1f5999f41e3e463262bde5094d1fb00b5c814ee40cfdfe75a8a21cdb0d1ab2d3fbff8e07a13fde6b8c890f7ff9f03c10def5c4d08f0fcdb9b0df1627d04505f9c6376782676d665d2a4ad07925d33f259139463a10b24e6dde96b6361f02babbfe4b435be230a2a6ac46e5db206fa8546b44f0f866bd76e1a0363e4aecaffacde20d6d736f8fe291e104be10979005b50637c5b9bd4bc17bb83ead8bd08746d74a976a3e805b022ed9eef4ec74c6fbe42b303a034f54bb023fc6a9bec225d512ca261dd6f0ce897c5d0ae19b236817d1be408373d9bc87b759c415003608003522fd9a017fc4744c97bcb7839f5710a216dc217a6c18ed613a6ec0091063589e436c074daca57cfddd68f1c06cdd45a9c39e7a0f1bcd1a271e45ec86c99a86a2065232bea7cfea0eb20efac897dc4c2a3dc8e8a6aba5c56b355c7161469c85edca59ec47c47b6251eefb72b0e0008346a6a3201cb260acae617c49b295594b588aa9db97f3c80f12727da1806efa388ad00367bd7f816b2e69a52213dfa7b180512ed47eb8000a1c47795034c75c603a4ac040451eaf0289540d3995def3d19d2ef55133576916faff587086db9ec163d44672a96b7442e3f9b6dd7ba8968abcaf54bf1f7b6203ca4f231110745356fec2f7136c789cccd339774752b74beb9d9ea5d10e2e0cc73b4bf6168fa78ff2d6551916a77f0902c567a4d89c9fa3bbce041306a22c89d49f942707777e98330076db29390ea9a30682d77e2be58cd5ccf7daed09d62eea4b3fb396c35e1ad111cee961a90c146a9a8703af7063e8c28b0f7cefa36d9b80bd0636af8e1d5ab4f8dc91ddb205f304ce1f875b7dc0bf42b7e154f43e7f725cbacac49aad9af429f99f81488bc5a053d9e31dc3a4ed0277c2635b5413842dc16f3807e64b26ca1c08ab4e4beedb5c098e8bd7e7de9976e170e4e955da9a309c9bba1c911a62711fea209895f6f444a1c59f5b50b40470415215acea19eb6ab32cdb8e0489711e8cdd0baab1257e4c0580db38f9390d0714677a5beabee546b7577b4dc2e91323fd4156a70af61d8a30fc49cb933d68f8dc1fb9926e6c73ddce80deeccc46a0ac90ac20a8f7b9c7fbd6df107c91b7ed7edebee8c9e10766b1c78500c2264bd233ace89717b57ecb36297619d7a306fa57d87513fbd300321141498e26d7681443c5cd70e037517d5d217d52befa7b04db6c6312ad82c1d40209a759e85b81997fc46d21837b90f757d63793623b40ef19df47bea2c80f511dda56fd152fea7afd10a84154a98426691774b28961c3b6887403288a015a16cc982b7c98be8783efdafe9e9aedcb2df2f43098091120b613c429a1ab40d3edb2f2d283c2e1e8c654f249323bef11a63ad54445ddb8e4de75e6471770b9dc5b947b942799ebd9ed36bd1183f0b9134b9c4676545a4ab8f7afbded2141881cb41503495fe4e94a03e496c05b78da8e316a599574cb28210d448dbcc36ad3f656cf485784aa5ea27c53ffa6729aee37c1dbd43904ff5e7d94e4555b1e60d2114c583346130739fda26b0119f3936ec8c8de88a64b5c5f01d5ca20c2cf581254404eb33ca2bdb80f67816321318ced069a5a159fcc749c5cb9f85e627b387dfd5f2a51b10b5171cd5d4ebd00afbb423c48d188b51e09e23be92e0929c32c3856fb8ff74241046cdea05b9c8a86da214ee167df6f917176322f77f6f5971928e6991dd04afb0642dc20290022013e1f41e83b78265a8c7b4aa9056d570c76a91faa6d393a5c8bf743588d2fe7c26b5433160ad7f07838df137e4077908805a49f918e5755685ec510cde5ecccaa1b6eb366fc931747026ed8d01448ad422e6d62ae75715828210a85072716028d2c6ce303ed853494bd398c8eeac9e6903e4d3f9982ec8611bd9cfeace157c422a79f7016a82033a0f8a1bd437e607414361343d6aa9df1ba4baf3a28215acbe1e0b6fd140b3a41ee6881e62a1c2f9eab1c17e61efc21de6750b77e23c39ee603e3274850a8cdf81af5182e2f00c1847290c224cf00435eda2152b9133bb25783c8905dc38fc395ae4427d472dc7cb3991b90fe03940e9d628e5a04416a5294bb7f7e3dd16843cf1c614d04d946eef38a6dfd7e8f7fa8418516524e13bf4a6d32b39a40f0ba899a058087ab8d902eceda9bf5228c1f3fe9de3399297a0a849619ea2d50b6b3855379542c72e69695abab74d90ba71600180139d2104e5f3f71bdd101ac77675772373c407de6e13494ae392e06937a04fe2805e6aa1f93aeb40df57d792c862975a09c55802830727bfd324f71215558b90511863092d70a272825f0d75f349a279844f8ab54379f8bc62143b60b8136ff1a82e87f053b638e16fdefe93259f975afce0fb2d63d28695e137837579de302c58fd726df9f5b2fa4dd2fd17cf687ef89ea55fa1af87a3d6dfd284c5fcd05f6a1ab068edb3a5e2cf0aef70390f2f0e3d049b49f398b90f100b982a9374067870174db77713ebebd012fcc7a08679e57962498edfee49e4749288ac9991a3a62ee6afe39d90599d475035cbe74c3d66c6518d4679733f89545cdf2d70df04f3feadd4bf923ddac906b44fe6628944eda2f7cdc7d5beba7dfdee708f1ab15e8ad9a361890234288f113fe17069daecf8970043da9add6d4574403633620828a41fd85e00daacddc1066cf07edcfac69024550f3768f6b628e7113c08a3506efb73f2b779d5884f6643ebace1d810c07532194a7045293923e1206fb63fa8b4999415baf5791cd05fe7e39b892e5c6134c7f9ef78fc86c6ef1dc41ff7494270914012e22cefdbda727c99ac5be6e8b7f2e835dd5cfab30682c564bad96175884e4ce3bebe6d41e30dc42ca0aa12db8ee3e47534771a49f689fbd84883322a76478630fa4c70b422026537f687a499c4416f57b6cc3791ca029814e4f1d9277dcc124c6292660f88c99f6c2420c68e420d10e05c0afc4cfeb69961b744015f54e4bbb6f293d13388003167001385dd0e75362a28e4c965d1f3262b20a00dfd4716f2939b3acc2c4065d222518e29bdf1d840cfac680f2b2bed304debca6afe6cfcb2b3a7fb9c41085df4a8f9e7237c79c444ddce2ca96ab0a3de5363be5d8e535b8e06fab1a11a42818be49f16c4225a64d8d86c577086e927a69a3c9baa5ced2ab92b74d06eddcf662b270c2f3f6f5731ff3e7eef1bfa85107034576bb3cdc07e5ea7549c9113e9ff42afd9c074b89824ee2f80d047f195ab35d349ded73eab19479c8aef26bc825175e6b0bd00e2355c128569733e3ac32ea83e973b76718ab1b7595cf4ffccc38cb608fcc2212dee90fb81022e9c2a1f4c744cf2e56f1bc16523ef5d3704b298e886fa2129a21b3d58ff471c0c1f9caf1b16573ebfdb39f26c27d3f86f28798c65321fa3c9385d5dec2673b98e5a714541e421d3dba9cbe6370adf975ca41253d0cb95b72bf8c233a7cd2163753720708b3a6ea0aaa7ba877232b51441da5e07a619c476efd3b427d23e6c4403291d4a258f6ff13814ab550efe4fb81728692b307ba571fca399f2e0194a56de5b8a5b81457f07bd3d77cbfade05ebbea3c36bc859337b93d7f2e3be06cbf2bae540e26ca6df2b3f9d40bba9b1d9b72999f083b66a1938ce4d57ceff09e136a80e61e7643a8ea790d3fc45c3c048f4c017bdd9751b2ac12742ba3defbb957768847d27a54d3f10a860d560ae542a3f66bd163f4e51b35dbc7deab609ffbeae44aae236106c343df26691ce2edec3e2bf2d586864135549d10f625bbe0f73e74e7529a472cbdf8c0c05ad8d73bcfff8ec4d1574374433270f4f502db36cee11d7a8a0ffb4c6910fc78a9d966fdf7a78b277c88149bb54ea1671bd05d4041d3e737cceab4a53ff7f10eca0d8df6f892e4f8b11de2399d6aea96e7bc7f55665420b1d62e64a1d142efbd68de8f85d77bf4805120c5a02b56b5f8c43d5c9c36c9d27a625bbafe0078bdd81e21b2b0ce9eb94645b61ffe2fcc48f3c320166611788e8e3c8ffbd2c4b3dceef79a74fc833d616ab1abd1100aea199d8338e3c3f5bac314d07787d7a9500f75901ccd5d341b59763a554b006ef5ef06db7370ab513eaaa1af8331679d859913e4157e4fe58cc3907848495ea9293f98bdfa86b98429415c2d1e07362c94c2939706acda8c7d2c41d27f0742b67728ca91c7c5ef7b08114a372c036892abc7866e72589e18eda1a1021a5237ff7dc84cae2be03d883a76d895c0418fbde8d51e108c994f9cf9c34aaf6c1dcb82dace135328b5c31e1082d4387c22222486f32e876097845422d7cdf2b86cbada6b50bf37f05ab97fa544d8542b29b750402872d520a12651339de48c83233abe6634afcc85fba5a02a3a8f0031b758ca3f67613a5b73c049b810ec585f0d074b9150dc32119ee19475d83e37d6a82b7261200cd8ae00df28cf80f758681006a3ba95a28f15caa02feda8183ff6ea6fbf0c6d95c1e7231d6974ffb40bf835b8c4e83ef963231b61fcc27cb5799bb6f9933eaf917161119e594606a659cd58e96ef54da5b5403bb0353eae7c29143bb2e94faa98e761a30135c7feae07e564d16d05efd4603439ff4314e4904f14e31661a630aa7ab3e24610c39c40a0f45c72a399a867fbfa9d28530d776f6d61f64101b67a528db33c7f7229a9eb6cdd107393797599aa31854bb770d71023fb95e01416d766642caf6c09330149fcf371a6e42acda7cd9bc50a2aa6224eafb4b2e076e510e474380ecd71a94f9cc98d4fabaea9995a5fcd3c432cf0e6159bc02e7afc735a53aee95840d4feeef6807d1e9ac18e2cff3cc7df2ce6e9d509421572ad54f574bda6e27130fc72f7c7ff31940a45e055fc4124be743eeb73020ce5fe45b1f08d6df710eb08e1c303d57964a7bec02c710f0d84a9bae6c37fe3a966e1180a4c758a8dbec9861bb8309ca89ba77dc66a4cec13184295657ce6d5837765cc1ce959cc6a1fc05482f6977677131672838b9e9c305704f7fa6e611146f5add1bd9bb0f0250564b7359251bddf36abd8d9772d66333a78636053a9c15e6268adc76ea3f81aab4affc30047d777b3574048d71da0f7ce3e2b28c7ef0b8f9419f5a2d5968b015e84be6421e381f77b6425efbf3876ec613ac962ad9ff9314b5a847e72a01a1ad05f1772ca485a317a0d3c6759bd98b96e383c8c26e7fe59ecc4bf8a7281a59cb9967753b2049693e90d21caf996a0ebcc8656c90a64c61267a4d26f85500cd9fc9bf7b65bb76097c72b3e7bf7cc25d853070971cb7ab91aff8fdb0fdbac15683557066033426906cb7eb9d851973aeee3761851fac62e610671166e5b5abd3141cc4d3e8839aeb8fc00dfce74de357d7034f6b116a98f516c6cda78da5765f899fe5d1282a8abaaa53e7176c5a1fa75618ab7b80572d49379819bea35bbbb7dc37f9ff0bc5038d3d6e658afffca0e40a28eeaaf2f57e9f4b3671ebee64f8d45f4812c379239ff8c30a4e360ceeeef28f3415319e7c2ea07b1a825a4f2e5e79c93df0bbd1ca05ad885c8b94d738cb694aa19eb77a6ace47c1fc5c47b29b5537fdc1bf2905726a5b695f6125644e47f07bfe1dd371d3ab7e29ab1e3fdb2086f6677eedb964187cff1a32e5982eb7fee8b23cae8dccedc9d75101ebd164e4c744925a7fb3266b0475221705059ce1264996e906eb59fe86808d583b1ab90c1c89467ef4d735cc1dacd15711bd41e9615d68a4c667fe6e012f4f7ef5f56f06ee57300a8d40eb5299eb52e39e84c72694e38a375b92a328812715c90059ead387debdb50bf37229b0b050b72e0d2cab9d5d89eccdc3dd4cca6e2eaddb9fcd75a5743cf62cd56c2732e100a985e189888ce5d389a46bb7a6608378fb5d3e4830a544828d7a2003862e0713bab9fe478724ebe6de61900a2a1d46fd4aa3e355d39836cf3e89f1fabb5c6b505501a9d6427dc30728fd3f5257ca599e9fbf9c01dd555cb98a90760af80e04bfa902901e036e4aecd22ba6d112487c18e09dade5c61e5580df73dd459228cd3a688913fc6f2f81da524683d3bfe4c7d012aa45bdf377e97459db784ab1ea53be3c360ba2924f865f216129491b7be1e1b0ec6622850026be16e1c4b9752ccfc7f3ee095a2a3a416ddae20404efd4cdfaeda07c4f4c760c57d756fb24a9eba02a71e3ae1d835e31b769daffda464a3b05022d729330e2ab42d19c1361e99b82707a93240ac343028773d0a56c01c1e181e7ab4e47128a2c9734e4e2a34ffc2cea3e4c5c4d4934e4bd09a9b79d3610a0540cc02c95784988601c330152586bda12767c57f44097921262735da06838ea1fae24d3037747af5ee194c00166ed81116879e828f4e1f3aa89a4974710f4f4657ce3f7032ba09f1294d3b6c28d216bc3b144ce2c08aebc857abdee7296f5a940803f6e52644665e5847249019b0ddddf5f00e3eca5428a87105f469f2235a73ad60f9879e39b53ce4dbc18e3841f59f6d0d5e29eec582809be0a5a3e2bad070690f557e705ed3f91807a39aee79feb75f270a14ce9ada6376fe2d95d19a2fdbefdc13208b3c0a3988163ca81df829a1e55607c0690b0ae195a34a16342625491ed322029236b9bfeca618643af1f4caa852f237b213ddfa228ed1bebf2a3362ffd704163325f2a46c3c4246a4aca5a2d3411aa02d99f6d63dd0875bb649b5896509c98a5f1253594130f25fa5afc30127f032f6433caca05e3d2c77c286946f717de0862a9be1a1038d90af002b051ec8766c3916faa13eb29ab05c1e4906d80cdbd5b0ce63913b8ef901d6fbf07041b7e0162b438018ec7ba81da5e79aacc7df07ae23f1d0970991f2bf0f8cfe00b0c9f63da74f5ce8c9c8cbfd2222c7a67aecbe11dfbf5b2ee3548e4e9385cc1098c662ef835e4371197d35b23333ffbe74f5f442ecde3be50f53687cae933952fb9dc46252799f81766a39dc4ff1dd647542cb8bd6447a5d8b0573f2fc399ce7ad4b8f9c7115942a8ed077f3345d9129cff0981494bbc1d002e8b3472da5a11c4c7d1ede2d8fe0dc414c2f816bc20f56a1c2a8cecb96f66b02f7162f0777f0644ee13c783483d686af8a4d2ac6de8dbd9cedab08f968daf21be622153b1f473ad0421dd2a2b43e7906a1c497d59e0117631d5c140e8f82e3dcb5c547b9379f2224c154d1ed4b24fe3e41876fec6eb2b0db012acd8caa414da9fef818c618d30cc56d672692c46343ab96e6acc878536902cee5bd5f5b92393ef8a6d5d26bec6a6790f7408d536a377d8d0af60f60c3012da5db41c74fbaceae7d841061ee05e5bbe8a8129fbdddedaf2382d8264fa9e4426e543ac61dcb100a048269754af7660b48192eb7c1a700ad9a27981a8c5b9414e27998ebc37ebcde64fd7ad13ddf58e1ca84a6e499bda6ecc8ddae585d2d31e70db93a6a684856282c60bee39c176651af8464ade5c06e07dfd78fae1e3ba51c6a3f5d7e9268cb009f7b1aa77d4a1351684879e2126f84968e395fbfa926f98d1aa1bd1649c78857300ada52751190831e92ec8adbe02fcf9d3a1a6299ed1fd6279a13c9b75341d2137856dc291693e03b7a038feeb9d60caa10d03d702376203d8b856fae902371abc96fe890c1c920604ac17da9b0e40badc9ca80ac5d3c4faf028bb24986d7d90c11b3766de8564ab61fe637d22232f0c23841c1fa06b907d149b8c8e0305e89e71b16401964608aacc33917779bab0677def0eaaf0cea7bfaebe13a588419bb80a7a6fed5ddc480bafbdb445732e1656c606bbedf6cecad776cf8a7b6957c6460c9ca992a5fc9eeb887e3c8d9e587b56e971b74560263c93dbeb41787332485b25cf07186ebad4f4f943a7ef0b46ad3f0d8286fbfc5e84997834aeaf99817acae526c41b5aac50fed4b5780097fed37ef53c0f4eade7a73cdb406ea4ccd91a819d0d57d927696a6dc009866c976e52298c268d602dbb5a37b938a169b0adade6a0d5f7bd1303133085a6c1164d9c07fcbe4420bf2c4ebacfa5fa863268c7216e6e765423f053ff7112ee7e50abe7ad1d6bfcc5f016e51efaef2d489a83770fc65327ec4a98189286f2e9b71bb77165a298ca60883fe9b4c5f23af5663e656d875380485efc63a87045e9d58e74921cc8c9830afd0f1a157c2c4cdbca1a03965b82aa40176065b0f4d63834461b908479da5d8eae7e01c7c1a5f5e70d3b6172a4465eec0af50b4d1756045514932f17b0c9ff1fc73ba057c3298b740be45318f6456f943c0ae629a1e1fbf0bcfa28b7411eccfe6e02a3d6deb5354cc03b548ad796dcb8bc4633e20bd717899fadecf782020332ee02dc28953481b4371616d1015d54932aff8be5937acc0add74c1d63b5527489d74098bc3ecb80743aab92329b27b4ba6ee603b4eca07da0377d27cc691634816a368c800b7f6bdc2a8d7338b4eb11ae620cecd2743d33f42860f100303a6c426aafcb3a7605fbbd0e1846a9542902a704f001377c7e3bb5f67a737e27fbe2b267a2e7307d8da1ad86ba643de92467d6d5f19ca02945412293d728c9c089376b60ace1f0b0690596fbfd82820740ba7bf2a75cf7d0ba7d2df45bf61b1eafdff3fd0c6919ec6a59194d6a40e4fbd593ac1bd1adca99e9a05fd986bcf61066f58a0b3bc810aff8ce14891803ec84d050461389806a06c1ea592855c57c6044d9a783356bc312bbd1f16ee9bf25cd103dc036b8bdf309403844533ac59e4867261985c9c22074c756e4abed294ffad440b5ca1d69399a49cdab3ddea4f2bd1fbee68402ca30c67e0adb586f20e7d0d69561a6369c96257a9bc6f0b285dc988b91c0a8f7432ed3f00bcf57f98d7d408fc61f0d7f4f8f8aa37faf722eae0f3ef8737e1a741efa9f7f13e79a16e62ce44ee302f8bce8b09c6740c6b968b04c29a1ab334e07115e55b98766a69e0a68c11c83f31303ebd59622598d57f4b9d8392de322ee00da8993a83bda7c1c4c65d4cc1d8b73ef74c1d150b70b1e6727726b986978a880a670f0c184df575ea57e83ca1c90b455efdecb42b95ead690b528e4fd84db4fc1dca452319c9c5f2a281f22c72faf18405cdc216d690b5cef292574a22251824ba463f32d3c1c2f67100aeddbbe0fe7d06fbb021c3b885195dce9544d8754d8744dabedd486e6ff7341fd4515e999f9ed815d0db4536d93d2787495e703d4643f99262d43a6c678937e3aa308df26de95b1a01ca0a2998e5f7ab23dd05a7f02d6d3b4e0e353e114902f62d55541265899ea997e009ad8210418b50fda80fe1bcba6a6e77d2a62a7690d47636c68607bbe2c14942e7046fef83b772fe74f28118a59709d6d168e25afb1610a2466474de3b52c6dfd5ec32f559a07ddba233b2e4aef499dbd6d47e4de3e792f662d266a8f14c62bd362a8f46cb83731492d6b845fcfaea81c3fca722652a0d46253cffedbec7e46a6419875a62623b50fde1ec04bb271baea295d6c1b98f65bf648e6f182e1bd80d834ac4d37ddc9a2dd5d1c50188708de2d36cf2a128712dab0b318a2021131aefa1439ac5dd7961027c02ff7c80f8b50150889b51692609e3002bfc579314495974412a13815f6fec686531089af1f96b6b94e21370ad98dabf95db7c652842ab1937e4602ae3a9eb197b51c9ce5b2129a6a1d5004fd6215bb80aa124283fccb49b083de892c5be442192956ef9612b3382af31c60f2171a0e4e243e1e72493f1e4e296d5d4d84c9b1b551a0a127c87f8f7165ad9f95f5df8671bd7476081cc4bef3365df29b41b895c471175bfd41f00ca71e7280d82c0d86bedd4788fa90d2d73eac8e63d47e97713f4276d6a90be6ac41f21587c597730bbf37ebd0d94d70ff130191b2fd9d6a95edf71398260ca6702bb667ea27436075381731ca6ea8b51f5c3953ee377d207575602366ec2afd6e886c32dfada0f5dfa93d71cd4b67f6d3293c1fa820151a2485289c78cefc94d510081cb5c0f17f11020c08f1291260d9c46f23d5cfe6da792b1e571dc0bae7f2bd6db1dd343984e2a7aeffc17df1149d8f2f8cddc54eeb98b6a25c0973511fe63683c4ea6a08dc38b77d7c3c0d5bc7630a6ea886644311dcdd809ec48da0dbe074e56b6567a9ed2468c0b0ddf941c7d768968c6f8017bf145cbb9f725f01accdb9afd4b979dbab47c5d8fca32340477db9c509f641a329c04d28c5eeba0586043208daa01bd14e4b75c5092b4eb9ae17e54c6fd074228eeda1f337376e785e5d974ae6d0868e7bfd50a48de2d15728c9e5274c0476a8484db1d4dc919a7451e8210ec8a2478e60d7a52dfbeeea752faf053541da5be6e73d41ebb4d9ac5e22eb227b9ff395acdf82d0dae1d1b3ca91e2c651df1dc36044fc33fdcd54fed402ad9780b75f8644da9ab1ec21f7a0787f47b34e3410dfa33a41ff709a97ddfedfe42ee2a16768572bb4e9564d2ecdafa4e6c073bb6505691c863d4f6213860e9134f48bda1198e915f0da7dd2d3d1dc65687f6e7ceece8a033674ffb308a28b01fab1e95a36f3a075c0cd3280ef40f6023c08dc89643e1e431bd9090f2b3b55986b7c0831f42c10d6327ece5eec9f8805d86fead08ae2d3f777346cb65d0f16dbf739bf5a5cb7cf849f44b383b9f970a97154fbacb6784ba36e5c24d07eac967aff8e9115f2c1371a57a69061fe6384badad5f41985f9afd5c3546ed4fc3286d4644a9603dbcf89ac2d2fdf9d6f2a01a7e034046b32735fa68cc7cd6f12183f802c76cff12f7a904a942c49e197bf37c3554325e7faa88b91fef0d144d2fe2961bcec6677daf9d3ac40579288954aed2d9774ec7f9b650c67a55ee83c2180658aefda054c65405c471d3423512a4c5efecbe09da21310562893e469f9364229db02e7f3216921555de49fb02d0e1e6cda76a4d671ebcf244b7b25837cba3f4e8da55fad0f5de0bf22ce53bdf999d1365393df542716f62fd3eefaa8d8e4c5efa08c184bb0fcb38a2efb84151df91800997a31aa50a52d65bbae0390a1fe7669437970983405007cb829589fef9c6c2ad62a7e630d6c672e285b965c195deb9130015fa74af7516d89ade2f3f12955daf10884b866fbfe105b5b7b5c7bc23b8b6d978da5a0aaecccb8468a6d94712e4e8854363dd62f4f1e4c5d2a198fb2c1af917af3f994fc591fe874633dbc585ea886a88d1a87b0ec43db600858fd9f0692bc721fbd944726a1b20a0cb15de1466ba6533e84948a36d0640b82701f9aa4bff11c6adea12129036c1a1214402b3d5e22519ce36de759ef7a84c5c62e75df60541c7a57bd6244dd7983017103b4b95a067c7ba040bd14b345e2d7c8675b1996b1dc87b6a93911190d50db4dc9ca28538c003b1a904c8806148f1b4e80096021bcf1a0cb0b74b4971e3a536faa0f148e3e70328f5c7c44bfb6f26eeb15cb2ebbd5195a7a486ec09e2cfccf10c81d03e9595c9b33f7946063c3e0fcf50a97cc1645aaa01ae0a607b3b2d91f540ac2e4761fb4bc03e6df105b3ff3856818bd4b78d79b8c530c149aedfb8e94cb346c6eb4627c76013e974bfdae8f2ae2967c7ad6a3d04532e6b53570e013b35f902548be7375a7722a8032086d52a1c48aa6b8913dea823a34840f484bced96d445480f74f7fc4787faa5ce077443266776bd791dddee01073f2239cc3466eb3b314370c53bb4e105c7842b5d8e2e363d469b40ad8e99406a4f86fb07c1d86aeb7c1e68be729aee323035e8bcdf552d850c496940e97369be7acc25837acab218d011a6eafbfbdd35622830a69c0d7e5dc704d7535ac3c70486cfd2da433c191fed659307bd155f6eb2f2ddb9db206211bf86615c09faf9364ffa533a33ce43840b1d3d4eb51370ff2b641e1b5a509e55e27ad82bd970a29df6d4433b31d2c107846fc1cf5f47ab866932ed272584655de0fe891010c6eb71114ef72254387e3764c1180961903968e9b28b594879b1e4158c2323052a5b4a86001a4e394a9c8749fa76545eb67415aa9755a39598fb222372698790c217ab358b931fa9da59a8062f19e9b3a9c0bfd53e6439e0866fa6c6e51e04a8367c11f70382d08b3fc5b8aefce9e5ced1cd16b7ce7b80e8c00d68939b8ef2dee0a31ec5229c7d0a877925e55cd5b8f78f027ff502b0d2b812fd62cc3197b6c3eb68c1ff6f5a152cc5935a2d99c9e9f49f4d33ee595856d4cee80a4f46b6b9d1e3f5ac9e33cee05ea6cd80391adb73152c140acd7f07780ca118d762a4580be98b96ce8f52a6b9754e5b2d07d16abce8244ce0083da401fbb35e5e2f70460c4549cccd7c3ee5b252a357586a95f9847abe113834e2e86a94d0110f66b145864fd2bf216881344a96f399f3a5d3603fe509e85281800c6ee05db639943f01bdb2de32957eada92e3e0e88d8a920edde3682622cf88ae3bd67dedf68d7a9137a1edffed6e87c696bca5963922b82d6345ce46ee961d140408af0164d3410ff03177e454434cac46cdaefff39a24c964ec13147d69d69321066e8407454d54be0f8ce8a986b9affbf723b30f93ab885199d2b615282c6c748bbc1ece88e3e9f142743f209296436ebb02dbff0940d70ef1be3b24fc6c828daf07902db528fea774a8cae22d3c4299c5970c729ee0c772d8e68c03b08700677927ae21c0c8caeaca1ce58d7a6cf789e0cc806d5a1d6616a2949cb218c7b76ecbb87aaf38aa4be17a1085f2de70a26b1c577b812a7cf4ac5f56ccd3a61f39e4bcfe59f1a009ffa247b517f439e3ca192357e113c79517edd7238965fad23618ab46b2bc1a08f219161e9bda26a36fb72546b760bb8df8f5eafcb913b3e2719f5b7532c831e98f01125b1f198987e914b7048832097739f45ce8a12c1a8ad474710d3d8f2ca900df6a0512495ea87df18ad6ea8404c2d3186976920d226a346beb2f3b49e97583febbe7a91198be5e0b2e1f91b7f02080b99a2d10968a35273dae7cfd742f4ffc6152c3fe2c2feb40f86a77fa8c99e3b0c79039847f4618c6f047b09f61eb130d2b4159bc528a085348700a4d94063c10edcc99d54c43a0973b65a6d29d1ef32354b259791561475e5b186005f633fa0a0b1fdfdc8defc8a78faa45591d45a2c7bc91c309989f8124fe748ed13bd0cd8cfd6c848b7b123af4a702dee9a9c1b7c012abf70b5ad7fd827ef0671a4d7d290c21317bbd3441aa4979246d1fd7f0f1ba2420f82a3c87165a614d3533e125f6dc59c913235af8bfcc0910202b315026c868bbfb1dbff71d664d22e17458a03695c60801ede52af26389acffb503b61faee42cc56c1841a2568dad38e48a2989b3e69c9f4cd93b5dcc3226d38919b562baa749941c05eb54574714fc7e56da51d726eb68b210fbcea6d81571e61e8df0615e4e4e9dc07b38e88509e76f3dd7f50386f2203a655a31f25f93d1a1487ee4d35a2909af1337a4a15088064cfc7835419fc87b0e69468e10d6dff4612f4836356491fbb906c8bd3c5451e6a75ebfd666563bbd2eab8b478a6850f7bfd9f9b46531cac150bdec97e7949127abea6f443cd2dd8e4c441686c9ece02bd4fbcfa6339ebd9e2955722c3e354cee0ab7d6096d2efc6c6beb4e4180b47a52552a81de51c63191fc611958f694dc8c61410e301cb238feefea958c082aa267bcab6bf000ffe06c5c05c779f56e36e5e31a36fc24265c060dc0120420f7b88af642302621b76010ad67819519153dae3e5d89b580932d76eb2a5f69fff18ce77bd10e86981f53e54ff59ff506bbf6d630f4daa90149e29e4dba3cf4c211a064894c04cb8c32d55ecd362df7a206340da71916ce5c6b442a848b43937524380bbcab761f9c96cb3711610cb58b500add8deab17fb98f778867217be6105a2451fd2b7d765476c5841e3f0eba4a8a84c118bea52acb79b25af8b9a9b6bb6eba581fc73931db1f5cb22104752a9d96a6464c2bbf275cb195537c96a69ca59ff2c99531751dc867916fadf0c9952971b829354524a2afaa4b18349cca22c6c62a1d913f0c7ead1e372f30f075412779db062e240de867dfb381929421011d9e32df34d6e6b77682f914937e73d8f84292cb026d995c24f7057493ca2be40aa5d05df0f3c52b452b45d104c407b365e3a50303c090de1820a98655b8af8055c9c2e9d564117434fc98ac1965ab8a8b384660b003a09fbfb111c26f3e9cc85c4f780760b18c9cec7db295104ca12deb7fec2e0e3dfbc64d43b23cc708b65569144079f42eea9ca13c1a09936bc1b873f8d39d98c98e02c8422749817bd32376d1101b5aaa82eff25d16bbc8a5417a164f448e4226b9fc7081a4d0a1d6338581136f34503e2f381b2bc1a87e3e13563f68dcd2add7b89fa1cb887675f6cf39a6458931263bc3c4860a9e5a2d3fb90b35e11f29eee4aa9daca236c6040b7f4c181045f2df8f14166b3ca340b295a0bbbd0b9368e1e6bf33fb9be7ccd263aa312c8f3145bd0423de1885d482bcf94c0afd4ddf077c8adeed44b3ac2de6f1fa25ed697036872cc6fdfbdbf4fc629691e56af3eb00e1870679559892b212ab65e54478a211f208dc24e8513e40b5fd9ddd8a118eb5b84dc2def9d508cdf9ca90c593d9193d983bbf532f0da964de85143bf21a582dacbf96e411ff4bb44b2cd2072808e17c9b82633b31ca505c318d6338dc6e133fc0679ecc3cf2ecb17724c57ef55557c0956f01b095047f13ecf78478c192ce6b0b1cbd19dc805abb4fcbd1cae103f3410fdbdc885a29b91b41d1692abfc2cd185bdcb94d4652dbfd1b4317da5cb18987f282144a7481c72c399bf0eea3cba07742045a04b82083b39631fc3d04d5f9781cbe5cddbb92a2c11134f60e4a1c50beeeb7ce44fef9c150fc0212e3c2bac736e52c7627e7b1e9b5620a493ff706c3fb2ccdbfde0d7d54a86f1feb55b1350c80fd04808d6ecd7ae1be0e4465d8dfe961d4bca6c96763daf1870a1d80bff5a4faf5ced1a3bbd50b5c434aed9aa67303e13a6da756564065376c2d06bab6cae2580f42195639d21673570df9f345ebc4149e5896a4453ca1d5a4163616bc0fc1ee988447752c044d4fa3d791920252f2ee4ec9bd8dd9978f6235d2d6878c9b5026ccddf68fd39c088a654e395f3a9b4702b0d49a6fd94b47d4078a18ec99c2d830de8b2bb0faf14eff9faa8fca403a79864ec62aa4a5114e5188812d1bebe94ef07cfd79c8dd5bc28b549c36800573cf4a6c08549331d43295ffd48c192de60ca0bb84a0e8fa6be9a3d46a64074ba800ba946eb22232f4e80d25745f8772a694effb6ba34e442be3ec1b751e2a20473f2c10de823766e5c200ce26f245e6fea18f8d1dd683a6f8a585b67ba77b27a03e592024da5cd4322cf78358d08b347c6d565c8480007d39527329759a8297edc34eb1586f805114b84cf8d9f2b5b4bd318999ef62d69c88d8a1102df9acf1bc8e2a61755de493543003dcc682d744ea61d3282d9aa5d67d6de754e81e0ba66deecce590d1ca1c4157eed6fca385f2fd3ac9662ead799aca604570d7cb482b9236b8379c72c30cb85f9133c5311271c2193b9b6ab0620bd8b7ec0689d5f7453a7bd6027959c5e4624d8ed0bd94e59278d940b3ebaf4d581b9224b1eb4d1c33ad555de103b74f6e68418a52d07e0191c32d484cf1dfba8e101a494b6b8284641d9f59d0876af70ccb6e2b3c3a95c8056129a7bf744ba74c73215ce51d76202e164a38130473ca91373418e49ad7021cd3c2f8d2763c5dad2b24ff9bcd853b2a2398f7095250156c187d9382b716ca289c5c1acaca65c32806777987bbb549ebdf735ae47495a9326dc6fe68a0223aab693ac99a29dc786e8f87c4204b228f8007878720a35f4f3f1a16444722831c9a7715578a30dcf47eb90cdd9c1d69409a5a603044ee33d16b52bcfdd7f05f520a73a17cd2889b1ec80c418db44848f195927aab8b84988b3f36d88a8ac1de3c27311e3181c00c6b0fafc32f916c49bb13f93f15b5d6c781a26415640683b921d1945c11d40c34956658012b616a48b388e3a3b59be3f11223b6228ecb877f6b3c5ba0d15636b6bb2ac74ea0de171ef1c835c35f343938db7275f5a6495a15ff4df642443fcb2ca9751df2a7fefce00244fe44b7aa96f0b6956e1094a72ec2dd7826604666247f57d4b366699ea8ea8c15b4125b5f9d90a952e5bfac1863179c133a2ca511a7cc91e00f5ce76f7d274796969e9ed06403017d174769c00961e710b432c5c891594692b6911cd56fc895048c2c17ec25c13e04a83e0387509ebe0b19da37edb45498b3958b729320f8569f5ddcd453d297a75be4c465cc7ccef89f2227cc081f0a527a9af9be348e1242222e0bce34b9f62841521acacd5331fc966afbba63b1c7b436326a733c58c441deb530e7e2e1da1e985fbc674fe6b4eef4e843c907ef1f69beb6f5b7f852ee531bc266f90c834f0886fc396be5842de11f8ec52eb38c2e59e4601cf26a62061139046e3a4c284b470c92df8973573285d22bcccd2c63d8abbc617190e28728cad1f872793e0be351c474f8bc840f85c968943f57a1e33801f62552b3999a0a5633c97095d5b7c280c90c816f564fa032c0ff1132df33d6f75da8cdf145fbe29ec0f64a23fd099d52972601ca82e606ce5188c50c86508a753e507ab7e496df4f3220976e45b88c0eee8cfc3dbdb7dc6a24cab21bf4aeabf27eefa8a11383ddf3f44321ef1324d51e0b351de86ecfa139ad8869469c913176a9ab2f6122cc264434af2cffd717bc3487bfa98e348031455e03c4013a27303c31823a59e36a382b0831ae6d5820e7cf51002f5a6cfac4ea3c0d5b3187ec0653f5514e087aedb7b2e42bad30c207cdbfda07486169c942799f32a1788cfa7c18d233d15f0c5cec6d91e90016bbd3a5e9e60146be08fe34294b6c412d8c0b7cd6f39a697d500c95ffdb8db8d35fe2fd01bd6e38ba78d6288ff8d48dcd58a247db448b02e343dab4ced0293643f2e747ac16195f416fd14627913c5f8e6de3ef29bbb90834366ba7b29413ae8f52fead33ba5d2e15e516a99316de9bdffc0c23d7bb56caffc1085608db49429eef784ebd29f47a47c721521421f725777c5495b20fb8932c3c360d4bb68776e02b5d10ed43c318f4961eedee63d275d8bd11824c97ecb45fa898a6533d52461f3f865656fb00e1807c8a814cb4bcf04b8dc96b9b80d759fdb015f353c945ac6e838b7d0de1e77cdeee4f30205c62c342f535f3a398b0be547f6fdd9c4e661df43f40634e83e77e15dbb4871923e81596dbefcccf5a48eb5016297dae3780ff9b7bc604f2488a283725f51c7554c2a996c76fea44b1b1c930beb5a69acdaaee900aa77a03a9f9131e1a076a09148dfdec5e9580a22a21ee352a2dd547d38b174d33c144e64873d1c622ae3b726a06887958e9fcc3efe2e76d99177d662d01fb1d7f9dfb835da11d1d4d6341565fb859abbbb5700d1e78c897b987bf5ad7ab2cca07fb06988d168626f991350e0aebb42f86d7fef8509fb1bd6eb5e7ab6c94f9fe2185bcccdc2e0d6d2cba3fa4abc378684d75dc74bb6c17d9ea7918653df85d85b4757e578de8a07a20000c92bdbe146464a7afc40ed9f281ac08795366e7530ce6b71b64467c6d34b8ad7b6abda061a4a0bac94d1cdfde999f73b636f83f6088fd82d438509f8f367e67b2c7a4ac14db06be099a494d79896c6e1bd65bd9f2f94be2a960bf21d2b3b2ee945231b37fa14a3b5be7e08794ec80380f258367b1a1812565874ac34770a0b52e2657a5b265bbe45efb094e4b2ad71a40274cce2e057b97aac2aab9bd76ffcfe83c98b2696befc083e998df6cac3268d8cfae23af03f9ffaf201ca61cbfcbb1f248c35aa1e54371036515806e43876ae79d35e453fb3673260db66d322b7f0ec83ea23da48e411a664decb254e27af5e5dd6eb6a95a288e1353500a9c5f8972fac3bacdaf11cc6aa36e0d126b088fbf5814542d674279f373f772afe4d8c23766f8fe4f37e65a2f85ec3dae158c6f58b87048e83961f243dee05c7bc850a6ef2be7f9602577bf97821bf8b5ffc85e5fd76ab932bc3adb0bedc5d87e25a14d67202f283a5570f7b52055b25c240a9127d301dec466094d85890820b85292a165adfd7384edbc54217476e2c71f8dc6996d825f157ee212672c44f483fa05abfdacbaaac287329cfd47039ddac051985dde4374d477a5df54e14de32d6a045b91b541aaee5acc92eedef3ad83975e01c64f5d19f74b1315f264c62af31c00cfa64c98c63fc14e489e720a9f18862810d34e0658c20a812d6a2ae5546d62ae6ede2c091e18acc23d5d96eb5d12afc467626199bd80e1a4cc26137c78a232fdf473c9d47727cd9ec55b64ee1d2266265b59f859dd9dcd4958a339ceae7698520a506c2763e0a83d7905333e4d7fa2c72da7a42b35b6ca87fe7c35e9ea91b8145f3fc66b7bdcfa6c711882822360c380c7784ecf3905d9b959d081d3092a9b12ed042037d7558b31b83a85e0bb6c689c294e2ae8531638c41dd02a675b325b1ff2f675fda187f00eb85ab13de0826292ffdc7c1dc1f9921cf3915ec08c9b3883e2f421259a46b0f7e290bda98758a6b8859c5116faf21e43b5fe7a8eea9e03a0e39c2e1d9d8a06c7429cd72f9601d4a2be2e7b699e2240723aaac1bdb7164f16312869291531cd13c415c96282c345ac93bc1dc71fe3d16d36cfd7f17e0a09263bd29389870e5adeccdbe934a2ec6f12ff65121a86a9e73573173ca480b0b0dbd6dc9275d1c687e602eaa8d126d4578dd56016694353d01fba4b94f9f9fe9df1ff5778fe07858e410e82bb0c0973fe40d7d491f1664b103ccaa2e596f70f3a168cc2b541b0702411a228bf444ab241e64cef53e9eb1db9b242334b83f28d55f5e2127173c6fc98ce2b6a97c1995a7eaa797f78ba2c4ffd1c6fefd32b728d5e46726f4337a43708a38be7b7fb25ea3a5bb15f45dbd4cd1423791486abb5058b87260471d201b600f9db7b761386ef192ee3c37875b251e0be87d274d0669b444e5bfddcb574d519c5d3567ab71c2cadfd177ced3c1fbf485c09de2fdc073d71b44826d2fb9c65264e2d6a07441ede14e4464002e34602de01c9f48b34040fe6878315aba70a9896209ca9b1b30e7ec3bf3fd1a2118f23208b4a27694ecbf1dcbd06eafaac8320af2a22aec78a023ac8e1247f738fc245801dc87853366066e590caeb8f98e52de3effc1784cfe918af7d4a11e9d110f4679278373eb3a41c1b23add54b26e35123beb505470f55d6aaf2ebddf2dc355c0f924c60585dbbb8aa17ad29ceeb7eb9b4398ab50bc6384c572ceda6e4b0187746ff3d9bc31d37e68a338c59f77615361d21651e9215bfbad433a323be52d4eeffb26c83d4b0ef91073209db905145c739bacc236e3b3d92a39564a0deec7c00cb3670b9aa1d8a1ab11ea7445b306fe8b2001ac6bde4f54592970d2ea74d27c42e8ed62d5da5d228dcac725d9b8142ba36448f66ee89f3d99a403488e0f1afb00ce6963e627aa24d64ddefd95e9e2fa30ff580e5ec198370ff654c6a5d070ecad847a2f1ba44911a63fa9826264d8db100d3f16d6374d936be9a47789d44d02ed7930bc23039bcedad3d022814736bb8e6224f74e78130227ecc81e2d441293b529ea228245567b81a0689dbe3d2ac02989e3e4bca57f5a93d6888478a9dd45a16b3607e40e76ec76d011bf808a1bcfaf3febef8e8698a16a67952981c381a487d1f56cdec0c4e720bf75c7c35eac6d751f1ea48e39b097c2d19b1554748eaf02b4d5ef14511e2e8f1eabee2d1af27e479a4deecd708c1458cdba28cf01d9de1cb0a17702f68dab5743e8e7f0f082a0f0beedab93c01704dc1e07ab060e565b743142eb1b01a05adca64b38386450c58161395230a3ef30a9a46d9d921fc1523ec55cf959c5f19ca31350b5ab8d04d8401ce43384f680366765a006778bbf2ad5845776c623719b4481a8432bec61f82962c49293e9a69881317eb18aa570e0a32110af8e9a2f8bf5d092430d2747180461fa089cc2bb41c303e65bbcc23a71e0182bae906bed3403cbe5f89fa5651adaec8537fa798f3e4a1444df40e9ab2ab7009c74ea87a3eb10c1987ac4176e28a37bb7aaefe6a45eff0e13d7ea109d3f4b00c087caec7db509916436cbb437519317696b5b6d1ce392cc1d0b31a2a62756f395c19562895285b094e61fdf3a62a20643468097445f5bebf5a028454459cce54e14d78edc9eecf6ccb385fd16a13020f6353354299eebd198b492488addb73c4834592146a24ce74997ad65c5524932159bf4ac2faa0f2e1ec6bc47d43a436b73c732ee5140ed7e9a4d6eecf4964746a415e5f0e05e4a89083560194f37e8227e65e008ade1f15e5644d7657f272d6357fdb93f0aedab65118ea4fa5f5b46c5a874498b07244681cc08ccccfa8140fb31855ae7bf625c2dea0c91b6945c6cc98b52db099849a938346c3618e8a6777cd7eb25dcd2e2a635282e213415a5b88e2d0d4af7fee40db38489e5c13b75a17163fca3c5bfe3ce8890af0a474f1895b4ae3a1f6ef027b4ad6408cdafa8c374d9ba8f6f7601f7db5a356f6527cfa858e0531522ae208c9ba90f93379ba518f86305b92216f588f82d2adb47874ccbd8eb37f4ee167654e32d2e3d58b4ac08b77d4e5044d5f381935d355072cddd0ee379c589fcdce8e04fe9b027c2ea6969296d80e232f0e723e53a44b5c42afd1fb5fe21e6d574e29a3d3bffa036f38339a754b99c4deb2af43e81c70873379e24bd2aa27e6d855010a16ffd056b832f7f5907cbfaf0049a51456d8c3c32255ad946c1bae222609944002eb0133920fcc89910973cc9dee2a87ccc218c86a19b704ad735b251a4ec2af2495b6121ae217595e4f2f7e6bdb387978822ff5387efce74d2b80a1dc196e7a1fad213ec7439a13daf079c13cc3cacd07d44ea339c59397733cdcff441c581a7a64400909ceb94ff194ce1f997bbf00ec81f059ea5ea66a7736f9753e1b05a3e540acf9d564f60b71c16a17c55043db4851992ad064818359576cad55a30d314de5780a21534d9f55e9f0533c93c35b0f61b27af4136cfc07e563dfa95dd8ded4aa54d5b2289a6930d27bdda044df05ff1ca798a7d6e2a48400360ed3a7ffade7b825bc01280230ca51713d400541160e384e4acc65bfcfb1acba8ae21d171251cda40d63f72b17b8f21e01ae217e90ef656a5b9975746ae6a345ba8c4a038d6fb8b748bc6e93fc58f1394fe467c7bc3cc84cfa4bc165039b89ecff2a8a456c736ed30895516f285a9fe0f24aa8e4ddc0f20b679c9755563c4c0cface3d7711a6ca55a21adeddb640cbc3467e6b59d934dfcd3963c9ad24415552800bc81c971eb89eb7045628400b4b50c2d635655adb20a042ff9dea6b1a83618921222cd56aa306462baab5f8ebd9b9fe1645c09c18036f982781fc6a4161e8c4f76e6f3055b28478187f2cea2f7a206478c02f8ab9fb5b13c66c3907947ce24a19c8eff470c217ddb3187199a88fece3bab484454825ddccfeebe5bce648abcdc3eed8d6c6793172b33c82057e03fcaa3e743250c7df89e07673f18f27cef26a04aba06a32c313cd7fbf5f3a5dd37d86695b6410e0a230c64066b5b77fb9c08a566d211d19fad415e08b28d2ca1b1c291861c0c011a7bff20d3b857525023b7bc4fe6e7cefb06964d33cd512d5461c6442d927275d8207c0e73643eabd67be3645c42ed5470d8a30954197fa3e8a1c6063b9058926bbce602745ad7fe92398e05d31b4760752bb37180eb8a7967d448693e2706b8f12427455701709f5cb9d587d4844c8927ca879d246360d8578f28fdcc507348accfebb5f3f0d9150f6defa64a1ae2595bb5b4f9d55d6cc14711c12a09617d9f0963243be86feeda26fc13704e4f0a214e7242bddbccc082096ff9464ffc46040f2048f60bb1cea580674f2dc44913c713a03bc853c93c1465aca68e57bf6a9330cc8f70ef6f712c59ae093d911352b94d62ab48d8104c14d22216c360bd56026d99aa684d771486f21d4d4f16ba41309ef8cbd04b59c97e8e55b14e99613745e74cf8dd2ec68efbfadb9ed40f9cc7417716db910d2206977742d5fd029ccf399543862ff98e9499831ab9e1f368138eea2a3ce4c45b09ac0fba73da88cbae525e32dbc2c6bb9d07293f964df5b8751927d0ba0acaa3628d296b6a28bc809f85f849afbf1f04bf948fab62044840d3f73602f68c3427e03e834385bbce4394a5117321f0b3b3069ddbbca4cf4cdca210003036cc2615c8324de417d19c853ec58ec5440afeba06bcb4e6e549e0d2045a2b00b2b5daca220028362e319189fb0ca35a307f5e39ee459410b44c7e006c8983a14b4b03c93bb2b4bccc7973107c72a27cbd340d80bab062349781de78afede1fd071c24a2f99f4f0a348afa3ab4b8f779b79c21cf886f5c735c62b5735cdf000884ed59d21fe3cfd519e89d2f7cf4832193a00c3e4d4fe2cf111d62a9162d74f66f2c61bc5c3d94f2ea4468804f3daa73089c3777e4d690e9c661c809ce52ce741bf1437306f04932a61fbc7d092354554ae52fa563d6b3dcfe686d93ea45bb84640e3d33bfcae63182c524fa6e938747b710412ad084eec15672a7d093455523f72fb1a0e368afaa6ca3e48a47cd762bb24e04e46b95be594f62dec39403687047fdea41349ea8c961580797c2bd61c8c04eca43748b8488a3a45ff5bfbc6cbb6df9092fee6f7f22d10be9bcd6e2bdc459fe16230e86de8d70398d21f83a9e436759006c360afb34104c766f985a2e84c2207f119d737db3257b6ccd77c835f75c5c919704fcbb3d48c6cd3c0312cb0271e16456d5e90ac9ab1949fb39eb63a117e90a71bc60fb44cbeba376143734981b020f895754aa9c033ddbfaa91060245a84767f5386c055cd54b7fc4c5e11dff2f6eb4588f87b14e010d3bce54c4de53bbd19b0d2b9eae8640e3291a5dcda7f996d55ad1262b9b307943805b2f5ac6083ac0ba0aa2fe11f588d708880141943d836c46dd67c152ff0dc2251661f8088e0281bd09367b2e1806a22ced98b010e037eca60e8909d8dc2eb7f9f2633644a65d70ac134d694a511b5ccae32bf319455261cb5630fc125d22b329d0b00067266be448932e912108bcf8450c1048c00b3325a363ade8778734fa308b75a3d4b0fd98038f9f0ac319e9321f469f1de609b59aa5b697a027c3ff9eaa23aec36594db3ad9c441fd116dc035d7bfbd35eec47eed3d177d8c63430259a2b33c121fc7ab269370bef780de7147f9d72343229ca7037e8a81a8312282469b81386cc723230ede52c92bb01ce52593f06de7bf978f4150109296d878021f50c5b157273ec8e078c24319a4f35b5b2f122631ebe98df374954dd0c6c982cf194d79933b0e01ca084d12337c8bef6a98447badd590b3b7692cf6f016f8be969b8be43bc45600690f595ecab954ea2f23fb409782d14050449f4e97bfc836713be24713fb87fa1ecd0302e2aa3cdb18c9441d1551acb89ffca48bd1db7e19ec9f142475717a0d211e1997c392228483ff18f3d2e21aaefad63a6ae5ee6f6284f0cc0d6bfd44c9b42964d62cd99b34f48fb14484ed50253ebcad1db41172d9c0afb3895db2f72a8d42c5670753588492ee85bd0d8c395be6c656ba1d353e5632fa6d7e8d0728c758b3aff83d5838eaff5c29fb771af590a86ad58d27904f0a8732ad7cd9c3e1f6de8645d4fa847f036de94f3eeeaa6c1a8661520dbff28e81936500609563cad41cefc33a873a82fc06e837b6e0e5584001f9f85574b1289ad98a801916a362d2f68b90e34c66f2b377b3c61d8194b43c3dcf74768f24212baa0c4dad226c5739c48ab2d09d6f74d4969cb3056ab4f9d2bcbcf4c972883cf126cda8fc0b23fbb17b979b05dfd3cff301d5a3c34f0b7dd83cd08f9a2c6c48f25223a10bd3c24bc0bca9caeb285e3afdca3515a6d44787171785f84700e4f6514c311e8e4e83aeb6f05df5dcb95754cb631c12972b1c6898b5da8fb08aacd90c9d4f122d9937464da260692c931847ce42252f7e290f37e2fd0355fe527a98fce569e0e1a7daa993840b00c1d7fc7e8e3e14dea4609d548c08b830ac388c5d945101741d276becc6f19490c01678859cb49ae15b3b495b5752f7f8ca9b3dce18d766ffb6cd81192936ffed750ae8e6eb236ee9c8bc8dde110b56ae83c69a79e6539721cb07d0a919c2fe236e6b1ec06a228ab212a9bc5684a59b8f6cf377d7b2b1ca46ead03e3706d2dc3baacd28f53c96ce7664b2b0680ed98186cc1ca54147e1aa2a320b5ad33df8ffabe456a870e466553d22e7cdc11340ae3d78b952ed03a1241f0e17f8306d5f9413ef4ae678b4e0d94360b7a6edaadf07f6cb871eab4b083f107254957c63d6aa7fb136b8651e9f37a7924bc5a76c703f7045d3001430c5a5a807fc45f62cd9e06cf368fdbcc96f8addfb4e1402b4f9211d9dce97350a034548242b699e1cdf88b290d448ccde05a125196b994da77ec444f4ed97569518bb3a61615e76452841129d50fbac30d54ca78f7eba7f2d293514250b909c911e8cc551c5df3321331632059c7c5be94e46271ea5be88ae446bee7ad1d8ddea526e35b56d8087cdb04b8578ab4b7a7c28ac66e30c5a02b331761b224253f7bee320248a13401d430363461c621b28fdbf42dba4c5a2fbf340daeec77e940750dad7c7639b9b16354a3138cc96cc71bb7fad5b875b45f243120cec50c10aae762b296207b36d26b59c48d4b450c00c27de3de62b437aa5f5ee6c4827f21b69b9c72f415327cce832276f79b532d82a26f834fc4e287255b143fa0766e5548e9a547d7af868ab9e3ee9bcb116eaf2b40f3d6c383ea0747cee14412047c91b03006d4c764fe1777d559a6ec593be282acaf3abdc9248650b794e77874bc17439e7d4c10a794b8c37e4421a2376b9212079937dcca84283b56463aee2dfc9f1a1e3b0ed57ae25ed90818df5f8fab29e0c66bc17ed6f1bcfbae23d1b897d9cb913fd8cdf9a659c8b991756d868bb071b5132d78b1e372d49253c281324956a66835a89a99f72cdf50a974c2a2fdceb4de1d1294dec5b8ae2fda7c105b2a2c0d2e7c02836fc2a4bbacc5449cb2c2786c3b6e96d16bb46a3b5308f324b09566f803836804b77cf3a55433b90c575465e2ea37121fc49aa40ad6748a51c4be58af853b00e3de4d6b468a4bcb68ce5034a6402e5a8a37a8ebe78b439134be2bf4bac101065cf7c168b8ed8952e9f00e0625a8690d8642b111645f547f876e4592e9040a6fb7d124a2d81605d2064332c9077898eb82358c4c2c2a05809e48e485d0c6fb7184f44ff05fa12acc6ac8d043aa8a18bb32281d645255b450b9e2c21086018c301a2feb791986f59ef506d6c79c2617b99d60380ed26446650121fcf0e74acb7965a27ee102e8b6fe54b44c0c0299b2b04f6e127fb3fccfcc7194a3673554ba957192a0e04ff7c286ab5ee9f6020c778e09c2901c261fc8f6e0c82e37eeec4af5a89c9cf3438d320ca05e49a53b66b9aba21bda28bb7b2101f778f95a7c1ca8564415a984fd794504c0c313d0895f8c0fb7a6ec9e9df33e80b4c2e1d2ec81f96e57e2941473f213128a6582f566fbd63e97c7508951069199e196a99bd7ae02f9d130db9c514deed2c5ce9f67353d8efa8316444cfea5dc35b4d3eb0cbe0abb02691d820ecaad084dd3b525e43235c1f9bdd583f98c8049f5d378f4b57ef1dd92ae8ce23deacd3df75e3b69260b186d7c30af230485c28a8d7cba28a1101fdb4d277c1b8bb3c017426718325e395353088cd291f107bd8be6d811afc4d4726ef2ffe3c7a0e4170ceca43580973f0416df35524bf0cc8dd5d85c8d8228ed2f77c266fc9eeee447aa404a6b9c4bd814f5bdaf2fccc77ef37305ad9a61328c60d80e42da1a41714d6855762aac93517da91cc48934f57130a41151f3ebc879d53218a18fab2c19123a904425b58fa0d952250ad5f20bc4bb5255acc14f39a7168bc7555f85774ccbac4524bb8c41fc1b08262f720c08f6e1154e476a6da4e1194cecd1b7e00967f2bfff827328a8f03b4a15b1eaacdbf1f5560ce2c94653094d6eb50a7409f5d01e9d3c8a72e3c05f20b7b0b6186cfdbd0e0ec735ec1899406b637c87df11ddb076a07de7c421144c674513fbb521ee3dace37a7038367b31d2bad5c9f781e8078cb65f8397245e54cd86bd2f19e058c26eb4ed384b899ab6a134a5b78941d14e29b8907680854ed63a30cfa186121eef96d902c4c945dd1bd2cb6060eba7219b854f317408f43ef4d4d7e58311516cdcdfcd14bb744dacbd57367011afb26fd44c027e86dfad72db43037a39a73613b47b7cceba1e72e67b3d425ddb97f29610b766a1b23c49e49ceb34bd3f65b3fe884cb7fb40b3600ae3bc7b6410561fd0a18b84d64e1a5e7aacae0cdd7dedcc422d3f9129248a213866340913357c8183965bba9198539620e49a53496f622f80766b6581ae5b20d0ab978b0345cd40584809cc604bf35e3757cd68263f603d56d889491cc0798b6b0249399057aa59ef1c5fe12f07981c933fc877c65d2a194cd953dd605fbf4e1df981da4e0473ef34015c7a651c913de7afb338e90acaac6cb07e08b3369c3960c6116b46b4a41156cac2b0362dfcdb69a5e854a7a458090b4ad96f274a89308ebf1a3acd1be3e83584eac057489d894376f8a80eb14825f808f3b406562084288a25c948a37d4c5d81b8fff285d3f4e3e037e929cdba19fa25f2a32ffe965f32f40795a6e434c4382381adb0a4f359e7a6c6a9c3d0a716e595bb34f26e0887bea6406e1034206f4a2ed33acf0f750cfc22f82fb88b30f189275c0afb5f7a31a3e8be0b09d53e29535219ad0ec9c42243771286fad23059a88ffdcfaa0e49ef0e8264207854d6b17de232bf0975419b6c0e7a8d1a22312edf20c2d2fdca382ebc5c7ead1f114ff0b6a49dfeb3abcb9d1b4262f2cd455d65e9cf5afc47b52a71e499dd10dba4c829b171236c47d1b092e859a436763d344f8b35a17dc3c5886c71fb5e1d381414528ddc98f9a052f7031afa1162035a02e60dd8eecf211af014bfac362eeed51662c817f95eef3d86b487226bb86e46dbaaba611b4b439ee26d1829b95b5001159aea15bdd02be88053c345549fdeb8644d38886fed853b2ba23333b4f3c60ea6c86c260a6eb44326c5866ab1739bcf845cd62ba1f356c475aadbd80d86231fc159545fd075ef7f02347a0e635f04b6bc6938511276545b42a35400709e36cfdc193d76701bc40263e5f4df63b733457b06ac2d4caf4e57c8ae9c1ff3c0ca794e24be5f4c504e710c5ab73306b41873efe1bde40ce6d2933e0cb813fcead1cb258ebd8a48460dd95d815490d9142bee3dee0d2d92d450723fe813c374702f6e3263812c428142110971c63686aaadc590f1b33198638e70f3a5e7b847b7180678a059b4e7c623c7991fb5062a1d7f13403392dd166915b79ec4c5778712ab7da662f7128670c714f8e2289735f67e172fe73bc8393f8a597ae3a784f767c955f2baa024532408087b9a46a877ab662bc3fd1530877077e35443a29b6498c651c5184583239d8b0f3d1af70d07621fd955019b384e842627f0c9dd13c6e2313cc290bebd50d8c4869bcbfaa699c939c712534a8fd8ce96eeb5ab162d966b83eb2176cafb35a8d94fc684cae4a1db4107bf4a2da60864cf39b10d34ed7734e0003d18cdb9519513bd400bdda64ff59558de0d31553fe09628baba54f3dab4032beb3f5e9537b772cafea90bcbb1b7b3ac3fb007f93aa2d5868dde72bc42314e8001f466f0a812cc6560ecff665a0d14ca2a96385fc0898d909c907c66e7df26f14bbe60f6fd555eeb8bc298fd6be8421cc072a7f5130dabbc04ecbedb3586832e16174c8097843215f75820c6aa54d0d0bcd647c904a9c7610a4f5e58b78f060e3de446e02517a212c163bb49e2e5282a94ed61a2ff2bf295b73c55e807c5b783eb2c8fcadd566dce179beed55dde8a8471742769cf283cc4b076dd7b0cc3837ee4d6b0b08c18d8b160caead3050a0c7218825ea15b28e7c292a3dd672a5e3cb86114cef86d875c1f2318055464c434194783a88bf10ab16e99ae0be0a3a9233ebf96302e86c26857ffad85276d0e0a34b047fe315a0f6a7397c5801fdf48b9ca82521ac3f698d37ca0a95c821a47450e09f72ecf609c9469980f7dd27ee523e3d592f8ff7ac72e2080ce603d2c602c55b2f55aab61fce5b9ad741a8e212266c0333eb760a703527a1d5e40369f027a886b259b71394ae4c76a16e5e83421aef011107796f2b7521fe6f9f198ee8829c78f962e67c82d407e81bde1effb719855627d42176c052467a17b4468ebd0d029e6b6ed294717d6010eb158d79cd931d01eb0df6fc735d0139428195790521bf172a86ab4fd9118a2859ca35636c8065e45b6a513124716e5545bfa6146ab24203a79acfe1928694d4788bc80ac497aa1d3c799a928e1d37c96b365add6569d93e9e58c0177c8349cb607fbefdb3452cbb0cec176ca7fd96f9e4af7bceafe3f9bc00cea8db7f9e71796e297d2bcdbc803f716a1161375dac6cb79790e66ad8d7e656e6ad309a7e1d733193f5be6ce8704d4e8ec04b8db9a8e2120e443ca7cc17d16c194a77d9f7c23ad8947ec6aa863b834f814bcef68b7b4e1b8cb8d667dd4754dd4619c8399d421c1b16e34e973059109557af9177093e7a8feb3dcc86339601d95f39c0dace9961736ceaf98b82fe3f0435cf9a40e62e9101a98656f36bd7bfc3f4d2e0e795ef70231162504ebc0003728b36a3125b4b8c2c6425494fb070971d879f4be5fd911ffb11b7b1008b8bc340df2f03361c173a797452df4737396311db37d22d66dbe90d23e58af81e13c170cf74f59d84286caae19ce0391fa901ab92550e0071760474969b3e2a298090db0f5398c09822ec4d04a290fb5db0e7f793e6a87f4bf76e3474c1cce8c728dd08d0ccf580e9adedfe481ecd5acb30a6233cc9a03894c240dd26b66fe1113acde1cbe881f53af4cd58757ddfb1043184e8821f33e2d2ff22c67776bec7b2277dd6662b0daef7cf610c6bcc870bf55bd28af9b8a5c2f88ca753b9619dcefca49eaa78cdca0aae27432feaff2698706738807b064272e675717f10b574666104a45fb126d1fb1fb041b55ddd9d779ccfe77b17b905bb8c4c78129e5de99173860ac80d833371c33ddc0cd259e7cf1d7d2997eacf53df7ff30317bd3e1369d126e125687621001deba0109e39b8c87744a6ec836609fcef792eaf42992faee4f7475b76f50f8be1deaf5f7d7c11221ca39e0845d040ffddab874114c279f34276e5ec55afcd58c7879f60768a3c1871ef7436e96ccf1f7c8984f2252e70fd54978ac27e99e3233aeee694469d489641143f5b8a302165cddbf1c6d4b77f60fce76ef2c9fa13a5e4eece40d89a06fbb719f8668ddb87be9270d7cb7adad17158f41d46b8b5b686318942ef02de69dc56994b4d35b3bb6f18b52a57a2e95cc79a102e65c9d8e7e1db8ef368cfb3d90db8d70a952489baf54d5be5f202c4ede535f3ba76e691516991718f8c52c2e699dbfd450e9116ab2badd869eacac27067b5bdca8b03f6eeb3a4003ac1875985f6a190747eb1b8f01385a533f8a752f45f167e91f287b05783cfa46ceaf42fe0e4b721dbcdb0e010f607d98458f42eb03e9474da698f4a2632c88049c0852f8a8b0264f8b69efa849183cbc77835f7e05a386b3568e5d45dfa36e481ecc1feaff2d229a2dbe293b30e6bcb2c6aa684e88646b07afc3c65e21dde11d2811dc7a23a354db800837d86be6b8e1b01c3def6ad3923d634f5f8c2563c3242f597d374ec5cae78f010e92bfd421ff45f66b1edb12293a46db8cabec21db88080b8c02880c9b30ae952bad58ba90b85d8cf669867fd0c8ba2c683923502f11fba3e3367e84652c51efb2cb9de77602ea30d5ea742a5c3eabd37199a8ff96257a63f40c921e358ca65ba950130112aec1f417b00fa3b7aedc2b0d4c4fddcda13987628146e6f9ffe5c7b48a8564edd44182bfd3c464ab253dee37cd3a6d2647f6a0534c0315bd0d04ad38c5b91d6b0e76b2ad003f296014b5d56eed765139ab90094d9716487e3de692e4a78818dadaef2a4b8e22c9415d084b64b6780395a0cd4576a9c90ecbfe934433cd69e35cd5c5ec69a83b7ad7f144eb0cdd7670a3f2672be3941051c0c8b42c9b920d2d87bd330c1c1b456e489120889427df0e149d2ea2cb9bf226bf9d385c64385de17d030997851dace6e6963a9da7328610ce921fff22853a2db140e34856fbf4d1b8fa46bd51dbb8701eb102b0d86144eb350951912a65b717204d24922bad1a3286d1f08c6a6bc1a4533b82a435aad8ae6afd4b1b437b7409958e694b0aec231088ff573ff16bec898a98a5bcfd6f327186d19fe0a24a1779df5c5c06b32b8b722c623652cc28f01b2a60b463b19d26e8286e2a3b85f585033438a5e378b7dff413a721337321c2283e348c9ac894bb9767f9d0ee62f86c20a24c01644ec4bb62a3081bea34dee381bdb701b75f2f083cd6b1d3e2667e885f1fc4c52ce94e94fa64a1c51b11f5223280436e2f1e012440f75269080ef2f525b38a10f25ce2359285943b36e53f488b104e3424c72bc56e591e66904ddf366e6c9c50b6d7f500e1ad9f56d07cb1702b8cea4147a7a1087cb58a60d1f034747ade4dbc65d136de101b465063f6cefa9bef78f6ed3705e8eb531b1a089411a2beaed8c81ced494e7eacab69ce69f1990c0d32441c17237b46fccfcbfa7f71c3852d4ce41be300c8d4d95fd5953b096b2f6b7ea42ac5fed73f5acdb6472f2d80db576460ae9eb7b14fe2546e230daaba9a96ec06a33617ec2a45110b5f793663c1f2e9164588439aa46845cabcd304c4b07982fc1bb17fa58d56f7e3adbd526e4df64d2eaa54cc6d70de0d63041da48185918e63f29432a8859eb9a8c5a793bd141599c6ebb2acafb42b5e4c529712118e877b16c3107fe20d427b5d8c309d5b0b01c5e4130d3c3dcbca4b9e6c4e2d14672ee36d3bf937771d475552bd2f1c86765958a7d5e2bd33df2cedc6b8b3e9e972f0a3eb2fc172e65a7fd322a7655481b19f8b12d89af13423aa1fcf538ead980f8e9a92674897b86ea4b460d56458e1b9fbda85a6845918ec57f2f4b06a805a21d4d28264b126259886418d6970f970a2ff4d634627de0b09f54f99f83394151b8eef13486bfbeb0b4a66fbe6c01da3eaf3f5af409b81637101cd1a5a9b8fa91ed2cf06c65797f6e5c3c257800067d7607b6cf54b8902137eb350f0e1f34d4d68623eec95ab1d26c088efaa925162a5bafe362d02aea3935122ebc2b0c207b8f7915025368e447aec3ba63f0f96c6e54afee3e705f4f174ff29c28a07efa753fe7d9625793dfaaac0c56b4a993aaa156f285da810c3a48aac01ca94fc03a6c4fd99917df8ea5ab6ba79e1b687d60a9914e1894481eed7512477f2b702d9f4c0937b1ce7faec83318b852a4c74e08b6c5dae0b2b9485bea5e22374e0bc3f73cc274b1a24a9a16dd5234cd1d019e51578afe7d9d56ca926b3137734826a9710d33ad6595eb8a6fc20081e37d330f649bd9e2921ff00467e7d45765e70c360b52e1c88e1a3b241a956a59146d1f3126b6e70e8d11fa372259a2d75b20068de88aa85de693e1683016668505036add3314f6f2e0202108860a9f216360963944613495f3598109d2b64c625e92dddd7abeb43ba0f16dcc6ac5147f235edd1e93b285e45cbd075d708e74f3cc7d55073df88b85cd588619f035d784f25b213fcbee292ba1833a552f93f94376e3ee39c96b062f013d5fab8d90d181ae28caab692cfe64baa468e95256272eef1d56481c7751973b097c60bb34f35e3adb99960409bf263c595b5c261f24bffafd69072beed478f82f5f2250f6ec48d5acb468c04e956b30fd4532c96caf8f22bcf85ed5d25448a196332eb7cde0b81add6cdb902f8a90af9599506899d5864bc580312b95c0465859f8654fe530673ce0788bebd34eccb6f16a5edd7bcbf35cfc82f03bd670676108a7fa4512af8ff27b1362d6cebe676d5125120a2263c797ade76bac797931fabb84a218d4e3f8b6ceb7f30420a8986a0d4dc2a5c86665d45181fbc9b87ee2d1340ed3e0f50662f4ecd4429b6381f5f812da42b75048c88a9aabb1af3ce0fb1e0fe9bd342b2c0847f71f0499e4fbbde6b581f82751d997da6dd4cf496c47d2e4bea4c0f5b44d4d34e73ea2703e3f84716a9c7d66b1c5cc69e041e9af8e1a7bf25c3ff1269624f05b619ac54e811ddcf24f660a3db5ca41cda3827ba8731479a203f637471df48333801b8ac0fd3787807f3fdeef3f8a403a72406b0186112e59f8d476cecbf703469d1e028266590fded366d5a6509f8b9e78e0b7b364a6eb925e7958f1b4a1edf056ed729b899ec12266ffa3431172bef96b4964d73bec8e038aaf4711ad3b0e7c20a8c81e83ad841e3e67d535f52ce96dd3ba9cc6f501be626cb6c5d6a86551a49343b0cb6d543d47f5d6a0745a5252a3c0aea5f04e5117528995358f2ee1e0b233cbfc1ea2bd063bdad0e0d1301f8a0251499649874429eb50eb73c61f377b6aca083af94df602e453b43bd0e84002279f5b3cbf7468017878d08582ccb5e4ffc775b9dc01c42293c4bb943d5d2440a27f8712f1fd71b9b7405e340c9aaa192bf6c7273e84b81345b2d53b5e3c888af6a2927b29f57af82015119a65bc651f02e9a726937a6f81904566cec59b13625952e219e63e36dfa252b542c18ff5004e4589b87a23b5c281e3dd8539f807e1ac11a8296cca7457849a56eea3add58a5d293576f5032df050ae136663b719002a15b3fe84f13a8409bde0737b165144232dc0e8518d0766fc705793ec7ac2cc6fad704bacd962be9b7f92398dae5db2088cf5d30d0c8927e7a623852dec0302bfd809031647f3a278e729094c58d06e9c51efb9a16557339cf2aaa96e0efb86afdceb61339b67615b7aaee01defc00843b996e919d114c6bfe7af75c48be6eb08ea52d9d57013c6a82573c06f5c24b5161954ed2680bb88743388a2c46164fb0826c2d42a9a26ec935a40f5a0129bcb7afe23f1350ecca7e4c953bb63c8c7435d6f5f3f2065c1955a2d6d3c9e9eb415873b6df59064d2a64a7e859ebcb11543fa0bad624c47bfe2505eda4ae6e4e4c6308ed64eb958d92fcd16bfa356add5e837ee6c162a220a1b05e7e1ccbabb23eef4754016c9a5a71ff1845ac10de79c0e041f192faca35a2ff990253fd1cc21491ae55ddddee00bb64b542713cfbfd60f5f400cfd8dd2bd6dd40b2b61ad417e21792238b96280cf6af8388a423da19c3f23fab428324a54eea9e98f5e421bdb77bebc520ea884bf653686da20458a474d031d667a391ac9cf36f0a02afcb99a60a047a06b54c039e8ff8ae40ffcc1cf7ad71f2591119a4353ff1eb25b90f47589f28fd65d1a1bae3f3b0625f37c545b1dce65f2c7a31cae18d6c0cd6c173c95e8bc7836a23aa39a2cf0e7c1c0e3f05fdac6ee74ab5ebb83294b33fb8df8e751839eefefc4320313ad7bf351b2be7f3f2e33787ca0a491b42d17f5b946b892889b89afc7f6e4b1def3ae4c25b6ce6a02ee903e7ee3f4b875c7bed9359977b8c10d3e61c55f5e50f747ef7e8014ddf10e224ef7c8d4721c8ad2ff18f7aa1fdf31adf08f8c3a6fd04cc3dc8075d357ccc540ba6bfcbfc769f3050496eb981a59417e8545124c7e7a03c81cb7f1d801435fb02421c78db48824db7c72e36210b3cb131d925cf7bd3cef62c8c6eb300fae572ec4553278d77813e1f1dfb0d9df6b6e4f34c7a4f46a36be7aa3f410bbc84cefbe31413ad96cff414dd794d3c08951f87a486cfa40f120652b084f60993e0b0dbd2576806c3ebb40f692832f4bc3d7904e4900160b983ce21f09266ef2214883b025ac6a15680b3448fd1dfffe7c9374c62ba7a17b85ba4c6508a00afa603423af364e5214f93fa71ee0714677a8657bddf3741443ef02ad0c85191f9303040f68138aa199303d82fd898d98339d4dc9bc3bc27a8fdf2ebf5c727abd00c6ddbcc1b84493c35fb756510b1af046bb4a94d0e2d395e5e8bab02604baa4e151650dcfb1ee114d089e11f58010be5bdd9ed13d47f5bfe5cc6d8590ddfa6a52f6f9ffaa81d4650aaad4d0755c316337f0da846caf3c9baff020f5a3339f689ebfc8462a3ed8ce8228924c7753121188dafce140a139d3864ecfc9a74731b7e32ae2536609ffae206bfae5cd6d0213f9f45540f03ed8b54b0644706cfce9c44f4b17f69fdc41cf4d47162c4365ca86509bd9f0564d2883ed16607d524b76c1a8761e7dba88b763ed665e6bb42c703987af8562b63f6d6d3d4deb4c388518c725c9aa568749b21b078f6e2ee7f80dd45dcf69346ace7aa9d9be51914664090d1f2c850559b144de95e2bfb562040d26879e470b255023e6533b4c4a55582da6022a5988698084e782a18579a9ad9bb99b651da0f6ec296e301954ceaba781cba76480f27ce01d66889d11dd0c3d2d4d894aa4206c8091f49dba5f407188ec8b1675e2a870a4593b33a60834c99bdcfbe761157c9a1e34270d0a64c683ceefe3c761019b7f9485a2c7d6bc9b0a1070006ba4c09fea4e55e56b114af11e57aac6757726c56d9be82a404822c517fd62a54c14f9c3f067122e455ecfc84b0fa29975267fa8e7533ccc92511ad211d676f98544165d19a6fcf6f6ed78aa4a361ff3e0a981c0b122f9a6da91b7f2ba362ed7a56f5d3836653e4a77cc3241757c40243e973ac81a1593a80e5e50b5d4c2b554ba4a7363727fdc9795159b4190d0517a5a4df49602ad150a09fec461be16b88cee6af63459856ae5cbe29ead6c763252407762ab1ec9890ffeb573e352a8284cbbc00a005821669a18a8e4c546a5dba8107b03087dcb340f95b9646b9b472665bd5f7b3b90bb608bb2131a07e98fe0dc57d7387d662521c74737b79dd182dc97fed067069574680099a62167c00c6df26c7d1e34c526099ef5995d4ab643effb07788a20f034303a51d89bda507023f58c0dbba25e01324bfdd530494ebc21edd706ecdb7ab738aea06b89ab21ac7963aead88d67c924d225ebd44ae691de4dd3bba9d3a10001ff969c547b3d5236d0c4c46ace249bf43f4e1aade3da5bbc0d0c8d826850a534201635f057dbb273f35b47f19b38fa050a9691f9ca6a1af0637f7f3d4d51d4c32ffd223ab4b6b866da1a885ec3173cae56ba435f48a3dbb7b86c7d0331136c492dfed493c7fdf01e83dee972926660ff39549a7a30c04bf4abdb91b7a79b4a43b0b5fce9f92c88169b14b5f9a1362e828f4dd18cc474738693b4e550e0eb4ced0016de509eb6f269d7715d91936086dc97bf4dca7486525fa6cf690e3b512b33f485f24161d26c31e6179baaafe6a4daae108850dd975cb09a4ca021cdf5a0f52a1121fe7418e35f0ee4563d13ac74536a90350feb988c8147daa81608add53907cac915ec9ef7e48683cf553fd5f000f0ba01b8129ff1d6d68aa5bc08230f60b12df49f84846c04ed1bc8a991ab4da3774acfc0187250c3eff021218c566d0d33b104781edc95af5718ae59ed64805fe7fca1bad5b486df310901dfff71f2a1faa8ba63c6253cecc7a08b67c8dd67b16f98daa0ec10e8b84805021c082ddfc95473ee2cb1eaea13524057d3a2e3698d3a2f913231141cd053bdbb36677a8650642b73f302b70f40bca74ff189f2c0bed08f6a1361ec826881345077883245d4319157116d8e9040cb2dbd6966a135bc19e310e55bf34331c7b90092dbad357e28bd942098f4da50765fc36a9e4f0bce3678ee3c0071611999ed80ef6b394bd0871bff52e7db7a97ea0155e2afd9bc8e9f1e3f1c4cf0bec5834ae9b56e1523690dbde9eeae11015ff810882c0a8df83a33d8f4534d0d19e0b6c283c725ca1a8e63b8311d12dda1ad2ed79ee439f886c61b6720fb8001fc8a1d6cc578c5a78682086e1c38eb8d18a349add6ca1b1621e178d3af8617c1b6ada3f5e8f9d008aee1df6a847fe2175e250dad480138ab72f42602d7efacb6dc940a73f9376112b8ca3f35e6b00d45fed0580ca6b260cbd6ff86e200d815f102d9bab69d9530ef3f5086ce13c8b70fbc05d591740663812f734a5ff7effd3825b7cb05d44e582057414acda59421164eb56fb18de441eede5570579f3e31a113612527f92dac042e6711202655d99a9874f6fcdc7cb466c64ecc94a9f31229dec71bf48a17ecb2e59fab0ee69234b73ddbb59ff330f87fa14de990f4a7c4fa9aa046319fbeb3539c71bc7ca7e0191c46bfd2d3d5be293d65133384de98ebe51a56c240b1e1539cad0064cbd30deddfc2a8d127eefc1c7ffc7defe4397a7b7a2dda612f64019cd85ff46921098cfdd8ac4b297ca656d53818cef5ed3541ec4f6b2b8a45af8897b91558dab852acaeb29f1074d1764822a4102c5e678a6d74490fcf50e5549a4aca6f66c6892993bfeac54290ff0f2eb98a848032c2b277ec5210a105f8b654150f1b72aa2293a9e1fe312487a06a144fc814591af78474fd00b6ce111bc6e4c167eef0f4b0fa45ee818cd2cb53ed7e1c1298aa4c287c574e4a1a8f830375f1dd98c0e98783de23dc2816d100fe12054ceef1ece21e9231638194eaec0774a1d70683d0520067cf7d075f580ad771995c8c8f8e50d9c0684f59ca2a042ca56261e5d402adf7d09f94bc89efa305a8273bfa41a72120111ca75f252270da35a604e7e3b12c9de6fddc4a9a119b7bc9b3ac749df637c237cdb051b1c7d4efe7e908aeaddc504ed79373e05ed146c81dd828a903626bd1ec8c75930be47eb8fb07d8e613529dc93288d8b5abcfda79dbd5362d1e2a2e56e5a89cae3d25b3b0508cc29b8c90e9612a81f26c684866cde19966cad1721e7d0a01fda2c91224419467755785341a9a7dd383e6ba97795fb11566fb6c3597008f67be15a8f49d586675d082f9f127d16dabdc81a5f714d412a40d9cbbe6153d117a667808d9187ae63b0faa7b7132fec5ac2d6d5b801629ab1ddc383cbacfed0b373b303b8313a0218927e5fc32492c40dbeb1bbe7ea045afe423defc4827395f61e4b13cfcacc195810d22fe8623ad9d732e4afed1cc57641d9ffa7ade8486505daff0c2a1aae0a4b5b1c0bc81b670363475efaba478763f1644729ad08e123089dc3f8efc3671cf464443097ba51e37bdde1f97379e1fe56e6f4717c953eb76ed05e00e2c21a045debbdee5327ed634f75e371609d5e2eb094e9de824c98b6dbb3fb85b4938fa06b0687da7b6bf4abb029640cfef344b36c84dc4d453379c5da7ab7b1330ce0f004c94ff7cf26428a17f9b1f753670be370e55773f0da7d10abfa5e01fdca8e43c2e25df7e29925fd1f08f250b9865f6544e02282bfde656588b4d17168f254c1ca4b097513ff2edc6896c4f464d9c285ea642299c295a1c6688edac8a183df4951214241c09cb2b089e32001b17952197228319bb38b6f90683f56da83820cc39d6d58d86fb1a2aa7d09611d5d5b2b167e754b08345b643280083e320c4ddcb85b10a2b28d82ec146272424d573611cfb8ce239e0cf21bdca078485226aadf3a1dcba82d1c3bf9ec06a4ddc5ca4c8a062df61f342b0bf96b636026a7a53eaf815599e61d6fd4a44e015b207c266d8abbd20352fe35be8719cba3875ab0f6a68e7ebe0f353eb60e2e7ac3b98045b04437c2d62a5ed7cf12f7230e56d139cc25330852c0188e9c9386bdf0dccb009b67162a9eaacad1ad3549a968d012c9a20bf463194a2d99846a1d3cf96e9774d781c1e09c3aca50d2a46a7d9db5ca1d25b87db2d2dc30f195e4466baf488af52dfb0ca641116690c9ba4ab5fb69920f00856ba7d716b5e952535eec02773f2b9ff494bc78e40970759ef7cc2faef1a1cc181bf3061ed4f673272331435d7f9a52711cbecdc166351edb51d73f10663427122d2c6869982d59a1cecbc3b9c1749afd515cc208f286066083973b71bda28ab6be35974885370582cfa43cb41c367a086f91ca3304d64c3ba66c4f4800f44fe742090c4cb565875f2d445cb3ee675888bb2d31db7e159b385cfa3631692024580bb03b5a1683572dd70d87c9d7b0e4d9eb5dbe83700e8d872937d599c1980674d5d0dfc4a8c61f0f66def972557a800f04275ef4e8090d87815352eb9327bcc17813e6c4d7179c2322560388e1e29fe5bf6e720f6bad4d8430cb2cc9cd575f470259e5365601b834411bf53e53bffec3aa8538d97ad807cce4e8c0e3a3ee50bc413e5bb607da9d10b239925c5bf6ba878194432781638346ec4cfd62b9d392f5a7dff0aaddaf1d4eca7a028261362534600c0f36202b3fdaf45ae0ab0be094fcaf0c8c43fe0766ffc812c372108faf3a579f9f97b34aecc7c067c2cab84978aa95fc7e52b959850e9fce8caf6fff2ab68625902be0d587a57042f38a9cca194d5076811277e1a2d3634300eaa4ce8044093a9aec1ca155595a64da6836512ce1f380919e3a5accce982c143f637becfd3d731c69d18f08cefc04959324d7361e1595636db9b97dd9773650e82dab899fe498f1c46a2b47de6ff008242eab48775617e3a2370c312dcdc3563b21e5c046bd44768385640e70234e18f93d46f39a6f3a65eeceb915dd1d1fc2909444e76ac459e361de9d2192901052ed24ad293db6b948b468bd41781dc39b7b6f8ca8b1a058f143d7726c2f3ecb0f741418080dcdbc90dcf9fc1ebd3c873fcc1dcc927c40ee6d93717ac65b8bee4e8368de760ce3945c038e45291a23bb008c5dc78fb68e70d979a9f4928f65860fbb7ea21423493a1332f7044397fe28020582c83524644d465fa5fdc5507dccfa707b52c26dd8e725a5c7475f1181b6b3db640b15b7a2719a060ee34fbfe2ab4c703ce6d0dbddb9ee4a0863b1343e406d9fb64830ec5a52f8d9907e667846736a9513199232ad84af09c4081636b89e0a702a376462ef7882c740bfe052992fe013e1e2a618532e1d25bc53103fc760a3249e909a3a3ee32e2c0bc9437d0fdbd50177cdba4ec00d34fbdccd9a7cb35705f3f8501998487e42ce5febad103e9a99e483ac23b7c83cbe2fe1565b69ec773e8619c37cf2191b6fc82f41fa0af0f92168d09d4703c43cc64a610ab81ca6f07eccd2d8c7ffd32606e00e9c2be68fcc0c0e61ad561a67062dbc48ad9401db2e1971e5f79f19a191dab6730b9ee0d180b4c94f711ee28171fe43ef775869cb898408213b8b4f94734583487464c71df671725f329f54a871af99a803338755496bd5c65ef1057a04f902e839fc47f2be19d13e2cf6c9599032bf34e1cda4f490bad1bd3b0a2877fa2649d4300df8dd1161c535502905b35e4dadf2b469e25657d32dacf4827f2990a8003dc9938ce3d0380187fb275bf2d145f7b0c5f439da63c7dea0d05589952db6de5ba953c3464d33b01ac251c0cbe80166de3982f97334664472847386ea2de13c889a01274b52661c039e46c2fb77d753c61814162ca644ec1047afd1b05b792a96d4911925d78e961846f9a5659f7ce87e938b60addab73479d8e884cad78b7e77c1f337041f5c727dc959cefd7f16b78000ee2a8502b4368959b679f112b6f8f0cfa56fd42b9c475ee3a5fb43576db387e147139aab61db2950befcb30b8144df48fd473e319664606b21c23141f9b33a6633ee0306bce60d86cb03f325b4ebd7b51279aef761de1952e2c89111150736e06f75a3a62fd1c9f3ad6e2527be784d771cd56b07315dd63d77dfca8977dca03a241390c0d336ae0ebf8a3e32f8819a4d78e0d46d59d28251a8eecaaf6a8a33e92e37a0e77ff6dbc15810a693bd6c73c4488fbd0f15567d959a5785d5d3dd499301f3b8adb81e2ed998bd2455bf83985839d6fcb387ec625db6fc432f361e21152423b7f769b8f81d13403c3acc16cf48443f2d91b34eb69e20b433e49a89ac7e5f70225c8843eca852ef8f6f53d7ffbebe82433f54d94a2cfe98e2970916bb0f7100de2c5d5ff64e9a6496e0e13089b7bdaad0359926f1f4826ddf60bee810ba7380313e44a1286ac3291a4213fd5391e0673114b45822ccfaa5c5aea6f1157d5e524a5353bd4bd957be485753228f9f8a718e1e0dc04d462d95460b1c660ae8e24f8ed369574c947eef20941f9248cb57bf31b9bb38aacc93a58723a4c3e6822b22487bca66d27876ee66c9a9bf2eb472921385a021fd2227f4e000fb2fd100ad1d5a43c1acf02379292249551a9897bfa1ebd1799e8318dec41c4e7ce4968b2d150ef4bda7b8e44aa99b1145701ede23ec7d18cd7362cb03140d8752ae8c91f239795ca4e6318c17af4f6a406c68440a8e39da5e3af3de1e08840d7caeee7a69552d18a2babc8bdd245bde7ae9e2a29acc762ff999b837a8661e8e67c17b784e7e987e27513563d7c3c8d8cf4e47ea4b1c41cd5e8f5ea1fa4555336941786ed3810b16809e935690009d584d507cf8d9a59876c44a8e1e83ff01a71ca88a6b8fb1508909d279151d9edc3b61d0da419bdff6d8db4c4e40aa09a0a84721208c961f14c63648d8d40a07f6dc341b1da8cc1b3760634aff9ee547173429779126a77459f6435aa5af4d1aa818e325ef5797e83e862c001d2e7d0887a3bb7fffe6ba8cdab22ea0ee7f39ead1d466811b955b5e8f752ec4553869ba83a17fb6b8ee26b13155e20535ff6277612d22656df5eec40a67fc0251321ebc9413c0680c2f737ea08f99a15ae5f2571ecf734b24b4bf04f8c17c576134d400680821df439dcae1e483938aa9af82befe2c3937d58e0ddcdecdd9061a9dce74d05cde654ba626e16bf4f5f668bb3c264c2233027e0b04f297821549b1ffe0a0c92e550ee1116613458924c5d101c1f0ea80680171c2b72e5721527ec197e50e171da9c7d382691fcb444c5b4c4073565aacbbcd458c9e75e9c5871e91fd25328f808ce4faa68ebc6e1715f0151e72d7492e5ab0943e6cad68cbd730ffc2aaa7c19a754f01496586c48e15c0ee477b59cc36ff8689c9e3695b5456bd7615c3a6a5285656c13fb95ab445c44eaba4b512dfd3f664feeb5872da34b3c0aface78920a66a0d0e7625c977b3e4fe865b8bb9137624e5406b44041d6b205b9a6b6282eb07cea61f7bb0366a2a19272f1cb4a701f83a6d91dd630ec98de8b670b8b391272043e885e408995ab96b512909c11dfbf11ef57875cb00c8d18417e655c05ae19ac0f79713f2da668821f755bd1ee924ecbb29710a04f92f78bc95baba7fb4cb5398856136389d0e7173792f31cd8b76fa448c814653767b615dc1a2da98ca97a94816c0d280359a4c500ec3342b38fa75281f622b5e0f264a66f1386e8c9237f8e732e14c49b02752330473cb3de0df436869a626f46507e7491dfd5f68dad08a44fb639d8a014bbdc80f7078cdd9e6b9ba7e10e189642982b84fa124a2a3f0435df4d0767e3ee0d075c4ffe2f10fc5f2488cd1308f47932d18c1836e0a1a2a2e5915aee45d1d398ef5627fbb2e5e7769f97a9d34daef328f56e3e34329a1f5b32b54727f8b544fbca25a88c703da7816990db9ac98d4137087a538f130b57b9fbb1369b613c50a0b7a991ce711e2e1c1cc3aa4988952a3f0e33335694548be7b1660151776cb72c3d482b4f7dd518b44be70b1b3e21ecf0ff14b458760ed2b67937d7612f89f7fe68899a6e7c091a84f05fd993a623dbd18a7b09e183abb2a00c33988f6ef7870166770ca25b6a5156f94ab3fb842af654826a38d207872fa1f82673e1e16cd465f389ab9fcc5115b7ab8f30d0efe77e37bda41d01e30439964153d94aaece8fa34a47ebfd618c514f668122a3ccd17df52ab0b65e7d6d5728e1d9f7bcf3396bce037f7cc548903535c6522607324b3bdbbecf5cda7e3038f2b3ff27f5e060b07f72bd22b650505a229f0e9462d76eb43bf859c7b553e6c66770f1809a7d447a67a7191bac4c6b15c5573ccb1c263747869ee7340a168c39602dec9fbf364eb66c8395c418ee9078b6f4834cf5962462bbd2233d2b7940fc5c4789bf0e02d75b20a9c6b564b1c3e4212a44caf0956d92cb05b73d3e8c5309a2ca6f0612be1e20d9c24a06f5221434a05031412bc33603e4bff78f5531f4a32facce06785075f82f21d1e7ed0b47dbf47f76f99203d1a0643bb16c65c395aea9156887142c3a8b3f8216dfd006304e208eb8e9ed9be2ea3cd64d5c2bb96eee006cbb898828c3a9caed765723ed4e75059ab348135a189926ff0f10ae95945cf03372abcf28580bed73da9f21b0f6072177cc68b9c92fc542653f5e648973df5139a3d9ac4f405c630594eef244b2567f33de4fd2adf4c4df1b1f5065c6bdb0d6c048ac7ba84655328c91e41cbf8dc5aa77e7976e30a7a06cef6c4bd0f60407a1b335cebce4dda9003de83eca02b98a44625089e5510af3a25d6e65c98676e61405c5a0c63c9f1d60584b290c890504f61fdad0d7cfa38687fdfe08b024317b33ceb881c28639da0554f5a9cfaecdc3d3c480fdd77058983c49dc4fe8f8d6c553c144d53d61eb9813740fc8bed8a72f388b70db6ea83026d5e5394e38b0ff62988a311e19a18c25e0489e47fccc13964bce979650f2810b4df677b6be593966f0570f5c94fbcb0e8a817e6fae29ee459dc1b2c3866f2b6a26dbba488dd8a9edfff04d105147124bf7cdfca1e6c7ac9be10db5bf0a58cba2b75e42d29003dc55fca188b91eaf2584e98f1078b689876f16f40f74d859d12c03ccc63991c593c492a9aa353c4b329aa2e011c44140181e80cdc9852448cfae245af3005d73a59c38ead1256d7b94e56521f3c162c253d4789f772dfda40ae0781e5b75c2909b286944c7bef3e1e555c2cef23c7e9a1359895ba6a7577267c73308772469e102ab48307822e48a36ce41d32c6ec37ca0af996e16e14848f497d579699c01e93bc3924d8de222691a8e57a4d8bc6344d0e91e6fe911a127bf7ff5755055b13f4b53e525789cf969040d02a6022794178ec1a247067b8529d8116c1aac4da25390a07d7a4a4b6246ca94cd27aa25bf651c517296785e319b7b7a7bae8f2551e245a44c2d0ebd426e3bf85b6f7d17394c8f69f1dc839e0929bbc2dc3ee546f4bb5d081ef3a5b197e825164fba257f420a8a70ceec301a8718058cfa3a4391ece983b204adb56edcc9d7551a07ef299d86fd1a98734463ea75113229249fb33ffebb7c69af57deec64f9c32693a729b597ed0755d44de65ebaaa9186386353f4182e57051f04c94b762d11fb64ee2085b2eef8c74f8261b3844f641767287a8a607bbbb453e73799ac60c162c60c5db57a628818f9804317f0ee3f3513d704626b4b4a614dfd48734779ecab6ee546a7b03298cfdacb9b2cf94073c56a85b7ce4b44afd941feeee1e574a5238a842c02b1a24af4ffe804698d47e7b2c3262139681e5938697039aa5c13d2c5ecf6a1196a09a9e1056e2535739aca0c603cc1e3ecc658fd0ae47a5ead2e01657583fdd17c9bb7c7e565fc9161f5d59c57cb1d4f3b21473e379c986da9cfdf354c0a41bc413cf78aec23130df930b8ce0dcdca7501bc98e406a5b7d1ae2432bd211edf9900ca3e97f12d07e6467ed4918e251a22a05fe96df50c1ccd4de902598e2b3ac218889f169ce07333b00d7f4d0afd81ee8a7645767770acfd9e4547e42d3f897762c5141c98e425147c8db75ff36f30406bdbd5388a99314b7765551c0be8464fbb54d54f9f45a26a4ca0b1eccfa9e5a7bee1d8c66b592b152f001a745a4deaba0b265ce372c94e806a8a9529c17ad0f8ec9bbcf6e49c91fc4fa40319085e8feda4db463bca809e0811c0b02bf1f77aa1bf394e4a64af36f26836337b6f82c0dd0c47b69fb0bc904e49dc150e234658b718f5098f8b3b71f1846da5d4bf3ea2d273235a8ddbef9bff9b7acf9e0278f1336a34d31345669ca46a27f7f85503db30fb58bdffc92faa4946d111831378a774bfa98be8d9211d1683e95f41757b3e34b25a564b8c40ca915cacd55db84bc2876fe1c7fdebb403ecf777860fecfbfb4e5ad7bdccd93dd657b8e38d0577d1132df459e84fa7b641ac631d9e4b1d4bf7d7e96a7dd4ddcefdabad4eb6562706635ea0c65ab76ccc19aad12e9f1f975bce2211bd70f22791c30635184e61f898aabd96f81792dc92e55da71e87be42f57d0d57c91f1a55d03564be366d755295c524d6bb47c3d46886c5c9c49f538443d59cea4465e584c48265cfc6511d3d5635cac62a56e288d373d85a4eb97d25e331656ef665071d7254c95ebe1ec122452b8b7c450c7b6052b15737b243bafc27406a7da16d6466d2101ef4db1d441d4901347b8d332f64704ce937011b0767a67b65ccb86c12eeeb78bb57e0053f10a2c6cacafd9251d4890a1197c206ff407267b495e0d13d28e9c6b78c68d8785997e9aa3274b10d90df5573865ed5a875ccc18745c5a3ed71ef388982ed3966f6d59e0f5b95e9467f7bef8b6af511ce1d0fb431c73dc076581ba13a597108233e14afce2d1420643c31f4bed3f6c0d8caf2d53873a72df96b3d60a2c26ed8306f7032cb231e46e8eecb1824c196222ab7f02a112cac50897c5a8b1331067d26d5513a20b5744745e54ff55d786192c5354b777a9fdd2343762d50fc800c87b65aa15eebb69898bcfef0d8c1715997c42ba86fcbaad3f15336293ccdf27b3e1c8d09642b0b7228766b90dd064dd1a03e2a8ad6c7f4601fdc2e7bb4c5370d92791794d9c40e2449f396b39b4ae0499023b7f711b00bb93c36ec0e87bdc06d861cfe14f9c0893cfec34fa68ee0b7435655725f3fac81eb9b32d4b98786a0c95621a97fa19ed271e7ac1834083d28bd8457b522947abff8c478f3d73885e5679d9b18fcbded09552e6ff6510cac2aaa0e2378bcf9ab6cd1f0e42e65e05d2ebd15e320021ba54f6cf6770ac466d9ee28b53a0d4c3316c26978f827b3fd250002831c6401be9093d26170cc023f019c1f067e718265c86a2f6c8fe5b1fdf63f743e8f1b1abfc894d17e472f68870a8db790c6a841201a6b39a0ddbce0296fa71f66553d4cbc530a00f8ed3ab8f69a29c46cf85e4d310400c461e43a718998bd982014966f3f36906512c95aad67558bbb9f66e7e5a882f74ff420a99f3d3401f523a08b585c036c9349fd0ffe657f1108284dc01aff2668a0327a3a9ae3942b47c34dfa86cf00925092735c13cb82e496da43e7651d2d3cc629bf2be5f7f9e677ebc8b95b36bfa0a82aceefdb0a84149bf7e8974f6d72e9b88a3bdf2f30d810ad4e114f336d72333276b8fc9bc1ce7199b0c598aebabdab9cf57e6e888d5b55ef9889053eff1315bd1aa0810d9acdad0287c8a3d38248cd22e7f840bf3a432df5fdb140401a58fe9ab0ee41536ad07b78a71e51f7d0e45a0a5f8efa706c4eafb392535ac82e7cf9d37fb552a1c03a2f4353a638b0cbd602af4429f5edcf27b02393337e55d6de395ae4caa5904b6756b74ab04fe9b89c1035b8a72e67a0ae2da5c1830dc40b8dceb70602be7be641157dab362b505f2a18a93c48ea19875e6efc4ce7e7a8458c5e09eb78b70256c18fe00f11c7c5410cbe289f9e0fc4446808aa5a26e91a697888202766474298d9f9ceb5c4768703c761b744842dd9c8b26ec0ff5dc6ae632b98128abbd382e4d4ec5e08ee85d136629f728858f657cd390d3269890e983287c15d92e387a787b6ab67e5ce29a40ffd5d0c3feedd6a9c77457ff88fa0f4ec42685a4fa81125d679e4f505d32bcec2e0b7a23f4bf31c1d47d7f0870539d308abfd62f65c4e0e032fc1f12faeb6bb235593e65c95a182780e8a0fa6f049a70e0d63da485ef0b32dd1f51911886cbb02a522dfbaa88733cbd87f1d335df3c0432ac1eef2bb2bb8d5348d180a9dbbe333cc1c88e8ef2322e860f71dee85f360328b882869e854a08a95f1e0f7c979ac286995c8211f141eb22b5280f4407fd0f3f76071a70c521489f32befc858cb7bf27b08b6cf528279e92b030b574691c8e0aa63c8a04d26c68c05436141114a6a646ae3ca1bdd5f29a2e1e05b48c01b273f2ced2de87ed295799d0d90bdf9a8dd8fecb4499a8a64227d9c837593a246a4e939216da3db599a0387b3e89212b5fce7260a13247c00f10b9464ecf06c3a5fb1ff3bc2d1b3adfce5a06489221ea2a487cae3a7c47e821fbe6c1756fd4ad5b33d4bb43d4af37e9aa202d71b4d276713aa555c79c497c574ab473c8c68b825aadb2950226a0aba9ce1e40003a0e0f20dbcd114be66819cd1866cb24b0439593a5574a38fc5e07959e19690d305c09349b87cbaae7fff0e8e5884f0b9c2a8ad6b460c89d9633a16e4d1c025246fd079bd43df3b72206f97521c58dc660c79a4a833730c1712707419095060b5c02ef5bb67fb44292976bdd38270ac00b87625b7061e3308db2da33327209e921cb9204d4d60303eb54e62a8ed77b3c423b1f41058745961f0cec9c8d6dc9d14c00352fe0bd1e2d5ed31a4a98ea26901511593e5b6b91bed06242a2d7083a5a51cda319cc868cdfe9c9a2669b11b6f0677fb9a8bead45b81a1af281884d2f879a182b2c35d5d30facc088caf183208bdb05c2bc39db7754380a27f7e2e0bffa87590e67795366198bf1fe8f1e258dde57361483cd1b5c64517e479bf0c06a6bc087d8e3252d1f20ec76bd1b1ef5f2a20016866ee077f797685877290c2918b5aeee4447253aa1ef26108411b1a7b9f950de28ccba9172cd3d343a8538f27226c78df92a29a7d403bf688c861aa80ec320d292065996a60b5ade5187df3acd60a36d5277a087fe541f92a174fcdb14a96e2787fceceb86030547d272597432db37e749bfae9efa65deee30d5392245500a4f000b2ff6f4115b38524c05c93bf085e83606acd047845fd591eb270b30a1689ea3c1c42589fff873bde05be3043c429015efe502aaa052053c7d483ce76ba6afc2e3fce7115c2ff63ad438f0e69096fefab0e9f55882cfe655823b0aba026a98a7d244437bd3c0bd90909774539e69651e2f799ad09935cce84c185eeea8ecf0c97deb7251f2d268c1a28b4e61fccaacbc2edc364c2d0c599cf7a1f2cd2a655e8dca1070c5da7c832891fc89fdfc6b43e8a2bdb8a259cdfa17900e589a4f82e1599e9e1e18152527ddcbe9a358a1c022bbf886878ed27b6cb987b7b0ad5b4ecb8f1e89247f2e5e766f18b8fc1b76c701420a9afc93b304746fb16c740f20c1bea60b8341ebc464a8108aaa68729ab40866fd729e5eb648ede8f5ae764b051b2c34c0a2de9e23b7d12d79539d981ac8e13f12728602a0a2f2c6c0e82dfd3bca5c3a012c7b3e7430e4dc990e05a6e7596b9e98b8a34dbe3dfa11aeed9e5d21d843177913abd6f22f603d902d546fd09e502fa112be3ae75f7b1fc0ab8fb4ec1530d15ac9d71e1f9422d3b7229502c8af6ad03453a456234517ade0c1fc604c6b930763a03e72d6ffe375678705d37857c40c4ce0b3f055a12696bd3012b2d3e502ec4397b720d91a7fc07a98bea2c1433a7add55df285e4dd8c480dd889c7fce3a7a9930135f25fb6f2bb7a76b4ab4c76c4398b97f3eaa3a6f87bb6058c019099f614bc4fa30991c04af86c0329ae9263d4e9a93ec3e3449c65d4e52fb1bdb6794575f72b700aa8446ab2f2bcd7934acd536632a7d17094a028a5529de0f3a7870dc69d1ab34bf3b1a391dde17fd9c9256426b1bf6444eb8310a6f9845d6d51e05b84740f63b3a5bb2c54d46fa6358cb13b8d87bbdb3a8e6d9dc110f648519b127f5bca888e897d948523e4b292a6ea14f56cb100d8d11a84d01f520e3ff0b29ba132a33d91b93a3fa2e95f4ace3d0b030abab102e85a2661e4bf0753c93b3fcd7ad5d2df46ea9aeddbcbd5a39ed48db7f6319e0ad28898104d6540006c5fee10d17446bd8df7e13ab194acc096961d9d3ed65028e2378783976e7f8d7878dd9df3c5d6027c05b1f4870c8b04afd358a59c6242fbeb201c8cf412961a3497ac186fbcbbfb83231b2831f7ce780f84c806d250cf5a5a51ed1f5ca149ea1d87a9419712c427dc3269a816fa8b07d86e36e6ee233b9d3f1e7c3360cb7620d6762762a3cffb7c37f229b0fee80750032ed7c753398a3e9133eda0b62fa2ef3f88d0896badf532bcc789cd3ed79c71ed0ff529e65484afabe67cbeda5d3f9d14ea45172e1a957dcdf014cc7c68fa546c9b922a8fab341a0faa565040b0d57ece50fe160210106400546b985ab4a41509b3d636be1e3cd7b313e85d958c08ccfaab64ac7512bf01871ee11e0634e5c4cb8faea804e0f501ced52002f3f0a907330c51ad16a33fb09eb19053dd38acb09bf446978f5b8c52cf1a24a39eba571d705fbd387ae2d5a69dedd97227695d41c3ab24e1f81cab83329e56054b7a365a83ab9aff3ff030521d5bc05279d09598f62c742dc419ba06ef511bde0dc34c84501c2aa212e764ba8ff04e6c6350ac83c7fcd88789c6cb5c84194061ca82bbbe2a8e8f05ebdbd2a1269db60f3f7d07a10e5b89ce2cfae61f4e48d54bea95045f1bfc7020c35e7360c5473730ccdded304f382790a590ab0bd55b19e5f4619b5be9475420be4ac9f9abee926f80df9eaeec5b6dd6400858ab0ca5e59574c237c846696649009b1c6150b684dd044c23e69922e55189418e83d3006a1166bf2e73277cab2e172a626956fd86df599a17dedc0cdcd607eeb58dca4cea1421f7b4ca84943ec6d2e8df64e4a438960289d6f409c40f3c512b64a5a07f149494e140c0d490dbc8cd8b1ae0d5e8e4fd51d6d30c5f943603d5d5614ecb4602816adbf43f8eac3e5dcdaba0543178e563d0d90260185c3650e6e2512c335496a7a1d59d69487bb45db639206b0fef6cea1bf92061579a0b91c95599ec376d4e824a1bd66c21ebb0bef54dce2a67a4b12e08ce446bcbeab5182f2c27e67de194015842bf808e0f614900a4d39cc764eadc599a965771705800047aad6844244a20d6fabccd14fbac735d02114e8d067bc98e7d6d151262085e9f515dc2df39621db7a1c6979239bbd3cbaa657b5e7c96d00ef6306e679386775bd7ff73b79d120eb58437b91cd8a86da23f7a37e19a34aa4135c46797422d052ff73e0cfe4f81c12abee03410fd6505bc8592b0aa3a1927de27b890807273e3917dcb2bc67fbf99062d105fe53ec27ac62644ebfdbad3cab21c58658bcb82af92e1a209754828a346933ea2bd07f9062086f75e0a8f948227d6ff0410b1faff5e3277de7b336d710d4f2d202bb45696d39ef10711535e4156eaa553ee8081ef1c5c346013f48067a11056852cc5137c1467c1ad263cfac5588b8341f26750d26993031d7c6772885db225af9ba9bb7543cc94c5b3ca0ac63d6e4762c6cc61a37b3423e89b7349ce379d3fd41ea7e0599ea7eb590dc44c4e2a4d74ffcad333e41ed3362944481c3c303d4afe39b9a89306be40e2b1d67c08b7e73cca6b5284180852131e2acabfdc08141749cac6b083dd1b3b993038a860f551d3616242652d436d8b18d5e4616ba2cb608121a38dfa7ae7ad7acea1e45937fe5eb72812cdeb8399a03b9d5db0a9a1f665a1602a49cc2333c53d39f225f84c6682ba3fdcd16dfc6198c5d4ea30143eb1938b15d65d6226c3990a614c2fa33bcac65f4e51ce3e9b77e621b71c54b3eb52d528198a096a17fb8eac00d4975e9c9f2d8356ce020373082ca0a7a411869d35756d38cc8b6c8b860c0dd152694a30546509a77d4482a4373574ba4196c0c73f1237491866f37f20d57fe13b385e225463d2a7bf941d46756e511d23ea3f3113f07c638799e7f04522734812c57b1f45da5b9bea972a3c31e49a8d49849c57ff3a998b75874af16574ec251c18c4134603c45e3fb5ab2e9b5b45bd1fb58a4e047fa871d11282af5bc7f169b6bc74db71d844f04b9a7014c675e9f348fa6f6a6b3999bc92fa8aff4fb6996fdcc26503d6ae79d3b0fd9e1335144f4b367cb4a9ff07a88b6efd02ba4ab5282eed69713d2b145d90d5b0d4031eaa630e5bdb8efc3a439f00d883cbd1ba8f498250ee0592e451d11186fa09bca6983a945c595efe999ae9f657ee28dbf08e48cf7f02a2610e61722764307366b3fafbd4cf46d43d994c5357485d6d066619a34495ba9092da53ca891f3c6359e14daaec4c5581498ac16859399c36144ee86ccf436cfee5b3b5bdcf160f609f18e1d9b8c5aa3b88fda7544460ba353c55859ad866cbfbbd950488de119436dbd7c154256b065cf75bd3c85231018aebdcc38f9b5b33d955a6b8da68c0831d5fc5adf0068c82bc6e773bf533ebb48883e0e096ec521d2c8c91d439bb3dd4bc8381f6096cf259cd54fb0008b6e80729dd6429c28418db2b74588fe443f15ba5bda0a61ba484f2a955a958260da47ff1dbfef5bce0d66ffe187f67a4f84cf917bd841eb8f2d593ab512a6ecec79d2608f69623c888b6bfc3818a64e53c9c2ba6996fa8221dd21b1aca288a1a95933d9bbda28d3a861e17a87bcee06ab0f26f61e84599594b1f05575461197c4e71916c1d0d492314959767b78d56d36908e73432c624daf9493f6213880e917d89482d0fff30fff141e6f2b4ec0d611185f5727a0c0033a1e24a16417075189a7146553eabba2dfd9ec056dae1142006faa1899af923f1b67ea72cf28330157f0103e3faabfed52a82af5937bb3ca2a2bd8b6e5c147a9ccf4cac23b551d53953182b5199b0f2dbc85a128d6b360ca76fb33bcf9b4aefaec9c9549cb8a86b21a5576aa25fb966679cafad5ea4a66f7117bf81d450037227d6b1d15eaec8b51ba00c7ca7b37a0e3a1719667e196d31006652d67b9ae1edaa29f47110d30a96019fdc83830288de135fe886515b6910abc460e86d98776e97a521cd137da2c139e898d287fe0b5c562742d37247ec52b71b7c51aeec34372898ae0d0f01a97b754d10d5141a43bf9ff70c5a1eb475a859845cdacc290abbbd5b14736193585f83b2c7c3d5a382a5a5dc93aec307a77e3c92ea0a059c8f18cdd08fabdb6a3476512d29a78bab046ae55af6bf726eb5ce2070b89a51f78067d066d2c648ebce2a8e2fa21febfd7add190f2a53b9db28a32ba43a7ba356c844a191bd95e380aa4b6ba3ba274b342cc00fd24a97fbf970df4b18af71be17947dc6188d23caac9452ccc6371b61bbeb566be0859f6b2bd9dd3882d79d7843178bcf383f8586905ff9acf46f05d422e6d64394af8c6bab08d94543888df59b346274a991846d386ed1f50a4ba7b47c96b11be67a33cb173b983441cee0cff0f4c0964f4801b2550bf1ad776b67b48e3c80c4807f3593295d0e484b8f8ce1b8b4864fa95a47d8472a97819bc1c2f80cb233e33dacc8bdd7cdf002aa79167a4ce2a77afe397fb69102444d45fff5cc514c1216618c0d23c82506fe6464fd9afd5562f14cff96d07188f78b23dba75ffbe4091d89a625d878b638f7051c4f9a82a33bc3f778323d5305d11ee421ff76529c2b76a42b40e05a87e72e89a96e434e00a6e363271bd33ba8f24e8d862eef420fac17dc36c63e3384c77982022cf01169ffadf3bf5724a0f2295062fcc058d4cd91d6af10e5d4e3cd71592199b59e29dd0eac38e783038567d471bd8b2631fb12bfccba5a1217315940f5b2e1cdeac75d75ca3792f41471bbc55114bb08c2c09b80ad04df9413246e9ed6496a421ef012f6c1b38fe3b27226c55ae058795c313128a5f816dfd4f7d129ef3acfee1fd399fc854a638eef8e1231f0bc43ea458e7c8fe4bfd58d96c75724af16b1a823a59babd2f88378e8a2432643510a101a83aaaa17a0f09938adcbf155d79c8b5fc19362015564571da04f5e95996b4377b1ffe3b5d89f789f8b79018308265dcbdfe496baacd79472bd1b8f6e2933e4d176c594a8e3a0180ecdd8901c69c23d1e34bafcc8311130203bfebc7aab69513e14df977f72bd2050971e26c397f52127f18a5e07806a9203a78e4c7844f13aa8a9e744abb5618acc1995948cb347758ed6790e7cdbbf7d2450149852cbbee5531911a2fff9e0223ffb3a9d43950d34e51ecaf086d1409ed479b6ec08d75318b8f591ad5929845224cbae7950d649fb431bba95f97d4e99205cca4274f142c116915aae20824270ffbe9c2d39cb94d2ee3e1a50941e5d169b7e5476ddf2b5c7186f5e90ba991c3afe13223359eca2a0dd76a3f5db486c37247622b1ad5947fe2f0a3e45cb68dc6814ab6309db0fed90df4564a0873f89fe944410f44b2dec974760b7c21209925afd653cc12b0ce1cb7f91411c411356224ab074e8c467ba94f9bd516ca84eba0fd53b6f5ac21f4fc24a1fad07d10ded4803eda9da1805230aad3650ac3f27c06b9880f5d49e3e3a0267c1f869d651a5cbf9476705ed8520b0c2e7abe9029533a3b7ec3d1511efee7370695fa54daaec2e5fa2c5e308c26a801241ec35418ba4d62495aeac22d9e08b17373d98eed4d9e8f995b778b4d1f6090d35165987a64e348be3408deaec8f52e670df348f7dcfa65cfd2ab6277f1b6d4b485da2be3fbfbd0f57010bf69e8f68bcc9ec48cc0c9843eabdc6ce469de73f5198644946d2a5a5b484794eb07402503fefb245ee29a4152b3fae3b088c191ff5d2e01244f1fd18fb3489badb543abe74f7003dfac6151c7fb974e1bf13d576ceefb1fb9c2e6a202c06a0a066535735f085debacd9ee5940e65c3e412dd4c87897b9c580ee2b95b54dfd08a951d0a43bda536e0fdb448a7a7051695504c706929bc7887235c3de64778855729e46fd5b5f06b58d7429f2dcd35120adb7d482096ac59f4b1337e571ef3e4155e4bac4494086a358e19a763b50c88cbf9a2c6b10b0687d139df1fe78d2647fa499898474e6e20545ea0928aff7b90107150c248d6b5a1b14f463d546e8f85fc4d586fcc1f46071bc6f717f788259266c6c9992696c5eb036605dee5bd979b76a2646850efbaf0d85a543d491630829da594abaeb636a88271d344644558deedd3929be6442c9b56a8690e3ed3d0f9f9aa23e197cb02abee8c2d9197905a1875870543c6a6b8e1eb7dde9dea97e55a429cf138ab1f182b3b38aef2ac42a591dbc0d5e8701f8cd1452acea41160a6084544c6ad9712381be368f0798241ece298a43b7ef50897732c2c9d2a66a93f5e1087d70288c40744a699071506540d1d4cbbce1c716f9c6caa9e7621f05cab9d5aff847e02941d151aa7bc7cafba6f404b089eb81f382fa81f0e4b6558b3d8242de8789fb5e5cc4631760341612478d1e5bd1bc5e5d7c58b2c9e657c3a64b147dc866848333789db1ed00c540e5f15bcca7a169baab6795394282b0ca2b811c608bb7c81fb3ff1af9b44769124dc13e04eb6c03a2d1783c69f901af480743132fff5cd004ba65ffb15decbef147de68f083ae97f4ea335e58125f7048c3ad8726812924889836b333e4db16cb49bcebae41ffbb9e4cfb997c929ee53b62880915ce2032142baa2a63fc4c33053b2c09630c0e7c3c7bf95049a333b1ffdcbfe8b6cc1cea1643392aa696f22755615f1279f8aa5a2961148b9e183d53a3b70d335dde5f3607da9cc752d6eb0ce44e2db9e4caecabece828b7ad92d096a43b4b48464cb1fe7bf08f403b0c65f61a98b9c9c82133cf4e2b34dff2a320b2a21894c41f0b2f122bae0e5a76edeac164bb2c5fac05f0d348c45e6a1da277daaefcd3eb9ed2b4b241c232bed97f0730f52e6ce7b18c0693d1db310af19ddb8e69f271ddc94c241fbe5281ca9f7521365b42fd229e691cf1fc6378b00573293bff7e56d5cad619cc7f259b0f0521868694ede06ce0140ad65291688609c10fe315357509a1d18c20418890b8a53da3791ff21dd69fb694e745cf0d990d01d73a5ba9618bc16d5f125561e1d3d8c438f15ae731788bbd94aa7c814102ca5353e94ef35fd011115e178141efa3a58a644b9544355e282d23e75b90326233e1dc1f81b01b6f7c66329a7ddbdae0b093db2e3ea5786f54dce44d071c9c113746c365e45bbceb6614221c89dfa4cc299b3d1a8688ebbe773100f7ad9dfbf59d2aa8c4f51736d29154e8795d059f07951f31a89c7394aeaf00443140c8af27261f4a536a9f4a30161019dc4353cdcdb1d75322e5c949aed8dbb6484fe8d637a4cb88f671f1ca0119cfdb2fc2a238611952a9497ff3ad74f0c350acdbdc00a4f3b0d858dedc37a9856e9739eb7b5cd77d657cdf35d6b556466c9b4166cfe4a10c6641b985541ea49af1da6ac32d4084bcbbc15821132e81407fad2bd5be88ef241ae154d4452230229a690c406f54368a62641c88514bbeb7327a36d8b786d6daab831256826d3d611a81646633fcf45355bedd59f0a253cbd3a443eaaf42fe50c24e486510dc06e8d96596c797996572f3d97585e5e93c3ed8413e1e1c2d642e4f93522e65edbf86361913709e321644ef9485e900c91b4e470107a726f725aa6b57a61b5195f33232d06ff7a617a79cb760ce37ce1792fada605111e291830117e44a7c9be5a3065fdcbe10340de3867c62595e908d6386286d49b55e6514f2494718efa44c54d0db9f206a3721d4164ca7c7ce6fdf9282a4d85eeae8041180d94f59c1b955b112bd4475af7dd73e0035ff38a7cce33059fbcbd9b08b5db9a43c07108ef2eb74886deec19131b63b5aba680a9e21f1ca96a2a73336d175e06dbd788cea55bc35c579e173d44b4ed44b5c99f5d72b13cd41379e6e945254bc0aa7dc897e1fc1ea8af51d83021c3722be0fbf2540ebe72a4fc4f9503c1bc7b63bf175758dbc6be3ec088f1f55276cf671c34b30838fa432df5b3b71523eed61f1f6f71f2a5c073ac010be3d2d2d7c7c39b7bb45e25aa89cf477dcfe46e765363203b4f5f460818f527a7b4d24a455a278be987c1d83bc6ece9b3fcc8e4dfcaa14b8df71a4604a17fa1b4808a4b1ac58b06a5bbe8198ec67ab4ca986af8d1c2af63832d47f08bbd2af361c5f117094dbb5fb152410e627826083d97922fce677bb57bc31214c6ef4a4ab7fea448b4403198d50883a8ad51173ec03870aca2c797d95e1a41673f9e60ef6a1113b71c8a4a49b5de7f8315a9a1c4b1fee1366ea200a7844859b9f63d64003e58d782eb72ac97720ccd8272f3346d3de9db4e28955a9e4032d0cbd62d95dd45b9958810d30230a94bd3857abbd35855adc7b522e5113c1c371f25787d66e9872548ad973ac974d7e05c6e02a73fbe66baee8b83edef24dff59804d6b223003d14f2946c0b15040311aa157d1797bc81c4fde01f46d285373901e6e49e653e1717eaae4318a30b4901a3ac49afdd4e4d346d908ba7c9c8669635ed476e7b438e025e9543e691f964f79b99dc057ade659eee36b816c94443db2d32f19361af9deff14a85c937a9b818b45b79ff3a1e6d92ac158cdb93cf212b64004552cb030a5e9799401486716895aea90ff2f7953b82d1643a024489d85ca1814dba7e42d7ae39c9ba8bdf51f91bbc518dcd1a8ff46f897a294323e184d0252b363d87f2e64d00df1e9a6836aac98f1366fca1f97379ccf4fd84da849760f426834b70ecb792dc01a96dc441e3b125f6a5019d3ae0543d22013d7dcda334b287c687ebf70463f7f8b6aef93bbe6be770127e15c4c885e08d747e3f8d877a86885e541c838f40eefd5335bb0b0d5416b11b19845c2f72a8ec87a0d19117810ef17f7ba78da1968d4a895a81046951201b0f1ae5b3c61ccdd5447b2b461a56fe1038e6d99878de5820dcd64e4b15245d6066c951b955c295a933b2ea2f1b601d4f6ecce0ae43fe909cc0ec362d029e12e766174b53867c820288bb5c7846f4e14602247733eea5e6c873e3cd98e902edb7f77d291da9a888ad9dc933115adaece6796268d8e34b663920a649b78cc610d3e9e4e9dd125765b17d5780854f9b9a4d0d85ce71ee43861800944c09e434392cd6d570cfac1b23f91404f386473be4de2072c6a745a19a022d13ecb0dadbf04257ef84514469818b824d1a54595501917752dee4af53444230af20fc0cfd0f2d711a4dbe3a80ebcaedd3c7e450ee0ede8304f201c73f69eb26e31315948f73a812a76ae21e003546d3e14582821e8e1264a431437f2d267f66050d13c7bd88cf4311ca685ed18b6bd290e7f364b1576c320c6bceff64615b593518e9366e3497b0e1cbfd8589fd4a0ffc64e9309bbfbf1035054fbe5524e603ea9aa0910f829742a34265d01509bb825f3073930df436364bf3ec3d870cfdad5106936460ab75b94e9b5210100492348f9508687fd08369e4894c245c2e8f0b410130064606fe20dda623d6f39ad17ec1102c9a71cad161129bea3ec9e8d549b63657d9d3d9fa59cecfbdea13dc24245287f2eecd98df1b3c58ff0ebb60327b0b1479677c04ab24c7f6c1173e933ca70eb3b59b2a34928ceff8e671734272b409feb39d34c4f7727dbee490fd548eb0f1e585af2180bf92d3283b9345c27dc177460aa33dc5bd6e6b6a5ab9ecf5f06d0868bad9a1bc5a72e05d9631c37f45e6f37ca22b38d8c876390126add31a924e205003dd60767688c86181096ddfdb8247d7d443bf293ca6dc814209d5c3fbca9e00848391d0e236f261ccd296db98c0894ddfe80b6f6231c4d86478b563a7f3cbd1bfe6b6de3826f3ed72f1ceb173eefea1f40c9f7131f1cd6e0f30d7771563b929e8c175ce5a694448e2dfb07d14a58f56100781cb22193ea66f98abea7191c0b1306b656bb852ff144990e79bd536ccc7107f42c7d0466e7b0ea2be9f7a0d6011d7fff7222ca6b6110525ef63e872239642d3b52045a2617f4e9d2a3e7133b00e5249075078c90a7a52a89201e796119a8e2f5e871e8a3fe216af98d3036140a44915622e8171168f6d8fe8346c6278672e753923d3d7ccc85943fdf53ce235137837389c81d0584de79c250d8792374ed4b5900c17b9946a70d09defea6ba2db18295283ead32d6872011f9fc56043f8aa9bca69b4ffa45425811d5d10063b7a56932a72f10e8f92934afadd2ee74a219a61e43d4c2d3a10f57f4f0b912a32e1b3ec6c027226f4c94730a1682a6c17b8da87f4a618b465225905fd05824423dd755a144542b11f1e6a2d183b27fc997b9b863edbdede7f93d934f04617e4ab8fc5ab10a28a407fa704cb31a07eb797d2ccc068ce7914c8d8b83d842f01d4c4dd280c618250ae68ecd6927a83ca12a29b7f38a96c3e1cce4365d494ac66dba668e20befbfdc24054a945317202dea54eb0f1a531083199704e8cac47077199917b9be11257d00e7561f875055bac0f9399c8f686197e60b5351fb4312cba58c6236102ddab21ee7742d972d22b5db8e00f0a5f624976ef1af46213391af4b66f84ef68415c7b7fc1a21630cd53f9138f1669b3cc2a9d522ef00563155ffb2e0e5a8bbf6a15128e5440e8a7da42aec71c9bafa97ceb02c8cc310fecc05f09a57ce737ce0aee850c2d6024f4a52ee6d24955b5a9922050a2937dbe951edcddd1dad38195da56b3b6dd27e5d31c36b4e7da0c618e0a84d33bde47b5cd9ec3c3f795fdd7a1e91f7d4b618745d0990508488aaff0dfb55eda57565551d0aa8806d1ee2389265ad0353d6bcfed1dc6b60ff27062e277dc25adb4efc8bd096905edc480d0b52306770cc390f9d44b37e9037f2c539bc9b99df5d6c5e93e428f535c3eb7b3607443e73e6c0422889d8e6f751149d7a0be95aedc84722b75497db8f518adb5360539990b5ab891fd9532fc6661f175c5d982ec39a4e3e115734b55df2e76cf3ebf88940b84a091c00959d2ffee8b890a31c8380d56ce15345ba31a05ebe213f6dd43f3b9eba31dcddff5bc2477aa663409061b28932bdbbc06650bca18de3f105b28c385562824a3a0280d6a3891c06b85906f390405dd05e871363b21128f251d217ff18d699bedc9e9bb82a464e7b6ee18209b66c5106cf6689e233fc54497a406132f67e35caadcfc92a9c6b7113ac8ff3c4f4d8bab6b93ac16438ef86412b09be8bf6883fd121ae4ff45d5c94d089378200d29a8652060f9bc89e36f39fedbdaba42af67eff13a37440e36b244dc25114c5e6d491fdde043b09b594d23059f7f896a047787b2375cbb2d606824d0a7c71088a29096bccf9fde24a427aa2466bbd634d054b10dfab3f876cb0edbcb74abcc2ffa75246a91ccd780243fd8af21dbf5c10e2356bcdb08b879d767e3ec06616a64ad7a27b77e2d596836803dea01a67e1be1e9f0207652f01e7b5067a23c5e9a7e998f183756d0a434cb2fb322aae4dcce165bea2004fc5f2daef88316babd034e9305564f7fcfbd68307212b0b81b15486fed3be6080cad029ad51a896c276167fd121a8314ce69c8c9b8a3d5cf8d94c0537eed9fbd412cdc35b26e936cad10b5278d7cdb9c9c4706d2649c9407544cccf225ed77294a639a2fce59cfd7046f7e44d7b8ac9efd4c66013640747b19cab2cf5a12840db79fb42be991902e1f53bb732b7c089a5e4057c61e2a52d1ebc31bf8c63ff3b8e305e793274a525f644db99a463e145c90993c8bae5861c6a7d547f26e89fc731fce5a060239395b74d891a161c5ea9961e850f1b4cf2c9551e8f4af5363f5eeb2525af2981d3fd80842d144adf19498b1e9efcf722454a7fd0f5fdec5d016caec1183ab83ed1e591ae81642a5074f5460317439e9210af739596e5b0269e333ecfc888deefa3fa119bfae2ce04f07344b4e8cc09133f0753cf355104fb0d0e98bc0acabbf052c0c43baee83d8c345b622f982178b4c80649be1ae2b4985abbd3a28f007ebc9c7ff5b6e0089a9a6e5a117dede1901dbd1239a015851f2e19eadce77cd159993a9f228041ca458a7541e446d931871ef6e1eb909dfcdc3360436bd18c2a19f3322f4e62be8af9baff518a0f959bc8fa6f7a6a4c15b8792bfc2358fcac4f7731a34af12ec2ca1d8ccd8dd70e4a69b7e851e325e325f2e2ee9848168ea150e6bd1e75ac1c3f42b8e5bf972fa0924dfa90fe3bf765bbdf40e1118fe86c34fca68710151b9e0cfa1faaa3323b95a319057ad893ade393ce7b4d3b3ec67a9e10c04883bb8c2e265d20cc8417097eb181fd17472575a7786a35e7f674940dbb43d2e6eb1f04f6e078b672964c9130cb7940e73dd1c8baa2081dd16e9586443c6a67aa8a57e6a55cd41c4b3d0dd0b6f5ae93f19f1688bc1eef0d218ed26f23f2ceceacacc16d6052c2678a5b7a0ab734ca0866d57b72e855166f97e99305efda24d4dcc60617026af80a2936df3add17ef88f912c1c3604a4cc165606a03f9ad1403572d22aed359f2b7c23f5b1aa40b19968372b1fde9c80c03d3e9a2d08506fdd33fb0b89fee1534084cdde737558a07cf6f827a84700899515b49761ce39b7f39dcf6ed35f0f5b4d7c85038363d8081974f0e8543195a9fe8856887a53fcd8827aaa56f564e20a6e6be6d7b3bf45d46705f65e166973366855feca6625b3f4c206e3b6b90904e403bc8313379c4091421eb43184e9726292bbee11fe93ed7288435307513fce7a243d3c36175b46363041a6d48b2e8fb3479d20fd7e90bd4fc362e795457eb3ba21a498cb4422c2eecbd1c57465be2a882472f38850f811137a791f6e94dfa30e9835c67ff27175a478dcba948bcde5c48830749a70018d4afe744e9ecfafb172a3d9e58a8a9368d4e9a4b7024a19875db89b01e9d1055b9cbab9f884979b1e472cc12de02c426fb7613dfca8cfe88ea297d6da8eaa40e36152bc0fe5baf10073d3532d904cd746c73832b3d2e921b13a6096d4676b277437cf74d71641ad38d972347bd80ff15baa0c26f7657c312096379c71f08d945d733779c33c50bfa5cb5c9624f8ee806c6a3fb5c5fc5f4b65a085a4f0ea6cd6760d522f2900ba11fe51e71316aa00e0bed17d6aeaed75c4676d42d851ad5631a33f0746811d206437818b4845b1e341c37f1e7bfa920ef6b36ced417c36b2ca910ca6874ae7ae6da452acbe385760bf7a8b664a4ad11d8d2e80acb43b34c2dd60190c3ed8969f29b4ccb57d27d885c2744dd18a8a79bcd400508e280d30a108508e30f689a381faa01d4b92b3fcacb14a3ebc602b045ed6230d6d49c924a8964b0679ab77a4937ee6a25d5d68fc2a1bd934708efa2ebc7387205b2bf63bbcdabbce8be18b5c9165491a030b765fb5317358a3b2773ba8d8714950d34982fdaf2e123b7ae60c01d8de97dfa45a7d6c8facf4362d187c6757240c152a7cea45262c0162948d1ee0584b884655d1b374f902688d4325fdb32ae4422c3fc92807c2a86a5a8954a1a7c07624ec631a073843aa482c0fdb07623c6c66ba711fd23177e22f7730516b48c64368111172eeef6e8d3ad1dc91eb62c0d8e11e6ea7194597b470dfc0b32349317a3491d7d50eb6d684f41415dcb40942967413a0494f840f2c46f165a8bc04bb0287d96cc3cb498706e89f408b6644d026d0bd240061fce8df49d701fded6705182e8c160dc331213aa7106990f7d2c385794aceffcd2b63585425552a21b5d5f96dd155fd6fe1ea3e6064e956d6ef6ecd49ca11c5434b25398ebfc123b00bbf7e5a82c3d090a80f4cc781e700cb5170de9ab3552acb1868200af76c14e2b029d789d1dd413701dd183ea29866bd1dfe57da1fad79862c5fe6ccc82e6adfa9bda4ca40d21e6b6c4d960cdafbcc72e91d5abb87378e8a30841b86ff87265f4363852fe064497e630e84d3a8ffcfc2a7fcdb18d67ee4bf0a36a791af248d061dd4c50f4081a942bcf7a9b0d9c0a4b8f956b64535dd8bc031eda9d166cc493ab926d31054b878ddbc2c52ed85f31bf6cfb80f96589c02d48fb75a47aff02476bc06dad35a9190265314249f5a323c6a2def8e24727fe3cde4bf712def110acde0be9339e6769500a9dde0bb3cccdb50b8a57833734fa141b0387df6e9ab972b4296de869657f84389aa788cfb8b5cf632f9fb338a220a4bb23d3f72e0ee0cdc094888d6ebda4a55ff4152f187bf39ef3ffbebf2d27381b8d315243ed818c87045ba9d4032f180b868af6897d4c140f5d762f53f4986850093730d8ffdae585f9f870fce85363bac7dbad8be6d6380c1129a8f61c882190be312b94f176b88d9e4c42fcc34ab17341debdd0b42f0a6511120accb824a941e8e1b951cdc8d42df8ba1b4b2818fa4642d6f6b10c8a1a2b015ea07d62d7da157c9eab341f9a15a02351e01da1250a6fdbe381f37d816e1542023bed0f27b37b54ff2558cf151091c2d1f7f1c7a4a65da33a9d1ae498aa8aa0a492cc72a63b00301c2c4554e3bcf0413951856576ab423e5ce715ee98f41761fdd196253c6056e0827a32b94442a935bc4d13cd95afc6ba884fa9ea53f2140dd54a4adf6d74b0b59b469b7d39d01896ec3fd9a9ec92a6d150b5254eb3d060ed629cbc1d9a3df129e5a17e2acbe65032d49a76c4f3a13fe71a085562dbf902508b94d8cb4e6277cc5ad6040b8ead7d8b24fd0410f01d2ce2cf1b71d11fe6a97ff0b6cfe886ba2a939a5601cac13601e996692a75ca10b4a0a286bac607cc7bd838ffca7c19c39f46f9658c20452a5d840aa28e54c22d8ab0d4f8fd48a79a07b95f50c3efcec36f507ec882b1f1e22a4ae6c8f70edd543b2513cb996d2fe6b0296b7484419b974235043fc6f7cfe5dc901fd8da1ee27f31341ced588dcefe79f3f619efee13ef9334a229ae502f3ad497e9ebf03e2f5a6edadee2569e0eed7f9317da9b7d649d891a893154c4fdeab65247b174f08de3da5b3799409bcd6b252d0df38090e113ceba9c83da8ec625f4edb4f854018db8989ca0b8f2e1aca0312720b23245d50d46c898b74b51001f5390fe0b74be4ee8b78b43f746f8118543f81459d62c82824835d233d65e312bd67520f6f6f21fde1ddd8c710dbff8539f457ce79c9dd7e50ccbbb73e271314488dca0f6a0414c889dbe437d4caaf9cc7fb843b9e28bdad525e39da9e004665b51eb3948c200e2a3cd7eead677888f67c0dc300a12581dc5834b2ccd1751b6f853e60c38dccee58409f9da5160e47fcf1f2f99414c37fd6d13ddb1a9d0edcbd7e805312e2c9a7e4b0a48ca993611925c8dc743c703e5540b618b8ee3d9dbd020af326272c9e08606eeeea9979bdfa6a67427ccb43fab5d0f9be77c418911533f29ae34801a76f898807eddb32c7a37dfb93fe1e5a518d60a660c09c977ddbe5199303b4bca2be06ed3ae06cd376e109758af954b44f4c5384858698ef7cb9808144ee67680b9fb08f115ac5eb73a4e6279c8c75b01f61c8a03adef4c553fd93aa9a4dfcf425df1eebc83c20e99ca8ce569d2dd2c31ea996ff3a4954eeb232e4814355ba7985e26d6b096e81e89b4a3842446e442a4b431b597ba93965ff700606f48caff3b20e54a51436ae2335bc26c00442fb13c71ddc288d05208f643763eb877bcb3357c8ba2f6da0539a432490884a5212880cb14f873f8513a332dcafd20461b9ae8aeb38c2fc95de9a2d1772f3dac3e7648225a31521bb5159e5c6ff6286e4510124a71ed5bd36e64f26678b20b78b5308b29257315d2566ca0b04827d5328c8d1728f847e3664c4db01c41b6a030dade2dc3bd0bb0241af994a5fe0d68e63e8fa7f6f58c3a433d7a6f74d5f41300a48b3253482914bd867b3aa8d74590e6677d23142b01564983865c94c31b034d2c557ebd60130ddc62a26547b59f75fe09a0eee2eb619c535bcf223bffd20f5b6110a2b8fec473d4f38c5e636cfad0bcb6717467354386ba2b96c516398c748c64ed4141d64fe9289d1f58dd6d8f2eeb738cfc628cf5732a8ae66b3e9fd63b43144105cb236779b1348b827cf9e1b343422ae807eac0d9c42c8d25c78469b2599cbf0702a4fca8f01196605810c274fd811400aa414fca8c7248c75216725d5d8865b88d5482fdecaf05ec0513635de2e4a1fc8649e73f9583bed223c33d85945a51f66e3c523b748c913582e000f337fedd921b0db02eb83063c10edb5ea74eac75d68fdb039484107a1ff5d1086a8f62287131f6ffad44bf9a95739963e60f0d19054fd9877813bd01c8aedb238330cd5167936f9dafb5d1aa6f6983f7989807ef0fb61b39af7c2c6c251519b124baaf46c9fc10e1933fcac627245201e6ca65249834cda65db89258c59129d34ec032d98c9f990c97d360e089f9448670d7460ce373887969fd01713792403849012dce625f1f57094df58625dab51436eed1cfd3e6753baca1c16e007045a2393dc5b1484bae9531675ee483ab94e87841d23ce1708c1ec2903c935c2951003b0943a38c6cd3ff3054379fc13e6c1e75ea7a27b29918ec6542061b8fef389144343a1ca2562a377e43ab31910036dfeae658b6e1ecf70065773f04e9ee0658e69c8a0407d98d4599d5f6a1c0b8c11a47840dc6ebf5a57b616797df25a2b81bacd25c5e2a4ab0363b1edd89c68c718ae6a935db6c7d1e4fa5a8ab0a5fd4f33af61cf02f687cd01eb0934d76e28f92b3be7b59f1030be65f99bd7953eccf3662061a18bd9c654ebfd60c53783dbe1d11020bb66d6200ca91d14e3724285cc8e03dfb238333c31c1b91edff1c300af8b5a9c3be85eebdfba7a69f3d295f25e59e7acfc335421a53fdc1630a9a77efcc4e2f3396d5a9bdb12be9c8205e4c3b4bf5ddcd9c229798ef240d2108cd0737dea07f9e871c0e78cdbcdbdaa508404dc8532bcb6ec26ec425aa7353f1929145076beb1522305dd915ef76bdcd67ca0a1b58c1108d81d334f3d621bad7c66c930fb8ecf697feff4746a28cb0c0bccb877f2c5fa733f1375cbe6b49ddfe2effaaa9e6d753d2623873b7ad1302a9b6345af18ee737570b887bd55e60287e868e729c6681c32024b6338db77c31da28339a383e2055559e899176c876efe3521d4187d94ef318d8e0739a8fb20a4f937e44f85af4fe77f523a417e4e46bd092d968ebe79531e44bd2223b6b428c9ade559e92ad8202fce9d9e198f20d3ada8fd23e15d3681449c5326a68deeefb776c807f6c83a29174364bb19aa75830f6eadc6a92b48e1192bcdd2c3d144dd0f0a91c2aa78f5d8d46ad3f2f7fbd2d64f8558b1a178217748adbae61fd942e752fa11babed5d72cce10b88d506a94ef1af08897d4f5acd2c1f5bebed2dbb2de8fbaa928c5c278dc61fdb2fc80f5830da795619ae8d299df570731e2e9421fff2db354e15492d5467a050c178ef3664162223dcfa73b97cd89801ad12d183c9c6f13b52aa953e29b7e644bf26712e13e753e30e0aafda30e1a81dd0ed0fc246e8ef88ca7e22352cb4e4eb1ed62aee113b325c63b671fbef2c8168abb93162e343c8441faa281ebd6313d5840c8192bd15794596b645f60b90117b95b88e0956b35865ae1837f4e4918c700785f7de3c8f592e4765cc336405c54d3b4d359f9f34ebddb60ef8c308533e86d8198c1fb214be8997dce253379560d03c5e6999d2f5af594e8f22d1f72412fe7011ab51ca38727891ca40c98ccd56f691c49a935d669789b823026169929c7955ee96cc1c69474de957c1748d966bb8654ea5adeae35cc4c2dd61df2271ee67f5a860856352e0bd0c88949c264da35a5d67328eda7935cbd785d1c3b09921330b651241944d4217bb7e6809f831d12b3cede2ab13bd3cfba7661d817f047ddf9ad667855fe2a004f6b8fbeb760fcf99100bbf5e2845c7a9509f3484b23db96464e166d1a226f1b99b338386596642e96bb9cd467caf7526dd0a9781b47e56dc9527c8747605bb7c342ec9e35f34d1afe74bac16d0d4e01132ec119dd1369a379bef1d65626c72a71dca1abdf2eb79cacffcf8ee544ebfc6bcb82a9d6917a8e0b49039d3cd12297c882e36de848a606873e0082da7208a071b6d519bd847680e3010c138c45e3693fb160fbd7cc2ff68cf0adf5c9035665e8af5f6754c6c9681e188d1e62acaf52abd467fdaefd16d81d6fb050a999e3344c82f40b7d8dd3f1e975959977c6df99727c76eb9d83815918ee526398bdf1e68900154ee401246651fe8631bbee93da06a7531921ca5cc3c4f742214c8b16b3fec0a265768794e84b66af7455bd639ac585c7a795b2f4c9e9f26e0c370bd24799c7172cb7b878d259f443d3e4807149db85d55b7c70fa469331ef1ce2de9512e983b45b20f7fdaaef1b0c9bf93241bbd8f20528d5d5958694f29627fa2800845af47fb93b8a5fef3964074a09a22776c2861f66544219a8ec470c880567faa1636dd614cea828f7f577b460f076ec31720f4a06fba964fc144c649e431bf39924f9b8e20117d49f8c0d4fa5b1c97eb7d305ef46c37b5401231e0f0ec54a66607daa3c1fad5eb1c11accf069230a718bc59b7c87999a09737a04b71827421fc6b149cfc7d35b959cda8e699ad0aaa39e150995b0a7dc77e707239315f032102a5c14431860ec4a3d035893f9779187d64e9cde9c9ff14f6fc0f83db090a877cce86cfd1beb8bd9595115b3b86d8cf3706c4fef6bc8a076c25473ac450d6f60f6be4ac2dc5871c3ee50ea60e11a715e495e6635fb1b2b6f225cfaa69700c524238cb4e63e218e81a4c25fa98d2d862fe4c0bab5056a6bc692ee156ed19799d7f1c71eb068c0e36f97e8e1eb35727b695ff74ef2ae54ecc11247dec048d05511a037a9f1858a460314e706e17b1097c27b7d0f8b5c97d4f515cd4539cdd6721eaf6b2e18193c38eb7e04eedd14de1e9c4f352bd1fda4ccd6d758344775a921c060794f639c9cb94db6688c31f9c4ec5aa608cc4df07c2d8dccd9650744d91536e7c03fc4a810b80022f827cfeb62e16b5a67d27d4a4c39eaecb50263b1ec1c46b748397f93a1ff00afe8f4072b1b5805cf9bb01c2e5cbd6eee5b5ced869876db215e6f55b86d371bb37f6e1579a727bccc9a3f2341f8a7d67e358f425bb31a474c9dd1d98f30dc565e225d8e47be4e2364ee8c7fa4080bbaf81917e1a7a969932d6c54741a9b8e5ffec96a89463efa8e438f4eec14dcd1072cb5ed39da6ed8a6e6698ed03b12f2277c7f9902adf9f39ca78fa7addf495e1575c216573d13b32cd95913d45c7202c9f6d6a79b13f37e31cceff599607821d72fe50fb2718111588654cc7c450c9aa5d26003ca2e5a9d82638d1fecdc7429ba068e4309df4bca07ca946f85cc8214bfed3592bef93e57a9800e32e9c8e465eb8b695a66095a7440e2b5ddf0366a62c6f828bd66d1d12cbe71b26fcbd5adf7a8807402349c3c721a720fac69613fe6cdc8af2180593a5cbd93bf34248f75fc13ae88695ba596fe1e5f8320c7c9dde080603f01ca479f4175b24eece672ff5d5b769b05f1fe9dd020a6a03d48e67ceadaacaf62f3b77a027f5ed2cb08a7a7ab91a50a95fedaeee3658c0682d16a4b6840a11c7902975822f306cb34e9fd58f37a1e6f854c6d2cddde68d58886342b720c2f84128c8223783af6074d24a571209e850e1095041a01d5cf1290ce4f9860dc1439ff671a9a1d314a00383bacba6aad93d4a024d9e11912b50fb0c7f7f92f26203d5d1e7c5b1c1d1cb05e8460e3c99b69407abb27172d79d0ce920b55cd7cc8566f2c09d764afd30b6220a269fe11723bc64dbd9a95040a4ccaf7ca444d491561c3159c4da92fc5a82d35df29c5eae61b1e83b85ea51594438c8a4a26e89103290ae716642aaf68373c1e679f4c57e125335f7741baaf6d27a4cc7a86459fb4c05be93db84874eebfd5b42e8a685c280e9d0832ebf87e7ed53c625d23b055940360e6a058cb67bfbb10f774ee2794b9936dd2ee4694932215007c63036c921c4882a353b7a0f7c366eefbc11164c5166db2fdf05b0269a99e7175caa34341d091a6afcbb1c95ff4a27dd19a712c9f20496f30609024639d42f46e34438e74ff89cf177f4539c9c91d1576a82b670dae78c4443e25dc8e8e56be488489155a02826f02f37339d3e1d81879a1ac4c8c922648d729bc12b173c606b7f4cb6412b854ff79d3b8ccc8dde6b540e67a1891d730cb2b05607d29d3cd141fcfa0c63db447fc6da5339915068ef9867b213d229f4cbcd4d2d0458d62e1c2135d238f2e260ddab4ad58c50e04ac675aceb852b16d2cf40e85670e7e597a0e5ad0d65a5f4086ed178f348e5529dd3ddba0150bf98946041ace72f0080eebb9ed0f53901f964237d4b58bfbaec254b3cc0ba1709d3414e2a55ec057441633eeead11e394ed0435b1d9714ec15775208ec2e22b436833f1651dd555c3544c8f3b579ae9cd484307a636b44a23f99d63575949906b0189be45f3734142e2b93e61718cd844bdbb570dedc3d3d932860f4dae7532852b3032ae82c53cde1a4b998c3c49dd41f4a26d1d19f61bc14b28462b8c4e5cb502e8ea78aaecdd8647ec40528c252ca98d876b6796b74feda820c14e4e527986725a8fb6a290e062e9b7b881b46979bd9523bc43aaa19c239feafdc0f9ac4eedcf5fb18ba9dfde3a79011e94e5a1f306f45f7d319f5c155efa4c4fe44d76820f8989d1f4f9bd278568e0180dd74bafe7ee00c72cc6a02c7e86afaab7c5dbdd89742d1cc9dc1026cf1a537844760cf5f139402ffbb284101c982e712585a5bf9c9a2aa8eb3c69ba78f48dd40fc4e326ae2386f7003297b769e7a910740ff006c2c3d7ef5233b1e31ff481de2d44df1bf4c7127a4d9976cfb6628a5a36569e33c123d769fade95626af89de329b4b9724c697f2acc770a31ca5a5a43142b811a539859fa3e7d82f6d0f68474ffd24899e3bc7b79d7e4f09df219fd43ce06604c95decef2909a6d61ac1bbe5c11dbc6e799997c417a43dedfce617fc52c58b17ce5483bd48f16c1de9a4030966ec33613ba84240840df115050e0125288f3ab2ff357bfad1e0e15a85a6c1098fa7b20fa214ff1d5311530ca95193906ec765ae9096f42fb53dab11c5e8b90e7e2521ad36746d6d4f16d7e06d60b18e78e4937890a54b66369f28fcf73c569586887e7577bd21993cc39b0aefaca3ba9421c8f1d43f2a2390cb99cf605dd9ec553715b62fab749252a010b553df5490216dfd434a5688f21b1e79fafaafd255d6a7c3f3bfa1e8bcf39452e19365ab6adc85af573c8228d986878fb6cb9e1c0e56693ee382bf5906b8865d57c268d99e0611a9c62ffa882a0df1993562e0507b74023441cc09bfe478d38f40cfd8e96000a0f24fa81d717f8d3249c023211cd24ba052ab23156e6a4360179e481deba783cbf5a15155daa6a1687126ba956854ccdf58c6331ffe93a50ac4cacc67c68e524989aaa9073d313ed8cb590d32ac05df5aa5e3f781843215920b24be9ddf881eca5cf9380ebbe582039c8f9ba4fb501581152c57f0f119191855728989207b2c6eb55b0a1974b69ce329c947af40d81d4ad14e893cbafb878bdd6d8e69f55e560c9ddf8bf1d1de0bdc4b714144f7b012723dd1c57f9b164b6505c7df30f3549bf16dab3db87521ded8548d861eb8335a45c83c1505f329e2b6c1e449f25d26381d2df38bb907426c525260011de75558ce242fb184bdb594f3883b564e569916295d20a4f6ef54fd157976de817e6066d9545603807391a3a2cdc4a08cb0e2858864d6ad53ac385ac74a85b3c89d726d5b2baedef7918564a5ccb1ea97fd3fdccf1388b73b67a3576a6835a69470d33d699ba9a0c81229188b9bcea5aef59372036608c6caf5859b6e2e771e6ed0bcfae5e13ff2a65e86f51f6936ef0824dce9445a301f6c59734378b322918923953ae89c7a7bbd78499397477404ee4271ccd57a88ed188dcb88cfc939414c2c67885e5a04e4d167b125fd84a5381000d330338133dcf917c897adb3508f3059d266ccec18b07965615120b17b769b45396a4120333dbf3845fbeadb36774f94602e93d8dcac4100069b5b3dd2b1884b93f539af2ed032e2f647eee6ddc52908dbd0c56675ecdb43d1b47895f01c9e665de43a63301bf2bdbfcfbd0e5eb33add98262392ae875b7a5e3a8114834d5b21eb469ca7367cef353034d51cf4916408aa1684646ffc240154e44a9ee431dc4c5101e118c94f44403d7f8e2471c77299228e99ca1f654e5fb47f906651fcb40e572ce695fa78403484f75572726163bf59901dbb09f4621d1d86fe36e4c3be8868377910be6f18287853d4f00a2a76cd0925d4c458df7e081c5500d66273e57d4ba36382ed65384356527a1a44ece6c8bc7e62bac348098350190d3df18b6465313f555528a664da6ee25b84bf0e876da91f61ce9b64e41b600fa0819aafa3bd9d533076ab9861b2c1fb8a39b5f3b2486893831f1cde5c55608ceab17760b9e94909536763bf6a22c869eb4fd3f6b810e408311ac6fd28e46c522e0a1efcf6418d219417a096e10e610dac9b1763309dfdb8330a031e875d4f79eb8db21ae8bcd8843c9fdbdce79e3b264296bfd8dce44f018805425e0cf0497826fdc80c22be45cdd0af301bf35f9aba90092a9a9c1966e74cf1827d862d3e0959da8097720bccf30738b2de97859e29d14a1a50bf0fe2ad8cfcf3828d8566a6e9dd6659ca1c6d95f3f71e7c18cad95b41c4cb66a1b7a9a57da23b734b0b9c5f569a81e22e9642383d9aa99f139c5cd16e0dca017ac43ae815c126526db1d1bca320effca56c1d061ba07191c199507b0c1cb455586bc0c96ff9c06b6288344cc908c1f540400fd87c2e1caca17db5e4920c1cc4aa5e34c169e33ca034a994b59d25d5fca44ed3f97327230a6e25d5aeec3dbb61a72321e65c35e43a6f7a60b3e8e0ba997f4c3a3f184ad49b432f9501021e77639f53153948f784596877a7a922be6b746d18f4893f1f5fa4e5837b0f2a1026e85fd7fa13eabaac74ac8f54c66834edf919d51c796cbcde169c37c408332b107a8881dd2a9c46e81bf5077cc5e18b237e4d2d45abb1bb03eaa4607fbd6ad28b86012646e993fc65b789d6b4427b966b1b7e460d21c6940c8784c8228b73d980b781b7b14783411f4e1eff0a200fa83a03864182c9bc818ee71ddee9783417844d8209bdb3187afd5b2fda9f30c4b4b3566805eed25ba8161ce62822f9739c66fd2c5574fc0ab06ecebfdb5d5f9117dcb86e5bd9432b16e16d94f6c01bffc14d114eb18b950865ad5a85082f20578689eac159ae099d574cea3443ad51e0519d8e7613054a0559a2f4f235cf47ab8f5b4ebfd93589fd747671d99a53ab290176ac6a6c804934ae51d20619a834da9428e34bba17d2d7dc1a447a530e2b1297eff80ac0754a6a042d90c02a2e04e34277a43927ad71cb5b608a2d04a6ddbe90b7ddf20d94eeaa02f9748168f31bf4bfc12d91c27244606d10847326aba67b1156eb3ceccbdbf70e3a0e9095ed7e1e23bda53eddfa3f36406fabe9cb9414c2c0ce46ff3a1a6cd870c5d89f4d45d23bace0d919fb6ccfdb9cbb98850855f09a13da29af201bdb9f48e404712750f1ef59ff556a8ff5062953dfa581a5efba780caf4fb1287568f12eaaedd9e0c24b1ea43200b183c82b38204b883ae6f2f5725f6cfad12e55c719007784ef1576c3309b71720fc62e434978aa4534374ae2a8f48fb9ef350dae88dc35b9dbcb16ef672d8e4d2d1306fc88960ae37eb9a5fcfd7c0d5fec56a5f8b0c5d8a3b868e85cf5b7c70a3f2083554b90bbf6031919fc79286f5c5cd0547edc05e1fd8c8e002ef6a2f247a58481a81bb5334a2ac5219c79080d92333cca45f6f8901a07bea4330e823cff11b3d5614b4540e464a7871734c12566c832fd27e9a1739dbfb57c2b2e3423debf8d8683ed64541ee3c5de1802b3d34c0b4a191b65fbd29dd684e14b86d798c557730531731ed0fcd2a66e6b5428be3cf915a47c2e2ad9c35fd41f406e5f4f4442c7304940a79068c5064fe122190cd7d839b8299ea5381f11753867e9cdf482e58e625d9d84ae6654f38cfcd9c4b16e897cf08143f4694a18477f2bc0bf4bf04e91192cd2253504ee0806cccb8fe956147e62cd81032f3387bf798b129396f5a4bec083d0c9c1d4776d6757fc9e00fd01983e19b27bdccdc9bcd0ca9e24b46e0fe229e03069c005ab7c24fca3ac7c20d06c62e466b20911d663e6f3ecf2ffc340fa4da99c0393b08df9da152016ee2b40d61cf3d80820b4ac79ae71785d6be09fdec27e90f660babcbe8916f16e176ef10313fc5e7b86b72f31b981e81ed7f92495d56b9069f6d104625e39141d0e3d99ab46a0f73a665553530880817f954e48ce1d014fada544d674172905509d6fadda5a90729f219d1513ddbf947c0211ca4015d5fded1ac9996adc80475636fe3329fa7d81e4564af027a9d4bbe817577e676f633a3bbac1e1d7a9b31291e19cd7e738f73620ea386973302f67017d00a73895e536986b4779d936309683c67c6a6e2999e1b7937a68e970bc620091e0f547ccf37a822a8934aecb02606e72ff6eb824a2ddbbc151c7e4e184e5ad0163a753dce2f8264fa93a763689b0cffb73ac9928d21714525eaeea18d643aea6cce2bed0465d130fce2b4ae17640eb2f8ed731288d78e9bdff8757a443d7a8a5651426d8bd6b87a4c2fd529023c40942bd453270bc7b90507e6592230a44d97524218fe239bf1d97474a5858ad7f7dc564afceb15c31736db4167b8418b3aaa6ae4599c731c5383afbf4625925ee4cd2f576f53c208c5f489f91447d8be6772cfa35a4e9286cfedede1b8492806917122cf6ef1d25ad7d024b1b45d020c4c713675f58482d1c49d4b50ee3480fac51d2a635f781a7e0730fefff94481ea37cad357cda2455cc304aa7ecfccb4b48de9981471df7ffa38a2912c8765f70d8582428a6962dbf8bdf4de12e713da5f918692a8a47188e7df49bf7f5b26a71b8d34e29360202324095abe5e0e863858470b677496a318114751c16662428b7eed947416fbfd08f1cc761f6d11199ef24ada8e4118b74f5d27f1c3f301b52b9cea7ebf3e654bc199354149f44e125410a7e02251638fc31137f155f0aa16b027c9eb58b5aaa7a8fcabe1f7569c557325c486123cd061717b1322225c747a59056594f8d17d9cbf30aefa2af54e1a6581d08fe126e06cc0385e5f6262e6d8828c44e20ecbe33d06730114541ff1fbbbb49d5ed8ee45e8a64b337ebb01733005051b24e6039600c00633cff1f386567657da767f36d107975828b1d8ef421d4b6021bee044562f25d5d5d32ca836632d166edf7d647b720f82f8758a0f6849f85b60b719996c1ed717278200725057df156a6ce02f3bbf6cbbcc121b396e33c42a622184cdae7327edeefce3ee360efa7eb75ab5188a365c8c851ece58c01b93cba0d66765ceb627180ccfccc3bfcec59b7c2228040ea9f64a40fe70dd89182bea6dab1896d95323de784256bf0d195ba34cc11108e984b998a65d48b94e225de6525baf8dff7c5667fbffef51402f749de0e6a04ced33560d27fa2a8ed15c8fb3967a82bb312b7e05dbc0e340a35b21617d277e1547cc9bf909dbf468e7ea373813c898d4268b2ffac2248d4cef573dcd3e2cde7d147599cd75807ad622490fa356b08265112890ac88daf38c7ea50513e06211f61c3b9cb2a0dce7913a1410c0d59eb29a621a1cdff40691075f8b12917196faa9f353067756d6a7cb90f1631227cee9b26eaf04b7cd79c0fd8093ecace51c02b36ded52a361ed455ebfa8d1629ae0391464f2ed8b78847805eb05226a111e9adfb2e03826e3a9319107f779ca1642683f4dcdffc09fa1d2488a00726a453e0b9cd086fff06d24a1c4d348ca4195c84e803f5424074b3d26136f268e134070bb919ad33cfbe86210ec3d85ca1133aac7235ebcf03d9946a473ba8918111306445c92b6628309c2a5c1e069ba8c0cb50c2e18b00d153b649a6309b1d41c8dde9f59460cd1298f6a0da9567e09f3417bc36d29802687c6847c170fe6b26c6d34699be40137b8a660a2be7cb3574dc05955974c7868f0e105ae5b5049f5b51113f5e95613beca204ffb0866f6e8e9a1ada218c255b9dd9676b2e61fef0731ad3524b2825a666d917686531dad2f168d626ddb894d7b0626c294568a5eee401d6186156281f41cd198558afdffcdb8061442f1fad8d364ecf7b07efab0d24a6eaed40adef41785786f0709753c905750f42e4fe7cb9bfa367c75dd7254ccdae8f262a4eb61395c02b6b48ae34c0225facc6ec14c20838b8ef7d1d070924894b19cac2c399f9992891f56c1b622716d6ddbaf0c814a1dc06fa41574d7a3774e46b20e2b88e006c63b81360e697ad8c1f0b7c0b1cec80a04c39bdeca84c33feefd39eb9103898497533782bab207b0173c122809b120fff0239ce14e7b6c554c77a37f19f4bfeb16a6b3b02be75ee09d1a34fd462d836cf57d1ded19ba516494291996b0e4b7888862be1bfa8f82b3165e1d026492daeadc91715fc310ba33574a8d5d82bb778cdb28b8f2baf752bf17c399342a95adff33274aa692ba1a5c4dcd743921925d682230756b1f32c09e1b8a6161969dd6e2f69c9ff586a6fedb8e58e707b854cf6487dc6016df466dca498cb6a21055beb97cce44e7abe48d2d26a3ce90e4b3f0ec7e457671f7992bd2e83073da92fc4eb61d87ca0a36fe85ca0ee74ba550aa65063520e918cd9a249ec67966236af9ea4fb6c73b0a545ab4c4a0170fc60818540bf0a711fa19da0b51294aace197d1b61c2d533e912e60877c60fca535d6e80af5cc0bf7a06897b294681d515a72c30ac4b8b453e82e72f53abc039582deb33b001b82a471d6bcce6dad19eb926ff9f51f4e1751848b57935c2b8a8e7229993e2988ae67fb1bfc4fe6fc42ca68ab65c6539aeeb73ec27561b25340737a2c9782f833092371b2e3d091de8ad39fd05c75a9beebb0a5a1fb4452da9ef90910b132e8c71bf82ab509f61cc49c0c578c69d3e9571a246a761ce1bc4cb5306cb4a4a57230a5ca7a7498b7b4b4b29372d79e7262ea248be76a8d0abc0b6f3fd83260fb84cf23ad34b15e4aae3746c54e2e88f0cd3a8cf6a4a0798513fc58fb86473c7cbd312bd4b51d7d1197d3a1faf9e67816ff69b68578a2bb8d21f76698eeb556ea0ad84bebc1d1205fa2d9fcf9e83d9186e8b2e7f27f32a0ee6514f5a59ee6d5ec6d539de83b9cc58bb132226cceab7325fe0abeec3a03c4d237733b3c7aca1cf2bcaabf78c1712f733b9a87f1c0b12b730979ebab12392ca0e2bbaf2dea0e6a736fdd84330a6d4ed7072043df5dbdddcd1fff0e9d2e2c9216d8118303568826f95140d4d30b4b227897d0d55f651f68b604da4f7604141bb2f703a721c1209f7055d929d442c89944849cd775a29463db91e7e4982188dc52599a859dd5f6f274911469629d4017f9debc7a73ddcb1511797298c2d1ff964f438240f787853c342c8682d3c8a2b12ee596b3e5529b5ce58b20335bc79306eda05cfa92932b41c9d719d6377810b0e7b612c37bd4b3f39401aec7fdf652e5098875cdcc2694f30fd06318ac609dfcee5e812136d2d8ace635417338073a5e98a54e8d97b3c8d0c020c85e40441981498ab902d75fbc1f9dd2f5fdf55f56162b655bf80b9cad8f014a9eacc2e64abebf945126f77730af36f1e1849245c27eacd0f8aee2f2cbdcdbd0e37d155cf80216892100cea7ad1ed338f8dad1739b07b5bb7f12db5d6766473a7cd45ed49fcaaf53659443eafc7cea8a32692da6c3b6d9cf137f0694a55c006b811dbec8576828c2d44701fdac711b81214dc6376992e4702909bdc4f0ff358db81e6ff705e03d0ca65e6f64ae48f78f426106a82f9dc86530f49fb900947e080e2e75018267fe9f7c8677d696325356606cce0d029c67a3a9db097567b6a29f28bcbf43b00522bb09555690afc07d5df23162c4f2949124f1144cf4770b985db4a0bb229fc136a5ee306dbd76c9cd648d58c48000e0037b91690486536868d9b108367670393228ce3a2daa8569d33e2ed1699c246727191ac6400254be2893a2c4010e77249e46ceb974d3506596600fddf6316041780fe7582af4c8c7e9a71bf142a9253fa2bced3c50720694d9c929fc754c4191bc6d01bd58e580047f766330344f562123acf97ecc8e969164222220ac7f30e39dd503bdb78ce9db560a113b98825aa82bfeea5f953763bd11ba85fb54e80f993f92dc158b11291a4a1f853b9136ed2fa8f6d1a29fa0cdf7ee47cf7f87746ee07eba56501a08875d9d4bfaee639276f652fabcdcccbe3a2df4e9df4742331339951746c9e377ad049c76ccad9297d997022433485c378eda4669d14bfa199df864359a44f0b5778567b9f4a492998b12232ce81d6555cbe519c252d0cc2e7e4eb6b0a4543c662944e750266776425f8b024269ea5d5efdefd2ad1510ff8d3f805000c2b6219dda7345f9fe5e69d87af412022e224dfc9beadecc957a589921e1bf09435941ba27fed1ffaa8b74a7819f071a9a846914fde4b442b1aba0da3ec17bcee74a37fdc0295640db1001e12a1cb896100cd51a8f7b21e340bc621118c0e9615016d5441ac4b937c4aa0009d751c86ede70a8106f5782002a48768cbe18dc1fdb95c9a35bf9a2e96550f29131e19c16bf8cde46ee84e67bddd021b5af22f23449c81aa241dcbc8c11b59a1a11d55c9ddf74842433acc58a56d1d380d14018e75afc986c4bd6d98e24e470e51633d7c30243f1916ecdd49fca8bf99311ec3c5aaf467ba23dd2c770e7802e465ccb887ae0a99ba36f8171b230f512f7db84e4f04d8fc84e816e9e93e4ddf7e6bd2269ff218a868208cfa73f61c9e325eb2601bae09a643148ac388c604ebea9ba346d8f05fc19eb7f3be56f3ae6044ea1a7969815a08bb00cf67e1cd405bcf6debb2059828b9917ceb42d584fb00fa7847b8b9cd1cf5bf7a38aafc6b46a926cad843475c6c332983a2d12025a9ed6dd70b0e75511f796fe3e72829ed22514ad048150108dee19ab1cd11bcffada14859fd8cb025e33668e1bc99e2ff40b837ed31f4b702068c7c809a2232b344cf92bcdf55eae3f0816043e82498a51335535e4914d185eb280ca75bb645aac70d2fc239759521d8e0f5b17cdc4d7282578977298c747def8d06ed464eb6569dffa5f62305acb6879f51e8506fae0089b255e7c9f600fe95d589253e0c6eee33af06cd3f5a8a776f9ea75526f2911964f206a9050e936709337f308e0b249b6df119bacadc61a30422951571fbc517005c0a8730ae67af56f67ce60b20db9fbaccd183fae246082d0928fe91405b3302ad136b39f9f1aeef71e1a8e7f8f75db6dc793118b1886678f92406df8e5d6ad37b670b4a4cbad4d78bee5b1712777f387ecee7a2e6fcebeb7ab80101a9c2798e2346042f6e30738e1d975e6b75434f40cab98c5caec739f175541e3628169c4de4149690edde436c4f1e28631a4a514f5a4636c8ed49f725a16e268d191594f24a433819218e44410093e993c91443ae12d22e3965a84b81dd7d4e6a1155426b0d383fee6d86f9ec201ac16f8d8bc02b24a05d8edb010823afe78abc7f8b6049ccd2936ce4e2d58ace20d497a4e8de3398f404ca5ee233b1bb59ebec565982bee4e8ac19fe5820b2ea452b50dfcca0d29abbb716ec31aa2e4eb901a3666ddb94da47444a388328d5351c29c5f1a56245f90f386c9ca88da20167dc664f5a753fede675c10744683e0e8ed1c2c51380bb471a30c9316c39d13cc20fde72ef3b03d808e96e7abef26d50050962688ff99826f307bccd3ed127dbc28d5423499648057a548769320933566aaff15b0fe191b3ec98499e92cfcdea8e7b5a84e81d7e624e1d784724f99070844bbab34e172906fbe9c503716da986bce39ddf96f6edef5b54aa26e7d067ce37ac092b4f42b963113444045efe45eb20a4e0691a3325c10aef33aaa655ddb160161a5e404cf5a8eec03cf193eea0155a17896fdfa823f85a6217dffd315e86a237a12418d6753980d68d7d648bb127bcbe1e38484b2c3f9c217b770f17cd42b497ffaa86966648ca4f30a52be8632c6b5b9da437d72e5b47bf2407b80d0f25a404811f6e368ee6483de862aada94e7c85d1bec5614268dd4df09105bba3b2091d02a461e8ebc5f3da2c73bd0ca83a1238ef22ae0fae7e10949773ad9f4c9d6a2cb98c30eed30599691284f46a9540cfe40f3487664fab040f74c27920dff60de989cd0e79f4a65d2ff7248a583108a6088556af5a353f3805d1cfd091ff2a2d4c6b09c6d7676fbe8daf81d9604e958427561e240425a29551fda1c940d712a02a32395c96508d8786a29e1350d3e97f94814b95cf653440fe4388c17f8b990d4e7e59edfb0bd37483ac74883a79d6c563f574ba5b198db040390ed05435a86f76c4ffa3a39f4ba5d747d92bf8704b054e5b333eb9e71b85ff9dd41b9c423cf0f3f212dc0a50ed0db1ad7bebce6ad70f82b2b2dbef0b413e57872d8fca31f03e66ad335be3fb5e01e08f57cc796c7ffdd324fff40ee1c259ddb4be76b529004f90b7af4ae37d970fa442b852b319bf05787b8391ca2a9381f6b11b8becf92ae14ac346cd50c3376074586db17b222a77926cb612951d0c28038301d3d2a770b394275312be65a88266b4534370a28203547760162e77561863157cd107fc025f4539e8a0f9d558bc9d1fa598a28cc63c3b951f8c2218665c5fd8c36cb48183f9c3144666eb14c35f136d6a615c97ef0cce4ed4371d6bff3c47adc3491569ecd13766f678023723eeb29b7a7aaf8b53ec621ffea4918cf60b443ac4dce2cd67ceea53280e6daf25dab474171aafca358cbb6de615b187894315f8760b10cf4f00064c08bb68ce2b2e8502da95a547b466aedd129825e8e9994a7c7e74716e3775f0519c5889e1b623f13590e00520ad5f9abf245ae2ffb80f1582529c8aa474a1c9d2d64acc0358a8a13ec12e2208303e0687663160676dd376b7f4e733500e3a012a65f1a0b308d85888dbfc469657e4f4f6960ab241819ce5f00b8042a300c956092c0eb0ad898e7881ba4740310d6ebe5711ca1bceef1ba1fb50012edff6bfc6c27b3149b61a290ff1ec4b8ea854a67a542249d8e24f7e5bded473effa0927f1696f29af5c08dc5009218f35927605ea45f39b549c8ab94a1759c092bc1db9df5e1876a9bb3eaa427262c8fac575458d4c79e39ba7baec2e4d82055fa9a76238fa57bb78ae5090b0c1db014987b092f6a7943b2a90650899a37a7eb1b2b90bef94cc4aec6105082ce49b1a42a35d0a0195b5c25a13f60ab3c4416a41e76ef25e9fbf04f9ad5f503bc195ef0a1c4b30f010f225ac7bc71055ebfbb1dcb2c7690b29c4fa7f3b2400668d787f6eeaa036a5be4e333542da7c01df323a0f0ee97cc8d34e6f8c18be618549505b481f8c5e774858f28b9ccbeee183d6b838bfbf0c11d6e3966b8a9a0e1df9cfc841870868603970760c3aa159accc6e209d6223af69e82d106ad20b719e5414f911ea6c816325ddd69fdad475eeb65ccfa4361e1f731ef77239ff9b67ccb7755426bdee673026b4cecbb1f655bc4e4c94f7ba6d609be82e660889f43d01a3e0cfb7dcaed73ea68d28f2a1f70bb12f2ae1b0f2e1dd5920381ac44aab136c90b59bd07dc5d90a4b3641cde487e88e6220aec1e598c0dcaf8d2d591f7b0b49254c674e1c2448b9db108a95ff984aa8142523dee4d4578a054777fea50bc6210e1c77459b7a86bf26929f2c3de624f72da90a32d36727fd785e2d68ad02841df4bc78be311c8c4b9f2edd4ef6763ac7584158660afa25c7a638dee50e341f4867503c19a5d990e42c04cc1af87d62c2c50b596865efd400ccfcefdddf715f8666faf850007aa6405b71242a1a5d5deafb6e80dd511b2882bab321a51db46acfceed205be826068aec998bbf60307395e3c0e25d30df7c53903fb1ca8d8c50e0992893b5d5652dc31f5f80b61d9769c976bb02ef07c41d84e9f225e7b72278fb06344d17baf658997db21acaf9ec0f4764f6ee2bd6afb5ca3c78e2b8eed0da1ad58d3bc508fd4c41e21faa62b6de878bac27b82fb8d72342bced589c6479bea8d2e6fc1d82bab62370c6e78dbe009b0659158c47a205b69b8512d68007a62bf8755d38088cad60c8f3170e8138695d68e726105502a123786499a0c5ee0f66c8d9963ec2c382dc5dbf4bcb46a6790dc2c37f178c2f050a0f8447ba93c0179c693ae685dfaf09f3cb63cb339ed0d05173eb9ac74e02058d5950d66460bc0bb157dc68d72ee760601f103a8e0ffc15fd24d8eef07b2dd8adf41df3c42a87bc0ecfe08ab2ffff8955995c1c4ba5b00e13cbbaaff579e15a945200768075e0df09c508d66600ebcacdc5433d8cc21c72caa12b799d44096ed35e83718c0aa5e34e9aca173a59782b12ec40518965b7fef8d5a34434ada186b18d8e010dd91ffcf7b8c2285f214a7a8ec55b2ade94f08ea0ae6b043e87efa32c7f626eef12c275d56878ac4c20ed6bed0b5105862e4e8c644ef5a7947eaad1948f65d4ad7dd9a753e48293bebcc45f7c68c23e046e85f597d02dc885ede2863fc1c6e91063e367c0a1a233bb76c3ca2754c394565f00ad60e1ae2db0d30ccade0775b91a1f08f0fed63c359505ed2a67a42e9c9b373591702a8f3b899f45db6ae95e5726272b182c81b4282092f4595a5f37c5a6ba9e33bc7fcbf80d201ca0dd4e90c927b12bd905a70208e507f29e5b9a9528df242a43417a7f0e15d7c365aef7fb4ffb59f3ac3c188e0b14c00e9121b25f7ffeafb9e55405300e7da8b060649e1a2a19eb5f2805c04630413d81a6d27f8344841cc46bedc244cca67498bc1865b8a13676e6a945f1a2bf4c8dd3adae87da8b2ed75602adee00a125a77c90ca6868ce78cdd8d0dc31cc9b6b436b6f765b8fa67df507567ce2b2b5579f10a4d38230c824a38c9adb28b588844c4dc0d6462dd018cb6666f22f29439aeaa8460df9a9ed037ccea83fcd6b3eba1bada87f1a2effdff5fb68503693b6c3dfd3534e1dbec436db4e77af655259447c486b6167ea182cd041361ed526f25872ef7b13c7090f848222b16abc321faea4c96a600e6a9ec8ba084671d2e5dd40d1ac3988cfaedf8db9e4c9bf6632b55fd376d8cd90694c5c26650b68cac7d9887fd25fb4d168644c13662263de4ae24017a5cb29a6f0d7dc5bde02ab9ea6a1fac446120790c5441aad117cbedded3414e96e499224627548cc8a8f1525412bff1b7017b641d2fbe70dffeb77beb6633652183c1cb78eb460e258ce9687dca88f42d1cc8b08174c46d1eb5a8491a6f7e8091391e2ee3af264e38b2b47a69b66fa78ff9bf6623502db9f3db8966e9eae3b9cd32d55dc1b6d171ff3c5eb4c73c33f9e38bf4917c638120f1dfddb4a984540175066c50a6ccf4a17627b284208d07321d8d7b24a8a5467a19cb042f204b8d3b407a81d7454a74986b2a43499e0a6e3eedb1a3685c4ca0358b97a01661b3aa76ad0a6455f11f1d4e7f12e291658ddf8219edf04536cd05d700d39d2da65d21f2d475d9c3ef57ae41886cd2b3cbe0956d2259ee01c76955ffb1e3bf7cb69263ffb53b42a35f76a09030f912a8dd97bc5ee28291c585d59b5fa0b95f6614030f60836831fdf5d55ed0d43745fc1511639879aac602ab42e8283dabc83e6353bd392c02bd4a385207e69388cff95c80604891a779a9afef3adcd43e47a96b752fe070f4ca6ff90db131960d864f1aae4192d898347588efe82a1fb4f1d9c75113978dea0b4186b7541cc92d49a087b7f81112698962afb907311179b5521245c158087aef40356a520d2a5f6ef6d1e13cc54cf2bddecf7b378f42d910395039e634f6319fec712b187e6b803acecee739bbbaf26ebb084f3154d10ebccd169885f26b854b00c3340ae5d8add5a87d3bf764bbc6e1931408955c3d462c70c62301c8f2ca90d543a0b5edb58d35f1891f051829afa56b9e3b21941ae25586b354b140d3409b04ef27fb0ff7b95f738951fa33b824c2ce9e545756b567bfe6c837c3ac75f6c33d331fb91064037fb00c3ddb6e17eee6a16bb6821087756ac364aabc9b8b03255d42baf16ea51f522635fcd30ecd84da763730be8e45a4a899a871f0f7d0a0087f7060eb9499f8fe4b2d90398d8e068e8efa9f970f1705570179ab99d60152935741b1e980f6604546607aee8fe96a3f23f4c0ccca9fdd31b26dfaeaacdf80bc4c143789ee1f6223c72160f8d1b5ef403f0c4b652c7067ccd9103bdc865727851c30223f9eaad02f0c4182c6fb95f05ff201a124d57e0fbf93b38ff95a04627af0eaf28a406f9f9c67548b385777aa9d455e6214372942c3a7270062d43aeefbf061363055885b42de5f3db71c36df9101db9f0da3e1cd8f1a24610e18f2a6f959803981e66d798c13f4bd3713c51655b7efb74bdd7a4c85fc79362f239dd90894ebcc7907ed55b86942d8bc37e90c7885d98cff1cb15378dd737c237aab487fec6726c8c5537c14f4d4e7a733a3d1e5b4ecf35b426ed33fa6d257d2ef1d715f55c744fdc9d9326c873c38f9578aa8a975d6df21fe9601be78acd6702fcecbb3a94dc88dfffd90898070af141db69b77f90011299fa99e33bc578c3990b97aaf907c9a0a1cdaad8cf63dbb5c24d4ed8e03f06868563b4db98583a315c7dab71b0a04d40429e1249e33e377f3af9c22be215a698b1fdad7b1257405201ad591ed55639ff48d444bf23ac0147d07e718b3aae00794544b85ac9566a51dc03645197bcee8627d0cbb7726af5d8e2cbc565939552f869926d9ed9df9dc4e65f8faeba837a6371f516a2427a0860a479931dcee401173bc013e02a87dbdf8fa2c693ad1f709c52d52f0b98efdf1b94d8bef8c42ff15d44e8d73e9f0e92d0171932b5adf5d5e495c9af8168026cc71565ec16b312f42330720afd69189436dca57356784f579cb1fd105a8ef69eb9db8b88d7b4ad5738040134201f4873fef230c033027ca1b6559ad2e3cd0f6dc35e88683afa4a2d7a2456ce2d46a1194e1c3bcd41506e38619d2d1a1b8fdae0ee6177b67a8dbaff4b714809d9a03937ec7c6629775e4fc5d1a0ad6901a248bd1dacf8e52c92ad7363014eab79b23a9be881ab2a84104e89248fdf97cb8c365082cc893a436d063b82c78cf15fa0a38a40459471542164bd52add9063ecc75fc46843a2d51f53ae385a8020156f6d30389c3282ecfe15ff3d4b1b9d619f</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Plz enter the password.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Localization Distillation</title>
    <link href="/2022/10/10/AI-Learning/20221011-Localization%20Distillation/"/>
    <url>/2022/10/10/AI-Learning/20221011-Localization%20Distillation/</url>
    
    <content type="html"><![CDATA[<h1 id="localization-distillation-for-dense-object-detection"><a class="markdownIt-Anchor" href="#localization-distillation-for-dense-object-detection"></a> Localization Distillation for Dense Object Detection</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><p><strong>论文题目</strong> ：Localization Distillation for Dense Object Detection</p><p><strong>论文地址</strong> ：<a href="https://arxiv.org/pdf/2102.12252.pdf">https://arxiv.org/pdf/2102.12252.pdf</a></p><p><strong>论文出处</strong> ：2022’CVPR</p><p><strong>代码实现</strong> ：<a href="https://github.com/HikariTJU/LD">https://github.com/HikariTJU/LD</a></p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><p>把用于分类的KD（Knowledge Distillation），用于回归BBox中，形成了LD（Localization Distillation）。</p><p>做法：先把bbox的4个logits输出值，离散化成4n个logits输出值，之后与分类KD几乎一致。</p><h2 id="detail"><a class="markdownIt-Anchor" href="#detail"></a> Detail</h2><h3 id="logits-distillation"><a class="markdownIt-Anchor" href="#logits-distillation"></a> Logits Distillation</h3><p><strong>参考文献</strong>⏬</p><p>现在的深度学习模型越来越大，尤其是近年Transformer比较火，而各种基于的Transformer的模型参数普遍较多，在这种情况下就需要找到有效的模型压缩的方法。知识蒸馏就又回归到了研究者的视野之中。</p><p>KD最早就是专门为图像分类而设计的：</p><p><strong>核心思想</strong>：就是用一个已训练的复杂模型（Teacher，黑盒）输出的知识，去指导一个小模型（Student）训练学习。</p><p><img src="/img/article/2022/10/10/2.png" alt="" /></p><h4 id="知识soft-targets和hard-targets"><a class="markdownIt-Anchor" href="#知识soft-targets和hard-targets"></a> 知识：soft targets和hard targets</h4><p>分类采用的是one-hot编码：</p><p><strong>hard targets</strong>:  Ground truth   &lt;=&gt;    <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0, 0, 1, 0, 0, 0]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mclose">]</span></span></span></span>                      极大似然</p><p><strong>soft targets</strong>： Softmax层输出 &lt;=&gt;<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mn>0.01</mn><mo separator="true">,</mo><mn>0.03</mn><mo separator="true">,</mo><mn>0.91</mn><mo separator="true">,</mo><mn>0.01</mn><mo separator="true">,</mo><mn>0.02</mn><mo separator="true">,</mo><mn>0.01</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0.01,0.03,0.91,0.01,0.02,0.01]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">9</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">1</span><span class="mclose">]</span></span></span></span>  概论分布</p><blockquote><p>softmax层的输出，除了正例之外，<strong>负标签也带有大量的信息</strong>，比如某些负标签对应的概率远远大于其他负标签。而在传统的训练过程(hard target)中，所有负标签都被统一对待。</p><p><img src="/img/article/2022/10/10/3.png" alt="" /></p></blockquote><h4 id="蒸馏温度t"><a class="markdownIt-Anchor" href="#蒸馏温度t"></a> 蒸馏：温度T</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>q</mi><mi>i</mi><mn>1</mn></msubsup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><msub><mi>z</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><msubsup><mo>∑</mo><mi>k</mi><mi>N</mi></msubsup><mo stretchy="false">(</mo><msub><mi>z</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">q_{i}^{1} = \frac{exp(z_i)}{\sum_{k}^{N}(z_k)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.072772em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.664672em;vertical-align:-0.654672em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.570335em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8852357142857143em;"><span style="top:-2.1785614285714283em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-2.8971428571428572em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32143857142857146em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.04398em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.04398em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.654672em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>但是原始softmax函数的负标签概率都接近0，对损失函数的贡献非常小。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>q</mi><mi>i</mi><mi>T</mi></msubsup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><msub><mi>z</mi><mi>i</mi></msub><mi mathvariant="normal">/</mi><mi>T</mi><mo stretchy="false">)</mo></mrow><mrow><msubsup><mo>∑</mo><mi>k</mi><mi>N</mi></msubsup><mo stretchy="false">(</mo><msub><mi>z</mi><mi>k</mi></msub><mi mathvariant="normal">/</mi><mi>T</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">q_{i}^{T} = \frac{exp(z_i/T)}{\sum_{k}^{N}(z_k/T)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0999949999999998em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-2.441336em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.664672em;vertical-align:-0.654672em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.570335em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8852357142857143em;"><span style="top:-2.1785614285714283em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-2.8971428571428572em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32143857142857146em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.04398em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.04398em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.654672em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>当T=1时，就是原始softmax函数，T越高，标签越平滑，负标签携带的信息会被相对地放大</p><blockquote><p>T = 100，标签更平滑</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mn>0.01</mn><mo separator="true">,</mo><mn>0.03</mn><mo separator="true">,</mo><mn>0.91</mn><mo separator="true">,</mo><mn>0.01</mn><mo separator="true">,</mo><mn>0.02</mn><mo separator="true">,</mo><mn>0.01</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0.01,0.03,0.91,0.01,0.02,0.01]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">9</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">1</span><span class="mclose">]</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mn>0.0001</mn><mo separator="true">,</mo><mn>0.0003</mn><mo separator="true">,</mo><mn>0.0091</mn><mo separator="true">,</mo><mn>0.0001</mn><mo separator="true">,</mo><mn>0.0001</mn><mo separator="true">,</mo><mn>0.0001</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0.0001,0.0003,0.0091,0.0001,0.0001,0.0001]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">0</span><span class="mord">9</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mclose">]</span></span></span></span></p></blockquote><h4 id="distill-loss"><a class="markdownIt-Anchor" href="#distill-loss"></a> distill loss</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mrow><mi>K</mi><mi>D</mi></mrow></msub><mo>=</mo><mi>α</mi><msub><mi>L</mi><mrow><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi></mrow></msub><mo>+</mo><mi>β</mi><msub><mi>L</mi><mrow><mi>h</mi><mi>a</mi><mi>r</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{KD} = \alpha L_{soft} + \beta L_{hard}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>在温度T的条件下，student的softmax输出和teacher输出的soft target的cross entropy就是<strong>Loss函数的第一部分</strong></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mrow><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi></mrow></msub><mo>=</mo><mo>−</mo><munderover><mo>∑</mo><mi>j</mi><mi>N</mi></munderover><msubsup><mi>p</mi><mi>j</mi><mi>T</mi></msubsup><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><msubsup><mi>q</mi><mi>j</mi><mi>T</mi></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L_{soft} = -\sum_{j}^{N}p_{j}^{T}log(q_{j}^{T})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.2421130000000007em;vertical-align:-1.4137769999999998em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4137769999999998em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.891331em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.383108em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.891331em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.383108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>p</mi><mi>i</mi><mi>T</mi></msubsup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><msub><mi>v</mi><mi>i</mi></msub><mi mathvariant="normal">/</mi><mi>T</mi><mo stretchy="false">)</mo></mrow><mrow><msubsup><mo>∑</mo><mi>k</mi><mi>N</mi></msubsup><mo stretchy="false">(</mo><msub><mi>v</mi><mi>k</mi></msub><mi mathvariant="normal">/</mi><mi>T</mi><mo stretchy="false">)</mo></mrow></mfrac><mo separator="true">,</mo><msubsup><mi>q</mi><mi>i</mi><mi>T</mi></msubsup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><msub><mi>z</mi><mi>i</mi></msub><mi mathvariant="normal">/</mi><mi>T</mi><mo stretchy="false">)</mo></mrow><mrow><msubsup><mo>∑</mo><mi>k</mi><mi>N</mi></msubsup><mo stretchy="false">(</mo><msub><mi>z</mi><mi>k</mi></msub><mi mathvariant="normal">/</mi><mi>T</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">p_{i}^{T} = \frac{exp(v_i/T)}{\sum_{k}^{N}(v_k/T)},q_{i}^{T} = \frac{exp(z_i/T)}{\sum_{k}^{N}(z_k/T)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0999949999999998em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.664672em;vertical-align:-0.654672em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.570335em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8852357142857143em;"><span style="top:-2.1785614285714283em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-2.8971428571428572em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32143857142857146em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.654672em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-2.441336em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.664672em;vertical-align:-0.654672em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.570335em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8852357142857143em;"><span style="top:-2.1785614285714283em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-2.8971428571428572em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32143857142857146em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.04398em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.04398em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.654672em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>在温度T=1的条件下，student的softmax输出和ground truth的cross entropy就是<strong>Loss函数的第二部分</strong></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mrow><mi>h</mi><mi>a</mi><mi>r</mi><mi>d</mi></mrow></msub><mo>=</mo><mo>−</mo><munderover><mo>∑</mo><mi>j</mi><mi>N</mi></munderover><msub><mi>c</mi><mi>j</mi></msub><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><msubsup><mi>q</mi><mi>j</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L_{hard} = -\sum_{j}^{N}c_{j}log(q_{j}^{1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.2421130000000007em;vertical-align:-1.4137769999999998em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4137769999999998em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.383108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>q</mi><mi>i</mi><mn>1</mn></msubsup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><msub><mi>z</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><msubsup><mo>∑</mo><mi>k</mi><mi>N</mi></msubsup><mo stretchy="false">(</mo><msub><mi>z</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">q_{i}^{1} = \frac{exp(z_i)}{\sum_{k}^{N}(z_k)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.072772em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.664672em;vertical-align:-0.654672em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.570335em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8852357142857143em;"><span style="top:-2.1785614285714283em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-2.8971428571428572em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32143857142857146em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.04398em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.04398em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.654672em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><blockquote><p>上述公式中：</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>v</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">v_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ：Teacher模型中的logits(logits是softmax之前，网络中最后一个全连接层的输出)</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>z</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">z_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>： student模型中的logits</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>p</mi><mi>i</mi><mi>T</mi></msubsup></mrow><annotation encoding="application/x-tex">p_{i}^{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0999949999999998em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span>：Teacher模型在温度T下的softmax输出在第i类上的值</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>q</mi><mi>i</mi><mi>T</mi></msubsup></mrow><annotation encoding="application/x-tex">q_{i}^{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0999949999999998em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-2.441336em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span>：student模型在温度T下的softmax输出在第i类上的值</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>c</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">c_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>： ground truth在第i类上的值，正标签取1，负标签取0</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>： 总标签的数量</li></ul></blockquote><p>目前知识蒸馏主要分为了两个派系：logit蒸馏和feature蒸馏，上述是logit蒸馏</p><h3 id="localization-distillation"><a class="markdownIt-Anchor" href="#localization-distillation"></a> Localization Distillation</h3><p>基于此背景，再说说本文的LD，LD想解决的问题与GFL一样–由遮挡等因素带来的定位不确定性</p><p><img src="/img/article/2022/10/10/4.png" alt="" /></p><p>参考GFL，假设bbox的边e</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi><mo>=</mo><msubsup><mo>∫</mo><msub><mi>e</mi><mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub><msub><mi>e</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></msubsup><mi>x</mi><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi><mo separator="true">,</mo><mi>e</mi><mo>∈</mo><mi>e</mi><mi>d</mi><mi>g</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">e = \int_{e_{min}}^{e_{max}} xP(x)dx, e\in edge</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.426342em;vertical-align:-1.01205em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4142920000000003em;"><span style="top:-1.7880500000000004em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.8129000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.01205em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mord mathdefault">d</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">e</span></span></span></span></span></p><p>然后把range<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi><mo>∈</mo><mo stretchy="false">[</mo><msub><mi>e</mi><mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub><mo separator="true">,</mo><msub><mi>e</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">e\in[e_{min}, e_{max}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>离散化为集合<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">{</mo><msub><mi>e</mi><mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub><mo separator="true">,</mo><msub><mi>e</mi><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>e</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo>−</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>e</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo fence="true">}</mo></mrow><annotation encoding="application/x-tex">\left \{e_{min},e_{min+1},..e_{max-1},e_{max}  \right \}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">x</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">}</span></span></span></span></span>。</p><blockquote><p><strong>集合中的每个值可以看作一个类</strong>，一般取间隔为1。</p></blockquote><p>这样bbox的每条边都可以通过Softmax函数转为一个概率分布。</p><p>作者使用的是相对熵（KL-divergence）作为LD的概率：</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mrow><mi>L</mi><mi>D</mi></mrow></msub><mo>=</mo><msubsup><mo>∑</mo><mi>e</mi><mrow><mi>e</mi><mi>d</mi><mi>g</mi><mi>e</mi></mrow></msubsup><mi>l</mi><mi>o</mi><mi>g</mi><mfrac><msubsup><mi>q</mi><mi>j</mi><mi>T</mi></msubsup><msubsup><mi>p</mi><mi>j</mi><mi>T</mi></msubsup></mfrac></mrow><annotation encoding="application/x-tex">L_{LD} = \sum_{e}^{edge} log\frac{q_{j}^{T}}{p_{j}^{T}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">L</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.9666299999999999em;vertical-align:-0.7158449999999998em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9890079999999999em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span></span></span></span><span style="top:-3.2029000000000005em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.250785em;"><span style="top:-2.6069750000000003em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8328928571428571em;"><span style="top:-2.177714285714286em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-2.8448em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.46117142857142857em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.60742em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9190928571428572em;"><span style="top:-2.214em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.42488571428571426em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7158449999999998em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>p</mi><mi>i</mi><mi>T</mi></msubsup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><msub><mi>v</mi><mi>i</mi></msub><mi mathvariant="normal">/</mi><mi>T</mi><mo stretchy="false">)</mo></mrow><mrow><msubsup><mo>∑</mo><mi>e</mi><mrow><mi>e</mi><mi>d</mi><mi>g</mi><mi>e</mi></mrow></msubsup><mo stretchy="false">(</mo><msub><mi>v</mi><mi>e</mi></msub><mi mathvariant="normal">/</mi><mi>T</mi><mo stretchy="false">)</mo></mrow></mfrac><mo separator="true">,</mo><msubsup><mi>q</mi><mi>i</mi><mi>T</mi></msubsup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><msub><mi>z</mi><mi>i</mi></msub><mi mathvariant="normal">/</mi><mi>T</mi><mo stretchy="false">)</mo></mrow><mrow><msubsup><mo>∑</mo><mi>e</mi><mrow><mi>e</mi><mi>d</mi><mi>g</mi><mi>e</mi></mrow></msubsup><mo stretchy="false">(</mo><msub><mi>z</mi><mi>e</mi></msub><mi mathvariant="normal">/</mi><mi>T</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">p_{i}^{T} = \frac{exp(v_i/T)}{\sum_{e}^{edge}(v_e/T)},q_{i}^{T} = \frac{exp(z_i/T)}{\sum_{e}^{edge}(z_e/T)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0999949999999998em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.670227em;vertical-align:-0.6602269999999999em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.5647800000000003em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8931714285714285em;"><span style="top:-2.1785614285714283em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span></span></span></span><span style="top:-2.8971428571428572em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32143857142857146em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">e</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6602269999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-2.441336em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.670227em;vertical-align:-0.6602269999999999em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.5647800000000003em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8931714285714285em;"><span style="top:-2.1785614285714283em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span></span></span></span><span style="top:-2.8971428571428572em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.32143857142857146em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.04398em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">e</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight">p</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:-0.04398em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6602269999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，符号基本与上文对应。</p><p>也算是把KD和LD的任务统一了，统称为Logit Mimicking。</p><h3 id="others"><a class="markdownIt-Anchor" href="#others"></a> others</h3><p>后续作者结合了feature蒸馏只会传递混合知识的，划分了两个区域：</p><p><img src="/img/article/2022/10/10/5.png" alt="" /></p><ul><li>Main distillation Region（主蒸馏区域、红色）&lt;=&gt; 直接通过正标签的所在区域确定</li><li>Valuable Localization Region（有价值区域，蓝色） &lt;=&gt; 通过设置DIOU阈值，计算DIOU确定</li></ul><p>讨论了分别在Main,VLR区域中使用KD、LD的效果消融实验:</p><p><img src="/img/article/2022/10/10/6.png" alt="" /></p><p>由于不太了解feature蒸馏，所以这一部分没细看。</p><h2 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h2><p>我认为蒸馏不是本文的重点，</p><p>倒是最近这种通过离散化，然后加权(概率)，把bbox的回归任务看成分类任务的思想比较常见。</p>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>目标检测</tag>
      
      <tag>知识蒸馏</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Generalized Focal Loss</title>
    <link href="/2022/10/03/AI-Learning/20221003-GFL/"/>
    <url>/2022/10/03/AI-Learning/20221003-GFL/</url>
    
    <content type="html"><![CDATA[<h1 id="generalized-focal-loss"><a class="markdownIt-Anchor" href="#generalized-focal-loss"></a> Generalized Focal Loss</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><p><strong>论文题目</strong> ：Generalized Focal Loss: Learning Qualified and Distributed Bounding Boxes for Dense Object Detection</p><p><strong>论文地址</strong> ：<a href="https://arxiv.org/pdf/2006.04388.pdf">https://arxiv.org/pdf/2006.04388.pdf</a></p><p><strong>论文出处</strong> ：2020’NeurIPS</p><p><strong>代码实现</strong> ：<a href="https://github.com/ViTAE-Transformer/Remote-Sensing-RVSA">https://github.com/ViTAE-Transformer/Remote-Sensing-RVSA</a></p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><p>one-stage的检测器最后都会归于两个子任务，即分类和定位。分类通常用Focal Loss，而定位通常用IOU Loss。而在近年的one-stage论文中（FCOS）,趋势是引入额外的分支centerness来评估检测框的定位质量。但是这样会带来两个问题(classification score 和 IoU/centerness score 训练测试不一致和bbox regression 采用的表示不够灵活，在建模复杂场景下的具有不确定性)，作者尝试解决这两个问题，提出了GFL。</p><p>基于任意one-stage 检测器上，调整框本身与框质量估计的表示，同时用泛化版本的GFocal Loss训练该改进的表示，可以实现无cost涨点（一般1个点出头）AP。</p><h2 id="detail"><a class="markdownIt-Anchor" href="#detail"></a> Detail</h2><h3 id="question"><a class="markdownIt-Anchor" href="#question"></a> Question</h3><h4 id="1classification-score-和-ioucenterness-score-训练测试不一致"><a class="markdownIt-Anchor" href="#1classification-score-和-ioucenterness-score-训练测试不一致"></a> 1.classification score 和 IoU/centerness score 训练测试不一致</h4><p><img src="/img/article/2022/10/03/2.png" alt="" /></p><ol><li><p>用法不一致。</p><p>训练的时候，分类和质量的评估是分离的，但测试的时候却又是乘在一起作为NMS score排序的依据，这个操作显然没有end-to-end，必然存在一定的gap</p></li><li><p>对象不一致。</p><p>Classification : 得益于Focal Loss ，可以计算少量正样本和大量负样本的classification score，并一起成功训练.</p><p>Localization: 在使用IoU/centerness score时，却是只针对正样本的score训练(正负样本的score都会计算)。</p><p>在做NMS score排序的时候，所有的样本都会将分类score和质量预测score相乘用于排序。</p></li></ol><blockquote><p>由于有大量的负样本，就很有可能出现以下情况：</p><p>NMS score: 负样本（分类score相对较低 * 高质量定位score）&gt; 正样本(分类score不够高 * 质量score较低)</p><p>出现NMS score排序后，负样本排在正样本前面的不合理现象，导致真实的正样本被NMS过滤。</p><p><img src="/img/article/2022/10/03/3.png" alt="" /></p><p>本文提出的联合分类和定位表示使得分类和定位得分保持一致(图b绿色的点)。</p></blockquote><p>可以看出来，作者在对监督训练和one-stage的端到端理念有很深的见解。</p><h4 id="2bbox-regression-采用的表示不够灵活在建模复杂场景下的具有不确定性"><a class="markdownIt-Anchor" href="#2bbox-regression-采用的表示不够灵活在建模复杂场景下的具有不确定性"></a> 2.bbox regression 采用的表示不够灵活，在建模复杂场景下的具有不确定性</h4><p><img src="/img/article/2022/10/03/4.png" alt="" /></p><p><img src="/img/article/2022/10/03/5.png" alt="" /></p><p>白色的是真实框，绿色的是预测框。可以看到图中的帆板边缘或被遮挡的大象边界，其实都很难去界定一个精确的位置。</p><p>在这时候，传统的单一Dirac delta分布建模并不符合实际的情况。</p><p>作者提出的一般分布，针对模糊和遮挡的物体采用扁平的分布来表示，清晰的物体采用尖锐的分布表示。</p><h3 id="method"><a class="markdownIt-Anchor" href="#method"></a> Method</h3><p><img src="/img/article/2022/10/03/6.png" alt="" /></p><p>针对离散的{0, 1}标签，本文classifcation 联合 IoU score变为了产生0~1的值作为相应类别的质量评估，将其扩展采用QFL来进行训练；</p><h4 id="qfl"><a class="markdownIt-Anchor" href="#qfl"></a> QFL</h4><p><img src="/img/article/2022/10/03/7.png" alt="" /></p><p><img src="/img/article/2022/10/03/8.png" alt="" /></p><p>对比可以发现，把离散的0，1分布改为了<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span>为0~1的质量标签，然后把调制因子<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>p</mi><mi>t</mi></msub><msup><mo stretchy="false">)</mo><mi>γ</mi></msup></mrow><annotation encoding="application/x-tex">-(1-p_t)^\gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span></span></span></span></span></span></span></span></span></span></span>外面括号换成了绝对值，形成了标准的交叉熵函数。</p><h4 id="dfl"><a class="markdownIt-Anchor" href="#dfl"></a> DFL</h4><p>之前的回归的标签<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span>当作Dirac delta分布<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">−</mi><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">σ(x−y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>，只做单一概率分布，不够灵活。</p><p>假定我们回归的标签 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span> 存在最小值 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>y</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">y_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和最大值 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>y</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">y_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</p><p>通过均等划分<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><msub><mi>y</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>n</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[y_0,y_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>(简单取:间隔为1)得到离散的集合<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">{</mo><msub><mi>y</mi><mn>0</mn></msub><mo separator="true">,</mo><mi>y</mi><mn>1</mn><mo separator="true">,</mo><mi>y</mi><mn>2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>y</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>i</mi></msub><mo>+</mo><mn>1.</mn><msub><mi>y</mi><mi>n</mi></msub><mo fence="true">}</mo></mrow><annotation encoding="application/x-tex">{\left \{y_0, y1, y2,..y_i, y_i+1. y_n\right \} }</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">}</span></span></span></span></span></span>(这种离散化可以通过softmax实现)</p><p><img src="/img/article/2022/10/03/9.png" alt="" /></p><p>可以理解为DFL以类似交叉熵的形式去优化与标签<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span>最接近的一左一右两个位置的概率<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub><mi mathvariant="normal">和</mi><msub><mi>y</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">y_i和y_{i+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">和</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>，从而让网络快速地聚焦到目标位置的邻近区域的分布中去</p><h3 id="gfl"><a class="markdownIt-Anchor" href="#gfl"></a> GFL</h3><p>统合了QFL和DFL</p><p><img src="/img/article/2022/10/03/13.png" alt="" /></p><p><img src="/img/article/2022/10/03/10.png" alt="" /></p><h2 id="result"><a class="markdownIt-Anchor" href="#result"></a> Result</h2><p>在ATSS上做消融实验：</p><p><img src="/img/article/2022/10/03/11.png" alt="" /></p><p>总体网络对比：</p><p>仔细对比对应的网络结构，发现是有涨点的。</p><p><img src="/img/article/2022/10/03/12.png" alt="" /></p>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022-09-27-组会</title>
    <link href="/2022/09/26/Seminar/20220927-%E7%BB%84%E4%BC%9A/"/>
    <url>/2022/09/26/Seminar/20220927-%E7%BB%84%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<h1 id="2022-09-27-组会"><a class="markdownIt-Anchor" href="#2022-09-27-组会"></a> 2022-09-27-组会</h1><h2 id="orthogonal-transformer"><a class="markdownIt-Anchor" href="#orthogonal-transformer"></a> Orthogonal Transformer</h2><p>NeurIPS’ 2022: <a href="https://nips.cc/Conferences/2022/Schedule?showEvent=55394">https://nips.cc/Conferences/2022/Schedule?showEvent=55394</a></p><p><img src="/img/article/2022/09/26/2.png" alt="" /></p><p><img src="/img/article/2022/09/26/3.png" alt="" /></p><p>如果后续这篇文章放到arxiv上了，我会再读一读。</p><h2 id="o-vitorthogonal-vision-transformer"><a class="markdownIt-Anchor" href="#o-vitorthogonal-vision-transformer"></a> O-ViT：Orthogonal Vision Transformer</h2><p>2022年2月16日： arXiv:2201.12133v2</p><p>这篇文章可以学习借鉴的地方不多：</p><p>=&gt;它是 <strong>纯数学理论上的优化</strong> ，通过正交流形在黎曼空间和欧几里得空间中的转换，保证特征图的失真度较小，进而保证计算过程的置信度</p><blockquote><p>文章中反复提到一些几何流形、正交群、李代数等概念，需要有相当好的矩阵论和抽象代数的基础才能理解，缺少一般Deep Learning的优化思想，我认为只适合套用。</p></blockquote><p>=&gt;该 <strong>文章代码未开源</strong> ，难以学习及复现（套用都套用不了）</p><h3 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h3><p><img src="/img/article/2022/09/26/4.png" alt="" /></p><ul><li>ViT中Self-Attention的线性变换会给特征空间带来尺度模糊性</li><li>Softmax函数存在梯度消失的风险</li></ul><p>前人有将流形优化用在R-NN和C-NN上，也有人利用正交矩阵的范式稳定性来缓解梯度爆炸和消失的问题，因此作者想试试将这个应用在ViT上。</p><h3 id="o-vit-architecture"><a class="markdownIt-Anchor" href="#o-vit-architecture"></a> O-ViT Architecture</h3><p>实际上，有用的就是两行伪代码：</p><p><img src="/img/article/2022/09/26/5.png" alt="" /></p><p><img src="/img/article/2022/09/26/6.png" alt="" /></p><p>通过构造斜对角矩阵<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>A</mi><mi>Q</mi></msup><mi mathvariant="normal">、</mi><msup><mi>A</mi><mi>k</mi></msup><mi mathvariant="normal">、</mi><msup><mi>A</mi><mi>v</mi></msup></mrow><annotation encoding="application/x-tex">A^Q、A^k、A^v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">Q</span></span></span></span></span></span></span></span><span class="mord cjk_fallback">、</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mord cjk_fallback">、</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span></span></span></span></span></span></span></span>过渡，来实现对<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>Q</mi></msub><mo separator="true">,</mo><msub><mi>W</mi><mi>K</mi></msub><mo separator="true">,</mo><msub><mi>W</mi><mi>v</mi></msub></mrow><annotation encoding="application/x-tex">W_Q,W_K,W_v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">Q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的正交约束。</p><blockquote><p>这就必须要求原<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>Q</mi></msub><mo separator="true">,</mo><msub><mi>W</mi><mi>K</mi></msub><mo separator="true">,</mo><msub><mi>W</mi><mi>v</mi></msub></mrow><annotation encoding="application/x-tex">W_Q,W_K,W_v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">Q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>都是正交矩阵，这是怎么保证这三个权重矩阵初始化时就是正交矩阵的？</p></blockquote><p>附录中含有数学证明:</p><p><img src="/img/article/2022/09/26/7.png" alt="" /></p><h2 id="swin-transformer"><a class="markdownIt-Anchor" href="#swin-transformer"></a> Swin TransFormer</h2>]]></content>
    
    
    <categories>
      
      <category>组会</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Advancing ViT in Remote Sensing</title>
    <link href="/2022/09/19/AI-Learning/20220919-Advancing%20ViT%20in%20Remote%20Sensing/"/>
    <url>/2022/09/19/AI-Learning/20220919-Advancing%20ViT%20in%20Remote%20Sensing/</url>
    
    <content type="html"><![CDATA[<h1 id="advancing-vit-in-remote-sensing"><a class="markdownIt-Anchor" href="#advancing-vit-in-remote-sensing"></a> Advancing ViT in Remote Sensing</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><p><strong>论文题目</strong> ：Advancing Plain Vision Transformer Towards Remote Sensing Foundation Model</p><p><strong>论文地址</strong> ：<a href="https://arxiv.org/pdf/2208.03987v2.pdf">https://arxiv.org/pdf/2208.03987v2.pdf</a></p><p><strong>论文出处</strong> ：arxiv</p><p><strong>代码实现</strong> ：<a href="https://github.com/ViTAE-Transformer/Remote-Sensing-RVSA">https://github.com/ViTAE-Transformer/Remote-Sensing-RVSA</a></p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><ul><li><p>提出了一个为Remote Sensing领域定制的大型ViT模型，有1亿个参数。</p></li><li><p>提出了一种新的旋转可变大小窗口注意力机制（RVSA）来替代Trasnsformer中的全注意力机制。</p></li></ul><p>检测任务的实验证明优于所有最先进的模型，在DOTA-V1.0上实现了81.16%的mAP。</p><h2 id="detail"><a class="markdownIt-Anchor" href="#detail"></a> Detail</h2><p><img src="/img/article/2022/09/19/2.png" alt="" /></p><p>本文与前面一些旋转目标检测文章的主要不同点就在pretrain和backbone上。</p><h3 id="pretrainmae"><a class="markdownIt-Anchor" href="#pretrainmae"></a> Pretrain–MAE</h3><p>本文当中的ViT和ViTAE都是基于一种自监督学习的方法MAE去进行预训练的，使用的数据集是MillionAID（无label）。</p><blockquote><p>MAE 2022 CVPR Kaiming He</p><p><img src="/img/article/2022/09/19/3.png" alt="" /></p><p>在预训练期间，对输入图像的patches按照预先指定的mask ratio进行随机掩码。</p><p>没有被掩盖的patch经过encoder生成visual token ; 被掩盖的patch不会经过encoder,而是按照原先patch的顺序填充mask token。</p><p>然后按顺序排列好的visual token和mask token经过decoder，decoder以像素为单位去生成原始图像。</p><p>预训练之后，decoder被丢弃，encoder被应用于未损坏的图像，为识别任务生成表示。</p></blockquote><p>在本文的介绍当中，是所有的patch都会经过encoder生成visual token，然后按照mask ratio的比率去随机丢弃token(token dropping)。</p><h3 id="backbonevit-和-vitae"><a class="markdownIt-Anchor" href="#backbonevit-和-vitae"></a> Backbone–ViT 和 ViTAE</h3><p>主要区别就在于堆叠的Vision Transformer Block结构上。</p><p><img src="/img/article/2022/09/19/4.png" alt="" /></p><p>ViT的Block就不过多介绍，很经典的Layer Normalization + Muti Head Sel Attention + Feed-Forwad Network(MLP) + Add</p><p>ViTAE，是作者之前的成果，论文中放的图片也是，</p><p>主要就是增加了一个并行卷积分支（Parallel convolution branches，PCM)</p><p>Group Conv + Batch Norm + SiLU + Group Conv</p><blockquote><p>本文的原话：MAE中关键的设计就是token dropping，但是这个操作会破坏token之间的空间关系，所以作者设计了ViTAE的Block。<br />原理是说结合了归纳偏置，具体是怎么回事可能还得看ViTAE的原文</p></blockquote><h3 id="attentionrvsa"><a class="markdownIt-Anchor" href="#attentionrvsa"></a> Attention–RVSA</h3><p>在本文中作者使用了旋转可变大小窗口注意力机制（(Rotated Varied-Size Attention,RVSA)替换了原先的多头注意力机制(MHSA)。</p><p>RVSA基于作者之前的成果(Varied-Size Window Attention,VSA)。</p><p><img src="/img/article/2022/09/19/5.png" alt="" /></p><p>Varied-Size Window Attention又是基于Window-base attention(思路源于Swin-T)，以固定大小的窗口作为初始化,并从这些窗口提取Qw，对于Kw和Vw，通过输入Xw去预测目标窗口的偏移量o和比例s去得到。</p><p>对着论文比较好讲，先讲Window-base attention的s，</p><p><img src="/img/article/2022/09/19/6.png" alt="" /></p><h4 id="coordinate-transformation"><a class="markdownIt-Anchor" href="#coordinate-transformation"></a> Coordinate Transformation</h4><p>该模块主要是就是坐标变换，</p><p>对于VSA:</p><p><img src="/img/article/2022/09/19/7.png" alt="" /></p><p>对于RVSA:</p><p><img src="/img/article/2022/09/19/8.png" alt="" /></p><h3 id="一些细节"><a class="markdownIt-Anchor" href="#一些细节"></a> 一些细节</h3><p>最佳Mask Ratio通过Linear probing setting和 Fine tune setting实验获得，为0.75时达到最佳性能。</p><p>Window-base attention的初始化分割， 通过实验，在DOTA和DIOR-R数据集上s均取7能达到最佳性能。</p><h2 id="result"><a class="markdownIt-Anchor" href="#result"></a> Result</h2><p>作者使用的大的网络框架是Oriented-RCNN，主要对比pretrain和backbone</p><p>黑、红、蓝色依次标注是该类别的acc1、2、 3名</p><p><img src="/img/article/2022/09/19/9.png" alt="" /></p>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
      <tag>Transformer</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022-09-12-组会</title>
    <link href="/2022/09/11/Seminar/20220912-%E7%BB%84%E4%BC%9A/"/>
    <url>/2022/09/11/Seminar/20220912-%E7%BB%84%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<h1 id="2022-09-12-组会"><a class="markdownIt-Anchor" href="#2022-09-12-组会"></a> 2022-09-12-组会</h1><h2 id="loss"><a class="markdownIt-Anchor" href="#loss"></a> loss</h2><h3 id="oriented-rcnn"><a class="markdownIt-Anchor" href="#oriented-rcnn"></a> Oriented-RCNN</h3><p><img src="/img/article/2022/09/12/2.png" alt="" /></p><p>分类分支: Cross Entropy Loss</p><p>回归分支: SmothL1Loss</p><p><img src="/img/article/2022/09/12/3.png" alt="" /></p><p><img src="/img/article/2022/09/12/4.png" alt="" /></p><h3 id="atss"><a class="markdownIt-Anchor" href="#atss"></a> ATSS</h3><h4 id="mmdet框架水平目标检测"><a class="markdownIt-Anchor" href="#mmdet框架水平目标检测"></a> mmdet框架(水平目标检测)</h4><p>分类分支: FocalLoss</p><p>回归分支: IOULoss</p><p>Centerness分支:</p><p><img src="/img/article/2022/09/12/5.png" alt="" /></p><p><img src="/img/article/2022/09/12/6.png" alt="" /></p><h4 id="mmrotate框架旋转目标检测"><a class="markdownIt-Anchor" href="#mmrotate框架旋转目标检测"></a> mmrotate框架(旋转目标检测)</h4><p>分类分支: FocalLoss</p><p>回归分支: L1Loss</p><p><img src="/img/article/2022/09/12/7.png" alt="" /></p>]]></content>
    
    
    <categories>
      
      <category>组会</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022-09-06-组会</title>
    <link href="/2022/09/06/Seminar/20220906-%E7%BB%84%E4%BC%9A/"/>
    <url>/2022/09/06/Seminar/20220906-%E7%BB%84%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<h1 id="2022-09-06-组会"><a class="markdownIt-Anchor" href="#2022-09-06-组会"></a> 2022-09-06-组会</h1><h2 id="atss与oriented-r-cnn"><a class="markdownIt-Anchor" href="#atss与oriented-r-cnn"></a> ATSS与Oriented R-CNN</h2><h3 id="区别"><a class="markdownIt-Anchor" href="#区别"></a> 区别</h3><p>ATSS原论文是将ATSS这种动态划分正负样本策略应用在one-stage的RetinaNet(anchor-based)t和one-stage的FCOS(anchor-free)</p><blockquote><p>one-stage中能够匹配到目标的候选框（正样本）个数一般只用十几个或几十个，而没匹配到的候选框（负样本）大概有 10^4 - 10^5 个。</p><p>选出来的proposal直接就相当于正样本了</p><p>容易出现正负样本不均衡，所以要平衡正负样本</p></blockquote><p>anchor=&gt;proposal(positive sample)</p><hr /><p>Oriented R-CNN(anchor-based)是two-stage的检测器，它把正负样本的划分了2个步骤，每个stage各一个步骤。</p><blockquote><p>在第一阶段先选出一些候选框proposal（如Faster R-CNN 的rpn），大概2000个左右;</p><p>在第二阶段再从proposal中筛选出正负样本，虽然这时正负样本也是存在不均衡的，但是(10  ：2000) 相对（10  :   10^4 - 10^5 )好了很多。</p><p>这也是为什么普遍two-stage的检测器比one-stage的检测器的精度要高一些的原因之一。</p></blockquote><p>anchor=&gt;proposal=&gt;positive sample</p><h3 id="应用"><a class="markdownIt-Anchor" href="#应用"></a> 应用</h3><p>如果我要将ATSS应用在Oriented R-CNN中，我是应该要应用在第一阶段还是应用在第二阶段，还是都应用，这么做的提升效果？</p><p>如果我应用在第一阶段:  anchor=&gt;proposal， 相当于是提出了动态划分proposal策略（理论上来说可以应用）</p><p>而且Oriented R-CNN的在第一阶段的rpn-head中encoder-decoder就是采用的是6元组(midpointoffset)的表达形式。</p><blockquote><p>一些假想:</p><p>第一阶段，动态划分proposal，假设是Fast R-CNN中的数据规模，划分出1000-5000个;  数据规模相比与2000来说变化不大，会有提升效果么？<br />如果不改变第二阶段，当我筛出10:5000， 和原本的10:2000来说是不是负优化了？</p></blockquote><hr /><p>如果我应用在第二阶段:  proposal=&gt;positive sample</p><blockquote><p>感觉上不能直接用ATSS，因为ATSS是从所有anchor中选中心点与GT最近的topK个anchor，我不清楚从proposal开始，是否也有足够数量的proposal支持我这么做</p></blockquote><p>而且Oriented R-CNN的在第二阶段的rcnn-head中encoder-decoder已经回归到5元组(xywha)的表达形式了，也就不涉及表达转换。</p><p>所以将ATSS应用在two-stage检测器中真的有意义么，可能只有实验才能验证。</p><h3 id="表达转换"><a class="markdownIt-Anchor" href="#表达转换"></a> 表达转换</h3><p>我觉得直接使用Oriented R-CNN中的转换公式就行了</p><p>encoder:</p><p><img src="/img/article/2022/09/06/2.png" alt="" /></p><p>decoder:</p><p><img src="/img/article/2022/09/06/3.png" alt="" /></p><p>如果要设计公式，我觉得也是在loss部分</p><p>ATSS额外加入了 centerness 分支，这部分也要计算loss</p><hr />]]></content>
    
    
    <categories>
      
      <category>组会</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vision Transformer</title>
    <link href="/2022/08/29/AI-Learning/20220829-Vision%20Transformer/"/>
    <url>/2022/08/29/AI-Learning/20220829-Vision%20Transformer/</url>
    
    <content type="html"><![CDATA[<h1 id="vision-transformer"><a class="markdownIt-Anchor" href="#vision-transformer"></a> Vision Transformer</h1><h2 id="vision-transformer-2"><a class="markdownIt-Anchor" href="#vision-transformer-2"></a> Vision Transformer</h2><p><strong>论文题目</strong> ：AN IMAGE IS WORTH 16X16 WORDS: TRANSFORMERS FOR IMAGE RECOGNITION AT SCALE</p><p><strong>论文地址</strong> ：<a href="https://arxiv.org/pdf/2010.11929.pdf">https://arxiv.org/pdf/2010.11929.pdf</a></p><p><strong>论文出处</strong> ：ICLR’2021</p><p><strong>代码实现</strong> ：-</p><h3 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h3><p>通过将图像拆分为块 (patch)，并将这些图像块的线性嵌入序列作为 Transformer 的输入，作者将Transformer成功应用到CV领域。</p><blockquote><p>没有直接把像素点作为输入，可以减少参数量</p></blockquote><p>通过这篇文章的实验，说明Transformer在CV领域确实有效，并且效果惊人。</p><h3 id="detail"><a class="markdownIt-Anchor" href="#detail"></a> Detail</h3><h4 id="network"><a class="markdownIt-Anchor" href="#network"></a> Network</h4><p><img src="/img/article/2022/08/29/2.png" alt="" /></p><ul><li>Linear Projection of Flattened Patches(Patch Embedding层)</li><li>Transformer Encoder(图右侧有给出更加详细的结构)</li><li>MLP Head（最终用于分类的层结构）</li></ul><h4 id="patch-embedding"><a class="markdownIt-Anchor" href="#patch-embedding"></a> Patch Embedding</h4><p><img src="/img/article/2022/08/29/3.png" alt="" /></p><p>以ViT-Base/16为例:</p><p>首先将一张图片按给定大小分成一堆Patches。将输入图片(224x224)按照16x16大小的Patch进行划分，划分后会得到(224/16)^2 = 196 个patch。</p><p>每个Patche数据shape为<code>[16,16,3]</code>通过线性映射将每个Patch映射到一维向量中，映射得到一个长度为768的向量token<code>[196,768]</code>。</p><blockquote><p>具体使用一个卷积层（768个16x16的卷积核,stride为16）来实现Patch划分。</p></blockquote><p>拼接一个[class]token， Concat([1,768],[196,768] =&gt; <code>[197,768]</code>。</p><p>叠加位置编码Position Embedding, <code>[197,768]</code> =&gt; <code>[197,768]</code>。</p><blockquote><p>自注意力的<strong>扰动不变性</strong>(<strong>Permutation-invariant</strong>): <strong>打乱 Sequence 中 tokens 的顺序并不会改变结果</strong>。</p><p>这里的[class] token和位置编码都是可训练参数。</p></blockquote><p><img src="/img/article/2022/08/29/4.png" alt="" /></p><p>位置编码之间的余弦相似度可视化，表明任意两个patches之间在位置上的关联度。</p><p>可以发现相近的图像块的位置编码关联度较高，且同行或列的位置编码关联度也相近。</p><p>这里的图片按32x32的大小划分，所以是得到7x7个patch。</p><h4 id="transformer-encoder"><a class="markdownIt-Anchor" href="#transformer-encoder"></a> Transformer Encoder</h4><p><img src="/img/article/2022/08/29/5.png" alt="" /></p><p>Transformer Encoder其实就是重复堆叠Encoder Block L次:</p><p><img src="/img/article/2022/08/29/6.png" alt="" /></p><ul><li><p>Layer Norm，这种Normalization方法主要是针对NLP领域提出的，这里是对每个token进行Norm处理</p><blockquote><p>BN是取不同样本的同一个通道的特征做归一化；LN则是取同一个样本的不同通道做归一化。</p></blockquote></li><li><p>Multi-Head Attention，这个结构之前是在Attention Is All You Need这篇文章中提出</p><p><img src="/img/article/2022/08/29/7.png" alt="" /></p><p><img src="/img/article/2022/08/29/8.png" alt="" /></p><blockquote><p>我感觉这原文当中这两个图比较抽象，大概讲下我的理解:</p><p><strong>Self-Attention</strong> :</p><p><img src="/img/article/2022/08/29/9.png" alt="" /></p><p>首先把输入的token通过Input Embedding映射为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，然后<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>通过3个可变换矩阵<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>q</mi></msub><mo separator="true">,</mo><msub><mi>W</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>W</mi><mi>v</mi></msub></mrow><annotation encoding="application/x-tex">W_q,W_k,W_v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>(这三个参数是可训练的，并且是共享的)计算得到对应的Q,K,V。</p><ul><li>q代表query，后续会去和每一个k进行匹配</li><li>k代表key，后续会被每个q匹配</li><li>v代表value，从a中提取得到的信息，可以理解为相关性权值</li></ul><p>Q和K相乘，得到是查询向量和各个对应的键向量的相关性（匹配度），是 n×n 的矩阵。</p><p>除以根号dk，再通过SoftMax得到缩放后的attention score，再与V相乘，得到加权和作为最后的输出。</p><p>点乘操作可以写成矩阵乘法,实现计算并行化，因此计算速度会快很多。</p><p><strong>Multi-Head Attention</strong> :</p><p>Q，V，K分别通过n次线性变换得到n组Q，K，V，这里n对应着<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mi>e</mi><mi>a</mi><msub><mi>d</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">Head_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>对于每一组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Q</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>K</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>V</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">Q_i,K_i,V_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>通过Self-Attention得到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mi>e</mi><mi>a</mi><msub><mi>d</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">Head_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>拼接所有的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mi>e</mi><mi>a</mi><msub><mi>d</mi><mn>0</mn></msub><mo>−</mo><mi>H</mi><mi>e</mi><mi>a</mi><msub><mi>d</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">Head_0 - Head_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，然后将其线性映射得到最终输出。</p></blockquote></li><li><p>Dropout，减少过拟合，保证模型的稀疏性</p></li><li><p>MLP，如图所示，就是全连接+GELU激活函数+Dropout</p></li></ul><h4 id="mlp-head"><a class="markdownIt-Anchor" href="#mlp-head"></a> MLP Head</h4><p><img src="/img/article/2022/08/29/10.png" alt="" /></p><p>上面通过Transformer Encoder后输出的shape和输入的shape是保持不变的。</p><p>所以我们只需要提取出[class]token生成的对应结果就行，即<code>[197, 768]</code>中提取出[class]token对应的<code>[1, 768]</code>。</p><p>接着我们通过MLP Head得到我们最终的分类结果。</p><p>MLP Head 由 Linear+tanh激活函数+Linear组成。</p><p>整体网络的内部结构:</p><p><img src="/img/article/2022/08/29/11.png" alt="" /></p>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
      <tag>Transformer</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022-08-22-组会</title>
    <link href="/2022/08/22/Seminar/20220822-%E7%BB%84%E4%BC%9A/"/>
    <url>/2022/08/22/Seminar/20220822-%E7%BB%84%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<h1 id="2022-08-22-组会"><a class="markdownIt-Anchor" href="#2022-08-22-组会"></a> 2022-08-22-组会</h1><p><img src="/img/article/2022/08/22/2.png" alt="" /></p><p>上次组会开完后，目前比较主流的遥感旋转目标检测相关论文读得差不多了</p><h3 id="论文总结"><a class="markdownIt-Anchor" href="#论文总结"></a> 论文总结</h3><p>使用基于角度回归的检测方法=&gt;直接解决面对</p><p>角度参数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">{\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span></span>的周期性带来的 <strong>损失的不连续性</strong> 和 <strong>回归的不一致性</strong></p><p>解决思路: 设计一些新型IOU或Loss函数去解决， 如GWD，KFIOU等</p><hr /><p>借鉴传统通用检测器的新型表示方法(如点集(reppoints)，平行四边形)，规避掉 <strong>损失的不连续性</strong> 和 <strong>回归的不一致性</strong></p><p>把这种检测框的表示，从水平垂直框迁移到旋转框的表示，需要设计一系列的转换函数。</p><blockquote><ul><li><p>有借鉴目标检测的新型表达方式的，如Oriented RepPoint(借鉴RepPoint)，效果很好</p></li><li><p>有自己设计的新型表达方式(如根据四边形偏移量)， 如Oriented R-CNN, RSDet, Gliding Vertex等，其中Oriented R-CNN效果很好，其它的效果一般</p></li></ul></blockquote><hr /><p>还有像ATSS(SASM)这样另辟蹊径，动态设置IOU阈值划分正负样本。设计一些算法，使用超参数调整动态值。</p><hr /><p>…</p><p>目前一个好的思路可以尝试： 能否将ATSS和Oriented R-CNN结合起来，达到一个更高的mAP?</p><p>实现思路：重新设计Head、BBox Assigner等模块去把原本固定的IOU阈值给覆盖掉</p><p><img src="/img/article/2022/08/22/3.png" alt="" /></p><p>目前的在做一些尝试性的实验，学习Pytorch。</p><h3 id="论文阅读"><a class="markdownIt-Anchor" href="#论文阅读"></a> 论文阅读</h3><h4 id="vit"><a class="markdownIt-Anchor" href="#vit"></a> ViT</h4><p>找到一篇论文Advancing Plain Vision Transformer Towards Remote Sensing Foundation Model 武汉大学 8月10号发布的</p><blockquote><p>有代码，是目前DOTA数据集上的SOTA</p></blockquote><p>这篇论文主要思想是把Vision Transformer应用在遥感图像，但ViT这一块我不太了解其具体实现，这篇论文可能自己也没有理解透彻(尤其是里面Mask Image Modeling部分)，所以我打算再找些相关的论文去读一读再讲。</p><p>它跟以往的基于rpn为backbone的网络模型结构完全不一样，可能能成为一个新的思路。</p><h4 id="文本检测方向"><a class="markdownIt-Anchor" href="#文本检测方向"></a> 文本检测方向</h4><p>水平文本检测、多向文本检测、弯曲文本检测，文本识别(OCR)</p><p>多向文本检测中的比较新的文章:</p><p>MOST[2021’CVPR] (A Multi-Oriented Scene Text Detector with Localization Refinement)</p><p><img src="/img/article/2022/08/22/4.png" alt="" /></p><p>使用的是DCN(可变形卷积)，这就回到了Oriented Reppoint中的新型表达方式了。</p><ul><li>后续是否应该继续读文章找新的思路？</li><li>遥感旋转目标检测方向上的文章读的差不多了，该如何找适合自己方向的新的文章?</li></ul>]]></content>
    
    
    <categories>
      
      <category>组会</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ATSS与SASM</title>
    <link href="/2022/08/01/AI-Learning/20220801-SASM/"/>
    <url>/2022/08/01/AI-Learning/20220801-SASM/</url>
    
    <content type="html"><![CDATA[<h1 id="atss与sasm"><a class="markdownIt-Anchor" href="#atss与sasm"></a> ATSS与SASM</h1><p>动态设置IOU阈值以划分正负样本。</p><h2 id="atss"><a class="markdownIt-Anchor" href="#atss"></a> ATSS</h2><p><strong>论文题目</strong> ：Bridging the Gap Between Anchor-based and Anchor-free Detection via Adaptive Training Sample Selection</p><p><strong>论文地址</strong> ：<a href="https://arxiv.org/pdf/1912.02424.pdf">https://arxiv.org/pdf/1912.02424.pdf</a></p><p><strong>论文出处</strong> ：2020’CVPR</p><p><strong>代码实现</strong> : <a href="https://github.com/sfzhang15/ATSS">https://github.com/sfzhang15/ATSS</a></p><h3 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h3><ul><li>指出anchor-free和一阶段anchor-based方法的根本差异主要来源于正负样本的选择</li><li>提出ATSS( Adaptive Training Sample Selection)方法来根据对象的统计特征自动选择正负样本</li></ul><h3 id="detail"><a class="markdownIt-Anchor" href="#detail"></a> Detail</h3><h3 id="retinanet与fcos"><a class="markdownIt-Anchor" href="#retinanet与fcos"></a> RetinaNet与FCOS</h3><p>RetinaNet 网络结构是目前主流的一阶段anchor-based目标检测网络结构，我在之前的组会中有介绍过。</p><p>FCOS沿用了主流网络结构 RetinaNet，使其具备公平对比的特性，在几乎没有修改情况下，性能可以超越 RetinaNet</p><p>区别:</p><blockquote><p>(1)<strong>每个位置平铺的anchor数目不同。</strong> RetinaNet每个位置会平铺几个anchor box而FCOS每个位置只会设定一个anchor point（anchor free 却 center-based）。</p><p>(2)<strong>正负样本的定义方式不同。</strong> RetinaNet根据IOU来选择正负样本，FCOS则利用空间和尺度约束来选择样本。</p><p>(3) <strong>回归的起始状态不同。</strong> RetinaNet从预定义的anchor处回归边界框，而FCOS则从预定义的point上定位目标。</p><p>(4) <strong>Trick</strong>。FCOS论文中提出了一些通用trick，可以有效提升性能。</p></blockquote><p>作者首先对两大主流算法进行深入公平对比分析，希望能找到性能差异的根本原因:</p><p><img src="/img/article/2022/08/01/2.png" alt="" /></p><p>因为 FCOS 算法性能优于 RetinaNet，并且其额外引入了许多 trick，为了公平对比，将 FCOS 所提 trick 也迁移到 RetinaNet 中，并且设置 RetinaNet 的 anchor 个数为 1，结果如上所示。可以看出即使所有 trick 都加上 RetinaNet 依然差了 0.8 mAP。</p><p>排除上述因素后，两个算法的区别是：</p><ul><li><p>分类分支上，正负样本的定义方式不同</p></li><li><p>回归分支上，回归的起始状态不同</p></li></ul><h4 id="essential-difference"><a class="markdownIt-Anchor" href="#essential-difference"></a> Essential Difference</h4><h5 id="classification"><a class="markdownIt-Anchor" href="#classification"></a> Classification</h5><p><img src="/img/article/2022/08/01/3.png" alt="" /></p><p>RetinaNet使用IoU阈值(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>θ</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">{\theta_p}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span>,<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>θ</mi><mi>g</mi></msub></mrow><annotation encoding="application/x-tex">{\theta_g}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span>)来区分正负anchor bbox，处于中间的全部忽略。</p><p>FCOS使用空间尺寸和尺寸限制来区分正负anchor point，正样本首先必须在GT box内，其次需要是GT尺寸对应的层，其余均为负样本。</p><h5 id="regression"><a class="markdownIt-Anchor" href="#regression"></a> Regression</h5><p><img src="/img/article/2022/08/01/4.png" alt="" /></p><p>RetinaNet预测4个偏移值对anchor box进行调整输出，而FCOS则预测4个相对于anchor point值对anchor box进行调整输出</p><p>对上述差异进行交叉实验做对比:</p><p><img src="/img/article/2022/08/01/5.png" alt="" /></p><p>发现相同的正负样本定义下的RetinaNet和FCOS性能几乎一样，不同的定义方法性能差异较大，而回归初始状态对性能影响不大。所以，基本可以确定正负样本的确定方法是影响性能的重要一环。</p><h3 id="atssadaptive-training-sample-selection"><a class="markdownIt-Anchor" href="#atssadaptive-training-sample-selection"></a> ATSS(Adaptive Training Sample Selection)</h3><p><img src="/img/article/2022/08/01/6.png" alt="" /></p><p>论文提出ATSS方法，该方法根据目标的相关统计特征，计算自适应阈值进行正负样本的选择。</p><p>论文提出ATSS方法，该方法根据目标的相关统计特征自动进行正负样本的选择，具体逻辑如算法1所示。对于每个GT box g，首先在每个特征层找到中心点最近的k个候选anchor boxes(非预测结果)，计算候选box与GT间的IoU Dg，计算IoU的均值mg和标准差vg，得到IoU阈值tg=mg+vg，最后选择阈值大于tg的box作为最后的输出。如果anchor box对应多个GT，则选择IoU最大的GT。</p><h3 id="result"><a class="markdownIt-Anchor" href="#result"></a> Result</h3><p>应用在RetinaNet与FCOS上的实验结果(COCO数据集):</p><p><img src="/img/article/2022/08/01/7.png" alt="" /></p><h2 id="sasm"><a class="markdownIt-Anchor" href="#sasm"></a> SASM</h2><p><strong>论文题目</strong> ：Shape-Adaptive Selection and Measurement for Oriented Object Detection</p><p><strong>论文地址</strong> ：<a href="https://www.aaai.org/AAAI22Papers/AAAI-2171.HouL.pdf?ref=https://githubhelp.com">https://www.aaai.org/AAAI22Papers/AAAI-2171.HouL.pdf?ref=https://githubhelp.com</a></p><p><strong>论文出处</strong> ：2022’AAAI</p><p><strong>代码实现</strong> : <a href="https://github.com/houliping/SASM">https://github.com/houliping/SASM</a></p><h3 id="idea-2"><a class="markdownIt-Anchor" href="#idea-2"></a> Idea</h3><p>提出了一种新的动态选择(SA-S)策略和动态评估(SA-M)策略，选择正负样本</p><h3 id="detail-2"><a class="markdownIt-Anchor" href="#detail-2"></a> Detail</h3><p><img src="/img/article/2022/08/01/8.png" alt="" /></p><h4 id="sa-s"><a class="markdownIt-Anchor" href="#sa-s"></a> SA-S</h4><p><img src="/img/article/2022/08/01/9.png" alt="" /></p><p>SA-S的做法很容易理解，效仿ATSS，根据物体的形状动态调整每个object的IoU阈值</p><p>根据物体长宽比设计了一个关于阈值的递减函数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>γ</mi><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{ f(γi) }</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class="mord mathdefault">i</span><span class="mclose">)</span></span></span></span></span>，长宽比越大，IoU越小。</p><p>论文中的公式 μ 就是计算出的均值， σ 就是计算出来的标准差。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>γ</mi><mi>i</mi></mrow><annotation encoding="application/x-tex">{γi}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class="mord mathdefault">i</span></span></span></span></span>  是目标的纵横比，长边比短边。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">{w}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span></span>是一个超参数（<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">{w}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span></span> 越大，函数曲线越平滑，就更能表示纵横比更大的目标）</p><h4 id="sa-m"><a class="markdownIt-Anchor" href="#sa-m"></a> SA-M</h4><p>一般来说，做完动态选择（SA-M）策略之后，所有的正样本都会一视同仁。但作者认为，正样本之间也有质量上的区别的。以anchor-free的样本为例（即点），假如这5个点都被分配为了正样本点，但是位于位于物体中心的点比物体中心的点更能代表物体的特性。因此我们根据点相对于物体的距离对于选中的正样本点做了质量上的区分。对于anchor-based方法，点用anchor的中心点代表。</p><p><img src="/img/article/2022/08/01/10.png" alt="" /></p><p>第j个样本点与第i个目标中心点的距离计算:</p><p><img src="/img/article/2022/08/01/11.png" alt="" /></p><p>这样综合了点相对物体中心和边界的距离，离中心越近，边界越远，代表质量越好</p><p>正样本点的质量计算为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Q</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><msup><mi>e</mi><mrow><mo>−</mo><mi mathvariant="normal">Δ</mi><msub><mi>d</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">{Q_{ij}=e^{-\Delta d_{ij}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1852159999999998em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">Δ</span><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>该质量权重后续运用在计算Loss函数中:</p><p><img src="/img/article/2022/08/01/12.png" alt="" /></p><p><img src="/img/article/2022/08/01/13.png" alt="" /></p><p><img src="/img/article/2022/08/01/14.png" alt="" /></p><p><img src="/img/article/2022/08/01/15.png" alt="" /></p><h3 id="result-2"><a class="markdownIt-Anchor" href="#result-2"></a> Result</h3><p>作者基于RepPoint(anchor-free)和S2A-Net(anchor-based)模型在HRSC2016上进行了实验，效果显著。</p><p><img src="/img/article/2022/08/01/16.png" alt="" /></p>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oriented RepPoints</title>
    <link href="/2022/07/25/AI-Learning/20220725-Oriented%20RepPoints/"/>
    <url>/2022/07/25/AI-Learning/20220725-Oriented%20RepPoints/</url>
    
    <content type="html"><![CDATA[<h1 id="oriented-reppoints"><a class="markdownIt-Anchor" href="#oriented-reppoints"></a> Oriented RepPoints</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><p><strong>论文题目</strong> ：Oriented RepPoints for Aerial Object Detection</p><p><strong>论文地址</strong> ：<a href="https://arxiv.org/pdf/2105.11111.pdf">https://arxiv.org/pdf/2105.11111.pdf</a></p><p><strong>论文出处</strong> ：2022’CVPR</p><p><strong>代码实现</strong> ：<a href="https://github.com/LiWentomng/OrientedRepPoints">https://github.com/LiWentomng/OrientedRepPoints</a></p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><p>1.提出3种定向转换函数，将每个特征图中的点集（9个点），转换成有向的框。</p><p>2.点集学习提出了一种有效的 <strong>自适应点评估和分配样本方案APPA</strong> 。</p><p>3.为了匹配定向目标数据和转换函数，提出了损失函数的改进。</p><h2 id="detail"><a class="markdownIt-Anchor" href="#detail"></a> Detail</h2><h3 id="related-work"><a class="markdownIt-Anchor" href="#related-work"></a> Related Work</h3><p>此前，基于角度回归的检测方法在该研究领域占主导地位(通过直接添加角度参数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">{\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span></span>)，</p><p>但是直接方向预测会带来一系列问题=&gt;包括 <strong>损失的不连续性</strong> 和 <strong>回归的不一致性</strong></p><blockquote><p>这两个问题主要是由于角度的周期性(有界)和旋转框的定义表示。</p></blockquote><p>这就导致虽然定位比较准确,但是旋转方向的回归很多时候是不太准确的。</p><p><img src="/img/article/2022/07/25/2.png" alt="" /></p><p>在传统通用检测器中，RepPoints通过使用点集表示来捕获细粒度对象。</p><h3 id="oriented-reppoints-2"><a class="markdownIt-Anchor" href="#oriented-reppoints-2"></a> Oriented RepPoints</h3><h4 id="pre-可变形卷积dcn"><a class="markdownIt-Anchor" href="#pre-可变形卷积dcn"></a> [Pre]-可变形卷积(DCN)</h4><p>ICCV2017： <a href="https://openaccess.thecvf.com/content_ICCV_2017/papers/Dai_Deformable_Convolutional_Networks_ICCV_2017_paper.pdf">Deformable Convolutional Networks</a></p><p><img src="/img/article/2022/07/25/3.png" alt="" /></p><p>这是可变形卷积想要表达的采样形式，a是代表普通的卷积核是3*3的，所示采样的点数是9个，b,c,d都是可变形卷积（c、d只是一种特殊的形式），可以看出a普通卷积采样的位置是固定的，而可变形卷积做的事情就是给9个采样点，<strong>每一个点加一个偏移量得到新的采样坐标</strong>（偏移量是小数，例如原一个采样点坐标（3,4）加上偏移量可能为（3.6,5.8）坐标变成了小数，这个时候就用双线性插值法为该点取值），把新的9个位置作为可变形卷积采样点的位置，<strong>然后再进行常规的卷积加权的操作</strong>。只是改变了采样点的位置。</p><blockquote><ul><li>单线性插值</li></ul><p><img src="/img/article/2022/07/25/5.png" alt="" /></p><p>根据同一条直线斜率相等，可得:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi>y</mi><mo>−</mo><msub><mi>y</mi><mn>1</mn></msub></mrow><mrow><mi>x</mi><mo>−</mo><msub><mi>x</mi><mn>1</mn></msub></mrow></mfrac><mo>=</mo><mfrac><mrow><msub><mi>y</mi><mn>2</mn></msub><mo>−</mo><msub><mi>y</mi><mn>1</mn></msub></mrow><mrow><msub><mi>x</mi><mn>2</mn></msub><mo>−</mo><msub><mi>x</mi><mn>1</mn></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">{\frac{y-y_1}{x-x_1}= \frac{y_2-y_1}{x_2-x_1}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.09633em;vertical-align:-0.8360000000000001em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603300000000002em;"><span style="top:-2.3139999999999996em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8360000000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603300000000002em;"><span style="top:-2.3139999999999996em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8360000000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span></p><p>整理得:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo>=</mo><mrow><mfrac><mrow><msub><mi>x</mi><mn>2</mn></msub><mo>−</mo><mi>x</mi></mrow><mrow><msub><mi>x</mi><mn>2</mn></msub><mo>−</mo><msub><mi>x</mi><mn>1</mn></msub></mrow></mfrac><msub><mi>y</mi><mn>1</mn></msub><mo>+</mo><mfrac><mrow><mi>x</mi><mo>−</mo><msub><mi>x</mi><mn>1</mn></msub></mrow><mrow><msub><mi>x</mi><mn>2</mn></msub><mo>−</mo><msub><mi>x</mi><mn>1</mn></msub></mrow></mfrac><msub><mi>y</mi><mn>2</mn></msub></mrow></mrow><annotation encoding="application/x-tex">y = {\frac{x_2-x}{x_2-x_1}y_1 +\frac{x-x_1}{x_2-x_1}y_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.09633em;vertical-align:-0.8360000000000001em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603300000000002em;"><span style="top:-2.3139999999999996em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8360000000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603300000000002em;"><span style="top:-2.3139999999999996em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8360000000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><ul><li>双线性插值</li></ul><p><img src="/img/article/2022/07/25/6.png" alt="" /></p><p>就是选择周围相邻的四个点进行三次单行线插值，其中x轴2次，y轴1次。</p></blockquote><p><img src="/img/article/2022/07/25/4.png" alt="" /></p><p>再说一下可变形卷积的结构，先从输入的特征图中，单独用一个小的卷积分支对特征图中的每一个点都学习一组偏移量的信息offset field（这里的通道数是2N，N表示采样点的个数3*3的卷积核N在这里表示9，2表示每个采样点都有x坐标偏移值和y坐标的偏移值），用来表示当卷积核的走到特征图该点的时候应该偏移到哪个位置来计算。这个偏移量没有具体的取值范围，offsets学出来值的应该是有正有负的小数(正负代表方向)，代码中也有后处理来保证加上偏移量的新采样的位置不会超过特征图的范围 。<strong>这个offsets就是点集表示目标的关键</strong>。</p><h4 id="pre-reppoints"><a class="markdownIt-Anchor" href="#pre-reppoints"></a> [Pre]-RepPoints</h4><p>ICCV2019: <a href="https://openaccess.thecvf.com/content_ICCV_2019/papers/Yang_RepPoints_Point_Set_Representation_for_Object_Detection_ICCV_2019_paper.pdf">RepPoints: Point Set Representation for Object Detection</a></p><p>RepPoints点集表示的目标检测属于anchor free的表示。</p><p><img src="/img/article/2022/07/25/7.png" alt="" /></p><p>整体上来看这个网络分为<strong>定位</strong>和<strong>分类</strong>两个内容。这个网络的训练<strong>定位是分为两个阶段</strong>，<strong>分类是一个阶段</strong>。</p><p>下面具体来看下网络结构:</p><p>首先这个网络的backone是用的FPN，出来的是5个层级的Scale的特征图，在此处只对一个特征图出来的head举例子。一层特征图出来被分为两个分支，一个用来做目标的定位，另一个用来做分类。</p><p><img src="/img/article/2022/07/25/8.png" alt="" /></p><p><strong>定位:</strong> 定位部分有两个阶段:</p><p>第一阶段:先做一次3x3的卷积学习一下特征，然后1x1的卷积用来改变通道产生offsets，再进入offset field进行可变形卷积得到每个点的x方向和y方向上的偏移量，我们得到了一组点集9个点的坐标，在通过转换函数Convert即可以生成pseudo box(伪框)。</p><p>转换函数Convert有三种：</p><p><strong>1.Min-max function.</strong> 通过点集所有点的x，y坐标的最大最小值画框。</p><p><strong>2.Partial min-max function.</strong> 通过点集部分点（文章中指出代码中是前四个点）的x，y坐标的最大最小值画框。</p><p><strong>3.Moment-based function.</strong> 通过一组点集中点位置的均值和标准差回归出框的位置。</p><p><img src="/img/article/2022/07/25/9.png" alt="" /></p><p>Positive:</p><p>1.根据GT的尺寸大小，选择某一个scale的特征图，将GT映射在该特征图上(中心点映射)</p><p>2.第一阶段产生的所有pseudo box中与GT的IOU的值大于0.5，评判为positive，进入第二阶段</p><p>第二阶段: Refine stage，与第一阶段步骤大致相同，可以看到point loss明显变小。</p><p><strong>分类:</strong> 分类分支也是对positive pseudo box（有目标的框）做分类，第一阶段产生的pseudo box与GT的IOU大于0.5认为有目标的框做分类损失，用的是focal loss。</p><h4 id="network"><a class="markdownIt-Anchor" href="#network"></a> Network</h4><p><img src="/img/article/2022/07/25/10.png" alt="" /></p><h4 id="oriented-conversion-function"><a class="markdownIt-Anchor" href="#oriented-conversion-function"></a> Oriented conversion function</h4><p>三个定向转换函数</p><p>1.<strong>MinAeraRect</strong> ：在采样点中选择具有最小面积的旋转矩形；（该函数不可导在网路中训练参数不可以反传，所以只在推理的时候应用）</p><p>2.<strong>NearestGTCorner</strong> ：GT的四个角点，找4个距离最近采样点作为预测点。</p><p>3.<strong>ConvexHull</strong>：通过Jarvis March算法，找到包围所有采样点的外接多边形。</p><p><img src="/img/article/2022/07/25/17.png" alt="" /></p><h4 id="adaptive-points-assessment-and-assignment"><a class="markdownIt-Anchor" href="#adaptive-points-assessment-and-assignment"></a> Adaptive Points Assessment and Assignment</h4><p>自适应点集评估和分配样本方案</p><p><img src="/img/article/2022/07/25/11.png" alt="" /></p><p>该方案是在pseudo box与GT box的IOU&gt;0.5的基础上，对这些pseudo box再从四个方面来衡量质量的好坏，然后按照质量分数对其进行排序，通过一个采样率选择质量分数Top前几的作为positive样本进行细化，通过此方式训练的网络可以更好。</p><p><img src="/img/article/2022/07/25/12.png" alt="" /></p><p>1.分类质量:该点集与GT的分类损失focal loss</p><p><img src="/img/article/2022/07/25/13.png" alt="" /></p><p>2.定位质量:该点集生成的多边形与GT的GIOU损失值</p><p><img src="/img/article/2022/07/25/14.png" alt="" /></p><p>3.定向质量:通过倒角距离（Chamfer distance）来衡量</p><p><img src="/img/article/2022/07/25/15.png" alt="" /></p><p>4.逐点相关性质量</p><p><img src="/img/article/2022/07/25/16.png" alt="" /></p><p><strong>动态Top K分配</strong>：选择根据前面4个质量标准，质量分数排在前面k的点集生成的pseudo box去做第二阶段的细化。</p><h4 id="loss-function"><a class="markdownIt-Anchor" href="#loss-function"></a> Loss function</h4><p><strong>NearestGTCorner</strong> 和 <strong>ConvexHull</strong> 转换函数实际上生成的不是一个规则的矩形，而是一个不规则的四边形和多边形。所以这个时候就能用GT的角点来衡量loc的损失，这里是用的GIOU的损失，也对分布在GT范围以外的离群点做了惩罚。惩罚项就是对超出GT的离群点做惩罚，让所有的点分布在GT box之内。(通过惩罚监督，边形框就会越来越接近标准的矩形)</p><p><img src="/img/article/2022/07/25/18.png" alt="" /></p><p>分类:</p><p><img src="/img/article/2022/07/25/19.png" alt="" /></p><p><img src="/img/article/2022/07/25/20.png" alt="" /></p><p>有向定位框:</p><p><img src="/img/article/2022/07/25/21.png" alt="" /></p><p>离散点惩罚：</p><p><img src="/img/article/2022/07/25/22.png" alt="" /></p><p><img src="/img/article/2022/07/25/23.png" alt="" /></p><h2 id="实验部分"><a class="markdownIt-Anchor" href="#实验部分"></a> 实验部分</h2><p>Oriented R-CNN</p><p>有两个问题:</p><p>map比论文中的大</p><p>应该是要取多个阈值训练下的平均值。</p><blockquote><p>voc07通过将IoU从0.5变化到0.95计算不同的mAP,再求平均,更能反映出定位精度</p></blockquote><p>与github上给出的log.json还有一定差距(4%)，不知道是不是参数的设置，准备做一个json比对。</p><p>我自己跑过两个相同的训练，相差只有0.2%左右。</p><p>mutilscale数据集</p>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022-07-11-组会</title>
    <link href="/2022/07/11/Seminar/20220711-%E7%BB%84%E4%BC%9A/"/>
    <url>/2022/07/11/Seminar/20220711-%E7%BB%84%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<h1 id="2022-07-11-组会"><a class="markdownIt-Anchor" href="#2022-07-11-组会"></a> 2022-07-11-组会</h1><h2 id="oriented-r-cnn"><a class="markdownIt-Anchor" href="#oriented-r-cnn"></a> Oriented R-CNN</h2><p>周末跑通了Oriented R-CNN的代码</p><p>目前在服务器上跑训练，跑到了epoch4/epoch12</p><p>预计明天跑完</p><h2 id="trick"><a class="markdownIt-Anchor" href="#trick"></a> Trick</h2><p>多尺度训练+多尺度测试（[0.5 1.0 1.5]），可以大幅度提升性能</p>]]></content>
    
    
    <categories>
      
      <category>组会</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022-07-04-组会</title>
    <link href="/2022/07/04/Seminar/20220704-%E7%BB%84%E4%BC%9A/"/>
    <url>/2022/07/04/Seminar/20220704-%E7%BB%84%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<h1 id="2022-07-04-组会"><a class="markdownIt-Anchor" href="#2022-07-04-组会"></a> 2022-07-04-组会</h1><h2 id="gliding-vertex"><a class="markdownIt-Anchor" href="#gliding-vertex"></a> Gliding Vertex</h2><h2 id="rsdet"><a class="markdownIt-Anchor" href="#rsdet"></a> RSDet</h2><p>四边形的检测还是挺有意义的，毕竟四边形相比旋转矩形的定位更加精确。</p><p>这两篇文章也让我知道了，要想考虑使用四边形检测，需要要考虑标签顺序问题和边界回归问题。</p><h2 id="others"><a class="markdownIt-Anchor" href="#others"></a> Others</h2><p>最近使用batchsize = 8重跑了一次ReDet</p><p>5月底第一次用batchsize=1来跑</p><pre class="language-none"><code class="language-none">2022-05-31 11:41:46,926 - mmrotate - INFO - Saving checkpoint at 12 epochs2022-05-31 13:22:35,774 - mmrotate - INFO - +--------------------+-------+--------+--------+-------+| class              | gts   | dets   | recall | ap    |+--------------------+-------+--------+--------+-------+| plane              | 18788 | 23259  | 0.896  | 0.799 || baseball-diamond   | 1087  | 2135   | 0.724  | 0.651 || bridge             | 4181  | 4962   | 0.584  | 0.470 || ground-track-field | 733   | 1090   | 0.618  | 0.556 || small-vehicle      | 58868 | 110625 | 0.841  | 0.748 || large-vehicle      | 43075 | 74399  | 0.905  | 0.842 || ship               | 76153 | 88620  | 0.869  | 0.805 || tennis-court       | 5923  | 9230   | 0.937  | 0.904 || basketball-court   | 1180  | 2564   | 0.770  | 0.700 || storage-tank       | 13670 | 15183  | 0.674  | 0.622 || soccer-ball-field  | 827   | 2764   | 0.625  | 0.472 || roundabout         | 973   | 1973   | 0.623  | 0.544 || harbor             | 15468 | 22735  | 0.791  | 0.687 || swimming-pool      | 3836  | 8011   | 0.794  | 0.644 || helicopter         | 1189  | 1946   | 0.807  | 0.765 |+--------------------+-------+--------+--------+-------+| mAP                |       |        |        | 0.681 |+--------------------+-------+--------+--------+-------+2022-05-31 13:22:35,861 - mmrotate - INFO - Exp name: redet_re50_refpn_1x_dota_le90.py2022-05-31 13:22:35,861 - mmrotate - INFO - Epoch(val) [12][12800]mAP: 0.6807</code></pre><p>7月初第二次用batchsize=8(ReDet论文中的同一batchsize)来跑，结果近似。。</p><p>好像Batch Normalization在这里并没有提高精度</p><pre class="language-none"><code class="language-none">2022-07-02 19:50:12,213 - mmrotate - INFO - Saving checkpoint at 12 epochs2022-07-02 20:20:42,710 - mmrotate - INFO - +--------------------+-------+--------+--------+-------+| class              | gts   | dets   | recall | ap    |+--------------------+-------+--------+--------+-------+| plane              | 18788 | 39421  | 0.931  | 0.892 || baseball-diamond   | 1087  | 5512   | 0.857  | 0.711 || bridge             | 4181  | 25338  | 0.636  | 0.473 || ground-track-field | 733   | 6700   | 0.782  | 0.552 || small-vehicle      | 58868 | 155702 | 0.807  | 0.703 || large-vehicle      | 43075 | 103456 | 0.882  | 0.766 || ship               | 76153 | 112373 | 0.839  | 0.790 || tennis-court       | 5923  | 13502  | 0.932  | 0.901 || basketball-court   | 1180  | 7586   | 0.714  | 0.615 || storage-tank       | 13670 | 33506  | 0.696  | 0.615 || soccer-ball-field  | 827   | 6799   | 0.674  | 0.454 || roundabout         | 973   | 8810   | 0.733  | 0.549 || harbor             | 15468 | 30952  | 0.773  | 0.658 || swimming-pool      | 3836  | 11873  | 0.810  | 0.688 || helicopter         | 1189  | 3929   | 0.866  | 0.786 |+--------------------+-------+--------+--------+-------+| mAP                |       |        |        | 0.677 |+--------------------+-------+--------+--------+-------+2022-07-02 20:20:42,713 - mmrotate - INFO - Exp name: redet_re50_refpn_1x_dota_le90.py2022-07-02 20:20:42,713 - mmrotate - INFO - Epoch(val) [12][12800]mAP: 0.6769</code></pre>]]></content>
    
    
    <categories>
      
      <category>组会</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>RSDet</title>
    <link href="/2022/07/03/AI-Learning/20220703-RSDet/"/>
    <url>/2022/07/03/AI-Learning/20220703-RSDet/</url>
    
    <content type="html"><![CDATA[<h1 id="rsdet"><a class="markdownIt-Anchor" href="#rsdet"></a> RSDet</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><p><strong>论文题目</strong> ：Learning Modulated Loss for Rotated Object Detection</p><p><strong>论文地址</strong> ：<a href="https://arxiv.org/pdf/1911.08299v3.pdf">https://arxiv.org/pdf/1911.08299v3.pdf</a></p><p><strong>论文出处</strong> ：2021’AAAI</p><p><strong>代码实现</strong> ：MMRotate</p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><p>四边形检测，直面顺序标签问题</p><h2 id="detail"><a class="markdownIt-Anchor" href="#detail"></a> Detail</h2><h3 id="quadrilateral-detection"><a class="markdownIt-Anchor" href="#quadrilateral-detection"></a> Quadrilateral detection</h3><p>四边形检测需要考虑顺序标签点的问题:</p><p>举一个简单的例子，如果一个四边形的ground-truth是（x1,y1,x2,y2,x3,y3,x4,y4）并且所有的ground-truth并不是按一定规则顺序标注的，那么检测器有可能给出的预测结果是（x2,y2,x3,y3,x4,y4,x1,y1）。其实这两个是框是完全重合的，只是标注点的顺序变化了但是网络训练算损失的时候并不知道，它会按对应位置计算损失，此时的损失值并不为0甚至很大。</p><h3 id="rsdet-2"><a class="markdownIt-Anchor" href="#rsdet-2"></a> RSDet</h3><p>RSDet使用的是非常直白的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mn>1</mn><mo separator="true">,</mo><mi>y</mi><mn>1</mn><mo separator="true">,</mo><mi>x</mi><mn>2</mn><mo separator="true">,</mo><mi>y</mi><mn>2</mn><mo separator="true">,</mo><mi>x</mi><mn>3</mn><mo separator="true">,</mo><mi>y</mi><mn>3</mn><mo separator="true">,</mo><mi>x</mi><mn>4</mn><mo separator="true">,</mo><mi>y</mi><mn>4</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x1,y1,x2,y2,x3,y3,x4,y4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord">4</span><span class="mclose">)</span></span></span></span>八参数表示法，描述了四边形的四个顶点坐标。</p><p>解决四边形检测的顺序标签点问题:</p><p><img src="/img/article/2022/07/03/3.png" alt="" /></p><p>其主要步骤是先确定最左边的点（如果水平矩形的话有两个点满足取上面的那个）。然后通过向量叉乘找到对角点，也就是第三个点。最后利用这两个点构成的向量以及叉乘方法，根据顺序的要求（逆时针或者顺时针）找点其他两个点。</p><h4 id="边界问题"><a class="markdownIt-Anchor" href="#边界问题"></a> 边界问题</h4><p><img src="/img/article/2022/07/03/2.png" alt="" /></p><p>蓝色预选框到实际位置的回归过程。绿色真实框为{(a→a) , (b→b) ,(c→c), (d→d)} ，但显然理想的回归过程应为{(a→b),(b→c),(c→d),(d→a)}。这种情况也导致模型训练困难和回归不平滑。</p><p><img src="/img/article/2022/07/03/4.png" alt="" /><br />作者设计了旋转损失的八参数版本，由三个部分组成：<br />①将预选框的四个顶点顺时针移动一个位置；<br />②保持预选框顶点的顺序不变；<br />③将预选框的四个顶点逆时针移动一个位置；<br />④在上述三种情况下取最小值</p><h2 id="result"><a class="markdownIt-Anchor" href="#result"></a> Result</h2><p>作者使用RetinaNet进行有关实验。另外，作者得出八参数比五参数更容易回归。</p><p><img src="/img/article/2022/07/03/5.png" alt="" /></p>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Gliding Vertex</title>
    <link href="/2022/07/02/AI-Learning/20220702-Gliding%20Vertex/"/>
    <url>/2022/07/02/AI-Learning/20220702-Gliding%20Vertex/</url>
    
    <content type="html"><![CDATA[<h1 id="gliding-vertex"><a class="markdownIt-Anchor" href="#gliding-vertex"></a> Gliding Vertex</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><p><strong>论文题目</strong> ：Gliding vertex on the horizontal bounding box for multi-oriented object detection</p><p><strong>论文地址</strong> ：<a href="https://arxiv.org/pdf/1911.09358v2.pdf">https://arxiv.org/pdf/1911.09358v2.pdf</a></p><p><strong>论文出处</strong> ：2020’TPAMI</p><p><strong>代码实现</strong> ：MMRotate</p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><p>四边形检测，Gliding Vertex是通过学习四个点在非旋转矩形上的偏移来定位出一个四边形来表示一个物体。但具体来说不是直接回归四边形的四个顶点，而是回归四个长度比(这四个长度比反应了每个对应测的相对滑动偏移量)。额外引入了一个倾角因子r去指导应该进行水平检测还是定向检测。</p><h2 id="detail"><a class="markdownIt-Anchor" href="#detail"></a> Detail</h2><h3 id="quadrilateral-detection"><a class="markdownIt-Anchor" href="#quadrilateral-detection"></a> Quadrilateral detection</h3><p>四边形检测需要考虑顺序标签点的问题:</p><p>举一个简单的例子，如果一个四边形的ground-truth是（x1,y1,x2,y2,x3,y3,x4,y4）并且所有的ground-truth并不是按一定规则顺序标注的，那么检测器有可能给出的预测结果是（x2,y2,x3,y3,x4,y4,x1,y1）。其实这两个是框是完全重合的，只是标注点的顺序变化了但是网络训练算损失的时候并不知道，它会按对应位置计算损失，此时的损失值并不为0甚至很大。</p><h3 id="gliding-vertex-2"><a class="markdownIt-Anchor" href="#gliding-vertex-2"></a> Gliding Vertex</h3><p><img src="/img/article/2022/07/02/2.png" alt="" /></p><p>除了有水平矩形框的基本标签<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>w</mi><mo separator="true">,</mo><mi>h</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,,y,w,h)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">h</span><span class="mclose">)</span></span></span></span>，还额外增加了<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>α</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>α</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>α</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>α</mi><mn>4</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\alpha_1,\alpha_2,\alpha_3,\alpha_4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，另外还额外引入了一个倾角因子<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>.</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span>长度比反应了每个对应测的相对滑动偏移量，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>则是四边形框与其对应水平框的面积比。</p><p><img src="/img/article/2022/07/02/3.png" alt="" /></p><p>Gliding Vertex文章通过改变框的表示方式避免了上述四边形检测的标签排序问题。</p><h3 id="network"><a class="markdownIt-Anchor" href="#network"></a> Network</h3><p><img src="/img/article/2022/07/02/4.png" alt="" /></p><p>整体的网络结构就是Faster R-CNN，并且后续的损失函数也没有进行创新。</p>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu深度学习服务器环境搭建</title>
    <link href="/2022/07/01/Programing/20220701-Ubuntu%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/"/>
    <url>/2022/07/01/Programing/20220701-Ubuntu%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h1 id="ubuntu深度学习服务器环境搭建"><a class="markdownIt-Anchor" href="#ubuntu深度学习服务器环境搭建"></a> Ubuntu深度学习服务器环境搭建</h1><p>进入系统后设置一下root账户密码:</p><pre class="language-bash" data-language="bash"><code class="language-bash">sudo passwd root</code></pre><p>同时为了避免每次sudo都要输入密码，配置一下<code>visudo</code>:</p><pre class="language-bash" data-language="bash"><code class="language-bash">sudo visudo</code></pre><p>文件最后加上一行,$[UserName]改为自己的用户名</p><pre class="language-bash" data-language="bash"><code class="language-bash">$[UserName] All&#x3D;(ALL) NOPASSWD: ALL</code></pre><p><code>ctrl + O</code>，<code>回车</code>保存,<code>ctrl + X</code>退出</p><h2 id="下载安装配置"><a class="markdownIt-Anchor" href="#下载安装配置"></a> 下载安装配置</h2><h3 id="21下载vim"><a class="markdownIt-Anchor" href="#21下载vim"></a> 2.1下载vim</h3><pre class="language-bash" data-language="bash"><code class="language-bash">sudo apt install vim</code></pre><h3 id="22-配置国内镜像软件源"><a class="markdownIt-Anchor" href="#22-配置国内镜像软件源"></a> 2.2 配置国内镜像软件源</h3><ol><li>备份原来的源</li></ol><pre class="language-bash" data-language="bash"><code class="language-bash">cp &#x2F;etc&#x2F;apt&#x2F;sources.list &#x2F;etc&#x2F;apt&#x2F;sources.list.bak</code></pre><ol start="2"><li>设置阿里云镜像源</li></ol><pre class="language-bash" data-language="bash"><code class="language-bash">sudo vim &#x2F;etc&#x2F;apt&#x2F;sources.list</code></pre><p>修改内容为:</p><pre class="language-txt" data-language="txt"><code class="language-txt">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal main restricted universe multiversedeb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal main restricted universe multiversedeb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-security main restricted universe multiversedeb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-security main restricted universe multiversedeb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-updates main restricted universe multiversedeb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-updates main restricted universe multiversedeb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-proposed main restricted universe multiversedeb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-proposed main restricted universe multiversedeb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-backports main restricted universe multiversedeb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; focal-backports main restricted universe multiverse</code></pre><p><code>esc</code>退出编辑,   <code>:wq</code>保存</p><p>更新软件列表</p><pre class="language-bash" data-language="bash"><code class="language-bash">sudo apt updatesudo apt upgrade</code></pre><h3 id="23-安装python和pip"><a class="markdownIt-Anchor" href="#23-安装python和pip"></a> 2.3 安装Python和pip</h3><p>步骤同智辉君.</p><h3 id="24-ssh远程连接"><a class="markdownIt-Anchor" href="#24-ssh远程连接"></a> 2.4  ssh远程连接</h3><ol><li>安装ssh</li></ol><pre class="language-text" data-language="text"><code class="language-text">sudo apt install ssh</code></pre><ol start="2"><li>安装xrdp</li></ol><pre class="language-text" data-language="text"><code class="language-text">sudo apt install xrdp</code></pre><p>启动xrdp:</p><pre class="language-text" data-language="text"><code class="language-text">sudo systemctl status xrdp</code></pre><p>`将xrdp用户添加到ssl-cert  用户组：</p><pre class="language-text" data-language="text"><code class="language-text">sudo adduser xrdp ssl-cert  sudo systemctl restart xrdp</code></pre><p>使用Windows自带的远程桌面软件连接服务器IP地址或者域名就行</p><h3 id="25-安装frp进行内网穿透"><a class="markdownIt-Anchor" href="#25-安装frp进行内网穿透"></a> 2.5 安装frp进行内网穿透</h3><p>这一部分需要一个公网ip,可以用网上的各种临时公网ip租用(如花生壳)，也可以买一个cvm云服务器(送一个公网ip)</p><p><a href="https://github.com/fatedier/frp/releases">https://github.com/fatedier/frp/releases</a></p><p>本人下载的是frp_0.43.0_linux_amd64.tar</p><h4 id="在云服务器端配置frps-frp-server"><a class="markdownIt-Anchor" href="#在云服务器端配置frps-frp-server"></a> 在云服务器端配置frps (frp server)</h4><p>解压</p><pre class="language-bash" data-language="bash"><code class="language-bash">tar -zxvf frp_0.43.0_linux_amd64.tar.gz</code></pre><p>编辑frps.ini 文件</p><pre class="language-bash" data-language="bash"><code class="language-bash">[common]#frp服务的端口号，可以自己定bind_port &#x3D; 7000 #frp的web界面的端口号dashboard_port &#x3D; 7500 #web界面的登陆账户，自己修改dashboard_user &#x3D; user#web界面的登陆密码，自己修改dashboard_pwd &#x3D; pass authentication_method &#x3D; token#frp客户端连接时的密码，自己修改token &#x3D; xxxxx </code></pre><p>在<code>/etc/systemd/system/</code>配置自动运行服务脚本frps.service(<code>vim frps.service</code>)</p><pre class="language-bash" data-language="bash"><code class="language-bash">[GLACIER]Description&#x3D;Frp Server DaemonAfter&#x3D;syslog.target network.targetWants&#x3D;network.target [Service]Type&#x3D;simple#修改为你的frps实际安装目录ExecStart&#x3D;&#x2F;usr&#x2F;local&#x2F;bin&#x2F;frp&#x2F;frps -c &#x2F;usr&#x2F;local&#x2F;bin&#x2F;frp&#x2F;frps.ini ExecStop&#x3D;&#x2F;usr&#x2F;bin&#x2F;killall frps#启动失败1分钟后再次启动RestartSec&#x3D;1minKillMode&#x3D;control-group#重启控制：总是重启Restart&#x3D;always [Install]WantedBy&#x3D;multi-user.target</code></pre><p>启用脚本并查看脚本状态,为running配置成功:</p><pre class="language-bash" data-language="bash"><code class="language-bash">sudo systemctl enable frps.servicesudo systemctl start frps.servicesudo systemctl status frps.service</code></pre><p><strong>注意</strong></p><blockquote><p>大部分云服务器都要配置安全组，将对应端口放行</p><p>如果云服务器上还配置了nginx服务器如宝塔，要注意防火墙将对应端口放行</p></blockquote><h4 id="在个人服务器端配置frpc-frp-client"><a class="markdownIt-Anchor" href="#在个人服务器端配置frpc-frp-client"></a> 在个人服务器端配置frpc (frp client)</h4><p>解压</p><pre class="language-bash" data-language="bash"><code class="language-bash">tar -zxvf frp_0.43.0_linux_amd64.tar.gz</code></pre><p>编辑frpc.ini 文件</p><pre class="language-bash" data-language="bash"><code class="language-bash">[common]#你的云服务器的公网ipserver_addr &#x3D; xx.xx.xx.xx authentication_method &#x3D; token#刚刚配置的frp连接密码 token &#x3D; xxxxx #刚刚配置的frp服务端口server_port &#x3D; 7000#Frpc login to server failed: i&#x2F;o deadline reachedtls_enable &#x3D; true[GLACIER-ssh]type &#x3D; tcplocal_ip &#x3D; 127.0.0.1local_port &#x3D; 22remote_port &#x3D; 20022[GLACIER-rdp]type &#x3D; tcplocal_ip &#x3D; 127.0.0.1local_port &#x3D; 3389remote_port &#x3D; 23389</code></pre><p>在<code>/etc/systemd/system/</code>下配置自动运行服务脚本frpc.service(<code>vim frpc.service</code>)</p><pre class="language-text" data-language="text"><code class="language-text">[GLACIER]Description&#x3D;Frp Client DaemonAfter&#x3D;syslog.target network.targetWants&#x3D;network.target [Service]Type&#x3D;simple#修改为你的frpc实际安装目录ExecStart&#x3D;&#x2F;usr&#x2F;local&#x2F;bin&#x2F;frp&#x2F;frpc -c &#x2F;usr&#x2F;local&#x2F;bin&#x2F;frp&#x2F;frpc.ini ExecStop&#x3D;&#x2F;usr&#x2F;bin&#x2F;killall frpc#启动失败1分钟后再次启动RestartSec&#x3D;1minKillMode&#x3D;control-group#重启控制：总是重启Restart&#x3D;always [Install]WantedBy&#x3D;multi-user.target</code></pre><p>启用脚本并查看脚本状态,为running配置成功:</p><pre class="language-bash" data-language="bash"><code class="language-bash">sudo systemctl enable frpc.servicesudo systemctl start frpc.servicesudo systemctl status frpc.service</code></pre><h3 id="26-配置samba映射网络驱动"><a class="markdownIt-Anchor" href="#26-配置samba映射网络驱动"></a> 2.6 配置SAMBA，映射网络驱动</h3><h4 id="个人服务器端"><a class="markdownIt-Anchor" href="#个人服务器端"></a> 个人服务器端</h4><ol><li>安装<code>samba</code> 和<code>samba-common-bin</code></li></ol><pre class="language-bash" data-language="bash"><code class="language-bash">sudo apt-get install samba samba-common-bin</code></pre><ol start="2"><li>配置/etc/samba/smb.conf文件</li></ol><pre class="language-bash" data-language="bash"><code class="language-bash">sudo vim &#x2F;etc&#x2F;samba&#x2F;smb.conf</code></pre><p>在最后一行后面加入：</p><pre class="language-bash" data-language="bash"><code class="language-bash"># 共享文件夹显示的名称[home]# 说明信息comment &#x3D; GLACIER WorkStation Storage# 可以访问的用户valid users &#x3D; grinder,root# 共享文件的路径path &#x3D; &#x2F;home&#x2F;grinder&#x2F;# 可被其他人看到资源名称（非内容）browseable &#x3D; yes# 可写writable &#x3D; yes# 新建文件的权限为 664create mask &#x3D; 0664# 新建目录的权限为 775directory mask &#x3D; 0775</code></pre><ol start="3"><li>添加登陆账户并创建密码</li></ol><pre class="language-bash" data-language="bash"><code class="language-bash">sudo smbpasswd -a grinder</code></pre><p>重启服务即可:</p><pre class="language-bash" data-language="bash"><code class="language-bash">sudo &#x2F;etc&#x2F;init.d&#x2F;samba-ad-dc restart</code></pre><h4 id="window端"><a class="markdownIt-Anchor" href="#window端"></a> Window端</h4><p><strong>控制面板</strong> -&gt; <strong>程序</strong> -&gt; <strong>程序和功能</strong> -&gt; <strong>启用或关闭 Windows 功能</strong> -&gt; 勾选<strong>SMB 1.0/CIFS 文件共享支持</strong></p><p>(<strong>Win + R</strong> 快捷键打开运行界面 ，输入<strong>gpedit.msc</strong> 打开本地组策略编辑器)</p><p><strong>本地组策略编辑器</strong> -&gt; <strong>计算机配置</strong> -&gt; <strong>管理模板</strong> -&gt; <strong>网络</strong> -&gt; <strong>Lanman工作站</strong> -&gt; <strong>启用不安全的来宾登录</strong></p><p>(<strong>Win + R</strong> 快捷键打开运行界面 ，输入<strong>secpol.msc</strong> 打开本地安全策略编辑器)</p><p><strong>本地安全策略编辑器</strong> -&gt; <strong>本地策略</strong> -&gt; <strong>安全选项</strong> -&gt; <strong>网络安全：LAN管理器身份验证级别</strong> -&gt; <strong>仅发送 NTLM2响应</strong></p><p>重启Windows</p><p>映射网络驱动器  : <code>\\192.168.0.106</code> =&gt; (ip地址是你的ubuntu服务器, 用<code>ifconfig</code>查看)</p><p>以上于2022年6月29日 配置完成</p><p>做完以上步骤就能方便的使用ssh连接该服务器了</p><h2 id="dl环境"><a class="markdownIt-Anchor" href="#dl环境"></a> DL环境</h2><h3 id="31-安装nvidia驱动"><a class="markdownIt-Anchor" href="#31-安装nvidia驱动"></a> 3.1 安装NVIDIA驱动</h3><p>进入系统的图形桌面，打开<code>Software &amp; Updates</code>软件，可以看到标签栏有一个<code>Additional Drivers</code>：</p><p>选择510版本的驱动安装，不要选择515测试版</p><p>安装完后重启电脑，查看显卡驱动:</p><pre class="language-none"><code class="language-none">nvidia-smi</code></pre><h3 id="32-安装cuda"><a class="markdownIt-Anchor" href="#32-安装cuda"></a> 3.2 安装CUDA</h3><p>这里pythorch 有11.3的支持，因此选择安装11.3update1版本的cuda</p><p>登录https://developer.nvidia.com/cuda-toolkit-archive</p><p>选择11.3.1版本的runfile版本,下载到/usr/local/bin中，在这个过程中可以先下载liburcu6</p><blockquote><p>然后22.04的ubuntu需要下载liburcu6: <a href="https://packages.debian.org/bullseye/amd64/liburcu6/download">https://packages.debian.org/bullseye/amd64/liburcu6/download</a><br />解压安装该liburcu6</p><pre class="language-bash" data-language="bash"><code class="language-bash">&gt;sudo dpkg -i  liburcu6_0.12.2-1amd64.deb</code></pre></blockquote><p>下载好cuda11.3后，执行以下命令安装</p><p>如果你的gcc版本是11，需要添加<code>--orverride</code>或者降级到gcc9</p><p><a href="https://blog.csdn.net/Cris_Hu/article/details/124711093">https://blog.csdn.net/Cris_Hu/article/details/124711093</a></p><pre class="language-bash" data-language="bash"><code class="language-bash">sudo chmod +x cuda_11.3.1_465.19.01_linux.runsudo sh cuda_11.3.1_465.19.01_linux.run  (--override)</code></pre><p>配置环境变量</p><pre class="language-bash" data-language="bash"><code class="language-bash">sudo vim  ~&#x2F;.bashrc</code></pre><p>在该文件的最后一行加入以下语句:</p><pre class="language-bash" data-language="bash"><code class="language-bash"># CUDA Environment Pathexport CUDA_HOME&#x3D;&#x2F;usr&#x2F;local&#x2F;cuda-11.3export LD_LIBRARY_PATH&#x3D;$&#123;CUDA_HOME&#125;&#x2F;lib64export PATH&#x3D;$&#123;CUDA_HOME&#125;&#x2F;bin:$&#123;PATH&#125;</code></pre><p>更新环境变量:</p><pre class="language-bash" data-language="bash"><code class="language-bash">source ~&#x2F;.bashrc</code></pre><p>使用命令查看cuda信息，检验是否安装成功:</p><pre class="language-bash" data-language="bash"><code class="language-bash">nvcc -V</code></pre><h3 id="33安装cudnn"><a class="markdownIt-Anchor" href="#33安装cudnn"></a> 3.3安装CuDNN</h3><p><a href="https://developer.nvidia.com/rdp/cudnn-download">https://developer.nvidia.com/rdp/cudnn-download</a></p><p>需要登录网址才能下载cudnn</p><blockquote><p>备忘: 这里我用的是QQ邮箱账号和密码政注册的</p></blockquote><p>然后选择cudnn 8.4.1 Linux_x86_64.tar下载</p><p>解压:</p><p>使用以下两条命令复制这些文件到CUDA目录下：(<strong>注意修改</strong>)</p><pre class="language-text" data-language="text"><code class="language-text">sudo cp cudann&#x2F;lib64&#x2F;* &#x2F;usr&#x2F;local&#x2F;cuda-11.3&#x2F;lib64&#x2F;sudo cp cudann&#x2F;include&#x2F;* &#x2F;usr&#x2F;local&#x2F;cuda-11.3&#x2F;include&#x2F;</code></pre><p>查看CUDNN版本</p><pre class="language-none"><code class="language-none">cat &#x2F;usr&#x2F;local&#x2F;cuda&#x2F;include&#x2F;cudnn_version.h | grep CUDNN_MAJOR -A 2</code></pre><h3 id="34-安装anaconda"><a class="markdownIt-Anchor" href="#34-安装anaconda"></a> 3.4 安装anaconda</h3><p>浏览器搜索然后安装linux版的就好了</p><p>注意安装在<code>/home/&#123;用户名&#125;/Software</code>下，</p><p>如果你不想安装Docker，那么可以直接开始建你需要的虚拟环境了</p><h3 id="35-安装docker"><a class="markdownIt-Anchor" href="#35-安装docker"></a> 3.5 安装Docker</h3><h2 id="杂项配置"><a class="markdownIt-Anchor" href="#杂项配置"></a> 杂项配置</h2><h3 id="安装pycharm"><a class="markdownIt-Anchor" href="#安装pycharm"></a> 安装Pycharm</h3><h3 id="同步ubuntu和window时间"><a class="markdownIt-Anchor" href="#同步ubuntu和window时间"></a> 同步ubuntu和window时间</h3><pre class="language-bash" data-language="bash"><code class="language-bash">sudo apt install ntpdatesudo ntpdate time.windows.comsudo hwclock --localtime --systohc</code></pre><h3 id="unbuntu截图工具flameshot"><a class="markdownIt-Anchor" href="#unbuntu截图工具flameshot"></a> Unbuntu截图工具flameshot</h3><pre class="language-bash" data-language="bash"><code class="language-bash">sudo apt install flameshot</code></pre>]]></content>
    
    
    <categories>
      
      <category>常用命令</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022-06-27-组会</title>
    <link href="/2022/06/27/Seminar/20220627-%E7%BB%84%E4%BC%9A/"/>
    <url>/2022/06/27/Seminar/20220627-%E7%BB%84%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<h1 id="2022-06-27-组会"><a class="markdownIt-Anchor" href="#2022-06-27-组会"></a> 2022-06-27-组会</h1><h2 id="oriented-r-cnn"><a class="markdownIt-Anchor" href="#oriented-r-cnn"></a> Oriented R-CNN</h2><p>2021 CVPR</p><p><a href="/2022/06/26/AI-Learning/20220627-Oriented R-CNN" target="_blank">Oriented R-CNN解读</a></p><h2 id="kld"><a class="markdownIt-Anchor" href="#kld"></a> KLD</h2><p>2021 NeurIPS</p><p><strong>Gaussian Wasserstein Distance换成了Kullback-Leibler Divergence</strong></p><p>GWD的侧重点在于分析将框的表示从<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>w</mi><mo separator="true">,</mo><mi>h</mi><mo separator="true">,</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,y,w,h,\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">h</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span>转换成二维高斯分布的好处，也就是解决了边界问题、类正方形检测问题、损失和评估不一致问题</p><p>作者在KLD中从理论上分析：为什么Kullback-Leibler Divergence会比Wasserstein Distance要好</p><p>用旋转还是水平anchor有了一些新的理解:</p><blockquote><p><strong>当目标非常小或者某一条边比较短的时候，很小的位置偏移都会造成IoU的急剧下降</strong></p><p>偏移的现象和中心点参数梯度的权重有关，</p><p>旋转anchor能提供高质量的先验，它的长宽和gt接近，所以基于旋转anchor的方法中心点偏移不严重；</p><p>而水平anchor的长宽没法反应实际gt的尺寸大小，因此中心点偏移严重，需要额外的精修阶段</p></blockquote><h2 id="scrdet"><a class="markdownIt-Anchor" href="#scrdet"></a> SCRDet</h2><p>2019 ICCV</p><p>放在现在，没有特别多能够借鉴的地方，因为现在许多基于RPN的检测器都超过了该检测器</p><p>IoU-Smooth L1 Loss</p>]]></content>
    
    
    <categories>
      
      <category>组会</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oriented R-CNN</title>
    <link href="/2022/06/26/AI-Learning/20220627-Oriented%20R-CNN/"/>
    <url>/2022/06/26/AI-Learning/20220627-Oriented%20R-CNN/</url>
    
    <content type="html"><![CDATA[<h1 id="oriented-r-cnn"><a class="markdownIt-Anchor" href="#oriented-r-cnn"></a> Oriented R-CNN</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><p><strong>论文题目</strong> ：Oriented R-CNN for Object Detection</p><p><strong>论文地址</strong> ：<a href="https://arxiv.org/pdf/2101.11952v4.pdf">https://arxiv.org/pdf/2101.11952v4.pdf</a></p><p><strong>论文出处</strong> ：2021’CVPR</p><p><strong>代码实现</strong> ：<a href="https://github.com/jbwang1997/OBBDetection">https://github.com/jbwang1997/OBBDetection</a></p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><p>Oriented R-CNN是一个Two-Stage的检测器。</p><p>在the first stage上，作者进行了主要创新:提出了oriented Region Proposal Network(简称oriented RPN)，该网络能 <strong>已近乎0成本的方式直接生成高质量的旋转建议框(oriented proposal)</strong> ，使得检测速度在单张2080ti上达到了15.1FPS；在the second stage上，作者沿用了ROI Transformer中的RROI Align提取旋转不变特征，并用于后续分类和回归。</p><h2 id="detail"><a class="markdownIt-Anchor" href="#detail"></a> Detail</h2><h3 id="related-work"><a class="markdownIt-Anchor" href="#related-work"></a> Related Work</h3><p><img src="/img/article/2022/06/27/2.png" alt="" /></p><p>之前的Two-Stage检测器主要存在以下问题：</p><ol><li>生成旋转建议框的计算成本很高</li><li>采用水平ROI进行分类和定向边界框回归，这样对象和特征之间的错位导致分类置信度与定位精度的不一致</li></ol><h3 id="oriented-r-cnn-2"><a class="markdownIt-Anchor" href="#oriented-r-cnn-2"></a> Oriented R-CNN</h3><p><img src="/img/article/2022/06/27/3.png" alt="" /></p><p>具体细分为Oriented RPN和Oriented R-CNN Head两个部分。</p><h4 id="oriented-rpn"><a class="markdownIt-Anchor" href="#oriented-rpn"></a> Oriented RPN</h4><p><img src="/img/article/2022/06/27/4.png" alt="" /></p><p><img src="/img/article/2022/06/27/5.png" alt="" /></p><p>其实Oriented RPN是很自然并且很直观的一个idea，但它实现的关键就在于如何直接表示oriented proposal。</p><p>在原本的RPN基础上，作者添加了两个1x1的conv layer构成了Oriented RPN。</p><p>第一个conv layer是一个回归分支，通过6A的channel输出proposal相对于anchor的偏移量:</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>δ</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>δ</mi><mi>x</mi></msub><mo separator="true">,</mo><msub><mi>δ</mi><mi>y</mi></msub><mo separator="true">,</mo><msub><mi>δ</mi><mi>w</mi></msub><mo separator="true">,</mo><msub><mi>δ</mi><mi>h</mi></msub><mo separator="true">,</mo><msub><mi>δ</mi><mi>α</mi></msub><mo separator="true">,</mo><msub><mi>δ</mi><mi>β</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\delta = (\delta_{x},\delta_{y},\delta_{w},\delta_{h},\delta_{\alpha},\delta_{\beta})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p><img src="/img/article/2022/06/27/6.png" alt="" /></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">Δ</mi><mi>α</mi><mo>=</mo><msub><mi>δ</mi><mi>α</mi></msub><mo>⋅</mo><mi>w</mi><mo separator="true">,</mo><mspace width="1em"/><mi mathvariant="normal">Δ</mi><mi>β</mi><mo>=</mo><msub><mi>δ</mi><mi>β</mi></msub><mo>⋅</mo><mi>h</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>w</mi><mo>=</mo><msub><mi>a</mi><mi>w</mi></msub><mo>⋅</mo><msup><mi>e</mi><msub><mi>δ</mi><mi>w</mi></msub></msup><mo separator="true">,</mo><mspace width="1em"/><mi>h</mi><mo>=</mo><msub><mi>a</mi><mi>h</mi></msub><mo>⋅</mo><msup><mi>e</mi><msub><mi>δ</mi><mi>h</mi></msub></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>=</mo><msub><mi>δ</mi><mi>x</mi></msub><mo>⋅</mo><msub><mi>a</mi><mi>w</mi></msub><mo>+</mo><msub><mi>a</mi><mi>x</mi></msub><mo separator="true">,</mo><mspace width="1em"/><mi>y</mi><mo>=</mo><msub><mi>δ</mi><mi>y</mi></msub><mo>⋅</mo><msub><mi>a</mi><mi>h</mi></msub><mo>+</mo><msub><mi>a</mi><mi>y</mi></msub></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\left\{\begin{array}{l}\Delta \alpha=\delta_\alpha \cdot w, \quad \Delta \beta=\delta_\beta \cdot h \\ w=a_w \cdot e^{\delta_w}, \quad h=a_h \cdot e^{\delta_h} \\ x=\delta_x \cdot a_w+a_x, \quad y=\delta_y \cdot a_h+a_y\end{array}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.609108000000001em;vertical-align:-1.5545540000000004em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.49999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.30002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0545540000000004em;"><span style="top:-4.214554000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">h</span></span></span><span style="top:-3.0054459999999996em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.03785em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault">h</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.03785em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-1.8054459999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5545540000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>然后通过上述公式Decoding得到:</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>w</mi><mo separator="true">,</mo><mi>h</mi><mo separator="true">,</mo><mi mathvariant="normal">△</mi><mi>α</mi><mo separator="true">,</mo><mi mathvariant="normal">△</mi><mi>β</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,y,w,h,\triangle\alpha,\triangle\beta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">h</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">△</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">△</span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mclose">)</span></span></span></span></p><p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">△</mi><mi>α</mi><mo separator="true">,</mo><mi mathvariant="normal">△</mi><mi>β</mi></mrow><annotation encoding="application/x-tex">\triangle\alpha,\triangle\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">△</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">△</span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span></span></span></span>是平行四边形proposal顶点相对于外部矩形上侧和右侧中点的偏移量</p><p><img src="/img/article/2022/06/27/7.png" alt="" /></p><p>然后通过上述公式求得proposal四个顶点:</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>v</mi><mn>1</mn><mo separator="true">,</mo><mi>v</mi><mn>2</mn><mo separator="true">,</mo><mi>v</mi><mn>3</mn><mo separator="true">,</mo><mi>v</mi><mn>4</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(v1,v2,v3,v4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord">4</span><span class="mclose">)</span></span></span></span></p><p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi><mn>1</mn><mo separator="true">,</mo><mi>v</mi><mn>2</mn><mo separator="true">,</mo><mi>v</mi><mn>3</mn><mo separator="true">,</mo><mi>v</mi><mn>4</mn></mrow><annotation encoding="application/x-tex">v1,v2,v3,v4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord">4</span></span></span></span>是平行四边形proposal四个顶点的坐标向量</p><p><img src="/img/article/2022/06/27/8.png" alt="" /></p><p>作者将上述这个表示法称为midpoint offset representation。</p><p>第二个conv layer是一个对oriented proposal分类准确度的评分分支，不重要，具体没有展开讲解。</p><h4 id="oriented-r-cnn-head"><a class="markdownIt-Anchor" href="#oriented-r-cnn-head"></a> Oriented R-CNN Head</h4><p><img src="/img/article/2022/06/27/9.png" alt="" /></p><p>得到了上述的平行四边形oriented proposals<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>v</mi><mn>1</mn><mo separator="true">,</mo><mi>v</mi><mn>2</mn><mo separator="true">,</mo><mi>v</mi><mn>3</mn><mo separator="true">,</mo><mi>v</mi><mn>4</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(v1,v2,v3,v4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord">4</span><span class="mclose">)</span></span></span></span>后，需要转换为矩形才能用于RROI Align。</p><p>作者的做法是 <strong>延长该平行四边形两条对角线中较短的一边，以此构成矩形框</strong></p><p><img src="/img/article/2022/06/27/10.png" alt="" /></p><p>通过数学方法将<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>v</mi><mn>1</mn><mo separator="true">,</mo><mi>v</mi><mn>2</mn><mo separator="true">,</mo><mi>v</mi><mn>3</mn><mo separator="true">,</mo><mi>v</mi><mn>4</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(v1,v2,v3,v4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord">4</span><span class="mclose">)</span></span></span></span>转为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>w</mi><mo separator="true">,</mo><mi>h</mi><mo separator="true">,</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,y,w,h,\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">h</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span>，而后将该矩形框映射到Feature map上，再进入到后续RROI Align模块。</p><p>RROI Align部分，直接沿用了ROI Transformer中的成果，使用深度特征对齐提取旋转不变特征，并用于后续分类和回归。</p><h3 id="experiments"><a class="markdownIt-Anchor" href="#experiments"></a> Experiments</h3><p>作者使用ResNet-50-FPN, ResNet-101-FPN作为Backbone，在DOTA和HSRC2016数据集上，用单张2080ti做训练和测试，达到了SOTA。</p><p><img src="/img/article/2022/06/27/11.png" alt="" /></p>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GWD Loss</title>
    <link href="/2022/06/19/AI-Learning/20220620-GWD/"/>
    <url>/2022/06/19/AI-Learning/20220620-GWD/</url>
    
    <content type="html"><![CDATA[<h1 id="gaussian-wasserstein-distance-loss"><a class="markdownIt-Anchor" href="#gaussian-wasserstein-distance-loss"></a> Gaussian Wasserstein Distance Loss</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><p><strong>论文题目</strong> : Rethinking Rotated Object Detection with GaussianWasserstein Distance Loss</p><p><strong>论文地址</strong> : <a href="https://arxiv.org/pdf/2101.11952v4.pdf">https://arxiv.org/pdf/2101.11952v4.pdf</a></p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><p>将任意旋转矩形近似成一个二维的高斯分布，通过计算分布之间的Wasserstein距离解决RIoU不可导的问题</p><p>目前旋转目标检测主流的工作，相较于水平目标检测，都是添加一个角度参数，采用回归的方法来预测旋转角度。但是这样的角度回归模型会带来新的问题：</p><ol><li>评估度量（metric）和损失（loss）和的不一致性</li><li>边界不连续性</li><li>类正方形检测问题</li></ol><h2 id="detail"><a class="markdownIt-Anchor" href="#detail"></a> Detail</h2><p>先认识上述提到的三个问题</p><h3 id="the-inconsistency-between-metriciou-and-loss"><a class="markdownIt-Anchor" href="#the-inconsistency-between-metriciou-and-loss"></a> The inconsistency between metric（IOU） and loss</h3><p>IOU一直是水平和旋转目标检测的标准评估指标，然而该度量和回归损失之间存在着不一致。</p><p>在水平目标检测中,后面提出的PIOU和DIOU可以填补这个问题，但是在旋转目标检测中，两个旋转框的IOU的Learning是不可微分的(旋转IoU存在稀疏的几个不可导点)</p><blockquote><p>作者举例提到了一个(ln-norms)，并给出了论文索引[45,80]，还没深究。</p></blockquote><p>而旋转目标检测的角度回归模型，更放大了这一特性:</p><p><img src="/img/article/2022/06/20/3.png" alt="" /></p><p>主要看图中IOU和经典旋转目标检测中的Smooth L1 Loss的对比</p><ol><li>图a描述了角度差和损失函数的关系</li><li>图b展示了具有不同的长宽比例的检测框和损失函数的关系</li><li>图c探讨了中心点移动和损失函数的关系</li></ol><p>通过以上对比，可以看出旋转目标检测中经典的Smooth L1 loss的缺陷。</p><h3 id="boundary-discontinuity"><a class="markdownIt-Anchor" href="#boundary-discontinuity"></a> Boundary discontinuity</h3><p>两种定义方法:长边定义法和OpenCV定义法。</p><p><img src="/img/article/2022/06/20/4.png" alt="" /></p><p>这里的边界问题主要在于预定义的anchor/proposal如果在90度,180度等这样的边界位置，</p><blockquote><p><strong>长边定义法在边界处有角度的周期性(POA)</strong></p><p><strong>OpenCV定义法在边界处有角度的周期性(POA)和长短边的可交换性(EOE)</strong></p></blockquote><p><strong>导致预测框的结果超出了定义范围</strong>，此时会带来非常大的Smooth L1 IOU Loss。</p><p>这对一些学习能力较弱的模型，在边界情况下的表现是非常脆弱的:</p><p><img src="/img/article/2022/06/20/2.png" alt="" /></p><h3 id="square-like-problem"><a class="markdownIt-Anchor" href="#square-like-problem"></a> Square-like problem</h3><p>基于长边定义法的模型还存在一个类似正方形的对象检测问题。</p><p><img src="/img/article/2022/06/20/5.png" alt="" /></p><p>预测框(-60度)和Ground Truth(30度)的IOU接近1，但是回归损失会很大，这样又回到了第一个问题:评估度量和损失的不一致。</p><p>而由于OpenCV定义法具有长短边的可交换性，因此不存在类Square-like problem。</p><h3 id="the-proposed-method"><a class="markdownIt-Anchor" href="#the-proposed-method"></a> The Proposed Method</h3><p>将任意旋转矩形近似成一个二维的高斯分布，通过计算分布之间的Wasserstein距离解决RIoU不可导的问题</p><p><img src="/img/article/2022/06/20/6.png" alt="" /></p><p>将任意旋转矩形框转换为二维高斯分布:</p><p><img src="/img/article/2022/06/20/7.png" alt="" /></p><p>两个高斯分布之间的Wasserstein距离公式:</p><p><img src="/img/article/2022/06/20/8.png" alt="" /></p><p>而该Wasserstein距离是可导的，这样通过计算两个高斯分布之间Wasserstein距离的Loss来近似IOU的Loss</p><p>后续通过引入一些超参数变换，控制函数值域，去近似IOU的Loss：</p><p><img src="/img/article/2022/06/20/9.png" alt="" /></p><h2 id="result"><a class="markdownIt-Anchor" href="#result"></a> Result</h2><p>作者在五个公共数据集和两个前沿的旋转目标检测模型上，应用了该GWD Loss，得到的效果基本完胜IoU-Smooth L1 Loss, Modulated loss，CSL, 和DCL。</p><p><img src="/img/article/2022/06/20/10.png" alt="" /></p><p><img src="/img/article/2022/06/20/11.png" alt="" /></p><p><img src="/img/article/2022/06/20/12.png" alt="" /></p>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022-06-06-组会</title>
    <link href="/2022/06/05/Seminar/20220606-%E7%BB%84%E4%BC%9A/"/>
    <url>/2022/06/05/Seminar/20220606-%E7%BB%84%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<h1 id="2022-06-06-组会"><a class="markdownIt-Anchor" href="#2022-06-06-组会"></a> 2022-06-06-组会</h1><h2 id="训练结果"><a class="markdownIt-Anchor" href="#训练结果"></a> 训练结果</h2><p>跑完了ReDet的训练(基于DOTAv1.0)</p><p>训练结果日志:</p><p>ap为平均精度</p><pre class="language-none"><code class="language-none">2022-05-31 13:41:46,926 - mmrotate - INFO - Saving checkpoint at 12 epochs2022-05-31 14:22:35,774 - mmrotate - INFO - +--------------------+-------+--------+--------+-------+| class              | gts   | dets   | recall | ap    |+--------------------+-------+--------+--------+-------+| plane              | 18788 | 23259  | 0.896  | 0.799 || baseball-diamond   | 1087  | 2135   | 0.724  | 0.651 || bridge             | 4181  | 4962   | 0.584  | 0.470 || ground-track-field | 733   | 1090   | 0.618  | 0.556 || small-vehicle      | 58868 | 110625 | 0.841  | 0.748 || large-vehicle      | 43075 | 74399  | 0.905  | 0.842 || ship               | 76153 | 88620  | 0.869  | 0.805 || tennis-court       | 5923  | 9230   | 0.937  | 0.904 || basketball-court   | 1180  | 2564   | 0.770  | 0.700 || storage-tank       | 13670 | 15183  | 0.674  | 0.622 || soccer-ball-field  | 827   | 2764   | 0.625  | 0.472 || roundabout         | 973   | 1973   | 0.623  | 0.544 || harbor             | 15468 | 22735  | 0.791  | 0.687 || swimming-pool      | 3836  | 8011   | 0.794  | 0.644 || helicopter         | 1189  | 1946   | 0.807  | 0.765 |+--------------------+-------+--------+--------+-------+| mAP                |       |        |        | 0.681 |+--------------------+-------+--------+--------+-------+2022-05-31 14:22:35,861 - mmrotate - INFO - Exp name: redet_re50_refpn_1x_dota_le90.py2022-05-31 14:22:35,861 - mmrotate - INFO - Epoch(val) [12][12800]mAP: 0.6807</code></pre><p>和论文中贴出来的结果表格的相比，总体mAP(平均精度均值)要少8个百分点:</p><p><img src="/img/article/2022/06/06/1.png" alt="" /></p><p>初步分析是因为Batch Size不一样， GPU不一样,:</p><p><img src="/img/article/2022/06/06/4.png" alt="" /></p><p>我租用的云服务器GPU是2080ti，因为第一次训练怕爆显存，我跑的时候batch_size设置成了1。</p><h2 id="日志分析"><a class="markdownIt-Anchor" href="#日志分析"></a> 日志分析</h2><p>分类损失和回归损失:</p><p>最终loss_rpn_cls: 0.0263, loss_rpn_bbox: 0.0228</p><p><img src="/img/article/2022/06/06/2.png" alt="" /></p><p>总Loss函数损失:</p><p>最终总loss: 0.5917</p><p><img src="/img/article/2022/06/06/3.png" alt="" /></p>]]></content>
    
    
    <categories>
      
      <category>组会</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022-05-30-组会</title>
    <link href="/2022/05/29/Seminar/20220530-%E7%BB%84%E4%BC%9A/"/>
    <url>/2022/05/29/Seminar/20220530-%E7%BB%84%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<h1 id="2022-05-29-组会"><a class="markdownIt-Anchor" href="#2022-05-29-组会"></a> 2022-05-29-组会</h1><p>已经通过MMRotate框架，跑通了ReDet模型</p><p>目前正在训练,设置了一共跑12个epoch。</p><p>2022/5/29  17时，开始训练</p><p><img src="/img/article/2022/05/30/1.png" alt="" /></p><p>2022/5/30  14时, 正在跑第6个epoch，</p><p><img src="/img/article/2022/05/30/2.png" alt="" /></p><p>大概要跑到5月31日晚上</p>]]></content>
    
    
    <categories>
      
      <category>组会</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MMRotate框架学习(一)</title>
    <link href="/2022/05/22/AI-Learning/Code-Implement/20220523-MMRotate/"/>
    <url>/2022/05/22/AI-Learning/Code-Implement/20220523-MMRotate/</url>
    
    <content type="html"><![CDATA[<h1 id="mmrotate框架学习一"><a class="markdownIt-Anchor" href="#mmrotate框架学习一"></a> MMRotate框架学习(一)</h1><h2 id="mmrotate中的旋转框定义"><a class="markdownIt-Anchor" href="#mmrotate中的旋转框定义"></a> MMRotate中的旋转框定义</h2><p>图像空间采用右手坐标系 (y,x) ，即 y轴 是从上-&gt;下， x轴是从左-&gt;右。 此时存在2种相反的旋转方向，顺时针和逆时针。</p><h3 id="旋转变换"><a class="markdownIt-Anchor" href="#旋转变换"></a> 旋转变换</h3><h4 id="顺时针cw"><a class="markdownIt-Anchor" href="#顺时针cw"></a> 顺时针(CW)</h4><p>顺时针正角度，逆时针负角度。(<strong>上负下正</strong>)</p><pre class="language-none"><code class="language-none">0-------------------&gt; x (0 rad)|  A-------------B|  |             ||  |     box     h|  |   angle&#x3D;0   ||  D------w------Cvy (pi&#x2F;2 rad)</code></pre><h5 id="顺时针的旋转矩阵"><a class="markdownIt-Anchor" href="#顺时针的旋转矩阵"></a> 顺时针的旋转矩阵</h5><p>因为采用的是右手坐标系，所以顺时针的旋转矩阵与普通坐标系逆时针的旋转矩阵是一样的。</p><p>{\begin{split}\begin{pmatrix} \cos\alpha & -\sin\alpha \\ \sin\alpha & \cos\alpha \end{pmatrix}\end{split}}</p><h5 id="顺时针的旋转变换"><a class="markdownIt-Anchor" href="#顺时针的旋转变换"></a> 顺时针的旋转变换</h5><p>通过旋转变换，可以通过目标框中心点，求得旋转后目标框的任意点坐标的公式，在代码中实现。</p><p>\begin{split}P_A= \begin{pmatrix} x_A \\ y_A\end{pmatrix} = \begin{pmatrix} x_{center} \\ y_{center}\end{pmatrix} + \begin{pmatrix}\cos\alpha & -\sin\alpha \\ \sin\alpha & \cos\alpha\end{pmatrix} \begin{pmatrix} -0.5w \\ -0.5h\end{pmatrix} \\ = \begin{pmatrix} x_{center}-0.5w\cos\alpha+0.5h\sin\alpha \\ y_{center}-0.5w\sin\alpha-0.5h\cos\alpha\end{pmatrix}\end{split}</p><h4 id="逆时针ccw"><a class="markdownIt-Anchor" href="#逆时针ccw"></a> 逆时针(CCW)</h4><p>顺时针负角度，逆时针负角度。(上正下负)</p><pre class="language-none"><code class="language-none">0-------------------&gt; x (0 rad)|  A-------------B|  |             ||  |     box     h|  |   angle&#x3D;0   ||  D------w------Cvy (-pi&#x2F;2 rad)</code></pre><h5 id="逆时针的旋转矩阵"><a class="markdownIt-Anchor" href="#逆时针的旋转矩阵"></a> 逆时针的旋转矩阵</h5><p>\begin{split}\begin{pmatrix} \cos\alpha & \sin\alpha \\ -\sin\alpha & \cos\alpha \end{pmatrix}\end{split}</p><h5 id="逆时针的旋转变换"><a class="markdownIt-Anchor" href="#逆时针的旋转变换"></a> 逆时针的旋转变换</h5><p>{\begin{split}P_A= \begin{pmatrix} x_A \\ y_A\end{pmatrix} = \begin{pmatrix} x_{center} \\ y_{center}\end{pmatrix} + \begin{pmatrix}\cos\alpha & \sin\alpha \\ -\sin\alpha & \cos\alpha\end{pmatrix} \begin{pmatrix} -0.5w \\ -0.5h\end{pmatrix} \\ = \begin{pmatrix} x_{center}-0.5w\cos\alpha-0.5h\sin\alpha \\ y_{center}+0.5w\sin\alpha-0.5h\cos\alpha\end{pmatrix}\end{split}}</p><blockquote><p>在MMRotate中，旋转框的旋转方向默认为顺时针(CW)方向</p></blockquote><h3 id="旋转框定义"><a class="markdownIt-Anchor" href="#旋转框定义"></a> 旋转框定义</h3><h4 id="opencv定义法"><a class="markdownIt-Anchor" href="#opencv定义法"></a> OpenCV定义法</h4><h5 id="opencv旧版本定义451"><a class="markdownIt-Anchor" href="#opencv旧版本定义451"></a> OpenCV旧版本定义(&lt;4.5.1)</h5><p>OpenCV在版本4.5.1之前，表示形式为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>o</mi><mi>c</mi></mrow></msub><mo separator="true">,</mo><msub><mi>y</mi><mrow><mi>o</mi><mi>c</mi></mrow></msub><mo separator="true">,</mo><msub><mi>w</mi><mrow><mi>o</mi><mi>c</mi></mrow></msub><mo separator="true">,</mo><msub><mi>h</mi><mrow><mi>o</mi><mi>c</mi></mrow></msub><mo separator="true">,</mo><msub><mi>θ</mi><mrow><mi>o</mi><mi>c</mi></mrow></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>θ</mi><mrow><mi>o</mi><mi>c</mi></mrow></msub><mo>∈</mo><mo stretchy="false">[</mo><mo>−</mo><mi>π</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{(x_{oc},y_{oc},w_{oc},h_{oc},{\theta}_{oc}),{\theta}_{oc}∈[-\pi/2,0)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span><span class="mord">/</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span></span></p><p>角度的由宽W与x轴所成的<strong>负的锐角或者直角</strong>。</p><h5 id="opencv新版本定义451"><a class="markdownIt-Anchor" href="#opencv新版本定义451"></a> OpenCV新版本定义(&gt;=4.5.1)</h5><p>OpenCV在版本4.5.1之后修改了角度定义范围，表示形式为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>o</mi><mi>c</mi></mrow></msub><mo separator="true">,</mo><msub><mi>y</mi><mrow><mi>o</mi><mi>c</mi></mrow></msub><mo separator="true">,</mo><msub><mi>w</mi><mrow><mi>o</mi><mi>c</mi></mrow></msub><mo separator="true">,</mo><msub><mi>h</mi><mrow><mi>o</mi><mi>c</mi></mrow></msub><mo separator="true">,</mo><msub><mi>θ</mi><mrow><mi>o</mi><mi>c</mi></mrow></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>θ</mi><mrow><mi>o</mi><mi>c</mi></mrow></msub><mo>∈</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>π</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">{(x_{oc},y_{oc},w_{oc},h_{oc},{\theta}_{oc}),{\theta}_{oc}∈(0,\pi/2]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span><span class="mord">/</span><span class="mord">2</span><span class="mclose">]</span></span></span></span></span></p><p>角度的由宽W与x轴所成的<strong>正的锐角或者直角</strong>。</p><p>新旧版本的转换关系如下图所示:</p><p><img src="/img/article/2022/05/23/2.jpg" alt="" /></p><blockquote><p>在MMRotate中，旋转框的定义方式采用OpenCV新版本定义法</p></blockquote><h2 id="mmrotate框架结构"><a class="markdownIt-Anchor" href="#mmrotate框架结构"></a> MMRotate框架结构</h2><p>MMRotate主要包括四个部分, <code>datasets</code>, <code>models</code>, <code>core</code> and <code>apis</code>。</p><ul><li><code>datasets</code> 用于数据加载和数据增强。</li><li><code>models</code> 主要包括各类模型和损失函数。</li><li><code>core</code> 为模型训练和评估提供工具。</li><li><code>apis</code> 为模型训练、测试和推理提供的API接口。</li></ul><p><img src="/img/article/2022/05/23/3.jpg" alt="" /></p><p>关于Dataset，目前已完成DOTA_v1.5、HRSC2016、SSDD的预处理，还剩下HRSID和DOTA_V1.0</p><p>关于Model, 目前在尝试跑Rotated-RetinaNet模型，使用HRSC2016，目前还在调整代码，目前没有遇到问题</p>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022-05-09-组会</title>
    <link href="/2022/05/08/Seminar/20220509-%E7%BB%84%E4%BC%9A/"/>
    <url>/2022/05/08/Seminar/20220509-%E7%BB%84%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<h1 id="2022-05-09-组会"><a class="markdownIt-Anchor" href="#2022-05-09-组会"></a> 2022-05-09-组会</h1><h2 id="1redet"><a class="markdownIt-Anchor" href="#1redet"></a> 1.ReDet</h2><p>由于显示结果的代码实在调不通，所以先搁置。</p><h2 id="2-论文阅读"><a class="markdownIt-Anchor" href="#2-论文阅读"></a> 2. 论文阅读</h2><p>看了一篇论文Rotated Faster RCNN</p><p>感觉</p><h2 id="3-mmrotate框架"><a class="markdownIt-Anchor" href="#3-mmrotate框架"></a> 3. MMRotate框架</h2><p>前些天刷知乎，发现了一个4月份刚刚开源的旋转框检测框架。 基于Pytorch</p><p>MMRotate提供了目前旋转框检测任务最先进的算法模型，包括ReDet、 Oriented R-CNN等.</p><p>目前刚安装配置好环境，还没有实质性的进展。</p><p>后续打算边看文档学习该框架的使用，边写文章记录一些使用心得。</p>]]></content>
    
    
    <categories>
      
      <category>组会</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022-04-25-组会</title>
    <link href="/2022/04/24/Seminar/20220425-%E7%BB%84%E4%BC%9A/"/>
    <url>/2022/04/24/Seminar/20220425-%E7%BB%84%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<h1 id="2022-04-25-组会"><a class="markdownIt-Anchor" href="#2022-04-25-组会"></a> 2022-04-25-组会</h1><h2 id="1redet"><a class="markdownIt-Anchor" href="#1redet"></a> 1.ReDet</h2><p>再细读了一遍ReDet，并回顾了ROI transformer，理解它的第二个创新点的实现过程。</p><p><a href="/2022/03/27/AI-Learning/20220328-ReDet" target="_blank">ReDet解读</a></p><h2 id="2代码"><a class="markdownIt-Anchor" href="#2代码"></a> 2.代码</h2><p>尝试了去修改文件格式，修改部分代码，修改路径,</p><p>仍然配置不成功，最好的结果是提示文件名过长</p><p><img src="/img/article/2022/04/25/1.png" alt="" /></p><p>注释中说</p><blockquote><p>detpath 是 result文件的路径</p><p>annopath 是 .xml文件的路径</p><p>imagesetfile 是图片文件路径</p></blockquote><p>但是按注释中配置还是会配置失败</p><p>我认为归根结底的原因还是因为作者没有给出配置样例，导致某个路径我设置错了，但我发现不了。</p><h2 id="3接下来的工作"><a class="markdownIt-Anchor" href="#3接下来的工作"></a> 3.接下来的工作</h2><p>我打算去看一些ReDet论文中提到的一些关键文章，如OBB,HBB,HTC 等，去补充一些旋转目标检测的基础理论。</p>]]></content>
    
    
    <categories>
      
      <category>组会</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022-04-18-组会</title>
    <link href="/2022/04/17/Seminar/20220418-%E7%BB%84%E4%BC%9A/"/>
    <url>/2022/04/17/Seminar/20220418-%E7%BB%84%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<h1 id="2022-04-18-组会"><a class="markdownIt-Anchor" href="#2022-04-18-组会"></a> 2022-04-18-组会</h1><p>这两周毕业设计要提交很多材料，花费了很多时间来处理。</p><p>最近两天才有时间继续这边的实验研究。</p><h2 id="1邮箱"><a class="markdownIt-Anchor" href="#1邮箱"></a> 1.邮箱</h2><p>在4月2号晚上，我已经给ReDet的作者发送了电子邮件，询问评估Result的python文件中的路径该怎么配置。但是目前还没有收到回复。</p><h2 id="2reresnet"><a class="markdownIt-Anchor" href="#2reresnet"></a> 2.ReResNet</h2><p>也就是ReDet的backbone，作者在论文中基本没有提到这个backbone的具体实现。<br />我对比了ResNet和ReResNet的代码，查阅到了一些有用的资料，了解了其不同之处。</p><p>具体详情见<a href="/2022/03/27/AI-Learning/20220328-ReDet" target="_blank">ReDet解读</a></p>]]></content>
    
    
    <categories>
      
      <category>组会</category>
      
    </categories>
    
    
    <tags>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ReDet</title>
    <link href="/2022/03/27/AI-Learning/20220328-ReDet/"/>
    <url>/2022/03/27/AI-Learning/20220328-ReDet/</url>
    
    <content type="html"><![CDATA[<h1 id="redet"><a class="markdownIt-Anchor" href="#redet"></a> ReDet</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><p><strong>论文题目</strong> : ReDet: A Rotation-equivariant Detector for Aerial Object Detection</p><p><strong>论文地址</strong> : <a href="https://arxiv.org/pdf/1708.02002.pdf">https://arxiv.org/pdf/1708.02002.pdf</a></p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><p>提出了一种旋转等变检测器(ReDet)来从旋转等变特征中提取完全旋转不变的特征。</p><p><img src="/img/article/2022/03/27/1.png" alt="" /></p><p>如图，作者首先说明了普通CNN层对平移的不变性，但对旋转不具备不变性和等变性。作者采用了新的backbone【Reresnet，旋转不变主干网络，使用e2cnn重写Resnet】，能输出具有旋转等变性的特征图。同时特征图经过align后就不再具备旋转不变性了，所以作者也设计了一个特殊的align方法【RiRoI Align,除了普通RRoI Align具有的空间对齐(spatial alignment)，还多了一层方向对齐(orientation alignment)】,使得生成的特征图具备旋转不变性用以检测分类。</p><p>最后，旋转不变主干网络和RiRoI Align的结合形成了ReDet，以提取完全旋转不变的特征，从而实现精确的航空目标检测。</p><h2 id="network"><a class="markdownIt-Anchor" href="#network"></a> Network</h2><p><img src="/img/article/2022/03/27/2.png" alt="" /></p><p>Backbone: ResNet + FPN</p><p>改进–&gt; 添加了旋转等变</p><p>Rotation-equivariant Backbone:  ReResNet + ReFPN</p><p>紧接着采用RPN + RoI Transformer去生成RRoIs，然后再喂入到RiRoI Align 生成RoI feature， 最后再使用全连接层，然后到classification和bbox regression。</p><p>方向对齐: 循环切换方向通道并插值特征，以生成完全旋转不变的特征。</p><h2 id="detail"><a class="markdownIt-Anchor" href="#detail"></a> Detail</h2><h3 id="1backbonereresnet"><a class="markdownIt-Anchor" href="#1backbonereresnet"></a> 1.backbone【ReResNet】</h3><p>作者使用e2cnn，重写了mmdetction框架中的ResNet，形成了新的ReResNet，使其能输出具有旋转等变性的特征图。</p><p><img src="/img/article/2022/03/27/3.png" alt="" /></p><p>如图所示，在整体代码结构上，ReResNet相较于ResNet几乎没有变化。</p><p>作者在这里的主要工作，是使用开源的e2cnn库，重写了所有层(包括convolution, pooling, normalization, non-linearity等)，然后在代码中使用了这些层的地方全部做了替换。</p><p><img src="/img/article/2022/03/27/4.png" alt="" /></p><h3 id="2neckrefpn"><a class="markdownIt-Anchor" href="#2neckrefpn"></a> 2.neck【ReFPN】</h3><p>几乎与ReResNet如法炮制，同样使用e2cnn重写所有层。</p><p>但在ReFPN中多出了一个ConvModule，其e2cnn的部分都在这边引用，具体细节还在对比。</p><p><strong>e2cnn</strong></p><p>e2cnn全称:E(2)群等变可操控神经网络，于2019年提出，基于群等变卷积网络GroupEquivariant-CNN，给出了群表示如何改变特征图的概述，论述了群表示与非线性的兼容性。</p><p>论文地址：<a href="https://arxiv.org/pdf/1911.08251">https://arxiv.org/pdf/1911.08251</a></p><p>该作者给出了e2cnn的实现库，发布在github上：<a href="https://github.com/QUVA-Lab/e2cnn">https://github.com/QUVA-Lab/e2cnn</a></p><p>论文解读：<a href="https://blog.csdn.net/bxdzyhx/article/details/110521748">https://blog.csdn.net/bxdzyhx/article/details/110521748</a></p><p>这一部分论文偏理论，太过硬核，没看懂，需要抽象代数学得很好。。。<br />不过知道这个trick对旋转框很有用就行了。</p><h3 id="3roi-transformer"><a class="markdownIt-Anchor" href="#3roi-transformer"></a> 3.RoI transformer</h3><p><img src="/img/article/2022/03/27/9.png" alt="" /><br />原本的RT分为两部分，RRoI learner和RRoI warping。learner用来捕捉对旋转鲁棒的特征，warping相当于align部分。在本文中被拆开来用了。下图是RT的结构图：<br /><img src="/img/article/2022/03/27/5.png" alt="" /></p><h4 id="rroi-learner"><a class="markdownIt-Anchor" href="#rroi-learner"></a> RRoI learner</h4><p>在learner中，把RPN输出的HRoI当作输入，一次卷积后缩小至10channels，进入全连接层，输出一个5维向量(x,y,w,h,θ)，每个维度的GT(Groud Turth)值如下：<br /><img src="/img/article/2022/03/27/6.png" alt="" /><br />这里的五个值是RRoI GT和HRoI的偏移量，用这些偏移量作为输入进入decoder模块，解码出RRoI的相关参数，即(x,y,w,h,θ)。<br />这样可以使得最终的RRoI尽可能靠近gt值，这样即减少了参数量也提高了旋转框检测的性能。</p><h4 id="rroi-warpingrotation-invariant-roi-align"><a class="markdownIt-Anchor" href="#rroi-warpingrotation-invariant-roi-align"></a> RRoI warping(Rotation-invariant RoI Align)</h4><p>作者认为RoI warping已经可以捕捉旋转特征，但还无法使得生成的特征图具备旋转不变性，因此在RoI warping基础上添加了一个orientation alignment。同时为了保留位置信息，重新设计了特征图。</p><p><img src="/img/article/2022/03/27/7.png" alt="" /></p><p>本文的特征图维度为(k,n,h,w)，k是位置信息，n是方向channel数。</p><p>在orientation alignment中，特征图被分为n个方向的子特征图(一个channel一个方向)，根据对应的RoI的θ值,去进行该特征图的方向对齐，作者称这个过程叫switch channels。其过程如下：</p><p><img src="/img/article/2022/03/27/8.png" alt="" /></p><p>根据θ值计算一个下标r=<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">⌊</mo><mfrac><mrow><mi>θ</mi><mo>∗</mo><mi>N</mi></mrow><mrow><mn>2</mn><mi>π</mi></mrow></mfrac><mo stretchy="false">⌋</mo></mrow><annotation encoding="application/x-tex">\lfloor \frac{\theta*N}{2\pi}\rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251079999999999em;vertical-align:-0.345em;"></span><span class="mopen">⌊</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span><span class="mbin mtight">∗</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">⌋</span></span></span></span>，r&lt;=1说明在N个方向内，r&gt;1说明在N个方向外。</p><p>如果θ值属于我们事先设定的N个方向中，则将<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>C</mi><mi>N</mi><mrow><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">)</mo></mrow></msubsup></mrow><annotation encoding="application/x-tex">C_N^{(r)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.338331em;vertical-align:-0.29353099999999993em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4064690000000004em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29353099999999993em;"><span></span></span></span></span></span></span></span></span></span>这个特征图与其他前一个orientation channel特征图循环交换，直到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>C</mi><mi>N</mi><mrow><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">)</mo></mrow></msubsup></mrow><annotation encoding="application/x-tex">C_N^{(r)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.338331em;vertical-align:-0.29353099999999993em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4064690000000004em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29353099999999993em;"><span></span></span></span></span></span></span></span></span></span>在第一位；如果θ值不属于N个方向，也就是说r需要向下取整，此时先交换至第一个特征图再通过线性插值的方法计算出该特征图的值。</p><p>【switch channels具体过程是这个样子，但是其原理没有弄懂，按文章中说应该是和e2cnn有很大关系】</p><blockquote><p>虽然目标检测方向的论文大体上都看过，了解一些目标检测Network架构，但感觉自己在遥感目标检测的一些专业术语知识还是太少了。</p><p>比如OBB, HBB,rotation-invariant features, RRoI Pooling ,RRoI Align，这篇文章还提到了 group convolutions（群卷积）也没接触过。</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>二叉树&amp;N叉树</title>
    <link href="/2022/02/07/Algorithm/LeetCode/20220207-%E4%BA%8C%E5%8F%89%E6%A0%91&amp;N%E5%8F%89%E6%A0%91/"/>
    <url>/2022/02/07/Algorithm/LeetCode/20220207-%E4%BA%8C%E5%8F%89%E6%A0%91&amp;N%E5%8F%89%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<p>这种用指针表示的数据结构一般在leetcode上才会刷到，板子简单，浅浅总结一下。</p><h2 id="二叉树"><a class="markdownIt-Anchor" href="#二叉树"></a> 二叉树</h2><h3 id="二叉树的前序中序后序遍历-dfs"><a class="markdownIt-Anchor" href="#二叉树的前序中序后序遍历-dfs"></a> 二叉树的前序中序后序遍历-DFS</h3><p><strong>前序遍历</strong></p><p><strong>中序遍历</strong></p><p><strong>后续遍历</strong></p><h3 id="二叉树的层次遍历-bfs"><a class="markdownIt-Anchor" href="#二叉树的层次遍历-bfs"></a> 二叉树的层次遍历-BFS</h3><h2 id="n叉树"><a class="markdownIt-Anchor" href="#n叉树"></a> N叉树</h2><h3 id="n叉树的前序中序后序遍历-dfs"><a class="markdownIt-Anchor" href="#n叉树的前序中序后序遍历-dfs"></a> N叉树的前序中序后序遍历-DFS</h3><p><strong>前序遍历</strong></p><p><strong>中序遍历</strong></p><p><strong>后续遍历</strong></p><h3 id="n叉树的层次遍历-bfs"><a class="markdownIt-Anchor" href="#n叉树的层次遍历-bfs"></a> N叉树的层次遍历-BFS</h3>]]></content>
    
    
    <categories>
      
      <category>leetcode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>RetinaNet</title>
    <link href="/2022/01/16/AI-Learning/20220117-RetinaNet/"/>
    <url>/2022/01/16/AI-Learning/20220117-RetinaNet/</url>
    
    <content type="html"><![CDATA[<h1 id="retinanet"><a class="markdownIt-Anchor" href="#retinanet"></a> RetinaNet</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><p><strong>论文题目</strong> : ReDet:A Rotation-equivariant Detector for Aerial Object Detection</p><p><strong>论文地址</strong> : <a href="https://arxiv.org/pdf/1708.02002.pdf">https://arxiv.org/pdf/1708.02002.pdf</a></p><p>Focal Loss用于解决类别不均衡问题，从而创造了RetinaNet（One Stage目标检测算法）这个精度超越经典Two Stage的Faster-RCNN的目标检测网络。</p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><p><img src="/img/article/2022/01/17/1.png" alt="" /></p><p>基于深度学习的目标检测算法有两类经典的结构：Two Stage 和 One Stage。</p><p><strong>Two Stage(1-2k)</strong>：例如Faster-RCNN算法。第一阶段专注于proposal的提取，第二阶段对提取出的proposal进行分类和精确坐标回归。两级结构准确度较高，但因为第二级需要单独对每个proposal进行分类/回归，速度上就打了折扣。</p><p><strong>One Stage(~100k)</strong>:  例如SSD，YOLO算法。此类算法摒弃了提取proposal的过程，只用一级就完成了识别/回归，虽然速度较快但准确率远远比不上两级结构。</p><p><strong>产生精度差异的主要原因：类别失衡（Class Imbalance）</strong>。One Stage方法在得到特征图后，会产生密集的目标候选区域，而这些大量的候选区域中只有很少一部分是真正的目标，这样就造成了机器学习中经典的训练样本正负不平衡的问题。它往往会造成最终算出的training loss为占绝对多数但包含信息量却很少的负样本所支配，少样正样本提供的关键信息却不能在一般所用的training loss中发挥正常作用，从而无法得出一个能对模型训练提供正确指导的loss（而Two Stage方法得到proposal后，其候选区域要远远小于One Stage产生的候选区域，因此不会产生严重的类别失衡问题）。该论文中提出了Focal Loss来降低类别失衡，对最终的Loss进行校正。</p><h2 id="network"><a class="markdownIt-Anchor" href="#network"></a> Network</h2><p><img src="/img/article/2022/01/17/2.png" alt="" /></p><p>RetinaNet的网络结构: ResNet + FPN +  FCN*2</p><p>输入图像经过Backbone的特征提取后，可以得到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>P</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">{P_3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>~<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>P</mi><mn>7</mn></msub></mrow><annotation encoding="application/x-tex">{P_7}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>特征金字塔，对每层特征金字塔分别使用两个子网络（分类网络+检测框位置回归）。</p><p>子网络的设计类似于RPN，使用anchors来产生proposal。</p><p><strong>上面说到的Focal Loss就应用于类别分类的子网络</strong>，即可有效移植类别不均衡问题。</p><p>特征金字塔每层都相应的产生目标类别与位置的预测，最后再将其融合起来，同时使用NMS来得到最后的检测结果。</p><h3 id="focal-loss"><a class="markdownIt-Anchor" href="#focal-loss"></a> Focal Loss</h3><p>Focal Loss这个trick主要是在交叉熵损失函数做改进。</p><p>对于一般的二分类问题，其交叉熵损失函数如下:</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><mi>p</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>L</mi><mo stretchy="false">(</mo><mi>y</mi><mo separator="true">,</mo><mi>p</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mi>y</mi><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>y</mi><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{CE(p,y) = L(y,p) = -ylog(p) - (1-y)log(1-p)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">p</span><span class="mclose">)</span></span></span></span></span></p><p>可以写成:</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>E</mi><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><msub><mo><mi>log</mi><mo>⁡</mo></mo><mrow></mrow></msub><mrow><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext> if </mtext><mi>y</mi><mo>=</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><msub><mo><mi>log</mi><mo>⁡</mo></mo><mrow></mrow></msub><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext> if </mtext><mi>y</mi><mo>=</mo><mo>−</mo><mn>1</mn><mo stretchy="false">(</mo><mi>o</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>w</mi><mi>i</mi><mi>s</mi><mi>e</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">CE= \begin{cases}  -\log_{}{(p)} &amp; \text{ if } y=1   \\  -\log_{}{(1-p)} &amp; \text{ if } y=-1(otherwise)\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">−</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.24414em;"><span style="top:-1.75586em;margin-right:0.05em;"><span class="pstrut" style="height:2em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24414em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mclose">)</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">−</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.24414em;"><span style="top:-1.75586em;margin-right:0.05em;"><span class="pstrut" style="height:2em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24414em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">p</span><span class="mclose">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord"> if </span></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">1</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord"> if </span></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mopen">(</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>为了方便，定义<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">{p_t}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>表示<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span>，如下:</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mi>t</mi></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>p</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext> if </mtext><mi>y</mi><mo>=</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>−</mo><mi>p</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext> if </mtext><mi>y</mi><mo>=</mo><mo>−</mo><mn>1</mn><mo stretchy="false">(</mo><mi>o</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>w</mi><mi>i</mi><mi>s</mi><mi>e</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">p_t= \begin{cases}  p &amp; \text{ if } y=1   \\  1-p &amp; \text{ if } y=-1(otherwise)\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathdefault">p</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord"> if </span></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">1</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord"> if </span></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mopen">(</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>这样CE就可以表示成如下表达式:</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><mi>p</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mi>t</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mi>log</mi><mo>⁡</mo><mrow></mrow><msub><mi>p</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">CE(p,y) = CE(p_t) = -\log{}{p_t}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"></span><span class="mord"><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>pt可以看作样本被正确分类的一个概率值。</p><p>可以认为当模型预测得到的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub><mo>&gt;</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">P_t &gt; 0.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">5</span></span></span></span>的样本为easy examples ; 而<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">P_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>值预测较小的样本为hard examples。</p><h4 id="postivenegative-example"><a class="markdownIt-Anchor" href="#postivenegative-example"></a> Postive/Negative example</h4><p>解决class imbalance的一个方法是为类1添加一个权重因子α ∈ [0, 1]，对于y =1的使用权重 α ，对y =-1使用 1-α；这样就能一定程度上的解决了正负样本的不平衡。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>E</mi><mo>=</mo><mo>−</mo><mi>α</mi><msub><mo><mi>log</mi><mo>⁡</mo></mo><mrow></mrow></msub><msub><mi>p</mi><mi>t</mi></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mi>α</mi><msub><mo><mi>log</mi><mo>⁡</mo></mo><mrow></mrow></msub><mrow><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext> if </mtext><mi>y</mi><mo>=</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><msub><mo><mi>log</mi><mo>⁡</mo></mo><mrow></mrow></msub><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext> if </mtext><mi>y</mi><mo>=</mo><mo>−</mo><mn>1</mn><mo stretchy="false">(</mo><mi>o</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>w</mi><mi>i</mi><mi>s</mi><mi>e</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">CE= -\alpha \log_{}{p_t}= \begin{cases}  -\alpha \log_{}{(p)} &amp; \text{ if } y=1   \\  -(1-\alpha)\log_{}{(1-p)} &amp; \text{ if } y=-1(otherwise)\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.93858em;vertical-align:-0.24414em;"></span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.24414em;"><span style="top:-1.75586em;margin-right:0.05em;"><span class="pstrut" style="height:2em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24414em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.24414em;"><span style="top:-1.75586em;margin-right:0.05em;"><span class="pstrut" style="height:2em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24414em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mclose">)</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">−</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.24414em;"><span style="top:-1.75586em;margin-right:0.05em;"><span class="pstrut" style="height:2em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24414em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">p</span><span class="mclose">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord"> if </span></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">1</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord"> if </span></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mopen">(</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><h4 id="easyhard-example"><a class="markdownIt-Anchor" href="#easyhard-example"></a> Easy/Hard example</h4><p>因为hard examples通常为少数样本，所以虽然其对应的loss值较高，但是最后全部累加后，大部分的loss值来自于容易分类的样本，这样在模型优化的过程中就会将更多的优化放到容易分类的样本中，而忽略hard examples。因此论文中引入调节因子<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>p</mi><mi>t</mi></msub><msup><mo stretchy="false">)</mo><mi>γ</mi></msup></mrow><annotation encoding="application/x-tex">(1-p_t)^{\gamma}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span></span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>E</mi><mo>=</mo><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>p</mi><mi>t</mi></msub><msup><mo stretchy="false">)</mo><mi>γ</mi></msup><msub><mo><mi>log</mi><mo>⁡</mo></mo><mrow></mrow></msub><msub><mi>p</mi><mi>t</mi></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>γ</mi></msup><msub><mo><mi>log</mi><mo>⁡</mo></mo><mrow></mrow></msub><mrow><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext> if </mtext><mi>y</mi><mo>=</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><msup><mi>p</mi><mi>γ</mi></msup><msub><mo><mi>log</mi><mo>⁡</mo></mo><mrow></mrow></msub><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext> if </mtext><mi>y</mi><mo>=</mo><mo>−</mo><mn>1</mn><mo stretchy="false">(</mo><mi>o</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>w</mi><mi>i</mi><mi>s</mi><mi>e</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">CE= -(1-p_t)^{\gamma} \log_{}{p_t}= \begin{cases}  -(1-p)^{\gamma} \log_{}{(p)} &amp; \text{ if } y=1   \\  -p^{\gamma}\log_{}{(1-p)} &amp; \text{ if } y=-1(otherwise)\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.24414em;"><span style="top:-1.75586em;margin-right:0.05em;"><span class="pstrut" style="height:2em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24414em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">−</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">p</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.24414em;"><span style="top:-1.75586em;margin-right:0.05em;"><span class="pstrut" style="height:2em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24414em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mclose">)</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">−</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.24414em;"><span style="top:-1.75586em;margin-right:0.05em;"><span class="pstrut" style="height:2em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24414em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">p</span><span class="mclose">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord"> if </span></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">1</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord"> if </span></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mopen">(</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">P_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>较大时为Easy example，此时调制因子接近0, 降低了Loss累加中Easy example的权重;</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">P_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>较小时为Hard example，此时调制因子接近1, 增加了Loss累加中Easy example的权重。</p><p>通过实验测试，超参数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>γ</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">\gamma = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>效果最好。</p><p><img src="/img/article/2022/01/17/3.png" alt="" /></p><hr /><p>将上述两种权重因子整合起来，就是最终的Focal Loss:</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>E</mi><mo>=</mo><mo>−</mo><mi>α</mi><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>p</mi><mi>t</mi></msub><msup><mo stretchy="false">)</mo><mi>γ</mi></msup><msub><mo><mi>log</mi><mo>⁡</mo></mo><mrow></mrow></msub><msub><mi>p</mi><mi>t</mi></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mi>α</mi><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>γ</mi></msup><msub><mo><mi>log</mi><mo>⁡</mo></mo><mrow></mrow></msub><mrow><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext> if </mtext><mi>y</mi><mo>=</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><msup><mi>p</mi><mi>γ</mi></msup><msub><mo><mi>log</mi><mo>⁡</mo></mo><mrow></mrow></msub><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext> if </mtext><mi>y</mi><mo>=</mo><mo>−</mo><mn>1</mn><mo stretchy="false">(</mo><mi>o</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>w</mi><mi>i</mi><mi>s</mi><mi>e</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">CE= -\alpha(1-p_t)^{\gamma} \log_{}{p_t}= \begin{cases}  -\alpha(1-p)^{\gamma} \log_{}{(p)} &amp; \text{ if } y=1   \\  -(1-\alpha)p^{\gamma}\log_{}{(1-p)} &amp; \text{ if } y=-1(otherwise)\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.24414em;"><span style="top:-1.75586em;margin-right:0.05em;"><span class="pstrut" style="height:2em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24414em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">p</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.24414em;"><span style="top:-1.75586em;margin-right:0.05em;"><span class="pstrut" style="height:2em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24414em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mclose">)</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">−</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.24414em;"><span style="top:-1.75586em;margin-right:0.05em;"><span class="pstrut" style="height:2em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24414em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">p</span><span class="mclose">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord"> if </span></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">1</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord"> if </span></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mopen">(</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>下图是论文中给出的试验结果，相比较于经典的Two Stage检测方法Faster-RCNN，RetinaNet具有更高的精度。</p><p><img src="/img/article/2022/01/17/4.png" alt="" /></p>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ROI Transformer</title>
    <link href="/2021/12/12/AI-Learning/20211212-ROI%20Transformer/"/>
    <url>/2021/12/12/AI-Learning/20211212-ROI%20Transformer/</url>
    
    <content type="html"><![CDATA[<h1 id="roi-transformer"><a class="markdownIt-Anchor" href="#roi-transformer"></a> ROI Transformer</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><ul><li><strong>论文题目</strong> : Learning RoI Transformer for Oriented Object Detection in Aerial Images</li><li><strong>论文作者</strong> : Jian Ding, Nan Xue, Yang Long, Gui-Song Xia∗ , Qikai Lu – LIESMARS-CAPTAIN, Wuhan University</li><li><strong>论文地址</strong> : <a href="https://openaccess.thecvf.com/content_CVPR_2019/html/Ding_Learning_RoI_Transformer_for_Oriented_Object_Detection_in_Aerial_Images_CVPR_2019_paper">CVPR_2019-ROI Transformer</a></li><li><strong>代码实现</strong> : <a href="https://github.com/dingjiansw101/AerialDetection">https://github.com/dingjiansw101/AerialDetection</a></li></ul><p>鸟瞰视角、高度复杂的背景、目标外形的剧烈变化使得航拍图像目标检测成为难题。尤其当航拍图像中目标密集存在时，常规目标检测中的水平proposals（HRoIs）与目标之间的不匹配将进一步影响分类和定位。本文中作者提出了[<strong>RoI Transformer</strong>]方法来解决这一问题，基于两阶段框架，通过基于位置敏感对齐的监督RRoI学习和特征提取，实现定向和密集对象的检测。</p><p><img src="/img/article/2021/12/12/1.png" alt="" /></p><p>水平RoI通常包含多个实例，而旋转RoI通常更加精确。</p><p>RoI Transformer是轻量级的且可以很容易的嵌入各种旋转目标检测器中。</p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><p>本文中作者提出的ROI Transformer 由两部分组成:</p><ul><li><p><strong>第一部分是RRoI Learner，它学习从HRoIs到RRoIs的转换；</strong></p></li><li><p><strong>第二部分是RRoI Warping，它从RRoI中提取旋转不变的特征，用于后续的分类和回归子任务</strong>。</p></li><li><p>HRoIs(horizontal RoIs):水平候选框</p></li><li><p>RRoIs(Rotated RoIs):   旋转候选框</p></li><li><p>RGTs(Rotated Ground Truths): 预先标注的旋转真实框</p></li></ul><h2 id="details"><a class="markdownIt-Anchor" href="#details"></a> Details</h2><h3 id="rroi-learner"><a class="markdownIt-Anchor" href="#rroi-learner"></a> RRoI Learner</h3><p><img src="/img/article/2021/12/12/2.png" alt="" /></p><p>PS RoI Align(Position Sensitive RoI Alignment) [位置敏感的候选区域]</p><blockquote><p>这个概念涉及到一篇以前的论文R-FCN，其主要思想是在特征聚集时 <strong>人工引入位置信息</strong> ，从而有效改善较深的神经网络对物体位置信息的敏感程度</p><p>PS-ROI Align 对模型的检测性能有提升，对小物体的感知能力有明显改善</p></blockquote><p>这个网络将HRoIs 作为输入传给RRoI Learner，</p><p>FC-5: 后面跟着一个5维的全连接层，该全连接层用于回归RGTs相对于HRoIs的偏移量。</p><p>DeCoder: 解码器，将HRoIs和偏移量作为输入，输出RRoI</p><p>后续将Featrue map和RRoIs传递给RRoI Warping，用于几何鲁棒特征提取。</p><h3 id="rroi-warping"><a class="markdownIt-Anchor" href="#rroi-warping"></a> RRoI Warping</h3><p>RRoI Warping通过RRoI的参数提取旋转不变的深度特征（其实就是用Rotated Position Sensitive RoI pooling实现旋转版的池化）。</p><p><img src="/img/article/2021/12/12/4.png" alt="" /></p><p>因为采用Light-Head R-CNN，这里RRoI Warping具体使用Rotated Position Sensitive (RPS) RoI Align。</p><p><img src="/img/article/2021/12/12/5.png" alt="" /></p><p>给定具有<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mo>×</mo><mi>W</mi><mo>×</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">H × W × C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span>通道的输入特征图  <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">D</mi></mrow><annotation encoding="application/x-tex">\mathcal{D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span></span></span></span> 和 RRoI <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>r</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>r</mi></msub><mo separator="true">,</mo><msub><mi>w</mi><mi>r</mi></msub><mo separator="true">,</mo><msub><mi>h</mi><mi>r</mi></msub><mo separator="true">,</mo><msub><mi>θ</mi><mi>r</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x_r,y_r,w_r,h_r,θ_r)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p>RPS RoI pooling 将旋转的 Rotated RoI 分成<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi><mo>×</mo><mi>K</mi></mrow><annotation encoding="application/x-tex">K × K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> bin，并输出形状为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi><mo>×</mo><mi>K</mi><mo>×</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">K × K × C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> 的特征图 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">Y</mi></mrow><annotation encoding="application/x-tex">\mathcal{Y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78055em;vertical-align:-0.09722em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">Y</span></span></span></span></span>。</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">D</mi></mrow><annotation encoding="application/x-tex">\mathcal{D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span></span></span></span>是输入的feature map</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mi>θ</mi></msub></mrow><annotation encoding="application/x-tex">T_θ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>是RRoIs</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">Y</mi></mrow><annotation encoding="application/x-tex">\mathcal{Y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78055em;vertical-align:-0.09722em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">Y</span></span></span></span></span>是输出的feature map</li><li>bin 是池化的一小块， <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>n</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">n_{ij}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>是每一块bin的样本参数量</li></ul><p>对于每个bin的(x,y)，通过以下式子转换为(x’,y’):</p><p><img src="/img/article/2021/12/12/6.png" alt="" /></p><h3 id="iou的计算"><a class="markdownIt-Anchor" href="#iou的计算"></a> IOU的计算</h3><p><img src="/img/article/2021/12/12/7.jpg" alt="" /></p><p>计算RRoI 和匹配的 RGT 之间的 IoU，也是不规则多边形的IOU，作者在文章中没有提及计算方法。</p><p>对于长而窄的边界框，角度的轻微抖动可能导致两个盒子的 IoU 非常低，因此阈值取0.5.</p>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>YOLOv2v3</title>
    <link href="/2021/11/27/AI-Learning/20211128-YOLOv2v3/"/>
    <url>/2021/11/27/AI-Learning/20211128-YOLOv2v3/</url>
    
    <content type="html"><![CDATA[<h1 id="yolo-v2v3"><a class="markdownIt-Anchor" href="#yolo-v2v3"></a> YOLO v2v3</h1><p>YOLOv1的缺陷:</p><ol><li><p>虽然速度快，但是准确度比较低</p></li><li><p>定位性能比较差，相对于FastRCNN来说，是就调整检测框的能力较差</p></li><li><p>ReCall比较低，(把全部目标检出的能力较差)YOLOv1把图像划分成7*7个Grid Cell，每个GridCell 预测两个BBox，最多有98个BBox，如果图像中目标很多，就很难把所有目标检测出来，所以ReCall比较低</p></li><li><p>7*7个Grid Cell 每个GridCell只能负责预测一个物体，所以最多检测出49个物体，因此检测小目标和密集目标也很差</p></li></ol><p>Better:</p><ul><li>Batch Normalization</li></ul><p>归一化 = (输出- 输出均值) / 标准差</p><ul><li>High Resolution Classifier (高分辨率的分类器)</li><li>Anchor</li><li>Dimension Cluster</li><li>Direct location prediction(直接定位)</li><li>Fine-Grained Features (细粒度特征)</li><li>Multi-Scale Training(多尺度训练)</li></ul>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>YOLOv1</title>
    <link href="/2021/11/21/AI-Learning/20211121-YOLOv1/"/>
    <url>/2021/11/21/AI-Learning/20211121-YOLOv1/</url>
    
    <content type="html"><![CDATA[<h1 id="yolov1"><a class="markdownIt-Anchor" href="#yolov1"></a> YOLOv1</h1><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><ul><li><strong>论文题目</strong> : You Only Look Once: Unified, Real-Time Object Detection</li><li><strong>论文地址</strong> : <a href="https://arxiv.org/pdf/1506.02640.pdf">https://arxiv.org/pdf/1506.02640.pdf</a><br />YOLO将物体检测作为回归问题求解。基于一个单独的end-to-end网络，完成从原始图像的输入到物体位置和类别输出。</li></ul><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><p>[1] YOLO训练和检测均是在一个单独网络中进行。YOLO没有显示地求取region proposal的过程。而rcnn/fast rcnn 采用分离的模块）求取候选框（可能会包含物体的矩形区域），训练过程因此也是分成多个模块进行。</p><p>[2]YOLO将物体检测作为一个回归问题进行求解，输入图像经过一次inference，便能得到图像中所有物体的位置和其所属类别及相应的置信概率。</p><h2 id="network"><a class="markdownIt-Anchor" href="#network"></a> NetWork</h2><p><img src="/img/article/2021/11/21/1.png" alt="" /></p><h3 id="predicting"><a class="markdownIt-Anchor" href="#predicting"></a> Predicting</h3><p><img src="/img/article/2021/11/21/13.png" alt="" /></p><p><img src="/img/article/2021/11/21/2.png" alt="" /></p><p><strong>PPT演示</strong> : <a href="https://docs.google.com/presentation/d/1aeRvtKG21KHdD5lg6Hgyhx5rPq_ZOsGjG5rJ1HP7BbA/pub?start=false&amp;loop=false&amp;delayms=3000&amp;slide=id.p">地址</a></p><p>把448x448x3的输入图像，进行编码、压缩、处理，经过卷积层，全连接层，最后得到一个7x7x30的张量。</p><p>7x7对应的是7x7个Grid Cell，30维由5(第一个BBox参数)、5(第一个BBox参数)、20(假设在该GridCell的条件下，对应的20个类别概率)构成。</p><p>全概率=条件本身发生的概率[置信度,Grid Cell在该BBox包含物体的概率]x条件概率[该条件下，20个类别概率]</p><p>使用NMS[非极大值抑制]把低置信度和重复的框过滤掉，只保留一个，最终获得目标检测的结果。</p><h3 id="training"><a class="markdownIt-Anchor" href="#training"></a> Training</h3><p>深度学习的训练是通过梯度下降和反向传播方法，去迭代更新神经元的权重，来使得Loss函数最小化的过程。</p><p><img src="/img/article/2021/11/21/10.png" alt="" /></p><p>人工标注数据Ground Truth，这个Ground Truth的中心点落在哪个Grid Cell里，就应该由哪个Grid Cell预测出的BBox负责拟合这个Ground Truth。</p><p><img src="/img/article/2021/11/21/11.png" alt="" /></p><p>之前也说到每个Grid Cell预测两个BBox，然后分别计算IOU，选择IOU较大的BBox来负责拟合该Ground Truth，让该BBox最终尽可能逼近Ground Truth。</p><p><img src="/img/article/2021/11/21/12.png" alt="" /></p><p>接下来看损失函数:</p><p><img src="/img/article/2021/11/21/14.png" alt="" /></p><p>遍历所有Grid Cell中的所有BBox，采用平方和误差。</p><ul><li>整体分为五个部分，负责检测的BBox的中心点误差、负责检测的BBox的宽高误差、负责检测的BBox的Confidence误差、不负责检测的BBox的Confidence误差、负责检测物体的Grid Cell的分类误差。</li><li>对于负责检测的BBox的宽高误差，采用求根号能使小框对误差更敏感</li><li>给予负责检测物体的BBox更高的权重：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>λ</mi><mrow><mi>c</mi><mi>o</mi><mi>o</mi><mi>r</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">{\lambda _{coord} }</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>  ，给予不负责检测物体的BBox较低的权重：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>λ</mi><mrow><mi>n</mi><mi>o</mi><mi>o</mi><mi>b</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">{\lambda _{noobj}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">b</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span></li></ul>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>R-CNN系列目标检测模型</title>
    <link href="/2021/11/14/AI-Learning/20211114-R-CNN%E7%B3%BB%E5%88%97%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B%E6%A8%A1%E5%9E%8B/"/>
    <url>/2021/11/14/AI-Learning/20211114-R-CNN%E7%B3%BB%E5%88%97%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B%E6%A8%A1%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="r-cnn-fast-r-cnn-faster-r-cnn"><a class="markdownIt-Anchor" href="#r-cnn-fast-r-cnn-faster-r-cnn"></a> R-CNN、Fast R-CNN、Faster R-CNN</h1><h2 id="1-r-cnn"><a class="markdownIt-Anchor" href="#1-r-cnn"></a> 1 R-CNN</h2><h3 id="11-introduction"><a class="markdownIt-Anchor" href="#11-introduction"></a> 1.1 Introduction</h3><ul><li><strong>论文题目</strong> : Rich feature hierarchies for accurate object detection and semantic segmentation</li><li><strong>论文地址</strong> : <a href="https://arxiv.org/abs/1311.2524v3">https://arxiv.org/abs/1311.2524v3</a></li></ul><p>R-CNN（Region CNN，区域卷积神经网络）可以说是利用深度学习进行目标检测的开山之作。</p><h3 id="12-idea"><a class="markdownIt-Anchor" href="#12-idea"></a> 1.2 Idea</h3><ul><li>经典的目标检测算法使用滑动窗法依次判断所有可能的区域。作者则(采用Selective Search方法)预先提取一系列较可能是物体的候选区域。</li><li>经典的目标检测算法在区域中提取人工设定的特征。作者则采用深度网络(CNN)进行特征提取。</li></ul><h3 id="13-network"><a class="markdownIt-Anchor" href="#13-network"></a> 1.3 Network</h3><p><img src="/img/article/2021/11/14/1.png" alt="R-CNN网络结构" /></p><p><strong>Step1</strong> :输入图像<br /><strong>Step2</strong> :每张图像生成1K~2K个候选区域<br /><strong>Step3</strong> :对每个候选区域，使用卷积网络(如VGG16)提取特征<br /><strong>Step4</strong> :将特征送入每一类的SVM分类器，判别是否属于该类; 使用回归器精细修正候选框位置</p><h3 id="14-detail"><a class="markdownIt-Anchor" href="#14-detail"></a> 1.4 Detail</h3><h4 id="region-proposal"><a class="markdownIt-Anchor" href="#region-proposal"></a> Region Proposal</h4><p>对应上述Step2</p><p>作者使用Selective Search（选择性搜索）生成候选区域，Selective Search的实现思路如下:</p><blockquote><p>（1）使用一种过分割手段，将图像分割成小区域</p><p>（2）查看现有小区域，合并可能性最高的两个区域，重复直到整张图像合并成一个区域位置。优先合并以下区域：</p><ul><li>颜色（颜色直方图）相近的</li><li>纹理（梯度直方图）相近的</li><li>合并后总面积小的</li><li>合并后，总面积在其BBOX中所占比例大的<br />在合并时须保证合并操作的尺度较为均匀，避免一个大区域陆续“吃掉”其它小区域，保证合并后形状规则。</li></ul><p>（3）输出所有曾经存在过的区域，即所谓候选区域</p></blockquote><p>具体算法可以看原论文<a href="https://ivi.fnwi.uva.nl/isis/publications/2013/UijlingsIJCV2013/UijlingsIJCV2013.pdf">《Selective Search for Object Recognition》</a></p><h4 id="feature-extraction"><a class="markdownIt-Anchor" href="#feature-extraction"></a> Feature Extraction</h4><p>对应上述Step3</p><p>使用深度网络提取特征之前，首先把候选区域归一化成同一尺寸227×227。</p><p>作者使用CNN网络进行训练，第一选择经典的Alexnet；第二选择VGG16。(经测试Alexnet精度为58.5%，VGG16精度为66%)</p><p>通过CNN网络训练完毕后，最后提取特征每个输入候选框图片都能得到一个4096维的特征向量。</p><h4 id="classification-and-regression"><a class="markdownIt-Anchor" href="#classification-and-regression"></a> Classification and Regression</h4><p>分类，作者使用的是SVM分类器</p><p>作者测试了IOU阈值各种方案数值0.1,0.2,0.3,0.4,0.5。最后通过训练发现，如果选择IOU阈值为0.3效果最好（选择为0精度下降了4个百分点，选择0.5精度下降了5个百分点）,即当重叠度小于0.3的时候，把它标注为负样本。</p><p>我们将为每个物体类训练一个SVM分类器。当我们用CNN提取2000个候选框，可以得到[2000x4096]这样的特征向量矩阵，然后我们只需要把这样的一个矩阵与svm权值矩阵4096xN点乘(N为分类类别数目，因为我们训练的N个SVM，每个SVM包含了4096个权值w)，就可以得到分类结果了。</p><p>边界回归，也就是Bounding-box regression。</p><p><img src="/img/article/2021/11/14/2.png" alt="" /></p><p><img src="/img/article/2021/11/14/3.png" alt="" /></p><p><img src="/img/article/2021/11/14/4.png" alt="" /></p><h2 id="2-fast-r-cnn"><a class="markdownIt-Anchor" href="#2-fast-r-cnn"></a> 2 Fast R-CNN</h2><h3 id="21-introduction"><a class="markdownIt-Anchor" href="#21-introduction"></a> 2.1 Introduction</h3><ul><li><strong>论文题目</strong> : Fast R-CNN</li><li><strong>论文地址</strong> : <a href="https://arxiv.org/abs/1504.08083">https://arxiv.org/abs/1504.08083</a></li></ul><p>继2014年的R-CNN推出之后，作者在2015年推出Fast R-CNN，其流程更为紧凑，大幅提升了目标检测的速度。Fast R-CNN和R-CNN相比，训练时间从84小时减少到9.5小时，测试时间从47秒减少到0.32秒，并且在PASCAL VOC 2007上测试的准确率相差无几，约在66%-67%之间。</p><h3 id="22-idea"><a class="markdownIt-Anchor" href="#22-idea"></a> 2.2 Idea</h3><p>与前作相比，Fast R-CNN解决了以下问题:</p><p>1、训练、测试时速度慢<br />R-CNN的一张图像内候选框之间存在大量重叠，提取特征操作冗余。而Fast R-CNN将整张图像归一化后直接送入深度网络，紧接着送入从这幅图像上提取出的候选区域。这些候选区域的前几层特征不需要再重复计算。<br />2、训练所需空间大<br />R-CNN中独立的SVM分类器和回归器需要大量特征作为训练样本。Fast R-CNN把类别判断和位置精调统一用深度网络实现，不再需要额外存储。</p><h3 id="23network"><a class="markdownIt-Anchor" href="#23network"></a> 2.3Network</h3><p><img src="/img/article/2021/11/14/5.png" alt="" /></p><p><strong>Step1</strong> :首先将整个图片输入到一个卷积网络，得到整张图的feature map，然后将region proposal（RoI）映射到feature map的对应位置。</p><p><strong>Step2</strong> :RoI pooling layer提取一个__固定长度__的特征向量，每个特征会输入到一系列全连接层，得到一个RoI特征向量</p><p><strong>Step3</strong> :建立softmax层进行分类，建立bounding box regressor回归边界，二者合并为多目标损失函数任务。</p><h3 id="24-detail"><a class="markdownIt-Anchor" href="#24-detail"></a> 2.4 Detail</h3><h4 id="feature-extraction-2"><a class="markdownIt-Anchor" href="#feature-extraction-2"></a> Feature Extraction</h4><p>对应上述Step2</p><p>在Fast R-CNN中，作者提出了一个叫做ROI Pooling的网络层，这个网络层可以把不同大小的输入[Region Proposal]映射到一个固定尺度的特征向量。</p><p><img src="/img/article/2021/11/14/6.png" alt="" /></p><p>在文章当中，作者使用H=W=7的超参数作为ROI Pooling输出的特征向量的固定尺度。即将一个<code>h*w</code>的region proposal分割成<code>H*W</code>大小的网格，作为最后一层卷积层，然后分别对每个网格的进行Max Pooling，将特征图上大小不一的region proposal转变为大小统一的<code>H*W</code>矩阵。</p><p><strong>意义</strong> :因为全连接层的输入要求尺寸大小一样，所以不能直接将不同大小的region proposal映射到feature map作为输出，需要做尺寸变换。这个时候在全连接层前加一层ROI Pooling可以解决该问题。</p><h4 id="classification-and-regression-2"><a class="markdownIt-Anchor" href="#classification-and-regression-2"></a> Classification and Regression</h4><p>对应上述Step3</p><p><img src="/img/article/2021/11/14/7.png" alt="" /></p><p>在R-CNN中，先生成候选框，然后再通过CNN提取特征，之后再用SVM分类，最后再做回归得到具体位置（bbox regression）。</p><p>而在Fast R-CNN中，作者把最后的bbox regression也放进了神经网络内部，与区域分类合并成为了一个multi-task模型。</p><p><strong>分类loss</strong>：使用一个N+1路的softmax代替原来的SVM分类器，其中的N是类别个数，1是背景，使用交叉熵损失<br /><strong>回归loss</strong>：一个4xN路输出的regressor，也就是说对于每个类别都会训练一个单独的regressor，使用平均绝对误差（MAE）损失</p><p><img src="/img/article/2021/11/14/8.png" alt="" /></p><h2 id="3-faster-r-cnn"><a class="markdownIt-Anchor" href="#3-faster-r-cnn"></a> 3 Faster R-CNN</h2><h3 id="31-introduction"><a class="markdownIt-Anchor" href="#31-introduction"></a> 3.1 Introduction</h3><ul><li><strong>论文题目</strong> : Faster R-CNN: Towards Real-Time Object Detection with Region Proposal Networks</li><li><strong>论文地址</strong> : <a href="https://arxiv.org/abs/1506.01497">https://arxiv.org/abs/1506.01497</a></li></ul><h3 id="32-idea"><a class="markdownIt-Anchor" href="#32-idea"></a> 3.2 Idea</h3><p>与前作相比:</p><p>Faster R-CNN设计了提取候选区域的网络RPN，代替了费时的Selective Search（选择性搜索），已经将Feature Extraction、</p><p>region proposal、Classification、Bounding-Box regression(rect refine)都整合在了一个网络中，使得综合性能有较大提高</p><p><img src="/img/article/2021/11/14/11.png" alt="" /></p><h3 id="33-network"><a class="markdownIt-Anchor" href="#33-network"></a> 3.3 Network</h3><p><img src="/img/article/2021/11/14/9.png" alt="" /></p><p><strong>Step1</strong> :Conv layers。作为一种CNN网络目标检测方法，Faster RCNN首先使用一组基础的conv+relu+pooling层提取image的feature maps。该feature maps被共享用于后续RPN层和全连接层。</p><p><strong>Step2</strong> :Region Proposal Networks。RPN网络用于生成region proposals。该层通过softmax判断anchors属于positive或者negative，再利用bounding box regression修正anchors获得精确的proposals。</p><p><strong>Step3</strong> :RoI Pooling。该层收集输入的feature maps和proposals，综合这些信息后提取proposal feature maps，送入后续全连接层判定目标类别。</p><p><strong>Step4</strong> :Classification。利用proposal feature maps计算proposal的类别，同时再次bounding box regression获得检测框最终的精确位置。</p><h3 id="34-detail"><a class="markdownIt-Anchor" href="#34-detail"></a> 3.4 Detail</h3><h4 id="rpn"><a class="markdownIt-Anchor" href="#rpn"></a> RPN</h4><p><img src="/img/article/2021/11/14/12.jpg" alt="" /></p><p>上图展示了RPN网络的具体结构。可以看到RPN网络实际分为2条线:</p><p>上面一条通过softmax分类anchors获得positive和negative分类，</p><p>下面一条用于计算对于anchors的bounding box regression偏移量，以获得精确的proposal。</p><p>而最后的Proposal层则负责综合positive anchors和对应bounding box regression偏移量获取proposals，同时剔除太小和超出边界的proposals。其实整个网络到了Proposal Layer这里，就完成了相当于目标定位的功能。</p><blockquote><p>Todo :</p><ol><li>关于Selective Search、RPN、Bounding-Box regression的详细实现原理，还是要看看具体代码才能更清晰。</li></ol></blockquote>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>旋转目标检测(一)-RRPN</title>
    <link href="/2021/10/30/AI-Learning/20211030-%E6%97%8B%E8%BD%AC%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B(%E4%B8%80)-RRPN/"/>
    <url>/2021/10/30/AI-Learning/20211030-%E6%97%8B%E8%BD%AC%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B(%E4%B8%80)-RRPN/</url>
    
    <content type="html"><![CDATA[<h1 id="旋转目标检测一-rrpn"><a class="markdownIt-Anchor" href="#旋转目标检测一-rrpn"></a> 旋转目标检测(一)-RRPN</h1><h2 id="简介"><a class="markdownIt-Anchor" href="#简介"></a> 简介</h2><ul><li><strong>论文题目</strong> : Arbitrary-Oriented Scene Text Detection via Rotation Proposals</li><li><strong>论文地址</strong> : <a href="https://arxiv.org/abs/1703.01086">https://arxiv.org/abs/1703.01086</a></li><li><strong>代码实现</strong> : <a href="https://github.com/mjq11302010044/RRPN">https://github.com/mjq11302010044/RRPN</a></li></ul><p><img src="/img/article/2021/10/30/introduce.png" alt="" /></p><p>自然场景文本检测存在的困难：光照不均，模糊，透视畸变，文本不定向等等</p><p>前人提出的使用分段网络（如完全卷积网络[FCN])生成文本预测图，需要几个后处理步骤来生成具有所需方向的最终文本区域建议，通常非常耗时。</p><p>作者提出了基于旋转候选框实现任意方向的场景文本检测，简称RRPN，其思想沿用的是目标检测中的RPN，在其基础上增加了旋转角度信息。最后在三个数据集(MSRA-TD500, ICDAR2013,ICDAR2015)进行了测试，发现它比以前的方法准确而且更有效。</p><h2 id="idea"><a class="markdownIt-Anchor" href="#idea"></a> Idea</h2><ul><li>与先前基于分割的框架不同，作者提出了基于候选框的不定向文本检测，使得候选框可以更好地适应文本区域，可以更好地修正长文本区域</li><li>作者将新提出的RROI池化层和旋转候选框的学习加入到基于候选框区域的结构当中，与传统的基于分割的文本检测框架相比，确保了文本检测的计算效率</li><li>作者提出了任意方向选择候选框的新的修正方法(refinement)，以提高任意文本检测的性能。</li></ul><h2 id="实现"><a class="markdownIt-Anchor" href="#实现"></a> 实现</h2><h3 id="网络结构-rrpn框架"><a class="markdownIt-Anchor" href="#网络结构-rrpn框架"></a> 网络结构-RRPN框架</h3><p><img src="/img/article/2021/10/30/Network.png" alt="RRPN网络结构" /></p><p>RRPN沿用了Faster-RCNN中的RPN的思想(即使用其来生成候选区域)，并在此基础上进行了改进，提出了基于旋转候选网络区域(RRPN)．整个网络结构和Faster-RCNN非常相似，RRPN也是分成并行两路：一路用于预测类别，另一路用于回归旋转矩形框。</p><p>具体步骤如下:</p><ol><li>前端使用非常经典的 <strong>VGG16</strong> 作为主干特征提取网络</li><li>中间采用RRPN主要是用于生成带倾斜角的候选区域，该层输出包括候选框的类别和旋转矩形框的回归</li><li>通过RRoI Pooling将RRPN生成的候选框映射到特征图上，得到最终的文本行检测结果</li></ol><h3 id="具体细节"><a class="markdownIt-Anchor" href="#具体细节"></a> 具体细节</h3><h4 id="1rotated-bounding-box-representation-旋转矩形框的表示"><a class="markdownIt-Anchor" href="#1rotated-bounding-box-representation-旋转矩形框的表示"></a> 1.Rotated Bounding Box Representation-旋转矩形框的表示</h4><p>用(x,y,w,h,θ)表示旋转矩形框：其中(x,y)表示几何矩形中心点坐标,h表示矩形框的短边长度,w 表示矩形框的长边,θ表示x正轴与矩形框长边的夹角。</p><p>围绕矩阵中心旋转α角后，中心锚点坐标公式:</p><p><img src="/img/article/2021/10/30/1.png" alt="" /></p><p>其中 <strong>T</strong> 是平移矩阵, <strong>R</strong> 是旋转矩阵。</p><p><img src="/img/article/2021/10/30/2.png" alt="" /></p><h4 id="2rotation-anchors-strategy-锚点旋转策略"><a class="markdownIt-Anchor" href="#2rotation-anchors-strategy-锚点旋转策略"></a> 2.Rotation Anchors Strategy-锚点旋转策略</h4><p>Anchors 就是按照固定比例（长宽、大小）预定义的框，在后续阶段找出Bounding-box位置和大小，是以这些框为基础。</p><p><img src="/img/article/2021/10/30/3.png" alt="" /></p><p>作者提出的锚点R-anchor有三类策略：</p><ul><li>scale 有8，16，32三种，表示文本行的大小</li><li>ratio 有1：2，1：5，1：8三种，表示文本行的宽高比</li><li>angle 有<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mo>−</mo><mi>π</mi></mrow><mn>6</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{-\pi}{6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1473309999999999em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.802331em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>、<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>、<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mi>π</mi><mn>6</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{\pi}{6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>、<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mi>π</mi><mn>3</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{\pi}{3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>、<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mi>π</mi><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{\pi}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>、<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mn>2</mn><mi>π</mi></mrow><mn>3</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{2\pi}{3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>六种，表示提议框的旋转角</li></ul><p>综上所述，特征图上每个点将生成54个R-anchor（６个方向，３个尺度，３个宽高比）</p><h4 id="3learning-of-rotated-proposal-旋转矩形候选框的学习"><a class="markdownIt-Anchor" href="#3learning-of-rotated-proposal-旋转矩形候选框的学习"></a> 3.Learning of Rotated Proposal-旋转矩形候选框的学习</h4><p>RRPN层会生成很对很多的旋转矩形框，那么这些矩形框中有哪些是需要送入网络参与训练呢？</p><p>首先作者提出了如何确定它们当中用于作为训练的正、负样本的标准:</p><ul><li>训练正样本</li></ul><blockquote><p>需要同时满足以下两种条件:</p><p>1.其与ground truth的IOU大于0.7<br />2.其与ground truth的夹角小于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mi>π</mi><mn>12</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{\pi}{12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p></blockquote><ul><li>训练负样本</li></ul><blockquote><p>满足以下条件之一:</p><p>1.其与ground truth的IOU小于0.3<br />2.其与ground truth的IOU大于0.7，并且与ground truth的夹角大于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mi>π</mi><mn>12</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{\pi}{12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p></blockquote><ul><li>损失函数</li></ul><p>作者采用的是多任务损失函数，总公式如下:</p><p><img src="/img/article/2021/10/30/4.png" alt="" /></p><p>其中分类损失函数L<sub>cls</sub>:<img src="/img/article/2021/10/30/5.png" alt="" /></p><p>其中回归损失函数L<sub>reg</sub>:<img src="/img/article/2021/10/30/6.png" alt="" /></p><h4 id="4proposal-refinement候选框修正"><a class="markdownIt-Anchor" href="#4proposal-refinement候选框修正"></a> 4.Proposal Refinement–候选框修正</h4><p><strong>倾斜IOU的计算</strong></p><p>作者使用的是倾斜的候选框，所以基于水平候选框的IOU计算方法不合适，因此提出了倾斜IOU的计算方法</p><p><img src="/img/article/2021/10/30/7.png" alt="" /></p><p>总体思路：将两个矩形的交点进行顺时针排序并连成多边形，然后分割成一个个小三角形计算总面积。</p><p>以下图（b）举例子，多边形顺序AIJCKL，分割成三角形AIJ,AJC,ACK,AKL,计算这四个三角形的和。</p><p><img src="/img/article/2021/10/30/8.png" alt="" /></p><p><strong>RROI pooling</strong></p><p>针对任意方向的文本，作者提出了旋转ROI池化层．</p><p>将高度为h和宽度为w的旋转候选区域平均划分,每个子区域和候选框的方向相同．具体的实现细节如下</p><p><img src="/img/article/2021/10/30/9.png" alt="" /></p><h2 id="实验结果"><a class="markdownIt-Anchor" href="#实验结果"></a> 实验结果</h2><p>作者最后在三个数据集(MSRA-TD500, ICDAR2013,ICDAR2015)进行了测试，发现它比以前的方法准确而且更有效。</p><p><img src="/img/article/2021/10/30/12.png" alt="" /></p><h2 id="知识索引"><a class="markdownIt-Anchor" href="#知识索引"></a> 知识索引</h2><p><strong>正样本/负样本</strong></p><p>正样本是指属于某一类别的样本,反样本是指不属于某一类别的样本。</p><p><strong>Intersection over Union - IoU - 交并比</strong></p><p><img src="/img/article/2021/10/30/13.png" alt="" /></p><p>交并比 (Intersection-over-Union，IoU)，是候选框(candidate bound) 与 原标记框(ground-truth bounding box)的交叠率，即它们的交集与并集的比值。</p><p>一般情况下，0.5 是阈值，用来判断预测的边界框是否正确。如果你希望更严格一点，你可以将 IoU 定得更高，比如说大于 0.6 或者更大的数字。IoU 越高，边界框越精确。</p><h2 id="个人反思总结"><a class="markdownIt-Anchor" href="#个人反思总结"></a> 个人反思总结</h2><blockquote><ol><li><p>接触到了许多陌生的概念，读起来感觉有些吃力</p><p>(</p><p>有时非常搞不懂某一步的意义:</p><ul><li>为什么要做这一步，作者是怎么想到要这样做的</li><li>这一步是怎么推导实现的？【突然出现一个公式或是算法，让人感觉摸不着头脑】</li></ul><p>)，</p><ol start="2"><li>应该先找找比较经典的CV论文看看，打好基础</li></ol></li><li><p>很多论文之间的思路都具有关联性，只有多看才能真正理解作者的思路</p></li></ol></blockquote>]]></content>
    
    
    <categories>
      
      <category>深度学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
      <tag>旋转目标检测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++杂谈</title>
    <link href="/2021/10/27/Programing/20211027-C++%E6%9D%82%E8%B0%88/"/>
    <url>/2021/10/27/Programing/20211027-C++%E6%9D%82%E8%B0%88/</url>
    
    <content type="html"><![CDATA[<ol><li><p>函数传入数组时，能用引用<code>&amp;</code>就用引用<code>&amp;</code>，因为不用引用传参会复制数组，时间会变长</p><ul><li>要去想一想这个数组传入函数后其内部元素会被改变么？/ 改变后对后续有无影响？</li></ul></li><li><p>习惯定义一个<code>const int N = 1e6 + 7; // 题目的数据范围</code>，顺便<code>const ind MOD; // 取模</code></p><ul><li>一维vector初始化: <code>vector&lt;int&gt; arr(N);</code></li><li>二维vector初始化:<code>vector&lt;vector&lt;int&gt;&gt; arr(N, vector&lt;int&gt;(N));</code></li></ul></li><li><p>输入输出:  循环内用<code>scanf()</code>和<code>printf()</code>； 循环外用<code>cin &gt;&gt;</code> 和<code>cout &lt;&lt;</code></p><pre class="language-c" data-language="c"><code class="language-c">&#x2F;&#x2F; 可以用下面两句来解除cin cout的绑定和 iostream的输入输出缓存&#x2F;&#x2F; 可以但没必要，因为启用后就不能用scanf()和printf()了cin.tie(NULL);ios::sync_with_stdio(false);</code></pre><p>如果要输入字符串怎么弄?</p><ul><li><p>循环外：推荐  string s，cin &gt;&gt;  s</p></li><li><p>循环内：推荐 char[MAX_N]，然后按%s读入， 注意char数组的以<code>\0</code>结尾的特性，因此预定义长度要比输入的最大长度大1。</p><pre class="language-c" data-language="c"><code class="language-c">while (m --) &#123;    char str[max_n];    scanf(&quot;%s&quot;, str);&#125;</code></pre></li><li><p>需要读入一行(即把空格也读进来）: <code>getline(cin, s);</code></p></li></ul></li><li><p>pair的sort排序会优先排序左端点first，如果左端点一样再按右端点right排序</p></li><li><p><strong>构造自定义排序的priority_queue、sort、map、set</strong>要重载<code>&lt;</code>运算符，或者写一个cmp()，cmp()可以直接用lambda表达式，写一个就地匿名函数</p></li><li><p>字典在C++中和python中的定义:</p><pre class="language-c" data-language="c"><code class="language-c">#include &lt;unordered_map&gt;using namespace std;&#x2F;&#x2F; C++中用hash map可以实现unordered_map&lt;string, int&gt; dic &#x3D; &#123;&#123;&quot;type&quot;, 0&#125;, &#123;&quot;color&quot;, 1&#125;, &#123;&quot;name&quot;, 2&#125;&#125;;</code></pre><pre class="language-python" data-language="python"><code class="language-python">dic &#x3D; &#123;&quot;type&quot;: 0, &quot;color&quot;: 1, &quot;name&quot;: 2&#125;</code></pre></li><li><p><code>next</code>在C++中是关键字，所以一般取<code>nxt</code>表示下一个, 对应<code>pre</code>表示上一个,还有<code>cur</code>当前</p></li><li><p>求一个vector中最大值最小值的最快方式是用max_element()和min_element()，注意返回的是地址要解引用</p><pre class="language-C++" data-language="C++"><code class="language-C++">#include &lt;algorithm&gt;using namespace std;vector&lt;int&gt; arr;int max &#x3D; *max_element(arr.begin(), arr.end());int min &#x3D; *min_element(arr.begin(). arr.end());</code></pre></li><li><p>if中的判断简写</p><pre class="language-c" data-language="c"><code class="language-c">if (j) ⇔ if (j &gt; 0)if (!j) ⇔ if (j &#x3D;&#x3D; 0) ⇔ if (j &#x3D;&#x3D; false)if (~j) ⇔ if (j &#x3D;&#x3D; -1)if (j &amp; 1) ⇔ if (j % 2 &#x3D;&#x3D; 1) &#x2F;&#x2F;判断是否是奇数</code></pre></li><li><p>数学</p><pre class="language-C" data-language="C"><code class="language-C">#include &lt;cmath&gt;&#x2F;&#x2F; 绝对值abs(x)&#x2F;&#x2F; 开方 [向下取整]sqrt(1.0 * x)</code></pre></li><li><p>操作符可以用op来记录</p><pre class="language-c" data-language="c"><code class="language-c">while (m --) &#123;    char op[2];scanf(&quot;%s&quot;, op); &#x2F;&#x2F;注意用%s，字符串读入，可以忽略空格if(op[0] &#x3D;&#x3D; &#39;I&#39;) &#123;        &#x2F;&#x2F; 插入操作            &#125; else if (op[0] &#x3D;&#x3D; &#39;Q&#39;) &#123;        &#x2F;&#x2F; 查询操作    &#125;&#125;</code></pre></li><li><p>memset初始化数组 (memset是按每个字节来初始化的)</p><pre class="language-c" data-language="c"><code class="language-c">#include &lt;cstring&gt;&#x2F;&#x2F; 0 8位全是0; -1 8位全是1memset(arr, 0, sizeof arr)memset(arr, -1, sizeof arr)&#x2F;&#x2F; 当以16进制初始化时，要确保其能转为8位2进制memset(arr, 0x3f, sizeof arr);</code></pre></li><li><p>时间复杂度对于一个算法来说，可以决定算法是否会超出时间限制，与题目数据范围结合可以快速确定解决该问题会用到什么样的算法，比如我们拿到一道题看到数据范围是1e5，那么我们可以判定这道题的时间复杂度需要控制在O(n)或者O(nlogn)的级别，因此可以判断出这道题可能是O(n)的DP，可能是双指针或者是二分答案等等</p><blockquote><p>各种例子</p><ul><li>复杂度在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>的，基本就是各种数学知识或者脑筋急转弯，n的量级基本不受限制</li><li>二分查找等复杂度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(logn)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，n一般在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">{10^9}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></span>这个量级内</li><li>单调栈、单调队列、差分数组、BFS、DFS、贪心、哈希、前缀和、一维动态规划等复杂度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，n一般可以在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">{10^6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span></span>这个量级内</li><li>排序、（堆）优先队列、BFS、DFS、图、分治、二分查找、字典树、线段树、并查集等复杂度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(nlogn)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，n一般在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">{10^5}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></span>这个量级内</li><li>二维动态规划等复杂度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n^{2})}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>，n一般在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">{10^3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></span>这个量级内</li><li>三维动态规划等复杂度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>3</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n^{3})}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>，n一般在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">{10^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>这个量级内</li></ul></blockquote></li></ol><blockquote><ul><li>状态压缩等复杂度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(2^{n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，n一般在16左右</li></ul></blockquote><ol start="14"><li><p>5分钟写不出来就直接看题解，但是不要边看边写，看完之后在不借助任何帮助的情况下自己写一遍</p></li><li><p><a href="https://www.acoier.com/tags/">https://www.acoier.com/tags/</a></p></li><li><p>kuangbin专题</p></li><li><p>剑指Offer 33.二叉搜索树的后续遍历序列，这道题，再次印证了二叉搜索树是一种变相的递增序列</p></li><li><p>BFS走二维图</p><pre class="language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; 定义方向:上右下左 0 1 0vector&lt;int&gt; dx &#x3D; &#123;0, 1, 0, -1&#125;;vector&lt;int&gt; dy &#x3D; &#123;-1, 0, 1, 0&#125;;</code></pre></li><li><p>频繁调用的函数可以设为inline函数</p><pre class="language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; 图的存储inline void add (int u, int v, int w);    &#x2F;&#x2F; 手写堆的up和down函数inline void up(int u)inline void down(int u)</code></pre></li><li><p>出现段错误Segmentation Fault，可以用删代码法(主要删包含访问数组的循环)排除问题。</p></li><li><p>做图论问题，一定要看请是有向图还是无向图，无向图一定要把M的范围扩成2倍，不然容易TLE,在图论中，存储也是比较怪的一点，有向图只存一条边，无向图可以看成双向有向图，存两条边。无向图最多存n * (n - - 1)，考虑自环n * n；有向图最多n(n -1) / 2。</p><pre class="language-c" data-language="c"><code class="language-c">const int N &#x3D; 1e5 + 7;const int M &#x3D; 2 * 1e5&#39;</code></pre></li><li><p>清楚有些操作是可以分拆的，如加减乘除；有些操作是不可以分拆的=(如求max，求最大公约,最小公倍数),这时候可以考虑使用线段树优化</p><blockquote><p>已知了一个序列中的max，你去掉末尾的数，就求不出当前序列的max</p></blockquote></li><li><p>到底是leetcode上的动态写法更好还是普通形式的静态写法比较好。还是一般静态，为了leetcode上一些专门的题型而去刷一些动态写法，如链表和二叉搜索树。</p></li><li><p>右操作数命名为Node&amp; rhs   为right hand size  <a href="https://leetcode.cn/submissions/detail/385963390/">https://leetcode.cn/submissions/detail/385963390/</a></p></li><li><p>unordered_set和unordered_map不能直接以pair等复杂(自定义)类型作为键名 <a href="https://blog.csdn.net/weixin_44966641/article/details/121536027">参考</a></p><pre class="language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; 如需使用，你需要自定义一个hash函数，然后在声明时将其传入struct SimplePairHash &#123;    std::size_t operator()(const std::pair&lt;int, int&gt;&amp; p) const &#123;        return p.first ^ p.second;    &#125;&#125;;std::unordered_set&lt;std::pair&lt;int, int&gt;, SimplePairHash&gt; S;</code></pre><p>类似的还有n元组tuple</p></li><li><p>从执行效率上来说，数组要比哈希表快上不少</p><blockquote><p>虽然时间复杂度一样，但哈希表的更新和查询复杂度为均摊 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，而定长数组的的更新和查询复杂度则是严格<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 。</p></blockquote></li><li><p><code>while(cin &gt;&gt; n, n != 0)</code> 或者<code>while(scanf(&quot;%d&quot;, &amp;n) != EOF)</code>可以处理没有特判的输入结尾。<br />像这种<strong>逗号表达式，其返回值是看该行最后一个表达式的值</strong>。</p></li><li><p>Yxc时间复杂度分享</p><blockquote><ol><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>≤</mo><mn>30</mn></mrow><annotation encoding="application/x-tex">n \leq 30</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">0</span></span></span></span>, 指数级别, dfs <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>+</mo></mrow><annotation encoding="application/x-tex">+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">+</span></span></span></span> 剪枝, 状态压缩 dp</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>≤</mo><mn>100</mn><mo>=</mo><mo>&gt;</mo><mi>O</mi><mrow><mo fence="true">(</mo><msup><mi>n</mi><mn>3</mn></msup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">n \leq 100=&gt;O\left(n^3\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.20001em;vertical-align:-0.35001em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span>, floyd, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">d</mi><mi mathvariant="normal">p</mi></mrow><annotation encoding="application/x-tex">\mathrm{dp}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathrm">d</span><span class="mord mathrm">p</span></span></span></span></span>, 高斯消元</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>≤</mo><mn>1000</mn><mo>=</mo><mo>&gt;</mo><mi>O</mi><mrow><mo fence="true">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi>O</mi><mrow><mo fence="true">(</mo><msup><mi>n</mi><mn>2</mn></msup><mi>log</mi><mo>⁡</mo><mi>n</mi><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">n \leq 1000=&gt;O\left(n^2\right), O\left(n^2 \log n\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.20001em;vertical-align:-0.35001em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span>, dp, 二分, 朴素版Dijkstra、祈素版Prim、 Bellman-Ford</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>≤</mo><mn>10000</mn><mo>=</mo><mo>&gt;</mo><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>∗</mo><msqrt><mi>n</mi></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n \leq 10000=&gt;O(n * \sqrt{n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.05028em;vertical-align:-0.25em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8002800000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathdefault">n</span></span></span><span style="top:-2.76028em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80H400000v40H845z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.23972em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, 块状链表、分块、莫队</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>≤</mo><mn>100000</mn><mo>⇒</mo><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo><mo>⇒</mo><mo>&gt;</mo></mrow><annotation encoding="application/x-tex">n \leq 100000 \Rightarrow O(n \log n) \Rightarrow&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⇒</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span></span></span></span> 各种sort, 线段树、树状数组、set/map、heap、拓扑 排序、dijkstra+heap、prim+heap、Kruskal、spfa、求凸包、求半平面交、二分、 CDQ分治、整体二分、后缀数组、树链剖分、动态树</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>≤</mo><mn>1000000</mn><mo>=</mo><mo>&gt;</mo><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n \leq 1000000=&gt;O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>, 以及常数较小的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n \log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 算法 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>=</mo><mo>&gt;</mo></mrow><annotation encoding="application/x-tex">=&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span></span></span></span> 单调队列、 hash、双指针扫描、并查集, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mrow><mi mathvariant="normal">k</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">p</mi></mrow><mi mathvariant="normal">、</mi><mrow><mi mathvariant="normal">A</mi><mi mathvariant="normal">C</mi></mrow></mrow><annotation encoding="application/x-tex">\mathrm{kmp} 、 \mathrm{AC}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathrm">k</span><span class="mord mathrm">m</span><span class="mord mathrm">p</span></span><span class="mord cjk_fallback">、</span><span class="mord"><span class="mord mathrm">A</span><span class="mord mathrm">C</span></span></span></span></span> 自动机, 常数比较小的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n \log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 的做法: sort、树状数 组、heap、dijkstra、spfa</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>≤</mo><mn>10000000</mn><mo>=</mo><mo>&gt;</mo><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n \leq 10000000=&gt;O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>, 双指针扫描、 kmp、AC自动机、线性监素数</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup><mo>⇒</mo><mi>O</mi><mo stretchy="false">(</mo><msqrt><mi>n</mi></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n \leq 10^9 \Rightarrow O(\sqrt{n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.05028em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8002800000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathdefault">n</span></span></span><span style="top:-2.76028em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80H400000v40H845z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.23972em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, 判断质数</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>18</mn></msup><mo>⇒</mo><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n \leq 10^{18} \Rightarrow O(\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">8</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>, 最大公约数, 快速幂, 数位DP</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>1000</mn></msup><mo>⇒</mo><mi>O</mi><mrow><mo fence="true">(</mo><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">n \leq 10^{1000} \Rightarrow O\left((\log n)^2\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span><span class="mord mtight">0</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.20001em;vertical-align:-0.35001em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span>, 高精度加减乘除</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>100000</mn></msup><mo>=</mo><mo>&gt;</mo><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>k</mi><mo>×</mo><mi>log</mi><mo>⁡</mo><mi>log</mi><mo>⁡</mo><mi>k</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">n \leq 10^{100000}=&gt;O(\log k \times \log \log k), k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span><span class="mord mtight">0</span><span class="mord mtight">0</span><span class="mord mtight">0</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span> 表示位数, 高精度加减、FFT/NTT</li></ol></blockquote></li><li><p>对于题目和一些边界问题，如果0-base的数组不会出现边界问题，就用0-base的，否则用1-base的</p></li><li><p>概念区分<br /><strong>子集合</strong>：数组中的所有元素可以任意组合后的子集，当然，空集是任意数组的子集。<br /><strong>子序列</strong>：原序列中可以不连续的一段。<br /><strong>子数组（子串）</strong>：原序列中必须连续的一段。<br />但是无论是子序列和子数组，他们都可以看作是原数组的一部分，而且不会改变原来数组中元素的<strong>相对位置</strong>。而子集合是可以改变原来数组中元素的相对位置的</p></li><li><p>打leetcode周赛时，如果提交后WA了，可以马上把WA的数据赋值到代码框中的注释里去</p></li><li><p><strong>取余</strong>;如果只需判断被除数是否能整除除数(不关心商，只关心mod 是否==0)，可以对被除数取模来缩小这个数的范围（取模后的得到的余数，保留了这个被除数的性质）</p><p>出自周赛经验：<a href="https://leetcode.cn/problems/find-the-divisibility-array-of-a-string/">https://leetcode.cn/problems/find-the-divisibility-array-of-a-string/</a></p></li><li><p>acm模式，顺序</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;   &#x2F;&#x2F; 头文件using namespace std;typedef long long LL; &#x2F;&#x2F; typedefconst int N &#x3D; 1e5 + 7;&#x2F;&#x2F; const常量struct Node&#123;          &#x2F;&#x2F; 结构体 &#125;  int res;              &#x2F;&#x2F; 全局变量vector&lt;int&gt; arr;void func () &#123;        &#x2F;&#x2F; 函数    ...    res +&#x3D; 1;&#125;int main() &#123;          &#x2F;&#x2F; main函数        return 0;&#125;</code></pre></li><li><p>关于空格的问题，个人习惯4字符对齐：</p><pre class="language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; if语句后面加空格if (dis[v] &gt; du + w) &#123;dis[v] &#x3D; du + w;&#125;&#x2F;&#x2F; for循环后面不加空格&#x2F;&#x2F; 有时候懒了，for后面也带空格，习惯了for(int i &#x3D; 0; i &lt; n; i ++) &#123;    int j &#x3D; a[i];&#125;</code></pre></li></ol>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>保研后记</title>
    <link href="/2021/10/06/Diary/20211006-%E4%BF%9D%E7%A0%94%E5%90%8E%E8%AE%B0/"/>
    <url>/2021/10/06/Diary/20211006-%E4%BF%9D%E7%A0%94%E5%90%8E%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="079a60d0107f4c0da05e58625d0a3df8484f9b8aaaa6d10f3b621f145e4e22bb">10d79030e8222445804370796b90fca1b3149e2c2a0f36d6b4ea04e548758c219d5ce3f3ea33aadd8650b46a4ea9e603f7ed139b64c27d0c8eaaaa4dc2038915e34ae6c879d454ee122b9a657114dd93066bf077e7deeef2a5bb90debeb851790c0fedda0d4e47f63c66c315fce9a8093806e529b403a8594264e1b038acbd35c21b563c71581e12e06ded51e5ee3028857bd8c5da677250e1cd07e715e9a7c39dbcd9cf49f6153b9daa2f4d6fc0de87cfaf056723b909d10557068f9e4016091cef38be85e423bc368d2f7be83eddf65fe51bfdfe3ac19114a78749956b73d134ae6ed0971ffc001914da4d1fdedf72386b8cb55aa990bc283da562725679a9a9b6ed09edb7265fd57ab3d413de97f282a41b799b09d91cc17d56fc02c6c202f94a1f8a8eefa30cf49007fc7c1de65d199068c99c133c1ff9d2c0d39a34e3c2f7a06eae8d74bab6f4282c355a64c1a231af52e10b5f9b09379f650b90304ce6d01ff36a26d7c085c5f844d1916c5434c3cc792347e8978b7cf4b12dddca964fe9a6832cc0a4aee40ae4633ff43350bc2b7a0a0aa37d9fd792a373185d8da39b818d057b57fbdff5b0564d4f21896d1ffcaab4a174e7091a85aa7d3b693ef24e6024e55cddbddebf2254cae886874cebef5379ed16add84f0e6b96d6dcd9e43fa0f49c4db27dc216a057b8129ffa41706d6c99ca9fccc73772421c69c2c5a23f0291e1475350e3d60011da243ab77592312b6145a8b428378354b5613b4e110a7020e592b8bff78b638b8c4eaeb41a4df23ca6f67fcf199dfdef5e686fbd673add73bd047bd25f4b94c097e85fbd7423da9cc807a86222768201bcadcc1755748af78d64af08188ec164e141e779541026b9032637798ff93feb5f5fd604f937e33a27e32daf1e5d3f587842a11fa028ff05aa3fefabefd82d3732ac8b6ca38634300957ca5b8035215f3c736ebf19ead27140c7916c9a8d3664ae6c4920a5f9f5c02eca276ad4d792e586c501381d7c6002ad760843d861d05df0361254a76b424055b7d232e77681747c6b7f145dec8bf18fc8a154cdaa6bbe05264033baac440140ad2db01bfd25a80bce7efcea98d5060c32fc36533baf912766ea8ce0768f11089ef09543702411d3a755dbc3675c17d531704273236d86b0b83c95f5a5a6178591d2dbfc205f2ca0a3e769f8b8a17bc08fdec48691bef5cd013646d0307fc31140ac741eafa788759fc98e52865afb430b9ccfbae3f57c29caad7d7a5977bd1794727aaf64e6c4adc55474b9177d9c125c4dfa08c4923bff577c3c1b6d89d75190b61321fa87a935004bb1b07fa63097ce62a1ebd8ebf34ea5da565bf8d4eaa79a93060d61e50862d9ee6bf52515f77c915f3d03ff8b107be7277c6065ca38b7c2eab7cdde4db05931983e913027f6b0251ade1d1a849e464994d4ecef1d029d524e3be6f77be3b12768d628382c8f8dab5e0ffb963b07a4a3c8bd3405691fe469f04448e26dcbf02fbc3953bf793ba5d1071e6e1392d5e5b9f19a90af86664896d916d8d2064ceb15a0100b47c6ff9b2a14ebc51820aa0979355ce5f2f5079dfe5065e3cce4faccc3e67caea2d98c46b93232062ac594c31a57a57c4015a7fcff72c308eefdb9bcd657360b46857928f949a606fa9aeb2488013ad976cf92d91464b2bb8faaa4c8858a51a6c9335011d23f0e7e312c0312cb05403dff14b5257a502c151343dfef58e26d28095917ae985864dedc781485d237942363e83db48a3e82a6d3d41b0a0f25c77fc38861b7e2a3a30a08e4827c74e10b581b6eca94533585842644ee8bc474f84238b59fe413b86397fdfd02dc8593b1b6944c9508dd4f74738839f1253fc1a990c757b0f6aeb1bd001850c04fe29a3553073d930fe58740ed94f57c0bec243ea5b0d334ff74c9a883de5fea7ecd97bd8e08ee4b00dbdba7996bc9f9c96bbdbc58e078357a9b8d6215239589ca7e12b0fc057bbf5fa77a428d2f8c4755aaf35eb939f08a5a6fc5fae13d03e03a7d1dec68a2a3cd327658a1844bc45a785ad03f82baa399d868a161d5020cb894936eb81214c139d913a66cca01ccc526c144231a4d2f2d2dc9d5819a89184307670a9af9a0135e54aa5b7d8456a731124c174769bcd8e9ff601462ab3e9c58505f09cc3b2e5e7da541e669823454d561de4033d639226eabf5bbbea0badeb9a15620815faee0fa8c3dd039eea0ed8c702fb876e5b6f17eefdac4479316f2fbc4867e64673c3fee742d4decfec1ff861c1193d484c065a285befe38dc0f3979c65ab89cabd9ed81d061360a997f37a285f031c451b244a1f3c60909004a74426083a661084a8d645d42eb24538a47069c4e885aa96e401c641e0e964ca7a03da8ebb796943fbcbe98ff6161d9d813309771f32ce4678080655859fb175189517b4512ee62228a5b93050f41396bf6558fb04e87ac7eb9802ef0bf019d46ea97879b74873e4511af36418aaabd0b117b05e093bfdab0a5f6a4af53d9f2f48224111952173b13dbf8e931f5be739f887c67eada8b812693dd44ac0354acc0a201976cacd2371df1dceb6a3bcc22ac6489a7f4457305a94681bb6100751629a61eb8a5d923704b3314f1396c4ef9d5a815f0ded17e7ac6099933fdafb61dabd444027259b9fd9cd83ece5725c2f4a1d6b4bd328df1724d0f9c1384a2e3374e5550df32fea0bf2ccb08bd3911fa74339ef4523f09037c3a0beb5a503a1f198ea044af6d023a877b2af1c81302dcf85693bb284e9692821b557e26a9c1acabd439026843c056576ccd6255a86c8576b68cca8dce1710b371bbbd06260bdd7c4e96debe24e4e8ca1643cb47ab5911e78b21b485cabc6615fd9778da5f3e134bb83ec4d8ec5d06a96160657d43f500dc11b6186fa953d97ccf2d681fd661a25dc7b11291b202d088eb382d404cc27bba713a661f66643afc3eaf48eb1e4d863293ef5c0857404e53f90f676814b1025e98a4192c273e381256aa6eb979ed026bef9cf20d1fff099439ac08a65b50570e0bd195848a09c2c8fec99e28c2cc183adfe44a17a320705343f7ec42c79bbfb4b8e33e92254294bd647de9155a9cc76e6fa6fe902eaf9fa28bf741c8c5acd646c73ad213e15a39f248e13e101994ef73308f97fc3af8aaa6afc8fca8d44ac97c0937dd5ec6a3ec66c16f756cbb4d2b2653789043e90c505a921db6cc8cf7d1d188bcbe16b3ebdb546c64372fbd8fb64a18653177bca3b60cabd38a2d1a42e6e0fd055cf7aa9ad186acda642b1162a31f648c9782c03549b3b90f8e4c928dcc88d32e27a20bce89a84c4220076c30e336f6e69caed17dc41741aa6d0fcb720c2a870e2eea6e43904b0834e5fa6e8057f2f2a50bc38cbd2064de070b131298b9f29f5777a2224419219868e07b74f617e33fa767f0862d649003d27767898fdfb69ac59e48b3aebb4b3b889ac51be3919004e21273f50e916d79436fe912ed041af8f600da777f456ad2126b27cb3b8123f3a61702baa9073600f9ff9564c21c6f2cbf4dedd7b053c0ed80eb419dafae92b5e24dd4670f1fa7066badac90fddf5d76b4d617fcb9a6707341e6b355d9499ac92b5b42e97fd1e4dc2f3ca3828d6e9f119f1f4d04a02d6522d3bc1caedd187f278533720f4df6810acba8f8415e83205898474120e96238430371ce0fa32a630aef29fa2b9980eda487abd30e350136be945148261371eb48eee54b736abb4bfff7dd57dae0d4027f1dec847423f267620407343f3896b3e86c1a860b13a7e71cac466919a7b1262abef676990219f7c5282d2f284ff1b498e4790f4d3d0e73e8b677af88a15a7b1e762ed7e23935de073ec7058dfacbb1de07fe887c6ab1267b8f374f3aeb324542368b0f42ae9575da83024a1d98d57984516cc53213223d183873cc48ce888ef8bbff3f1145deb1f6095e7450e47a2e4b4b0d9a459b5d75764f9cf5f756ddbf52be0fe64300a367d83a3a9fdab8c62da828f6989f448649d650cbb60df20735f50cad83384b505039a537c7a2e68c11e0dce1b9376fa930346d12ec2273c8e421557dd04c1d4d52beb19b1648fdaf11e3d9e545212e9983ac2343430d67aa643d18b5de621fb14cf9e27984c99937779065fee1d57270851f012c971bd87c3bbbd4f04397bd39a5b87d17dd7294e938fd26c4e21715d8397d059c24ffeaba06af12d8bdc384d788b9351b3bf432c4aa6d276ea30f92203cce5edf007bf397648a7f1d6a979f5d559549282e16266ad65392cb5ba92a626348b783b2e991ceb9e31fb908d9bf29621a0aae7b8109396c25134c087d4dc776214b87cb9109d18d76aca9ecaa147536cafc38c6cc30b0c0502f2441f5eefbd515bd41b77a97ee8094701f7bd2748e39db8e97d4a8ba46f482038c6a9f7abd7217bb57c396eaac94dde6d511235630d9a1460feb7dd6fc1a04065e1994c1efc3cd0163d5e25bf79ec04f30211a47bbca84f2ab2d427fb8d331283503a4416911fbb3a47186425320800d00e809efdc1d45872be620d1bdc9893dc8817c549c3c9d2851aeafe12ebe688fd8ae3da5669a7090391125c1090279b70eeed57c3efc1def757eb5e84048e2b997e07d410f53ccee67a390d82567bfa6afe45d784cf953342c5c77f54dd19f01977bce196281dfbeeb310f8aefd690fdf5c32978103769598cc3899e0843d3976b4121115362ea29d6b11a85eb3ffa8a55b441e37450ef6ea9833bc3ec6e87f9a467abc33432f4bd7147015b34c79dea93dbd4013bbc10823b71b59fd85c2acfc62faf7f5c0dfb9120cb7185932eacb1cfa92969bb7cea2d4da78cfe4b714d1b9fd9b0e87a7d261a01ed69c8c99cf44a21d4bf16101e95bd7f969c5accb0796fd57dbd79a127169d3c3d4a26fc3e3f6d845cadbcfd1e9be2c4dae48874bbe32c3344235ccd8fef2c15016a901e74dd6b1f0ade0693a7ef823f373e61ad09c83b425480f2fd8c8003942752fa5c92b17e246c5f1c0d73ac214909398d31f7399c42d20dbc1332a11dbf91612d3fe18c4cb8f787ba9a2e2cfd88002467aaef616844552797c3d348178bf1687f34c5583ae7c5a3df63a5a8743493f3be3459199d6f0f42619193997c20084407ddafb239eda3ee203e0daf13ec7e444b68a151e4c79ef4155fc6d79f4285a24bf26c144691ddd6e25ed84a4357eac2b13e164f0205737c88e9a084e217147295ad91d22c0a268bfdd60b3f91e26f93c52560c156dc90e1294b97832058d525b26d26debd25f934e491dacaa46fd98b39ca16cdf867fbf4ead82a683812674217c4576368a46a3bee240f3c6806d662b9a2f71ebcdc881365b323f88368d620eb6cd3f806de54e9dfddbd50c3788c5e691d814f818e8b5aeaf0c805a52b4f801a66a3c75b89b5bdc9ce901d4d6cfb785c850425bd58d19cafe16a574404381df60a4fc80ee7b44f36504142ea03d0ff425cf7afb774bcd8d3630688d833a888f6784658094cc582a5992c39f1f0b1a8b02cf1a04ca73601e089db418ac37573843cd226cc1fe6705c612815142d15161ea9950b9321fcf913226a4e17f87fbe4f4801c9749d0f081dc2fc6d4ebc0c8af69f4a5fbfd4ba2478a98ce633f4f48739f4db72f6d2ccacc6429671d90326f0c124b5b294339c4c1f43e99da4b1da14319f4e2313e235406a9010dd000e87c9523a28dd5b11cae419498b0e872a28a70b5a7f10bb6ab2cc513e0ef113e025514d9f78e239d90db0d4334038667e42b68fdb47acf87705fced8d7e350c3213f98bd74ba812d3cbff7866d0c38bf900a03086d57c1a1b1638972393deaf09e88bf85119a3aaa3834358f1df63fbbb9486e0480a444fa86b92208294055cbb2621dd3e2a24a0313d551d3c86c9d0243330496184ff5e9f5264cf247b7bbf762862e02ba19b8be835d48294037062497b31dced33facc4e09741566e0a1e89ee71f0e9b2ac1233e5c22963d3b547be62a0630e4379f2b30feadf939196813639d9263d097bcabdf2ca7f0e4fb4217a1451f29c606704bd52e074ceb3ef537df60e7b7e318d83326014ea0b152b028a91317bd510891e1c7da0fb7dad32cea88af3257de230a5ca0ad9c2b1c3914ad73d9166c446f6b1b9f25b12640c669a7e1cf87449a29673f7a79cda42e232881e24ad278f802aebaf5460ba94d87d43f9684dcd6eded9163958aa6eed6433ad53e3bed375a5e3de3d3829b145dd74899fe3d7e45cfa1e4544955e9f56271bb9dc2875f5d4ef6809b77c4fa08aba2642c79324fb4fa584ec47822692f632102f1d6bf7e09d903da1d6a1ab031e89d92d1e321b9b6ba44b543bb1754f52b3a5b5937b764b1c6e9b9d5ec0218f5f493ded2bdc71cb3bc82faf0280a3dae4cbbf7ebb54659ae6e0fae343bedcf507dc6200d9a2fc172ea39d2592fed216ef63c24fffb3772a8826ec45777455a322780cd521977fc48933669ecd938d1818b25e7f482b2546f576c595b3a4916c6bba16a22cda9c223f171ddce4882264e57c49437c85bcc1f91647cbb6e6cd5bbdc3119ace42caa271efa8ea79327b61d6ec4315ac0b5e494658afb1e26b2c0dfa13dd6eeb0e21432546ebc58624c93fa815f09483ac2ec144af75b2df3b124ec3e9a8c538b06c5b3237b8f852b09139441a5950c48fc58deb293e5d7d89fbfe35e89b29edf07f6c26e8307fc1a5e5c6b8fef8b3d4295f9256099134159033c540c975a41da8d005d6c1a221471474817d9dfc637d3b64799ed1d31410b2ba5dc92338332ddb3f723eea76ae5acec79277d583ecc5bec210b168c3309cac267d0e5a19d53c7143ee2ba8ae4a9d6c2c7fb4525809a8aac178b24c35f6b54bf0033f65b6ff4f708e7798b8bbdedf27ed514f008ace3ed9fae782747e1fc466e233ebf9d11b39c4413aa7a1e7e6f24730bae4a3d5adb19618f21df7b82b81620f92fed16fecd543c88389bbd6e0228ad25d59efa93280cfebd19470c1adea3d9125aec0522e92929aaf0e34d181629441e5f1c90c867fa878f843e3583745c20b075bd72ea26d0ac363f9c14283913c35ab67ca2bb58066c98ae40efef56b86a33cca91068420a81dc66dca36b599b668e80ae9d22b88e8224a34aa404fc5dbece4637f902abab1ede6df0275c19534234753e41f4b62b4ba4f7ab301fd039e9b812f0e1f95476685c453a844f1315f6635b49da05cad2161871072b04a0f646ada4bba7dace1275abc33f7229ae058966b86c41b19ae703eff909eb458ef277801c279e357ede4e5b985589ac248e712df4a0d6aa61e9a4d699f591f1ce3091e5e83b24bec3a44279b99d0e4854fde4e339f01e7644270bfb3df94502381f45a6786637aef30e79c625047da779c469ebbff3d96fd2aa948fbab93cb35e1768223dc642626a03a4d33001cf16394fdba566a6e88b663dd826c7dcce9bd0809fc25c035e5246846b00b5f6634de9a24b3d1ffffc0e8a722258b17872747d183c20431d9374ab0044e1e98064d01647401c2e06b58cd1337b1a161b1a4ccb3cc9bce3212a61da639d5b6e2920c00f9128a63cef7eeb2303762c294aad25de0c102b80e2d1b7e4a1176166709a79717808f5b603fc70c4a768560a64f9b6837b30b3b0f1d94083417d6b4188e844d0106c8156f3be94136fd9ee547b841e2fcbda89a22913cf32502e20e05b4c792ed34ff7dc4e9c843b9807043213b73fb92c9fba027cd005ccb696f204522625514d105f25fe8170753936d1a85a6ea044a0f6741be1aece6f0a42367c6daa616322e40101bc0792352835367b63107c101c88547003bba2c77d06772fa1c63c7f3baa682c8ca39196bd73363d20516331b4e73b5cead1c4094f87d2c0beadc2a38f9c9b3172853071782ea6928425dd9e6edcdc0021cb6ff06fa22c6a9d6f87c73421ee7fffa2c0ec1382015ba57ff66bc1f4d99589730cd6875d0e691821a705b47e85fd4737c2313f0385040c6417c6bb2a07b21ebdd17b0c1cb26f269bc371cefbd8873edcb5f5b7be9856a8de9db722d8eb5b6210ce54f311172def7c0f3d0a7c86dc496779221ea7ed9f4b64c8cf7b93336c29165dd3d69a6170dcf7df0e3f4a45d5281275ce771b0816c480f6ecc8c8f663be4e211bbb2d77ea52dde20cdef8f8dfa04c3c1c2535a3c47005900b39c730dfa35e129775a551bb2a8229b8d978270c2fb29a8e53af57dceca77ef826318925e8cfd1f0e4d8fa5ac11e4dc2b23a898d46532ca3a6c3a5923509beb54d63db61673b7b13ae3122f84317489ff8cea18f44759cead8a7d5f8b0cf9adb38ab5c2a47c7dce47128a33a77929d8540e4e59a0d75d156dec2f07cd7ced4eb1e71ec568bef964a62d8972a8e48933e71de20841836e4d72c70660688050b753d84b69edce84c74593ed97a539414523f092866783dbfa7e24b84f910a3335f2a4e091704924da268b0ed3b40af38e462c3f00cd5c98c628c83e605674ef94e740deedbbe4f5547c95311c206c4e34efad4a694545052c9505cffb513d537d9533f9946ddf0c0b4bb9c380a9d47081655b77fbdca769a84244e1614b2687760108cd02c2c37343a39279657571509d8bdbd38777b3532661d8b4d7fcf76d83bcc82a5ede3a85230374621cce6d4cc3c2889b53460b85727b0272a91d9db17d07f74f8d160ba71b27b35837557974fa7ece047f2f9e08a17f8d654542fb2ea8ed3c2045ace81633cfc19a7a21bbf94c80019ee829ad04cabc82d1012ee3bb0d3a806983a5a96dd9c2a374f1007f354e018486e536e0d3e22fc54cfeb7cee8e5c14edc5500c84eedf794353f79e97f95a68a296bc29cdf2917e54a7db1dcbaca72f61949da59329a13e77fadc3ca6e04ab0d17b8fd443731eb2dac622f1014a2e3f3e6835c968e4eefb797c3367fea2fe3d24fdd6cfecc7f9e2193b1bc5e69c944219c3d3b0b014b74a400f18658d1cf3bdddc999d2580fd70d85ff155ff34a6e9a02fb4911737cb96edc4ef29e18e4283f3bd627b9740b54f23928ae6fb1fffc8799a0a6e039927ca6a1923f76e6621ba120b64bf0773f25042e67648bc0ce547bfed24f993254685a6c4b313069e66cafa4d8f90cb40d5b786a618a0062a0bd9bc6601627c9538047ec865b727b8b2fe5e506a848bacf9da8380c495743a9fa1cb5870569d978e6c9f68d16681a178069e5da5b539f83e54056e710ab26a89782ba06b4cae9e34c66d25a04fdb8b9ae4200cb422682789f2ea9e964dd62a9ade512ff49340dca4d0a6687468397df9e89383fba9bff630ee16ab9396db47283e648873ba5f9375aadf93558e3e4a2e3b740d16d29b1ea0070a8957866e1067e25e66a46089869b58ca3e94957b37914ad9d7c5decbb7d26718d561751c22bad64b2b9986748923c15b644d1ae03eb2e60e5bb52fb4eeff9289cd41066f36f748a460a4aca3fd527764d33931fc361530983ba7121deeecc87bfe8a16e08d6c2a6c7f57b2383cfdab65a9a94ef63906bb7c0c82767083a9a3a5e20c5726b3935ce932fca806876d5caf19e3b426f392c47e3f52440c2d8b39dc0a64d03a92f7607882d488600a9040bcd9fc2023fa95574e0dde72c0a8616f5e476d89da2c1ec1feb1c49f07cb54a65afa5e15bb4d4fa551698bc80f0ad42025b266662043a2313114ea184f685a08ae0cf32d6cbaa97239b604b062c69a70a149adcca16526376f19e0172c405793284c5aef64bc6c4b997da8b6884d33c52e843bedb75e90b3ee982de18616be23ba8f19887f1ecc788c1cdb60bd7257d56bf0a3f6aff5586f651f22e5d9abf1c9e8402c8c5eb202f87e93227cf8f42541fd64bc0d87e0930f2ccbca651db3375a609d3385011d1e8ef0258c5fe0a93d5867e91ac066984bd9a0d06dddae17473718fb1e3972083ff4ded80c028b8bcef5771141d74dddfef515414c90fe1ecf2c9536ab20df5449c2cfb3410a8fb9a2abfbc372dffbc0bf7dbf8201a4e0eac25dead31be16224fda091fdc2cc47f25f2debfd18019b27c80f66ffb721699ebcca6e556337f7417d88999b55c84d94ec41de7a4dcbd9b78c41d7f95616aa10d00ac20f092f23c1aa602e010d177199cb24deaad0f72002689c4107f891e40aeb05aaf890e45d11284975dd87c1b22592f1f39897c15f5bb1d3702a2c007800416415ee7cd96df584a8ae48dec993c0900f632e1e16bb8a408643ed41e66d663d06a9255583f71ef090dd395bb626b88fb0000b694cd0e30d24cda2747ef9cf6a20163db50e4d512a5c437f577b0e61c989871bd018083b0b4539bf7d7de15e669081e47fd1889eeee26b97f6ecb0a23837059b0bf3a5bac24b30bfc28ae9837d9e1c7141e7e8e6c833a23bd0a2c3738a91abd501073da55bd6d715b3dc7520c9ab41cbb9622736221530d6ba6d9fd557f700403f2ad0ef51ead2cf4b63b1f77da13500579c05499d9d4f57f4b509d451a8ec081ee13bf5b334e51e1882ca0fdc3b6b8587e7cdc5e71206702e17ba7e9c05ed3cac5afcfb9d195044a425f2d56f6399ee29c66b7338bdbd63595f5941116d58c7c3dd8971afde556a9c8e80c00435a580541cc8322e8521a4f7b7df25dfff958558d630b68a5d974917ed44764b2c74759fc5bdc19934279c7240d746fcccaaf5dccc9334683e441aff65e0b38734cc711b7c609a04ff87dcd3853603d63bc6fe828eb4e9a96d42e9af2210c382e9087a8795682a77349e9ac7cb65e266bdc0a00577056152fabeccb4192106b654a70b7bd950d9b4ed0bdd190b9ab8189ff15c9490c6d1f89f927f13e987138296a7cc7931bb9b2fdf7fab9954f544b88a36459bf8ba54191f58c49ad1190d2e95624320b67a9312cbe70b5f8dcbc9122b8ddac20291f4d0e847b0a3da4629a20ee2e6cbd8a5e97172f9e1fbc11ca6d009f1bf03b6fbe5cefbcf4e103fef75ce266a0796739544798fc71d2b0ab96632cadcb1226ff408c9792665d792d91d60392924ef6561d892eef5ec528000676df46b5276937ae0c8f6f7bdb4fc4c07ca34a0dad719bb942be3d9114002b2b1f9ba175a8cf04d149f865b504b956fc41ab2a70e5a747a91fff3ab3d59283a4d9be71b0a1cb28d7ded168fa55fc16ba17619433213a5fc8f152579044a701f8f6fe08932e63b93b067ec3dd0dfa8a19c0e7439e1d09f0ddd320fcdf57a75428ea28b172cb408ed863b841bbe0961f9b9850ec18e397c1adde4ee3218d7256c4a5ccff89a3332ed53fe252e217131a31e1f6630ae105eff65184b07d0d7bf6a11ee02e6a64760f3348</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>随笔</category>
      
    </categories>
    
    
    <tags>
      
      <tag>保研</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x70数学初步-(4)-排列组合</title>
    <link href="/2021/08/04/Algorithm/Template/20210804-0x70-%E6%95%B0%E5%AD%A6%E5%88%9D%E6%AD%A5-(4)-%E6%8E%92%E5%88%97%E7%BB%84%E5%90%88/"/>
    <url>/2021/08/04/Algorithm/Template/20210804-0x70-%E6%95%B0%E5%AD%A6%E5%88%9D%E6%AD%A5-(4)-%E6%8E%92%E5%88%97%E7%BB%84%E5%90%88/</url>
    
    <content type="html"><![CDATA[<h2 id="排列组合"><a class="markdownIt-Anchor" href="#排列组合"></a> 排列组合</h2><p>按难易程度，先讲组合后讲排列</p><h3 id="组合"><a class="markdownIt-Anchor" href="#组合"></a> 组合</h3><p>从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>∼</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">{1∼n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">n</span></span></span></span></span> 这 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span></span></span></span></span> 个整数中随机选出 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">{m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">m</span></span></span></span></span> 个，  有<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>C</mi><mi>n</mi><mi>m</mi></msubsup></mrow><annotation encoding="application/x-tex">{C_{n}^{m}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93033em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span>种</p><h4 id="递推"><a class="markdownIt-Anchor" href="#递推"></a> 递推</h4><p>递推实现计数，输出有多少种方案。</p><p>利用递推式：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>C</mi><mi>n</mi><mi>m</mi></msubsup><mo>=</mo><msubsup><mi>C</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><mi>m</mi></msubsup><mo>+</mo><msubsup><mi>C</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><mrow><mi>m</mi><mo>−</mo><mn>1</mn></mrow></msubsup></mrow><annotation encoding="application/x-tex">C_{n}^{m} = C_{n - 1}^{m} + C_{n - 1}^{m - 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93033em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9897689999999999em;vertical-align:-0.30643899999999996em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6643919999999999em;"><span style="top:-2.451892em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.30643899999999996em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.178878em;vertical-align:-0.324639em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.854239em;"><span style="top:-2.433692em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.1031310000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.324639em;"><span></span></span></span></span></span></span></span></span></span> ，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>C</mi><mi>n</mi><mn>0</mn></msubsup><mo>=</mo><mo>…</mo><mo>=</mo><msubsup><mi>C</mi><mn>1</mn><mn>0</mn></msubsup><mo>=</mo><msubsup><mi>C</mi><mn>0</mn><mn>0</mn></msubsup><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">C_{n}^{0} = \ldots =  C_{1}^{0} = C_{0}^{0}  = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.061108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0622159999999998em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4518920000000004em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0622159999999998em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4518920000000004em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></p><pre class="language-c++" data-language="c++"><code class="language-c++">const int MOD &#x3D; 1e9 + 7;&#123;    vector&lt;vector&lt;long long&gt;&gt; f(n + 1, vector&lt;long long&gt;(n + 1));    for(int i &#x3D; 0; i &lt;&#x3D; n; ++ i) &#123;        f[i][0] &#x3D; 1;        for(int j &#x3D; 1; j &lt;&#x3D; i; ++j) &#123;            f[i][j] &#x3D; (f[i - 1][j] + f[i - 1][j - 1]) % MOD;        &#125;    &#125;        return f[n][m];&#125;</code></pre><ul><li>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li><li>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li></ul><p>利用递推式：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>C</mi><mi>n</mi><mi>m</mi></msubsup><mo>=</mo><mfrac><mrow><mi>n</mi><mo>−</mo><mi>m</mi><mo>+</mo><mn>1</mn></mrow><mi>m</mi></mfrac><msubsup><mi>C</mi><mi>n</mi><mrow><mi>m</mi><mo>−</mo><mn>1</mn></mrow></msubsup></mrow><annotation encoding="application/x-tex">C_{n}^{m} = \frac{n - m + 1}{m}C_{n}^{m - 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93033em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight">m</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span>    需要利用乘法逆元优化</p><pre class="language-c++" data-language="c++"><code class="language-c++">const int MOD &#x3D; 1e9 + 7;&#123;    &#x2F;&#x2F; 线性求逆元    vector&lt;long long&gt; inv(n + 1);    inv[1] &#x3D; 1;    for (int i &#x3D; 2; i &lt;&#x3D; n; ++ i) &#123;inv[i] &#x3D; (MOD - MOD &#x2F; i) * inv[MOD % i] % MOD;    &#125;        long long res &#x3D; 1; &#x2F;&#x2F; 初值C(n, 0) &#x3D; 1    for (int i &#x3D; 1; i &lt;&#x3D; m; ++ i) &#123;        res &#x3D; * res * (n - i + 1) % MOD * inv[i] % MOD;    &#125;        return res;&#125;</code></pre><ul><li>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></li><li>空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></li></ul><h4 id="递归"><a class="markdownIt-Anchor" href="#递归"></a> 递归</h4><p>递推实现枚举，列出每一种方案，这种n、m大了会超时，不需要每种具体方案时别用</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;int n, m;vector&lt;int&gt; choosen;void dfs(int depth, int select) &#123;    &#x2F;&#x2F; prune    if (select &gt; m || n + 1 - depth &lt; m - select) &#123;        return;    &#125;        &#x2F;&#x2F; boundary    if (select &#x3D;&#x3D; m) &#123;          for (int i &#x3D; 0; i &lt; choosen.size(); i ++) &#123;           printf(&quot;%d &quot;, choosen[i]);        &#125;        cout &lt;&lt; endl;        return;    &#125;    if (depth &#x3D;&#x3D; n + 1) return;            choosen.emplace_back(depth);    dfs(depth + 1, select + 1);    &#x2F;&#x2F; recover    choosen.pop_back();    dfs(depth + 1, select);&#125;int main() &#123;    cin &gt;&gt; n &gt;&gt; m;    dfs(1, 0);    return 0;&#125;</code></pre><h3 id="排列计数"><a class="markdownIt-Anchor" href="#排列计数"></a> 排列计数</h3>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x70数学初步-(3)-乘法逆元</title>
    <link href="/2021/08/03/Algorithm/Template/20210803-0x70-%E6%95%B0%E5%AD%A6%E5%88%9D%E6%AD%A5-(3)-%E4%B9%98%E6%B3%95%E9%80%86%E5%85%83/"/>
    <url>/2021/08/03/Algorithm/Template/20210803-0x70-%E6%95%B0%E5%AD%A6%E5%88%9D%E6%AD%A5-(3)-%E4%B9%98%E6%B3%95%E9%80%86%E5%85%83/</url>
    
    <content type="html"><![CDATA[<h2 id="乘法逆元"><a class="markdownIt-Anchor" href="#乘法逆元"></a> 乘法逆元</h2>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x70数学初步-(2)-快速幂</title>
    <link href="/2021/08/02/Algorithm/Template/20210802-0x70-%E6%95%B0%E5%AD%A6%E5%88%9D%E6%AD%A5-(2)-%E5%BF%AB%E9%80%9F%E5%B9%82/"/>
    <url>/2021/08/02/Algorithm/Template/20210802-0x70-%E6%95%B0%E5%AD%A6%E5%88%9D%E6%AD%A5-(2)-%E5%BF%AB%E9%80%9F%E5%B9%82/</url>
    
    <content type="html"><![CDATA[<h2 id="快速幂"><a class="markdownIt-Anchor" href="#快速幂"></a> 快速幂</h2><p>只介绍迭代版，不介绍递归版</p><h3 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h3><ul><li>时间复杂度:<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(log_2N)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>N</mi></mrow><annotation encoding="application/x-tex">log_2N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>为对N进行二进制拆分的时间复杂度。</li><li>空间复杂度:<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></li></ul><h3 id="double版"><a class="markdownIt-Anchor" href="#double版"></a> double版</h3><pre class="language-c" data-language="c"><code class="language-c">#include &lt;iostream&gt;using namespace std;typedef long long LL;const LL MOD &#x3D; 1e9 + 7;double fast_pow(double x, LL N) &#123;    double res &#x3D; 1.0 % MOD;    &#x2F;&#x2F; x &#x3D; (x % MOD + MOD) % MOD; &#x2F;&#x2F; 防止x是负数    for (; N; N &#x3D; N &gt;&gt; 1) &#123;        if (N &amp; 1) &#123;            &#x2F;&#x2F; 低位为1时贡献            res &#x3D; res * x % MOD;        &#125;        &#x2F;&#x2F; 累积        x &#x3D; x * x % MOD;    &#125;        return res;&#125;</code></pre><p><strong>PS:</strong>  函数内只能计算非负次幂(N &gt;= 0)，如果要正负次幂通用，可以如下调用:</p><pre class="language-c" data-language="c"><code class="language-c">double pow(double x, int n) &#123;    long long N &#x3D; n;    return N &gt;&#x3D; 0 ? fast_pow(x, N) : fast_pow(1.0 &#x2F; x, N); &#125;</code></pre><h3 id="long-long版"><a class="markdownIt-Anchor" href="#long-long版"></a> long long版</h3><pre class="language-c" data-language="c"><code class="language-c">#include &lt;iostream&gt;using namespace std;typedef long long LL;const LL MOD &#x3D; 1e9 + 7;LL fast_pow(LL x, LL N) &#123;    LL res &#x3D; 1LL % MOD;        for (; N; N &#x3D; N &gt;&gt; 1)  &#123;        if (N &amp; 1) &#123;            &#x2F;&#x2F; 低位为1时贡献            res &#x3D; res * x % MOD;        &#125;        &#x2F;&#x2F; 累积        x &#x3D; x * x % MOD;        N &#x3D; N &gt;&gt; 1;    &#125;        return res;&#125;</code></pre><h3 id="matrix版矩阵快速幂"><a class="markdownIt-Anchor" href="#matrix版矩阵快速幂"></a> Matrix版(矩阵快速幂)</h3><p>n * n的矩阵支持<strong>乘法</strong>且<strong>满足结合律</strong>，因此也能用快速幂。</p><p><a href="https://www.luogu.com.cn/problem/P1962">洛谷P1962-斐波那契数列</a></p><pre class="language-c" data-language="c"><code class="language-c">#include &lt;iostream&gt;using namespace std;typedef long long LL;const LL MOD  &#x3D; 1e9 + 7;&#x2F;&#x2F; 以2*2的矩阵为例子struct Matrix &#123;    LL a1, a2;    LL b1, b2;        Matrix(LL _a1, LL _a2,           LL _b1, LL _b2) : a1(_a1), a2(_a2), b1(_b1), b2(_b2) &#123;&#125;        &#x2F;&#x2F; 重载乘号    Matrix operator* (const Matrix &amp;rhs) const&#123;        Matrix res((a1 * rhs.a1 + a2 * rhs.b1) % MOD,           (a1 * rhs.a2 + a2 * rhs.b2) % MOD,                   (b1 * rhs.a1 + b2 * rhs.b1) % MOD,                   (b1 * rhs.a2 + b2 * rhs.b2) % MOD);        return res;&#125;&#125;;Matrix fast_pow(Matrix x, LL N) &#123;    Matrix res(1, 0, 0, 1); &#x2F;&#x2F; 单位矩阵        for (; N; N &#x3D; N &gt;&gt; 1) &#123;        if (N &amp; 1) &#123;            res &#x3D; res * x; &#x2F;&#x2F; 不能用*&#x3D;，没有重载        &#125;        x &#x3D; x * x;&#x2F;&#x2F; 在*的时候已经取MOD了    &#125;        return res;&#125;int main() &#123;    Matrix m(0, 1, 1, 1);        LL n;    scanf(&quot;%lld&quot;, &amp;n);    Matrix res &#x3D; fast_pow(m, n - 1);    printf(&quot;%lld\n&quot;, (res.a1 + res.a2) % MOD);        return 0;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x70数学初步-(1)-质数、最大公约数</title>
    <link href="/2021/08/01/Algorithm/Template/20210801-0x70-%E6%95%B0%E5%AD%A6%E5%88%9D%E6%AD%A5-(1)-%E8%B4%A8%E6%95%B0%E4%B8%8E%E6%9C%80%E5%A4%A7%E5%85%AC%E5%9B%A0%E6%95%B0/"/>
    <url>/2021/08/01/Algorithm/Template/20210801-0x70-%E6%95%B0%E5%AD%A6%E5%88%9D%E6%AD%A5-(1)-%E8%B4%A8%E6%95%B0%E4%B8%8E%E6%9C%80%E5%A4%A7%E5%85%AC%E5%9B%A0%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="质数"><a class="markdownIt-Anchor" href="#质数"></a> 质数</h2><h2 id="最大公约数"><a class="markdownIt-Anchor" href="#最大公约数"></a> 最大公约数</h2><p>最大公约数即为 Greatest Common Divisor，常缩写为 gcd.</p><pre class="language-c" data-language="c"><code class="language-c">int d &#x3D; gcd(int a, int b);int m &#x3D; lcm(int a, int b);</code></pre><h2 id="最小公倍数"><a class="markdownIt-Anchor" href="#最小公倍数"></a> 最小公倍数</h2><p>C++14 : __gcd(a, b) (Defined in header <code>&lt;algorithm&gt;</code>)</p><p>C++17：<a href="https://en.cppreference.com/w/cpp/numeric/gcd">gcd(a, b)</a> 和 <a href="https://en.cppreference.com/w/cpp/numeric/lcm">lcm(a, b)</a> (Defined in header <code>&lt;numeric&gt;</code>)</p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x60图论-(4)-二分图的分配</title>
    <link href="/2021/07/04/Algorithm/Template/20210704-0x60-%E5%9B%BE%E8%AE%BA-(4)-%E4%BA%8C%E5%88%86%E5%9B%BE%E7%9A%84%E5%88%86%E9%85%8D/"/>
    <url>/2021/07/04/Algorithm/Template/20210704-0x60-%E5%9B%BE%E8%AE%BA-(4)-%E4%BA%8C%E5%88%86%E5%9B%BE%E7%9A%84%E5%88%86%E9%85%8D/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x60图论-(3)-最小生成树</title>
    <link href="/2021/07/03/Algorithm/Template/20210703-0x60-%E5%9B%BE%E8%AE%BA-(3)-%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/"/>
    <url>/2021/07/03/Algorithm/Template/20210703-0x60-%E5%9B%BE%E8%AE%BA-(3)-%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x60图论-(2)-最短路</title>
    <link href="/2021/07/02/Algorithm/Template/20210702-0x60-%E5%9B%BE%E8%AE%BA-(2)-%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    <url>/2021/07/02/Algorithm/Template/20210702-0x60-%E5%9B%BE%E8%AE%BA-(2)-%E6%9C%80%E7%9F%AD%E8%B7%AF/</url>
    
    <content type="html"><![CDATA[<p><strong>源点</strong>：图中的起点； <strong>汇点</strong>：图中的终点</p><h2 id="单源最短路"><a class="markdownIt-Anchor" href="#单源最短路"></a> 单源最短路</h2><p>单源，顾名思义就是图中只有一个起点。</p><h3 id="所有边权都是正数"><a class="markdownIt-Anchor" href="#所有边权都是正数"></a> 所有边权都是正数</h3><h4 id="dijkstra"><a class="markdownIt-Anchor" href="#dijkstra"></a> Dijkstra</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mi>i</mi><mi>j</mi><mi>k</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">Dijkstra</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">a</span></span></span></span>求最短路问题，需要记录额外两个变量:</p><pre class="language-c++" data-language="c++"><code class="language-c++">int dis[N];        &#x2F;&#x2F; 当前节点到源点的最短路径距离bool vis[N];       &#x2F;&#x2F; 当前节点到源点的最短路径是否已经确定</code></pre><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mi>i</mi><mi>j</mi><mi>k</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">Dijkstra</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">a</span></span></span></span>算法是基于<strong>贪心</strong>的思想，适用于求所有边权都是正数的最短路径。</p><p><strong>step1</strong>：初始化距离：起点到起点的距离为0，其它点到起点的距离为正无穷。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;cstring&gt;&#x2F;&#x2F; 初始化距离memset(dis, 0x3f, sizeof dis);dis[1] &#x3D; 0;       &#x2F;&#x2F; 源点到源点的距离为0，一般题目的源点都是1号点</code></pre><p><strong>step2</strong>： <strong>循环松弛</strong>，每次确定一个点到起点的最短路，在没有确定的点中选取一个距离起点最短的点加入到当前路径。然后用该点去更新其它未确定的点到起点的距离。</p><p>总结一下，Dijkstra算法的流程就是，不断取出<strong>离顶点最近</strong>而<strong>没有被访问过</strong>的点，松弛它和它能到达的所有点。</p><h5 id="朴素版dijkstraon2"><a class="markdownIt-Anchor" href="#朴素版dijkstraon2"></a> 朴素版Dijkstra(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">{O(n^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>))</h5><p>适用于<strong>稠密图</strong>，用邻接矩阵存储。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;cstring&gt;#include &lt;algorithm&gt;using namespace std;const int N &#x3D; 500 + 7;int graph[N][N];int dis[N]; bool vis[N];int n, m;int dijkstra() &#123;    &#x2F;&#x2F; 初始化距离    memset(dis, 0x3f, sizeof dis);    memset(vis, 0, sizeof vis);    dis[1] &#x3D; 0;        for (int i &#x3D; 0; i &lt; n; i ++) &#123;        &#x2F;&#x2F; 初始化t为-1;        int u &#x3D; -1;                &#x2F;&#x2F; 选择t &#x3D; dist[j]最小的边        for (int v &#x3D; 1; j &lt;&#x3D; n; j ++) &#123;            if(!vis[j] &amp;&amp; (t &#x3D;&#x3D; -1 || dis[t] &gt; dis[j])) &#123;                u &#x3D; j;            &#125;        &#125;        &#x2F;&#x2F; t加入已访问集合        vis[u] &#x3D; true;                &#x2F;&#x2F; 用t更新其它点到源点的距离        for (int v &#x3D; 1; v &lt;&#x3D; n; v ++) &#123;            if(!vis[v]) &#123;                dis[v] &#x3D; min(dis[v], dis[u] + graph[u][v]);            &#125;        &#125;    &#125;        if (dis[n] &#x3D;&#x3D; 0x3f3f3f3f) return -1;    return dis[n];&#125;int main() &#123;    memset(graph, 0x3f, sizeof graph);        cin &gt;&gt; n &gt;&gt; m;    for (int i &#x3D; 1; i &lt;&#x3D; m; i++)        int u, v, w;        scanf(&quot;%d %d %d&quot;, &amp;u, &amp;v, &amp;w);        &#x2F;&#x2F; 两点之间如果存在多条重边，只保留距离最短的那条        graph[u][v] &#x3D; min(graph[u][v], w);        &#x2F;&#x2F; 如果存在自环，其距离为正显然不用管    &#125;        cout &lt;&lt; dijkstra() &lt;&lt; endl;        return 0;&#125;</code></pre><p><strong>练习eg:</strong></p><p><a href="https://www.acwing.com/problem/content/851/">AcWing849.Dijkstra求最短路 I</a></p><h5 id="堆优化版dijkstraomlogn"><a class="markdownIt-Anchor" href="#堆优化版dijkstraomlogn"></a> 堆优化版Dijkstra(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(mlog(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>))</h5><p>适用于<strong>稀疏图</strong>，用邻接表存储。稠密图也可以存，比较通用。</p><p><strong>每次选取一个距离起点最短的点</strong>⇔<strong>多次取最小，然后删除当前最小</strong>⇔<strong>小根堆</strong></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;queue&gt;#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;typedef pair&lt;int, int&gt; PII;const int N &#x3D; 1e5 + 7;const int M &#x3D; 1e6 + 7;struct Edge&#123;    int to;    int w;    int nxt;&#125;;Edge edge[M];int head[N], idx &#x3D; 1;int dis[N], vis[N];   &#x2F;&#x2F; dijkint n, m;inline void add(int from, int to, int w) &#123;    edge[idx].to &#x3D; to, edge[idx].w &#x3D; w, edge[idx].nxt &#x3D; head[from];    head[from] &#x3D; idx ++;&#125;int dijkstra() &#123;    &#x2F;&#x2F; step1: 初始化dis, vis    memset(dis, 0x3f, sizeof dis);     memset(vis, 0, sizeof vis);       dis[1] &#x3D; 0;        &#x2F;&#x2F; 小根堆    priority_queue&lt;PII, vector&lt;PII&gt;, greater&lt;PII&gt;&gt; pq;    pq.push(&#123;0, 1&#125;);        while(!pq.empty()) &#123;        int u &#x3D; pq.top().second; pq.pop();                if (vis[u]) continue;        vis[u] &#x3D; true;                int du &#x3D; dis[u];        &#x2F;&#x2F; step2: 循环松弛，遍历head[u]，更新该节点指向的所有结点的dis[]        for(int i &#x3D; head[u]; ~i; i &#x3D; edge[i].nxt) &#123;            int v &#x3D; edge[i].to, w &#x3D; edge[i].w;            if (dis[v] &gt; du + w) &#123;                dis[v] &#x3D; du + w;                pq.push(&#123;dis[v], v&#125;);            &#125;        &#125;    &#125;        if (dis[n] &#x3D;&#x3D; 0x3f3f3f3f) return -1; &#x2F;&#x2F; 不可达     return dis[n];&#125;int main() &#123;    memset(head, -1, sizeof head);        cin &gt;&gt; n &gt;&gt; m;    for(int i &#x3D; 1; i &lt;&#x3D; m; i ++) &#123;        int u, v, w;        scanf(&quot;%d %d %d&quot;, &amp;u, &amp;v, &amp;w);        add(u, v, w);        add(v, u, w); &#x2F;&#x2F; 无向图    &#125;        cout &lt;&lt; dijkstra() &lt;&lt; endl;        return 0;&#125;</code></pre><p>以上是用优先队列实现，也可以用手写堆实现</p><ul><li><p>手写堆的时间复杂度是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(mlog(n))}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span></p></li><li><p>优先队列的时间复杂度是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(mlog(m))}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span>[但是m和n是基本上同一个数量级，所以没关系]</p><blockquote><p>为什么是优先队列是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(mlog(m))}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span>？</p><pre class="language-c" data-language="c"><code class="language-c"> &gt;if (dis[v] &gt; du + edge[i].w) &#123;&#x2F;&#x2F; 每当距离变小则入堆，因此最坏情况是递减的  dis[v] &#x3D; du + edge[i].w;  heap.push(&#123;dis[v], v&#125;); &gt;&#125;</code></pre></blockquote></li></ul><p><strong>练习eg:</strong></p><p><a href="https://www.acwing.com/problem/content/852/">AcWing-850.Dijkstra求最短路 II</a></p><p><a href="https://www.acwing.com/problem/content/4874/">AcWing-4871.最早时刻</a>  添加条件约束的dijstra</p><p><a href="https://www.acwing.com/problem/content/1490/">AcWing-1488.最短距离</a>  多源dijstra问题，建立超级源点，转换成单源，有点像多源BFS和差分约束</p><hr /><h3 id="存在边权是负数"><a class="markdownIt-Anchor" href="#存在边权是负数"></a> 存在边权是负数</h3><p>图中如果有负边权，一般都是用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>P</mi><mi>F</mi><mi>A</mi></mrow><annotation encoding="application/x-tex">SPFA</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault">A</span></span></span></span>，什么年代了还在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi><mi>e</mi><mi>l</mi><mi>l</mi><mi>m</mi><mi>a</mi><mi>n</mi><mo>−</mo><mi>F</mi><mi>o</mi><mi>r</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">Bellman-Ford</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">d</span></span></span></span>。</p><h4 id="bellman-fordomn"><a class="markdownIt-Anchor" href="#bellman-fordomn"></a> Bellman-Ford(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(mn)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>))</h4><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;cstring&gt;#include &lt;algorithm&gt;using namespace std;struct Edge&#123;    int to;    int w;    int nxt;&#125;;const int N &#x3D; 500 + 7;const int M &#x3D; 10000 + 7;&#x2F;&#x2F; 图int head[N];Edge edge[M]; int idx;&#x2F;&#x2F; 最短路int dist[N];int backup[N];  &#x2F;&#x2F; dist[]备份int n, m, k;inline void add(int from, int to, int w) &#123;    edge[idx].to &#x3D; to;    edge[idx].w &#x3D; w;    edge[idx].nxt &#x3D; head[from];    head[from] &#x3D; idx ++;&#125;int Bellman_Ford(int k) &#123;    &#x2F;&#x2F; 初始化距离    memset(dist, 0x3f, sizeof dist);    dist[1] &#x3D; 0;         for (int e &#x3D; 0; e &lt; k; e ++) &#123;        &#x2F;&#x2F; 备份        memcpy(backup, dist, sizeof dist);        &#x2F;&#x2F; 遍历图中所有边        for (int t &#x3D; 1; t &lt;&#x3D; n; t ++) &#123;            for (int i &#x3D; head[t]; i !&#x3D; -1; i &#x3D; edge[i].nxt) &#123;                int j &#x3D; edge[i].to;                &#x2F;&#x2F; 使用backup[]更新,而不是使用dist[]                dist[j] &#x3D; min(dist[j], backup[t] + edge[i].w);            &#125;        &#125;    &#125;           &#x2F;&#x2F; 存在负权边    if (dist[n] &gt; 0x3f3f3f3f &#x2F; 2) return -1;        return dist[n];&#125;int main() &#123;    memset (head, -1, sizeof head);        cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;        while (m --)&#123;        int u, v, w;        scanf(&quot;%d%d%d&quot;, &amp;u, &amp;v, &amp;w);        add(u, v, w);    &#125;        int res &#x3D; Bellman_Ford(k);        if (dist[n] &gt; 0x3f3f3f3f &#x2F; 2) puts(&quot;impossible&quot;);    else cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><p><strong>练习eg:</strong></p><p><a href="https://www.acwing.com/problem/content/855/">AcWing853. 有边数限制的最短路</a></p><h4 id="spfaom-sim-omn"><a class="markdownIt-Anchor" href="#spfaom-sim-omn"></a> SPFA(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo><mo>∼</mo><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(m) \sim O(mn)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>))</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>P</mi><mi>F</mi><mi>A</mi></mrow><annotation encoding="application/x-tex">SPFA</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault">A</span></span></span></span>求最短路问题，需要记录额外两个变量:</p><pre class="language-c++" data-language="c++"><code class="language-c++">int dis[N];        &#x2F;&#x2F; 当前节点到源点的最短路径距离bool inque[N];     &#x2F;&#x2F; 当前节点是否在队列中，防止队列中同时存在重复的点</code></pre><p>代码逻辑很像<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mi>i</mi><mi>j</mi><mi>k</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">Dijkstra</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">a</span></span></span></span>，但是是队列优化版的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi><mi>e</mi><mi>l</mi><mi>l</mi><mi>m</mi><mi>a</mi><mi>n</mi><mo>−</mo><mi>F</mi><mi>o</mi><mi>r</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">Bellman-Ford</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">d</span></span></span></span>，<br /><strong>时间复杂度</strong>：最好<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span>，最坏<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(mn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，取决于每个点的入队次数（<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>∼</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1 \sim n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>次, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>&gt;</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\gt n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>次说明图中有负环）。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>P</mi><mi>F</mi><mi>A</mi></mrow><annotation encoding="application/x-tex">SPFA</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault">A</span></span></span></span>不但可以用来求最短路，还可以用来判断图中<strong>有无负环</strong>。</p><p><strong>SPFA求最短路</strong></p><p>特意把<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mi>i</mi><mi>j</mi><mi>k</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">Dijkstra</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">a</span></span></span></span>的部分做成了注释，方便对比：</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;queue&gt;#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;typedef pair&lt;int, int&gt; PII;const int N &#x3D; 1e5 + 7;const int M &#x3D; 1e6 + 7;const int INF &#x3D; 0x3f3f3f3f;struct Edge &#123;    int to;    int w;    int nxt;&#125;;Edge edge[M];int head[N], idx &#x3D; 1;int dis[N]; bool inque[N]; &#x2F;&#x2F;vis[N];  int n, m;inline void add(int from, int to, int w) &#123;    edge[idx].to &#x3D; to, edge[idx].w &#x3D; w, edge[idx].nxt &#x3D; head[from];    head[from] &#x3D; idx ++;&#125;int spfa() &#123;    memset(dis, 0x3f, sizeof dis);    &#x2F;&#x2F; memset(vis, 0, sizeof vis);    dis[1] &#x3D; 0;        &#x2F;&#x2F; priority_queue&lt;PII, vector&lt;PII&gt;, greater&lt;PII&gt;&gt; pq;    &#x2F;&#x2F; pq.push(&#123;0, 1&#125;);    queue&lt;int&gt; q;    q.push(1);            while(!q.empty()) &#123;        &#x2F;&#x2F; int u &#x3D; pq.top().second; pq.pop();        int u &#x3D; q.front(); q.pop();                &#x2F;&#x2F; if (vis[u]) continue;        &#x2F;&#x2F; vis[u] &#x3D; true;        inque[u] &#x3D; false;                int du &#x3D; dis[u];                for(int i &#x3D; head[u]; ~i; i &#x3D; edge[i].nxt) &#123;            int v &#x3D; edge[i].to, w &#x3D; edge[i].w;            if (dis[v] &gt; du + w) &#123;                dis[v] &#x3D; du + w;                &#x2F;&#x2F; pq.push(&#123;dis[v], v&#125;)                if (!inque[v]) inque[v] &#x3D; true, q.push(v);            &#125;        &#125;    &#125;        return dis[n];&#125;int main() &#123;    memset(head, -1, sizeof head);    cin &gt;&gt; n &gt;&gt; m;    for(int i &#x3D; 1; i &lt;&#x3D; m; i ++) &#123;        int u, v, w;        scanf(&quot;%d %d %d&quot;, &amp;u, &amp;v, &amp;w);        add(u, v, w);    &#125;        spfa();        if (dis[n] &#x3D;&#x3D; 0x3f3f3f3f) puts(&quot;impossible&quot;);    else cout &lt;&lt; dis[n] &lt;&lt; endl;        return 0;&#125;</code></pre><p><strong>SPFA判断负环</strong></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;queue&gt;#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;const int N &#x3D; 2000 + 7;const int M &#x3D; 10000 + 7;struct Edge &#123;    int to;    int w;    int nxt;&#125;;Edge edge[M];int head[N], idx &#x3D; 1;&#x2F;&#x2F; 最短路int dis[N]; bool inque[N]; &#x2F;&#x2F; 存的是当前该点是否在队列当中，防止队列中同时存在重复的点&#x2F;&#x2F; 判负环int cnt[N];                &#x2F;&#x2F; cnt[]记录dis[]更新次数int n, m;inline void add(int from, int to, int w) &#123;    edge[idx].to &#x3D; to, edge[idx].w &#x3D; w, edge[idx].nxt &#x3D; head[from];    head[from] &#x3D; idx ++;&#125;bool spfa() &#123;    memset(dis, 0x3f, sizeof dis);    dis[1] &#x3D; 0;        queue&lt;int&gt; q;    &#x2F;&#x2F; q.push(1);    &#x2F;&#x2F; inque[1] &#x3D; true;    &#x2F;&#x2F; 可能这个负环从源点1是到不了的，因此初始时要把所有点都放进que    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        q.push(i);        inque[i] &#x3D; true;    &#125;        while (!q.empty()) &#123;        int u &#x3D; q.front(); q.pop();                inque[u] &#x3D; false;                for (int i &#x3D; head[u]; ~i; i &#x3D; edge[i].nxt) &#123;            int v &#x3D; edge[i].to, w &#x3D; edge[i].w;            if (dis[v] &gt; dis[u] + w) &#123;                dis[v] &#x3D; dis[u] + w;                cnt[v] &#x3D; cnt[u] + 1;                &#x2F;&#x2F; dis[]更新次数 &gt;&#x3D; n，说明存在负环                if (cnt[v] &gt;&#x3D; n) return true;                if (!inque[v]) inque[v] &#x3D; true, q.push(v);             &#125;        &#125;    &#125;        return false;&#125;int main() &#123;    memset(head, -1, sizeof head);        cin &gt;&gt; n &gt;&gt; m;    for(int i &#x3D; 1; i &lt;&#x3D; m; i ++) &#123;        int u, v, w;        scanf(&quot;%d %d %d&quot;, &amp;u, &amp;v, &amp;w);        add(u, v, w);    &#125;        if(spfa()) puts(&quot;Yes&quot;);    else puts(&quot;No&quot;);        return 0;&#125;</code></pre><p><strong>练习eg:</strong></p><p><a href="https://www.acwing.com/problem/content/853/">Acwing-851. spfa求最短路</a></p><p><a href="https://www.acwing.com/problem/content/854/">Acwing-852. spfa判断负环</a></p><hr /><h2 id="多源最短路"><a class="markdownIt-Anchor" href="#多源最短路"></a> 多源最短路</h2><h4 id="floydon3"><a class="markdownIt-Anchor" href="#floydon3"></a> Floyd(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>3</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n^3)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>))</h4><p>Floyd算法本质上是一个<strong>动态规划</strong>的思想，每一次循环更新<strong>经过前k个节点，i到j的最短路径</strong>。</p><p>dist[k, i , j ]表示从点i开始，只经过1~k这些中间点，到点j的最短距离</p><p>这甚至不需要特意存图，因为dist数组本身就可以从邻接矩阵拓展而来。初始化的时候，我们把每个点<strong>到自己的距离</strong>设为0，每新增一条边，就把从这条边的起点到终点的距离设为此边的<strong>边权</strong>（类似于邻接矩阵）。其他距离初始化为<strong>INF</strong>（一个超过边权数据范围的大整数，注意防止溢出）。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;cstring&gt;#include &lt;algorithm&gt;using namespace std;const int N &#x3D; 200 + 7;const int M &#x3D; 20000 + 7;const int INF &#x3D; 0x3f3f3f3f;int dist[N][N];int n, m;int Q; &#x2F;&#x2F; Q表示询问次数void floyd() &#123;    for (int k &#x3D; 1; k &lt;&#x3D; n; k ++) &#123;        for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;            for (int j &#x3D; 1; j &lt;&#x3D; n; j ++) &#123;                dist[i][j] &#x3D; min(dist[i][j], dist[i][k] + dist[k][j]);            &#125;        &#125;    &#125;&#125;int main() &#123;    cin &gt;&gt; n &gt;&gt; m &gt;&gt; Q;    &#x2F;&#x2F; 邻接矩阵初始化    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        for (int j &#x3D; 1; j &lt;&#x3D; n; j ++) &#123;            if(i &#x3D;&#x3D; j) dist[i][j] &#x3D; 0;            else dist[i][j] &#x3D; INF;        &#125;    &#125;        for(int i &#x3D; 1; i &lt;&#x3D; m; i ++) &#123;        int u, v, w;        scanf(&quot;%d%d%d&quot;, &amp;u, &amp;v, &amp;w);        &#x2F;&#x2F; 通常只保留最短边        dist[u][v] &#x3D; min (dist[u][v], w);    &#125;         floyd();        while (Q --) &#123;        int a, b;        scanf(&quot;%d%d&quot;, &amp;a, &amp;b);        if (dist[a][b] &gt; INF &#x2F; 2) puts(&quot;impossible&quot;);        else printf(&quot;%d\n&quot;, dist[a][b]);    &#125;        return 0;&#125;</code></pre><p><strong>练习eg:</strong></p><p><a href="https://www.acwing.com/problem/content/856/">AcWing854.Floyd求最短路</a></p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x60图论-(1)-图的存储与遍历</title>
    <link href="/2021/07/01/Algorithm/Template/20210701-0x60-%E5%9B%BE%E8%AE%BA-(1)-%E5%9B%BE%E7%9A%84%E5%AD%98%E5%82%A8%E4%B8%8E%E9%81%8D%E5%8E%86/"/>
    <url>/2021/07/01/Algorithm/Template/20210701-0x60-%E5%9B%BE%E8%AE%BA-(1)-%E5%9B%BE%E7%9A%84%E5%AD%98%E5%82%A8%E4%B8%8E%E9%81%8D%E5%8E%86/</url>
    
    <content type="html"><![CDATA[<h2 id="图的存储"><a class="markdownIt-Anchor" href="#图的存储"></a> 图的存储</h2><blockquote><p>树可以看作是一张具有<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>条边的无向图，也适用于图的存储。<br />为啥是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>条边？，因为每个叶子节点到其父节点只有一条边，特殊的，根结点没有父节点。</p></blockquote><p>假设一张图中，n是点的数量， m是边的数量：</p><p>当 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mo>≈</mo><msup><mi>n</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">{m \approx n ^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>  ,可以认为该图是<strong>稠密图</strong>;<br />当 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mo>≈</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">{m \approx n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.48312em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">n</span></span></span></span></span>    ,可以认为该图是<strong>稀疏图</strong>.</p><h3 id="邻接矩阵"><a class="markdownIt-Anchor" href="#邻接矩阵"></a> 邻接矩阵</h3><p>稠密图，适合用邻接矩阵存储。</p><pre class="language-c" data-language="c"><code class="language-c">const int N &#x3D; 1e5 + 7;&#x2F;&#x2F; const int M ;&#x2F;&#x2F; 图的定义(邻接矩阵)int graph[N][N];&#x2F;*add操作: u-&gt;v这条边的权重为w*&#x2F;inline void add (int u, v, w) &#123;    graph[u][v] &#x3D; w;&#125;</code></pre><h3 id="邻接表"><a class="markdownIt-Anchor" href="#邻接表"></a> 邻接表</h3><h4 id="stdvector"><a class="markdownIt-Anchor" href="#stdvector"></a> std::vector</h4><p>vector是动态数组</p><pre class="language-c++" data-language="c++"><code class="language-c++"></code></pre><h4 id="链式前向星"><a class="markdownIt-Anchor" href="#链式前向星"></a> 链式前向星</h4><p>稀疏图，适合用邻接表存储。</p><p>链式前向星：<strong>用数组模拟邻接表</strong></p><pre class="language-c" data-language="c"><code class="language-c">#include &lt;iostream&gt;#include &lt;cstring&gt;   &#x2F;&#x2F; memset()#include &lt;stdlib.h&gt;  &#x2F;&#x2F; rand()#include &lt;algorithm&gt;using namespace std;const int N &#x3D; 1e5 + 7;const int M &#x3D; 1e5 + 7;struct Edge&#123;    int to;    &#x2F;&#x2F; 只存储当前边的终点    int w;     &#x2F;&#x2F; 权值，对于无权图可以没有w或者w置为1    int nxt;   &#x2F;&#x2F; 当前结点在链表中的下一个结点的编号idx&#125;;&#x2F;&#x2F; head节点int head[N];&#x2F;&#x2F; head展开的邻接表Edge edge[M];int idx;&#x2F;*add操作: from-&gt;to这条边的权重为w*&#x2F;inline void add(int from, int to, int w) &#123;    edge[idx].to &#x3D; to;    edge[idx].w &#x3D; w;    edge[idx].nxt &#x3D; head[from];    head[from] &#x3D; idx ++; &#125;int n, m;int main() &#123;&#x2F;&#x2F; 使用时需要初始化head[]为-1，表示head[]的nxt指针为NULL    memset(head, -1, sizeof head);        cin &gt;&gt; n &gt;&gt; m;        &#x2F;&#x2F; add    while (m --) &#123;        int u, v, w;        scanf(&quot;%d%d%d&quot;, &amp;u, &amp;v, &amp;w);                add(u, v, w);               &#x2F;&#x2F; add(v, u, w) &#x2F;&#x2F; 无向图需要额外反着操作一次    &#125;        &#x2F;&#x2F; 图的遍历    for (int t &#x3D; 1; t &lt;&#x3D; n; t ++) &#123;        if (head[t] !&#x3D; -1) printf(&quot;%d: &quot;, t);        for (int i &#x3D; head[t]; i !&#x3D; -1; i &#x3D; edge[i].nxt) &#123;            printf(&quot;-&gt;%d(%d) &quot;, edge[i].to, edge[i].w);            &#x2F;&#x2F; 取j进行后续操作        int j &#x3D; edge[i].to;        &#125;        if (head[t] !&#x3D; -1) puts(&quot;&quot;);    &#125;        return 0;&#125;</code></pre><p>##图的遍历</p><h3 id="图的深度优先遍历"><a class="markdownIt-Anchor" href="#图的深度优先遍历"></a> 图的深度优先遍历</h3><h4 id="树的重心"><a class="markdownIt-Anchor" href="#树的重心"></a> 树的重心</h4><h3 id="图的广度优先遍历"><a class="markdownIt-Anchor" href="#图的广度优先遍历"></a> 图的广度优先遍历</h3><h4 id="拓扑排序"><a class="markdownIt-Anchor" href="#拓扑排序"></a> 拓扑排序</h4><p><strong>拓扑排序</strong>是对<strong>有向无环图(DAG)<strong>上的节点进行排序，使得对于每条</strong>有向边</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi><mo>→</mo><mi>v</mi></mrow><annotation encoding="application/x-tex">u\to v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">u</span></span></span></span>都在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span>之前出现。<br />换句话说，是在不破坏<strong>节点先后顺序</strong>的前提下，把有向无环图拉成一条<strong>链</strong>。</p><p>拓扑排序最经典的算法是<strong>Kahn算法</strong>，该算法的思想很简单：<br />每次从图中拿出<strong>当前入度为0的结点</strong>放到拓扑序列，并在原图中删除它们，直到图中没有结点。</p><blockquote><p>因为是有向无环图，而删除结点操作不会产生环，所有每时每刻一定存在入度为0的结点，<br />因此一个有向无环图一定至少存在一个拓扑序列，有向无环图(DAG)也称为拓扑图。</p></blockquote><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;queue&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;cstring&gt;using namespace std;const int N &#x3D; 1e5 + 7;const int M &#x3D; N;struct Edge&#123;    int to;    int w;    int nxt;&#125;;Edge edge[N];int head[N], idx &#x3D; 1;int deg[N], seq[N]; &#x2F;&#x2F; 有向无环图的拓扑排序: 入度deg，拓扑序列seqint n, m;inline void add(int from, int to, int w) &#123;    edge[idx].to &#x3D; to, edge[idx].w &#x3D; w, edge[idx].nxt &#x3D; head[from];    head[from] &#x3D; idx ++;    deg[to] ++;&#125;bool top_sort() &#123;    queue&lt;int&gt; q;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        if (deg[i] &#x3D;&#x3D; 0) q.push(i);    &#125;        int cnt &#x3D; 0;    while (!q.empty()) &#123;        int t &#x3D; q.front(); q.pop();       seq[++ cnt] &#x3D; t;                for (int i &#x3D; head[t]; ~i; i &#x3D; edge[i].nxt) &#123;            int j &#x3D; edge[i].to;            deg[j] --;            if (deg[j] &#x3D;&#x3D; 0) &#123;                q.push(j);            &#125;        &#125;    &#125;        return cnt &#x3D;&#x3D; n;&#125;int main() &#123;    memset(head, -1, sizeof head);    memset(deg, 0, sizeof deg);        cin &gt;&gt; n &gt;&gt; m;    for (int i &#x3D; 0; i &lt; m; i ++) &#123;        int u, v;        scanf(&quot;%d %d&quot;, &amp;u, &amp;v);        add(u, v, 1);    &#125;        if (top_sort()) &#123;        for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;            printf(&quot;%d &quot;, seq[i]);        &#125;    &#125;    else puts(&quot;-1&quot;);&#125;</code></pre><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mi>o</mi><mi>p</mi><mi mathvariant="normal">_</mi><mi>s</mi><mi>o</mi><mi>r</mi><mi>t</mi><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">top\_sort()</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault">o</span><span class="mord mathdefault">p</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">s</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mclose">)</span></span></span></span>返回值为<code>cnt == n</code>，如果图中存在环，那么组成环的节点的入度不可能==0，最终加入A数组中的节点数cnt肯定会小于总节点数n，也就是说拓扑排序是可以用来简单地<strong>判环</strong>的。</p><p>有时会要求输出<strong>字典序最小</strong>的拓扑序列，这时把<code>queue</code>改成<code>priority_queue</code>即可，复杂度会多一个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\log</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span></span></span></span> 。</p><p><strong>练习eg</strong>:</p><p><a href="https://www.acwing.com/problem/content/850/">Acwing-848.有向图的拓扑序列</a></p><p><a href="https://www.acwing.com/problem/content/3699/">Acwing-3696.构造有向无环图</a></p><p><a href="https://www.acwing.com/problem/content/166/">Acwing-164.可达性统计</a></p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x50动态规划-(5)-数位DP</title>
    <link href="/2021/06/05/Algorithm/Template/20210605-0x50-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-(5)-%E6%95%B0%E4%BD%8DDP/"/>
    <url>/2021/06/05/Algorithm/Template/20210605-0x50-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-(5)-%E6%95%B0%E4%BD%8DDP/</url>
    
    <content type="html"><![CDATA[<p>是全局最优解一定能够拆成子问题的最优解，并且子问题和全局问题是同一类型的问题，从而递推解决</p><p>数位DP,记忆化搜索模板：</p><p>0x3f的模板，觉得挺好用的</p><pre class="language-c++" data-language="c++"><code class="language-c++">string s &#x3D; to_string(n);int m &#x3D; s.size();int cache[m][1 &lt;&lt; 10];memset(cache, -1, sizeof(cache)); function&lt;int(int, int, bool, bool)&gt; f &#x3D; [&amp;](int i, int mask, bool is_limit, bool is_num) -&gt; int &#123;    &#x2F;&#x2F; boundary    if (i &#x3D;&#x3D; m) &#123;        return is_num; &#x2F;&#x2F; is_num 为 true 表示得到了一个合法数字    &#125;    &#x2F;&#x2F; cache    if (!is_limit &amp;&amp; is_num &amp;&amp; cache[i][mask] !&#x3D; -1) &#123;        return cache[i][mask];    &#125;    int res &#x3D; 0;    if (!is_num) &#123;        res &#x3D; f(i + 1, mask, false, false);    &#125;    int low &#x3D; is_num ? 0 : 1;    int up &#x3D; is_limit ? s[i] - &#39;0&#39; : 9;    for (int d &#x3D; low; d &lt;&#x3D; up; ++d) &#123;        if ((mask &gt;&gt; d &amp; 1) &#x3D;&#x3D; 0) &#123;            res +&#x3D; f(i + 1, mask | (1 &lt;&lt; d), is_limit &amp;&amp; d &#x3D;&#x3D; up, true);        &#125;    &#125;    if (!is_limit &amp;&amp; is_num) &#123;        cache[i][mask] &#x3D; res;    &#125;    return res;&#125;;return n - f(0, 0, true, false);</code></pre><p><a href="https://leetcode.cn/problems/numbers-with-repeated-digits">https://leetcode.cn/problems/numbers-with-repeated-digits</a></p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x50动态规划-(4)-树形DP</title>
    <link href="/2021/06/04/Algorithm/Template/20210604-0x50-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-(4)-%E6%A0%91%E5%BD%A2DP/"/>
    <url>/2021/06/04/Algorithm/Template/20210604-0x50-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-(4)-%E6%A0%91%E5%BD%A2DP/</url>
    
    <content type="html"><![CDATA[<p>是全局最优解一定能够拆成子问题的最优解，并且子问题和全局问题是同一类型的问题，从而递推解决</p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x50动态规划-(3)-区间DP</title>
    <link href="/2021/06/03/Algorithm/Template/20210603-0x50-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-(3)-%E5%8C%BA%E9%97%B4DP/"/>
    <url>/2021/06/03/Algorithm/Template/20210603-0x50-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-(3)-%E5%8C%BA%E9%97%B4DP/</url>
    
    <content type="html"><![CDATA[<p>是全局最优解一定能够拆成子问题的最优解，并且子问题和全局问题是同一类型的问题，从而递推解决</p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x50动态规划-(2)-DP</title>
    <link href="/2021/06/02/Algorithm/Template/20210602-0x50-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-(2)-%E7%BA%BF%E6%80%A7DP/"/>
    <url>/2021/06/02/Algorithm/Template/20210602-0x50-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-(2)-%E7%BA%BF%E6%80%A7DP/</url>
    
    <content type="html"><![CDATA[<h2 id="dp"><a class="markdownIt-Anchor" href="#dp"></a> DP</h2><p>动态规划的本质是求拓扑序</p><p>是全局最优解一定能够拆成子问题的最优解，并且子问题和全局问题是同一类型的问题，从而递推解决</p><p>掷骰子模拟：<a href="https://leetcode.cn/problems/dice-roll-simulation">https://leetcode.cn/problems/dice-roll-simulation</a>  2008分</p><p>这道题分别用dfs、记忆化搜索、dp来做</p><p>dfs、记忆化搜索属于递归方法，dp属于递推方法</p><h4 id="dfs"><a class="markdownIt-Anchor" href="#dfs"></a> dfs</h4><p>dfs的三个参数</p><ul><li>剩余投掷次数，用<code>i</code>表示;</li><li>上一个骰子的值，用<code>last</code>表示;</li><li>上一个骰子的剩余连续出现次数，用<code>left</code>表示</li></ul><pre class="language-c++" data-language="c++"><code class="language-c++">class Solution &#123;    const int MOD &#x3D; 1e9 + 7;public:    int dieSimulator(int n, vector&lt;int&gt;&amp; rollMax) &#123;        function&lt;int(int, int, int)&gt; dfs &#x3D; [&amp;](int i, int last, int left) -&gt; int &#123;            if (i &#x3D;&#x3D; 0) return 1; &#x2F;&#x2F; 找到一个合法结果            long long res &#x3D; 0;            for (int j &#x3D; 0; j &lt; 6; j ++) &#123;                if (j !&#x3D; last) res +&#x3D; dfs(i - 1, j, rollMax[j] - 1);                else if (j &#x3D;&#x3D; last &amp;&amp; left &gt; 0) res +&#x3D; dfs(i - 1, j, left - 1);            &#125;            res %&#x3D; MOD;            return res;        &#125;;        long long res &#x3D; 0;        for (int j &#x3D; 0; j &lt; 6; j ++) &#123;            res +&#x3D; dfs(n - 1, j, rollMax[j] - 1);        &#125;        res %&#x3D; MOD;        return res;    &#125;&#125;;</code></pre><h4 id="记忆化搜索"><a class="markdownIt-Anchor" href="#记忆化搜索"></a> 记忆化搜索</h4><p>dfs可以用记忆化搜索来优化</p><ul><li>如果一个状态(<strong>递归入参</strong>)是第一次遇到，那么可以在返回前把状态及其结果记到一个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>a</mi><mi>c</mi><mi>h</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">cache</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span></span></span></span>哈希表(数组)中；</li><li>如果一个状态不是第一次遇到，那么直接返回 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>a</mi><mi>c</mi><mi>h</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">cache</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span></span></span></span> 中保存的结果。</li></ul><p>这道题在leetcode上，cache用数组可以过，用哈希表会超时(因为hash函数的构造不满足结果的冲突)。</p><p>记忆化数组代码:</p><pre class="language-c++" data-language="c++"><code class="language-c++">class Solution &#123;    const int MOD &#x3D; 1e9 + 7;public:    int dieSimulator(int n, vector&lt;int&gt;&amp; rollMax) &#123;        int cache[n][6][15];        memset(cache, -1, sizeof(cache)); &#x2F;&#x2F; -1表示没有访问过                function&lt;int(int, int, int)&gt; dfs &#x3D; [&amp;](int i, int last, int left) -&gt; int &#123;            if (i &#x3D;&#x3D; 0) return 1; &#x2F;&#x2F; 是一个合法结果            if (cache[i][last][left] !&#x3D; -1) return cache[i][last][left];            long long res &#x3D; 0;            for (int j &#x3D; 0; j &lt; 6; j ++) &#123;                if (j !&#x3D; last) res +&#x3D; dfs(i - 1, j, rollMax[j] - 1);                else if (j &#x3D;&#x3D; last &amp;&amp; left &gt; 0) res +&#x3D; dfs(i - 1, j, left - 1);            &#125;            res %&#x3D; MOD;            cache[i][last][left] &#x3D; res;            return res;        &#125;;        long long res &#x3D; 0;        for (int j &#x3D; 0; j &lt; 6; j ++) &#123;            res +&#x3D; dfs(n - 1, j, rollMax[j] - 1);        &#125;        res %&#x3D; MOD;        return res;    &#125;&#125;;</code></pre><p>记忆化哈希表代码:</p><p>由于unordered_map不支持元组作为key值，有以下两种方式:</p><ul><li>自定义元组的hash函数传入</li><li>将递归入参封装成string的形式 <code>encoder = &quot;i last left&quot;</code></li></ul><p>hash函数发生的冲突的概率越小，程序执行效率越高，在一定程度上会影响程序运行效率</p><pre class="language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; 自定义元组的hash函数传入typedef tuple&lt;int, int, int&gt; TIII;typedef long long LL;struct SimpleTupleHash &#123;    std::size_t operator()(const std::tuple&lt;int, int, int&gt;&amp; p) const &#123;        return get&lt;0&gt;(p) ^ get&lt;1&gt;(p) ^ get&lt;2&gt;(p);  &#x2F;&#x2F; &#x3D;&gt; 过31个样例         &#x2F;&#x2F; get&lt;0&gt;(p) ^ get&lt;1&gt;(p) &amp; get&lt;2&gt;(p);      &#x2F;&#x2F; &#x3D;&gt; 过29个样例    &#125;&#125;;class Solution &#123;    const int MOD &#x3D; 1e9 + 7;public:    int dieSimulator(int n, vector&lt;int&gt;&amp; rollMax) &#123;        unordered_map&lt;TIII, LL, SimpleTupleHash&gt; cache;                function&lt;int(int, int, int)&gt; dfs &#x3D; [&amp;](int i, int last, int left) -&gt; int &#123;            if (i &#x3D;&#x3D; 0) return 1; &#x2F;&#x2F; 是一个合法结果            if (cache.count(&#123;i, last, left&#125;)) return cache[&#123;i, last, left&#125;];                        LL res &#x3D; 0;            for (int j &#x3D; 0; j &lt; 6; j ++) &#123;                if (j !&#x3D; last) res +&#x3D; dfs(i - 1, j, rollMax[j] - 1);                else if (j &#x3D;&#x3D; last &amp;&amp; left &gt; 0) res +&#x3D; dfs(i - 1, j, left - 1);            &#125;            res %&#x3D; MOD;            cache[&#123;i, last, left&#125;] &#x3D; res;            return res;        &#125;;        LL res &#x3D; 0;        for (int j &#x3D; 0; j &lt; 6; j ++) &#123;            res +&#x3D; dfs(n - 1, j, rollMax[j] - 1);        &#125;        res %&#x3D; MOD;        return res;    &#125;&#125;;</code></pre><pre class="language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; 将递归入参封装成string的形式typedef long long LL;class Solution &#123;    const int MOD &#x3D; 1e9 + 7;public:    int dieSimulator(int n, vector&lt;int&gt;&amp; rollMax) &#123;        unordered_map&lt;string, LL&gt; cache;  &#x2F;&#x2F; &#x3D;&gt; 过29个样例                function&lt;int(int, int, int)&gt; dfs &#x3D; [&amp;](int i, int last, int left) -&gt; int &#123;            if (i &#x3D;&#x3D; 0) return 1; &#x2F;&#x2F; 是一个合法结果            string encoder &#x3D; to_string(i) + &quot; &quot; + to_string(last) + &quot; &quot; + to_string(left);            if (cache.count(encoder)) return cache[encoder];                        LL res &#x3D; 0;            for (int j &#x3D; 0; j &lt; 6; j ++) &#123;                if (j !&#x3D; last) res +&#x3D; dfs(i - 1, j, rollMax[j] - 1);                else if (j &#x3D;&#x3D; last &amp;&amp; left &gt; 0) res +&#x3D; dfs(i - 1, j, left - 1);            &#125;            res %&#x3D; MOD;            cache[encoder] &#x3D; res;            return res;        &#125;;        LL res &#x3D; 0;        for (int j &#x3D; 0; j &lt; 6; j ++) &#123;            res +&#x3D; dfs(n - 1, j, rollMax[j] - 1);        &#125;        res %&#x3D; MOD;        return res;    &#125;&#125;;</code></pre><h4 id="dp-2"><a class="markdownIt-Anchor" href="#dp-2"></a> dp</h4><p>1比1翻译成递推做法：</p><ul><li>记忆化数组改为dp状态数组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span></li><li>递归边界改为初始值</li><li>递归入参改为循环(每有一个入参，就有一层循环)</li></ul><p>就完事了。</p><p>状态: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>k</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f[i][j][k]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">]</span></span></span></span>已经完成了 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span>次掷骰子，第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 次掷的数字是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span></span></span></span>，并且已经连续掷了 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span>次 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span></span></span></span>的合法序列数</p><pre class="language-c++" data-language="c++"><code class="language-c++">typedef long long LL;class Solution &#123;    const int MOD &#x3D; 1e9 + 7;public:    int dieSimulator(int n, vector&lt;int&gt;&amp; rollMax) &#123;        &#x2F;&#x2F; 记忆化改dp数组        int f[n][6][15];        memset(f, 0, sizeof f);                &#x2F;&#x2F; 递归边界改为初始值        for (int j &#x3D; 0; j &lt; 6; j ++) &#123;            for (int k &#x3D; 0; k &lt; rollMax[j]; k ++) &#123;                f[0][j][k] &#x3D; 1;            &#125;        &#125;        &#x2F;&#x2F; 递归入参改为循环        for (int i &#x3D; 1; i &lt; n; i ++) &#123;            for (int last &#x3D; 0; last &lt; 6; last ++) &#123;                for (int left &#x3D; 0; left &lt; rollMax[last]; left ++) &#123;                    LL res &#x3D; 0;                    for (int j &#x3D; 0; j &lt; 6; j ++) &#123;                        if (j !&#x3D; last) res +&#x3D; f[i - 1][j][rollMax[j] - 1];                        else if (j &#x3D;&#x3D; last &amp;&amp; left &gt; 0) res +&#x3D; f[i - 1][j][left - 1];                    &#125;                    res %&#x3D; MOD;                    f[i][last][left] &#x3D; res;                 &#125;            &#125;        &#125;        LL res &#x3D; 0;        for (int j &#x3D; 0; j &lt; 6; j ++) &#123;            res +&#x3D; f[n - 1][j][rollMax[j] - 1];            res %&#x3D; MOD;        &#125;        return res;    &#125;&#125;;</code></pre><h5 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h5><ul><li>时间复杂度: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>m</mi><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n m S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault">m</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mclose">)</span></span></span></span>, 其中 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">rollMax</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\operatorname{rollMax}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mop"><span class="mord mathrm">r</span><span class="mord mathrm">o</span><span class="mord mathrm">l</span><span class="mord mathrm">l</span><span class="mord mathrm">M</span><span class="mord mathrm">a</span><span class="mord mathrm">x</span></span></span></span></span> 的长度, 即 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><mo separator="true">,</mo><mi>S</mi><mo>=</mo><mo>∑</mo><mi mathvariant="normal">rollMax</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">6, S=\sum \operatorname{rollMax}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mord mathrm">r</span><span class="mord mathrm">o</span><span class="mord mathrm">l</span><span class="mord mathrm">l</span><span class="mord mathrm">M</span><span class="mord mathrm">a</span><span class="mord mathrm">x</span></span></span></span></span>, 这不会超 过 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><mo>×</mo><mn>15</mn><mo>=</mo><mn>90</mn></mrow><annotation encoding="application/x-tex">6 \times 15=90</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">5</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span><span class="mord">0</span></span></span></span> 。动态规划的时间复杂度 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span></span></span></span> 状态个数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">×</span></span></span></span> 单个状态的转移个数。本题中状 态个数等于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mclose">)</span></span></span></span>, 而单个状态的转移个数为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span>, 因此时间复杂度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>m</mi><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n m S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault">m</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mclose">)</span></span></span></span> 。</li><li>空间复杂度: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mclose">)</span></span></span></span> 。</li></ul><h3 id="优化"><a class="markdownIt-Anchor" href="#优化"></a> 优化</h3><p><img src="/img/algorithm/0x70/dp.png" alt="" /></p><pre class="language-c++" data-language="c++"><code class="language-c++">class Solution &#123;    const int MOD &#x3D; 1e9 + 7;public:    int dieSimulator(int n, vector&lt;int&gt; &amp;rollMax) &#123;        int m &#x3D; rollMax.size(), f[n][m], s[n];        for (int j &#x3D; 0; j &lt; m; ++j) f[0][j] &#x3D; 1;        s[0] &#x3D; m;        for (int i &#x3D; 1; i &lt; n; ++i) &#123;            s[i] &#x3D; 0;            for (int j &#x3D; 0; j &lt; m; ++j) &#123;                int res &#x3D; s[i - 1], mx &#x3D; rollMax[j];                if (i &gt; mx) res -&#x3D; s[i - mx - 1] - f[i - mx - 1][j];                else if (i &#x3D;&#x3D; mx) --res;                f[i][j] &#x3D; (res % MOD + MOD) % MOD; &#x2F;&#x2F; 防止出现负数                s[i] &#x3D; (s[i] + f[i][j]) % MOD;            &#125;        &#125;        return s[n - 1];    &#125;&#125;;</code></pre><ul><li>时间复杂度: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span>, 其中 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">rollMax</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\operatorname{rollMax}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mop"><span class="mord mathrm">r</span><span class="mord mathrm">o</span><span class="mord mathrm">l</span><span class="mord mathrm">l</span><span class="mord mathrm">M</span><span class="mord mathrm">a</span><span class="mord mathrm">x</span></span></span></span></span> 的长度, 即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span></span></span></span>。</li><li>空间复杂度: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nm)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span> 。</li></ul><pre class="language-none"><code class="language-none">&#x2F;*状态表示 f[i][j][k]:    集合: 所有从前 i 个人中选择 j 个人，且差值是 k (可能为负数, -400~400) 的所有方案的集合    属性: D+P 最大值状态计算:    不选第 i 个人, f[i-1][j][k]    选第 i 个人，  f[i-1][j-1][k-(p_i-d_i)] + (p_i+d_i)    两个情况取一下 max 即可*&#x2F;</code></pre>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x50动态规划-(1)-背包九讲</title>
    <link href="/2021/06/01/Algorithm/Template/20210601-0x50-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-(1)-%E8%83%8C%E5%8C%85%E4%B9%9D%E8%AE%B2/"/>
    <url>/2021/06/01/Algorithm/Template/20210601-0x50-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-(1)-%E8%83%8C%E5%8C%85%E4%B9%9D%E8%AE%B2/</url>
    
    <content type="html"><![CDATA[<p>是全局最优解一定能够拆成子问题的最优解，并且子问题和全局问题是同一类型的问题，从而递推解决</p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>更换GPU——重跑Mask-RCNN Demo</title>
    <link href="/2021/05/20/AI-Learning/20210520-%E4%BD%BF%E7%94%A8GPU%E8%B7%91MaskRCNN/"/>
    <url>/2021/05/20/AI-Learning/20210520-%E4%BD%BF%E7%94%A8GPU%E8%B7%91MaskRCNN/</url>
    
    <content type="html"><![CDATA[<h1 id="使用gpu跑mask-rcnn-demo"><a class="markdownIt-Anchor" href="#使用gpu跑mask-rcnn-demo"></a> 使用GPU跑Mask-RCNN Demo</h1><p>使用CPU跑深度学习当然没问题，但是随着深度学习往CV方向(计算机视觉)发展，需要计算机不断对图像进行处理，由此伴随着网络层数的加深，可能会让你的CPU会越来越力不从心！</p><p>而GPU(Graphics Processing Unit)就是为了处理图像而诞生的，因此这是GPU与生俱来的优势，</p><p>让我们通过以下这个短视频来体会一下CPU与GPU的区别吧</p><p>视频需要使用Dplayer视频插件，日后更新上来</p><p>OK，了解完GPU的强大之处后，就让我们把之前的Mask-RCNN项目换成GPU跑一遍吧！</p><p><strong>注</strong>: 本文以下内容：需要电脑至少有一块NVIDA(英伟达)GPU处理器才能顺利进行</p><p>本文Demo运行的外部环境: Win10(64bits) + Anaconda3(2020.11版) + GTX 1060 Max-Q</p><h2 id="cudacudnn"><a class="markdownIt-Anchor" href="#cudacudnn"></a> CUDA&amp;cuDNN</h2><p>CUDA(Compute Unified Device Architecture)，是显卡厂商NVIDIA推出的运算平台。</p><p>cuDNN(CUDA Deep Neural Network)是基于CUDA运算平台，用于深度神经网络的GPU加速库。</p><p>要想实现使用GPU运行Mask-RCNN Demo，必须先安装CUDA和cuDNN</p><h3 id="查看cuda版本支持"><a class="markdownIt-Anchor" href="#查看cuda版本支持"></a> 查看CUDA版本支持</h3><p>首先，来查看你电脑上能支持的CUDA的最高版本吧!</p><p><strong>Step1</strong>:打开cmd命令行窗口，输入<code>nvidia-smi</code>可以看到如下内容:</p><p><img src="/img/article/2021/05/20/1.png" alt="" /></p><p>圈起来的部分就是你的NVIDIA显卡所支持的CUDA版本，本文所使用的电脑最高支持CUDA11.1。</p><blockquote><p>如果输入<code>nvidia-smi</code>提示未找到命令，需要在环境变量Path中添加:</p><p>``C:\Program Files\NVIDIA Corporation\NVSMI`</p></blockquote><p>在后面的下载安装步骤中，首先需要保证 <strong>选择安装的cuda版本</strong> <strong>&lt;=</strong>  <strong>cmd内显示的支持版本</strong></p><p>并且你需要参考下图版本对应关系，保证CUDA、cuDNN、Python、tensorflow-gpu的版本一致性。</p><p><img src="/img/article/2021/05/20/2.png" alt="" /></p><blockquote><p>本文基于的环境配置版本为:</p><ul><li><p>tensorflow-gpu-1.5.0</p></li><li><p>python3.6</p></li><li><p>CUDA9.0</p></li><li><p>cuDNN7.0.5</p></li></ul></blockquote><h3 id="安装cuda"><a class="markdownIt-Anchor" href="#安装cuda"></a> 安装CUDA</h3><p><strong>CUDA已发布版本</strong> ：<a href="https://developer.nvidia.com/cuda-toolkit-archive">https://developer.nvidia.com/cuda-toolkit-archive</a></p><p>本文选择下载安装CUDA9.0(因为之前跑Demo时已经安装tensorflow-gpu-1.5.0了)</p><p>国内下载速度较慢，需要使用外网，如果你也选择安装CUDA9.0版本，可以选择从我的百度网盘中下载。</p><p><strong>Step1</strong>: 访问NVIDIA官网，选择下载CUDA9.0</p><p><img src="/img/article/2021/05/20/3.png" alt="" /></p><p><img src="/img/article/2021/05/20/4.png" alt="" /></p><p><img src="/img/article/2021/05/20/5.png" alt="" /></p><p><strong>Step2</strong>: 安装CUDA9.0</p><p>运行安装程序：</p><p><img src="/img/article/2021/05/20/6.png" alt="" /></p><p>选择自定义，然后勾选全部安装：</p><p><img src="/img/article/2021/05/20/7.png" alt="" /></p><p>安装位置推荐不要改动，就在C盘就行：</p><p><img src="/img/article/2021/05/20/8.png" alt="" /></p><p>这里还要求电脑安装过Visual Studio (2015/2017)，不然装不上nsight：</p><p>本文电脑已安装VS2017</p><p><img src="/img/article/2021/05/20/10.png" alt="" /></p><p>安装完成：</p><p><img src="/img/article/2021/05/20/9.png" alt="" /></p><h3 id="安装cudnn"><a class="markdownIt-Anchor" href="#安装cudnn"></a> 安装cuDNN</h3><p><strong>CUDNN历史版本</strong> ：<a href="https://developer.nvidia.com/rdp/cudnn-archive">https://developer.nvidia.com/rdp/cudnn-archive</a></p><p>本文选择下载安装cuDNN7.0.5(与CUDA9.0版本对应)</p><p>国内下载速度较慢，需要使用外网，如果你也选择安装cuDNN7.0.5版本，可以选择从我的百度网盘中下载。</p><p><strong>Step1</strong>: 访问NVIDIA官网，选择下载cuDNN9.0</p><p><img src="/img/article/2021/05/20/11.png" alt="" /></p><p>下载好cuDNN，解压，把对应文件夹中的东西复制进去即可。</p><h2 id="tensorflow-gpu"><a class="markdownIt-Anchor" href="#tensorflow-gpu"></a> Tensorflow-gpu</h2><p>如果你有参考我上一篇文章，并成功跑起了Demo，那么已经安装过tensorflow-gpu了</p><p>运行如下程序来简单测试是否正在使用GPU进行运算:</p><pre class="language-python" data-language="python"><code class="language-python">import os# os.environ[&#39;TF_CPP_MIN_LOG_LEVEL&#39;] &#x3D; &#39;2&#39;# 使用编号为0的GPUos.environ[&quot;CUDA_VISIBLE_DEVICES&quot;] &#x3D; &#39;0&#39;import tensorflow as tffrom tensorflow.python.client import device_libprint(device_lib.list_local_devices())print(tf.test.gpu_device_name())sess&#x3D;tf.Session()a&#x3D;tf.constant(1)b&#x3D;tf.constant(3)print(sess.run(a+b))</code></pre><p>可能遇到的问题：</p><p>为什么Tensorflow还是使用的CPU而非GPU？</p><h2 id="demo运行"><a class="markdownIt-Anchor" href="#demo运行"></a> Demo运行</h2><h2 id="碰壁"><a class="markdownIt-Anchor" href="#碰壁"></a> 碰壁</h2><h3 id="为什么tensorflow还是使用的cpu而非gpu"><a class="markdownIt-Anchor" href="#为什么tensorflow还是使用的cpu而非gpu"></a> 为什么Tensorflow还是使用的CPU而非GPU</h3><p>如果你既安装了tensorflow，又安装了tensorflow-gpu，请保证tensorflow-gpu版本&gt;=tensorflow版本</p><p>最保险的方法，是把tensorflow和tensorflow-gpu都卸了，并只重新安装tensorflow-gpu</p><pre class="language-bash" data-language="bash"><code class="language-bash"># 卸载conda uninstall tensorflow&#x3D;&#x3D;1.5.0conda uninstall tensorflow-gpu&#x3D;&#x3D;1.5.0# 重新安装conda install tensorflow-gpu&#x3D;&#x3D;1.5.0</code></pre><p>然后再运行上面的测试.py试试。</p>]]></content>
    
    
    <categories>
      
      <category>机器学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>卷积神经网络</tag>
      
      <tag>计算机视觉</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>从0开始——跑起Mask-RCNN Demo</title>
    <link href="/2021/05/16/AI-Learning/20210516-%E4%BB%8E0%E5%BC%80%E5%A7%8BMaskRCNN/"/>
    <url>/2021/05/16/AI-Learning/20210516-%E4%BB%8E0%E5%BC%80%E5%A7%8BMaskRCNN/</url>
    
    <content type="html"><![CDATA[<h1 id="从0开始跑起mask-rcnn-demo"><a class="markdownIt-Anchor" href="#从0开始跑起mask-rcnn-demo"></a> 从0开始——跑起Mask-RCNN Demo</h1><p>本教程适用于0基础入门机器学习的Coder，阅读完之后你将能在你的电脑上跑起来Mask-RCNN官方的Demo噢！</p><p>俗话说: 再🐮的理论也要首先通过实践，把项目跑起来才是硬道理，代码可以之后慢慢研究！</p><p>基于以上原则，本教程:</p><ul><li>只专注于Demo运行的环境配置</li><li>不带有任何机器学习原理的代码原理讲解</li></ul><p>本文Demo运行的外部环境: Win10(64bits) + Anaconda3(2020.11版)</p><h2 id="maskrcnn"><a class="markdownIt-Anchor" href="#maskrcnn"></a> MaskRCNN</h2><h3 id="简介"><a class="markdownIt-Anchor" href="#简介"></a> 简介</h3><p>​   大名鼎鼎的 Mask RCNN 一举夺得 ICCV2017 Best Paper，名声大造。Mask RCNN 是何恺明基于以往的 Faster RCNN 架构提出的新的卷积网络，实现高效地检测图中的物体，并同时生成一张高质量的每个个体的分割掩码，即有效地目标的同时完成了高质量的语义分割。</p><p><img src="/img/article/2021/05/16/1.png" alt="" /></p><p><strong>论文地址</strong>:  <em><a href="https://arxiv.org/abs/1703.06870">https://arxiv.org/abs/1703.06870</a></em></p><h3 id="项目下载"><a class="markdownIt-Anchor" href="#项目下载"></a> 项目下载</h3><p><strong>项目开源地址</strong>: <em><a href="https://github.com/matterport/Mask_RCNN">https://github.com/matterport/Mask_RCNN</a></em></p><p>在开源地址的<a href="https://github.com/matterport/Mask_RCNN/releases">项目release发布页</a>内:</p><ul><li>Mask R-CNN 2.1中下载balloon_dataset.zip、mask_rcnn_balloon.h5、 Source code(zip/tar.gz)</li></ul><p><img src="/img/article/2021/05/16/2.png" alt="" /></p><ul><li>Mask R-CNN 2.0中下载mask_rcnn_coco.h5</li></ul><p><img src="/img/article/2021/05/16/3.png" alt="" /></p><p>本次教程需要用到的只有Source code和mask_rcnn_coco.h5，其他下载的文件在进一步学习中会用到。</p><p>下载完成后，解压Source code，然后将mask_rcnn_coco放在主目录下:</p><p><img src="/img/article/2021/05/16/4.png" alt="" /></p><p>完成以上步骤后就做好了项目前期准备，本文的目的就是要__让Demo.ipynb成功运行__</p><p><img src="/img/article/2021/05/16/target.png" alt="" /></p><h2 id="anacondapython环境配置"><a class="markdownIt-Anchor" href="#anacondapython环境配置"></a> Anaconda[Python环境配置]</h2><p><strong>Anaconda官网下载地址</strong>:  <em><a href="https://www.anaconda.com/products/individual#Downloads">https://www.anaconda.com/products/individual#Downloads</a></em></p><p>安装较为简单，这里不花笔墨叙述如何安装Anaconda，不会可以自行百度Anaconda安装教程。</p><blockquote><p><em>Q</em> :我已经安装了python了，安装Anaconda会有冲突么，需要卸载python再安装Anaconda么？</p><p><em>A</em> :不会冲突，放心安装。Anaconda可以与现有的python版本共存,只要二者都配置了环境变量即可。</p></blockquote><p>给Anaconda换国内源，可以解决下载缓慢的问题=&gt;<a href="#jump1">Conda换源</a></p><p><span color=red>[注]:</span>以下安装命令中所有环境和库的版本，最好与本文版本相同，以免出现不必要的麻烦。</p><h3 id="python虚拟环境"><a class="markdownIt-Anchor" href="#python虚拟环境"></a> Python虚拟环境</h3><p>安装好Anaconda，并配置好环境变量后，打开cmd或Anaconda Prompt。</p><p>进行以下操作:</p><p><strong>Step1</strong>:  创建python3.6版本的虚拟环境</p><pre class="language-bash" data-language="bash"><code class="language-bash">conda create -n &#96;[虚拟环境名]&#96; python&#x3D;3.6</code></pre><p>弹出(y/n)时，输入y即可。</p><p><strong>Step2</strong>:  虚拟环境基础操作命令</p><p><code>激活虚拟环境</code>:</p><pre class="language-bash" data-language="bash"><code class="language-bash">activate &#96;[虚拟环境名]&#96;</code></pre><p><code>退出虚拟环境</code>:</p><pre class="language-none"><code class="language-none">deactivate</code></pre><p><code>删除虚拟环境</code>:</p><pre class="language-bash" data-language="bash"><code class="language-bash">conda remove -n &#96;[虚拟环境]&#96;</code></pre><p>激活了虚拟环境后，使用conda/pip的安装命令只会给虚拟环境envs安装；</p><p>如果出现错误，可以选择直接删掉虚拟环境重来。</p><h3 id="jupyter-notebook配置"><a class="markdownIt-Anchor" href="#jupyter-notebook配置"></a> Jupyter Notebook配置</h3><p>一般使用Anaconda创建的python虚拟环境自带Jupyter Notebook，使用以下命令打开:</p><pre class="language-bash" data-language="bash"><code class="language-bash">jupyter notebook</code></pre><p>但自带的会有不完善的地方，这里补全。</p><p><strong>Step1</strong>: 安装nb_conda使Jupyter Notebook能够切换虚拟环境</p><pre class="language-none"><code class="language-none">conda install nb_conda</code></pre><p>安装后打开jupyter notebook 可以看到Conda插件，并显示环境，如下图:</p><p>[笔者的电脑上有root(基础python)、Anaconda2020.11(Anaconda自带)、python3.6(虚拟环境envs))三种环境]</p><p><img src="/img/article/2021/05/16/5.png" alt="" /></p><p>此处可能出现的相关错误:</p><p><a href="#jump2">打开jupyter notebook后，出现Dead Kenel</a></p><p><em>The kernel has died,and the automatic restart has failed.</em></p><p><img src="/img/article/2021/05/16/6.png" alt="" /></p><p>Jupyter NoteBook如果出现问题，一定要看看控制台cmd报了什么错误，根据该错误网上搜索解决</p><h3 id="python库安装"><a class="markdownIt-Anchor" href="#python库安装"></a> Python库安装</h3><p><strong>Step1</strong>: 根据github上Mask-RCNN的ReadMe，要安装requirements.txt中的python库</p><p><img src="/img/article/2021/05/16/7.png" alt="" /></p><p>然而各种库版本不对很容易导致各种问题，四处碰壁。这里推荐按本文的requirements.txt配置</p><p><img src="/img/article/2021/05/16/8.png" alt="" /></p><p>可以点击这里直接下载:<a href="/load/requirements.txt">requirements.txt</a></p><p>编辑好requirements.txt后，然后使用以下命令安装</p><pre class="language-bash" data-language="bash"><code class="language-bash">pip install -r requirements.txt</code></pre><p>如果不按本文中的requirements.txt配置，请注意<a href="https://www.cnblogs.com/carle-09/p/11661261.html">Tensorflow和Keras版本对应</a></p><p><strong>Step2</strong>: <span id="jump6">安装coco库</span></p><p>该步骤需要区分Window系统和Linux系统安装</p><p><strong>Windows</strong> :</p><pre class="language-bash" data-language="bash"><code class="language-bash">pip install pycocotools-windows</code></pre><p><strong>Linux</strong> :</p><p>【需要Linux已安装C语言编译器如cmaker】</p><p>方法1:</p><pre class="language-bash" data-language="bash"><code class="language-bash">pip install git+https:&#x2F;&#x2F;github.com&#x2F;waleedka&#x2F;cocoapi.git#egg&#x3D;pycocotools&amp;subdirectory&#x3D;PythonAPI</code></pre><p>方法2:</p><pre class="language-bash" data-language="bash"><code class="language-bash">git clone https:&#x2F;&#x2F;github.com&#x2F;waleedka&#x2F;coco.gitcd coco&#x2F;PythonAPImakesudo make installsudo python setup.py install</code></pre><h2 id="demo运行"><a class="markdownIt-Anchor" href="#demo运行"></a> Demo运行</h2><p><strong>Step1</strong>: cmd打开jupyter notebook</p><pre class="language-bash" data-language="bash"><code class="language-bash">jupyter notebook</code></pre><p><img src="/img/article/2021/05/16/9.png" alt="" /></p><p><strong>Step2</strong>: 打开项目目录下的demo.ipynb，并切换Kenel为你的python3.6虚拟环境</p><p><img src="/img/article/2021/05/16/10.png" alt="" /></p><p><strong>Step3</strong>: 一路<code>Shift</code>+<code>Enter</code>，即可</p><p>Import库时看到如下图，则说明没问题:</p><p><img src="/img/article/2021/05/16/11.png" alt="" /></p><p>最后Run Object  Detection时，首先会看到数据:</p><p><img src="/img/article/2021/05/16/12.png" alt="" /></p><p>等待一会儿会出现训练测试图片:</p><p><img src="/img/article/2021/05/16/13.png" alt="" /></p><p>如果以上步骤完美运行，那么恭喜你，成功跑起来了Mask-RCNN的Demo！</p><p>此处可能出现的相关错误:</p><ol><li><p><a href="#jump3">ImportError: No module named ‘pycocotools’</a></p></li><li><p><a href="#jump4">AttributeError: ‘str’ object has no attribute ‘decode’</a></p></li><li><p><a href="#jump5">AttributeError:module ‘cipy.misc’ has no attribute ‘imresize’</a></p></li></ol><h2 id="碰壁"><a class="markdownIt-Anchor" href="#碰壁"></a> 碰壁</h2><h3 id="span-idjump1conda-换源span"><a class="markdownIt-Anchor" href="#span-idjump1conda-换源span"></a> <span id="jump1">Conda 换源</span></h3><p><strong>清华源</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">conda config --add channels https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;anaconda&#x2F;pkgs&#x2F;free&#x2F;conda config --add channels https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;anaconda&#x2F;cloud&#x2F;conda-forge conda config --add channels https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;anaconda&#x2F;cloud&#x2F;msys2&#x2F;# 设置搜索时显示通道地址conda config --set show_channel_urls yes</code></pre><p><strong>中科大源</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">conda config --add channels https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;anaconda&#x2F;pkgs&#x2F;main&#x2F;conda config --add channels https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;anaconda&#x2F;pkgs&#x2F;free&#x2F;conda config --add channels https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;anaconda&#x2F;cloud&#x2F;conda-forge&#x2F;conda config --add channels https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;anaconda&#x2F;cloud&#x2F;msys2&#x2F;conda config --add channels https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;anaconda&#x2F;cloud&#x2F;bioconda&#x2F;conda config --add channels https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;anaconda&#x2F;cloud&#x2F;menpo&#x2F;# 设置搜索时显示通道地址conda config --set show_channel_urls yes</code></pre><h3 id="span-idjump2jupyter-notebook配置相关span"><a class="markdownIt-Anchor" href="#span-idjump2jupyter-notebook配置相关span"></a> <span id="jump2">Jupyter Notebook配置相关</span></h3><p><span style="font-weight:bold;">Dead Kenel内核死亡[ImportError: cannot import name ‘generator_to_async_generator’]</span></p><p>该内核死亡原因，查看cmd，抛出以下错误:</p><pre class="language-bash" data-language="bash"><code class="language-bash">ImportError: cannot import name &#39;generator_to_async_generator&#39;</code></pre><p><strong>解决方法</strong>:  <a href="https://github.com/ipython/ipython/issues/11270">参考网页</a></p><p>先执行<code>2</code>次，完全卸载ipython 和 prompt_toolkit</p><pre class="language-bash" data-language="bash"><code class="language-bash">pip uninstall -y ipython prompt_toolkit</code></pre><p>再重新安装ipython prompt_toolkit</p><pre class="language-none"><code class="language-none">pip install ipython prompt_toolkit</code></pre><p><strong>[AttributeError: module ‘<a href="http://dateutil.tz">dateutil.tz</a>’ has no attribute ‘UTC’]</strong></p><p>该错误不容易发现，在jupyer notebook中表现为运行无反应。查看cmd，抛出以下错误:</p><pre class="language-bash" data-language="bash"><code class="language-bash">AttributeError: module &#39;dateutil.tz&#39; has no attribute &#39;UTC&#39;</code></pre><p><strong>解决方法:</strong> <a href="https://stackoverflow.com/questions/60929286/attributeerror-module-dateutil-tz-has-no-attribute-utc-on-zappa-deploy">参考网页</a></p><p>重新强制安装python-dateutil</p><pre class="language-bash" data-language="bash"><code class="language-bash">pip install python-dateutil --upgrade --force</code></pre><h3 id="demo运行相关"><a class="markdownIt-Anchor" href="#demo运行相关"></a> Demo运行相关</h3><p><span id="jump3" style="font-weight:bold;">[ImportError: No module named ‘pycocotools’]</span></p><p>问题原因: coco库没有成功安装</p><p>解决方法: <a href="#jump6">安装coco库</a></p><p><span id="jump4" style="font-weight:bold;">[AttributeError: ‘str’ object has no attribute ‘decode’]</span></p><p>问题原因: h5py的版本过高，大于了3.0</p><p>解决方法: <a href="https://github.com/keras-team/keras/issues/14265">参考网页</a></p><pre class="language-bash" data-language="bash"><code class="language-bash">pip install h5py&#x3D;&#x3D;2.10.0</code></pre><p><img src="/img/article/2021/05/16/14.png" alt="" /></p><p>安装时要关闭jupyter notebook以防止 h5py文件夹被占用，无法写入h5py2.10.0进行覆盖</p><p><span id="jump5" style="font-weight:bold;">[AttributeError:module ‘scipy.misc’ has no attribute ‘imresize’]</span></p><p>问题原因: scipy的版本过高</p><p>解决方法: <a href="https://stackoverflow.com/questions/56204985/how-to-fix-scipy-misc-has-no-attribute-imresize">参考网页</a></p><pre class="language-bash" data-language="bash"><code class="language-bash">pip install scipy&#x3D;&#x3D;1.2.2</code></pre><p><img src="/img/article/2021/05/16/15.png" alt="" /></p><p>安装时要关闭jupyter notebook以防止 scipy文件夹被占用，无法写入scipy1.2.2进行覆盖</p><p>至此，本文结束，感谢阅读！</p>]]></content>
    
    
    <categories>
      
      <category>机器学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>卷积神经网络</tag>
      
      <tag>计算机视觉</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x40进阶数据结构-(7)-Chtholly Tree</title>
    <link href="/2021/05/07/Algorithm/Template/20210507-0x40-%E8%BF%9B%E9%98%B6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(7)-Chtholly%20Tree/"/>
    <url>/2021/05/07/Algorithm/Template/20210507-0x40-%E8%BF%9B%E9%98%B6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(7)-Chtholly%20Tree/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x40进阶数据结构-(6)-可持久化数据结构</title>
    <link href="/2021/05/06/Algorithm/Template/20210506-0x40-%E8%BF%9B%E9%98%B6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(6)-%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    <url>/2021/05/06/Algorithm/Template/20210506-0x40-%E8%BF%9B%E9%98%B6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(6)-%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x40进阶数据结构-(5)-平衡树</title>
    <link href="/2021/05/05/Algorithm/Template/20210505-0x40-%E8%BF%9B%E9%98%B6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(5)-%E5%B9%B3%E8%A1%A1%E6%A0%91/"/>
    <url>/2021/05/05/Algorithm/Template/20210505-0x40-%E8%BF%9B%E9%98%B6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(5)-%E5%B9%B3%E8%A1%A1%E6%A0%91/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x40进阶数据结构-(4)-线段树</title>
    <link href="/2021/05/04/Algorithm/Template/20210504-0x40-%E8%BF%9B%E9%98%B6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(4)-%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    <url>/2021/05/04/Algorithm/Template/20210504-0x40-%E8%BF%9B%E9%98%B6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(4)-%E7%BA%BF%E6%AE%B5%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<h2 id="线段树"><a class="markdownIt-Anchor" href="#线段树"></a> 线段树</h2><h3 id="线段树递归"><a class="markdownIt-Anchor" href="#线段树递归"></a> 线段树（递归）</h3><h3 id="zkw线段树非递归"><a class="markdownIt-Anchor" href="#zkw线段树非递归"></a> zkw线段树（非递归）</h3><p><strong>非递归线段树</strong>，是一种代码较短、常数较小的线段树写法。</p><blockquote><p>因为张昆玮在<a href="https://wenku.baidu.com/view/0c1bbba40029bd64783e2cca.html?_wkts_=1679138757334">《统计的力量》</a>中介绍了这种数据结构，因此常常被称为<strong>zkw线段树</strong>，</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x40进阶数据结构-(3)-树状数组</title>
    <link href="/2021/05/03/Algorithm/Template/20210503-0x40-%E8%BF%9B%E9%98%B6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(3)-%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/"/>
    <url>/2021/05/03/Algorithm/Template/20210503-0x40-%E8%BF%9B%E9%98%B6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(3)-%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/</url>
    
    <content type="html"><![CDATA[<p>可以参考的资料</p><p><a href="https://leetcode.cn/problems/range-sum-query-mutable/solutions/632515/guan-yu-ge-lei-qu-jian-he-wen-ti-ru-he-x-41hv/">https://leetcode.cn/problems/range-sum-query-mutable/solutions/632515/guan-yu-ge-lei-qu-jian-he-wen-ti-ru-he-x-41hv/</a></p><p>求逆序对</p><p><a href="https://www.acwing.com/solution/content/2266/">https://www.acwing.com/solution/content/2266/</a></p><p><a href="https://blog.csdn.net/bestsort/article/details/80796531">https://blog.csdn.net/bestsort/article/details/80796531</a></p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x40进阶数据结构-(2)-ST表</title>
    <link href="/2021/05/02/Algorithm/Template/20210502-0x40-%E8%BF%9B%E9%98%B6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(2)-ST%E8%A1%A8/"/>
    <url>/2021/05/02/Algorithm/Template/20210502-0x40-%E8%BF%9B%E9%98%B6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(2)-ST%E8%A1%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="st表"><a class="markdownIt-Anchor" href="#st表"></a> ST表</h2><p><strong>ST表</strong>（Sparse Table，<strong>稀疏表</strong>）是一种简单的数据结构，主要用来解决<strong>静态RMQ</strong>（<strong>区间最大/最小值查询</strong>）问题。<br />它主要应用<strong>倍增</strong>的思想，只要花费<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi mathvariant="normal">⁡</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlog⁡n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord">⁡</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>的预处理，就能在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>内求出原序列某段子区间的最大值/最小值。</p><p>一个长度为N的序列，其子区间个数显然有<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">N^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>个，那么根据倍增思想，我们首先在这<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>的状态空间，选取一些2的整数次幂的位置作为代表值。具体来说，我们可以使用<strong>动态规划</strong>的思想，预处理出一个二维数组 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f[i][j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span>， <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f[i][j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span> 表示从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 开始、长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mi>j</mi></msup></mrow><annotation encoding="application/x-tex">2^j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span></span></span></span></span></span></span> 的区间中的最大值，即：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo>=</mo><mi>max</mi><mo>⁡</mo><mrow><mo fence="true">{</mo><msub><mi>a</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>a</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mrow><mi>i</mi><mo>+</mo><msup><mn>2</mn><mi>j</mi></msup><mo>−</mo><mn>1</mn></mrow></msub><mo fence="true">}</mo></mrow></mrow><annotation encoding="application/x-tex">f[i][j] = \max{ \left \{ a_{i},a_{i+1},\ldots,a_{i+2^{j}-1} \right \}  }</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.51484em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7570857142857144em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24349099999999999em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">}</span></span></span></span></span></span></span></p><p>可以看出，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f[i][j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span> 的第一维是<strong>下标</strong>，第二维是<strong>区间长度</strong>所对应的二进制位数，因此该数组的大小 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>。</p><p>建立好 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f[i][j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span> 数组之后，区间 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span> 的最小值，可以通过以下步骤查询：</p><p>Step1：计算 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mo>=</mo><mo stretchy="false">⌊</mo><msub><mo><mi>log</mi><mo>⁡</mo></mo><mn>2</mn></msub><mo stretchy="false">(</mo><mi>r</mi><mo>−</mo><mi>l</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">⌋</mo></mrow><annotation encoding="application/x-tex">k=\lfloor\log_2(r - l + 1)\rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">⌊</span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.20696799999999996em;"><span style="top:-2.4558600000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24414em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mclose">⌋</span></span></span></span>，找到能够覆盖整个查询区间的、长度最接近且不大于查询区间长度的区间<br />Step2：取<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>max</mi><mo>⁡</mo><mrow><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">[</mo><mi>l</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>k</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">[</mo><mi>r</mi><mo>−</mo><msup><mn>2</mn><mi>k</mi></msup><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>k</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex">\max{(f[l][k],f[r-2^{k}+1][k])}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">]</span><span class="mclose">)</span></span></span></span></span>，以为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>为区间长度所对应的二进制数，求这两个子区间的最大值</p><p>每次计算<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\log</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span></span></span></span>太花时间了，我们可以对<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\log</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span></span></span></span>也进行一次递推的预处理：</p><pre class="language-c++" data-language="c++"><code class="language-c++">log2[1] &#x3D; 0;for (int i &#x3D; 2; i &lt;&#x3D; n; ++ i) &#123;    log2[i] &#x3D; log2[i &#x2F; 2] + 1;&#125;</code></pre><p>板子如下：</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;const int N &#x3D; 1e5 + 7;struct ST &#123;public:    ST (const vector&lt;int&gt;&amp; a) &#123;        int n &#x3D; a.size();        for (int i &#x3D; 1; i &lt;&#x3D; n; ++ i) &#123;            f[i][0] &#x3D; a[i - 1];        &#125;                &#x2F;&#x2F; 先枚举j，后枚举i        for (int j &#x3D; 1; (1 &lt;&lt; j) &lt;&#x3D; n; ++ j) &#123;for (int i &#x3D; 1; i + (1 &lt;&lt; j) - 1 &lt;&#x3D; n; ++ i) &#123;                f[i][j] &#x3D; max(f[i][j - 1], f[i + (1 &lt;&lt; (j - 1))][j - 1]);            &#125;        &#125;                log2[1] &#x3D; 0;        for (int i &#x3D; 2; i &lt;&#x3D; n; ++ i) &#123;            log2[i] &#x3D; log2[i &#x2F; 2] + 1;        &#125;    &#125;        int query(int l, int r) &#123;        int k &#x3D; log2[r - l + 1];  &#x2F;&#x2F; k &#x3D; log(r - l + 1)&#x2F; log(2); &#x2F;&#x2F; 可以使用cmath中的log        return max(f[l][k], f[r - (1 &lt;&lt; k) + 1][k]);    &#125;private:    int f[N][21]; &#x2F;&#x2F; 第二维的大小根据数据范围决定，不小于log(N)    int log2[N];&#125;;vector&lt;int&gt;a;int n, m;int main() &#123;    cin &gt;&gt; n &gt;&gt; m;    for (int i &#x3D; 0 ; i &lt; n; ++ i) &#123;        int x;        scanf(&quot;%d&quot;, &amp;x);        a.push_back(x);    &#125;        ST st(a);        while (m --) &#123;        int l, r;        scanf(&quot;%d %d&quot;, &amp;l, &amp;r);        printf(&quot;%d\n&quot;, st.query(l, r));    &#125;        return 0;&#125;</code></pre><p><strong>练习eg:</strong></p><p><a href="https://www.luogu.com.cn/problem/P3865">P3865.【模板】ST 表</a></p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x40进阶数据结构-(1)-并查集</title>
    <link href="/2021/05/01/Algorithm/Template/20210501-0x40-%E8%BF%9B%E9%98%B6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(1)-%E5%B9%B6%E6%9F%A5%E9%9B%86/"/>
    <url>/2021/05/01/Algorithm/Template/20210501-0x40-%E8%BF%9B%E9%98%B6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(1)-%E5%B9%B6%E6%9F%A5%E9%9B%86/</url>
    
    <content type="html"><![CDATA[<p>推荐参考的题目:</p><p><a href="https://leetcode.cn/problems/checking-existence-of-edge-length-limited-paths/">https://leetcode.cn/problems/checking-existence-of-edge-length-limited-paths/</a></p><p><a href="https://leetcode.cn/problems/maximum-number-of-points-from-grid-queries/">https://leetcode.cn/problems/maximum-number-of-points-from-grid-queries/</a></p><p>iota函数，用于赋予连续的值(Defined in header <code>&lt;numeric&gt;</code>)</p><p>个人初步使用的并查集模板，没有加入权重，或者是统计集合的size，等之后做到这类更难的题目再附加</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;numeric&gt;using namespace std;class UnionFind &#123;private:    vector&lt;int&gt; fa;public:    UnionFind(int n): fa(n) &#123;        iota(fa.begin(), fa.end(), 0); &#x2F;&#x2F; iota函数可以把数组初始化为0到n-1    &#125;;        &#x2F;&#x2F; 查找fa    int find (int x) &#123;        if (x !&#x3D; fa[x]) fa[x] &#x3D; find(fa[x]);        return fa[x];    &#125;        &#x2F;&#x2F; 合并    void unite(int x, int y) &#123;        x &#x3D; find(x), y &#x3D; find(y);        if (x !&#x3D; y) fa[x] &#x3D; y;    &#125;        &#x2F;&#x2F; 是否连通    bool is_connected(int x, int y) &#123;        x &#x3D; find(x), y &#x3D; find(y);        return x &#x3D;&#x3D; y;    &#125;&#125;;int main() &#123;    int n, m;    cin &gt;&gt; n &gt;&gt; m;        UnionFind uf(n + 1);    while (m --) &#123;        char op;        int a, b;        cin &gt;&gt; op;        scanf(&quot;%d %d&quot;, &amp;a, &amp;b);        if (op &#x3D;&#x3D; &#39;M&#39;) uf.unite(a, b);        if (op &#x3D;&#x3D; &#39;Q&#39;) &#123;            if(uf.is_connected(a, b)) &#123;                puts(&quot;Yes&quot;);            &#125;            else puts(&quot;No&quot;);        &#125;    &#125;        return 0;&#125;</code></pre><p>带统计集合的size的板子</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;numeric&gt;using namespace std;class UnionFind &#123;private:    vector&lt;int&gt; fa;    vector&lt;int&gt; sz;public:    UnionFind(int n) : fa(n), sz(n, 1) &#123;        iota(fa.begin(), fa.end(), 0);    &#125;        int find(int x) &#123;        if (x !&#x3D; fa[x]) fa[x] &#x3D; find(fa[x]);        return fa[x];    &#125;        void unite(int x, int y) &#123;        x &#x3D; find(x), y &#x3D; find(y);        if (x !&#x3D; y) &#123;            fa[x] &#x3D; y;            sz[y] +&#x3D; sz[x];        &#125;    &#125;        bool is_connected(int x, int y) &#123;        x &#x3D; find(x), y &#x3D; find(y);        return x &#x3D;&#x3D; y;    &#125;        int get_sz(int x) &#123;        x &#x3D; find(x);        return sz[x];    &#125;&#125;;int main() &#123;    int n, m;    cin &gt;&gt; n &gt;&gt; m;    UnionFind uf(n + 1);        while (m --) &#123;        char op[3];        scanf(&quot;%s&quot;, op);        if (op[0] &#x3D;&#x3D; &#39;C&#39;) &#123;            int a, b;            scanf(&quot;%d %d&quot;, &amp;a, &amp;b);            uf.unite(a, b);        &#125;        if (op[0] &#x3D;&#x3D; &#39;Q&#39;) &#123;            if (op[1] &#x3D;&#x3D; &#39;1&#39;) &#123;                int a, b;                scanf(&quot;%d %d&quot;, &amp;a, &amp;b);                if (uf.is_connected(a, b)) &#123;                    puts(&quot;Yes&quot;);                &#125;                else puts(&quot;No&quot;);            &#125;            else if (op[1] &#x3D;&#x3D; &#39;2&#39;) &#123;                int a;                scanf(&quot;%d&quot;, &amp;a);                printf(&quot;%d\n&quot;, uf.get_sz(a));            &#125;        &#125;    &#125;        return 0;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x30搜索-(3)-记忆化搜索</title>
    <link href="/2021/04/03/Algorithm/Template/20210403-0x30-%E6%90%9C%E7%B4%A2-(3)-%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2/"/>
    <url>/2021/04/03/Algorithm/Template/20210403-0x30-%E6%90%9C%E7%B4%A2-(3)-%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2/</url>
    
    <content type="html"><![CDATA[<p>记忆化搜索，也叫自顶向下动态规划</p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x30搜索-(2)-广度优先搜索</title>
    <link href="/2021/04/02/Algorithm/Template/20210402-0x30-%E6%90%9C%E7%B4%A2-(2)-%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/"/>
    <url>/2021/04/02/Algorithm/Template/20210402-0x30-%E6%90%9C%E7%B4%A2-(2)-%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/</url>
    
    <content type="html"><![CDATA[<p>广搜</p><p>广搜变形</p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x30搜索-(1)-深度优先搜索</title>
    <link href="/2021/04/01/Algorithm/Template/20210401-0x30-%E6%90%9C%E7%B4%A2-(1)-%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/"/>
    <url>/2021/04/01/Algorithm/Template/20210401-0x30-%E6%90%9C%E7%B4%A2-(1)-%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/</url>
    
    <content type="html"><![CDATA[<h2 id="深度优先搜索"><a class="markdownIt-Anchor" href="#深度优先搜索"></a> 深度优先搜索</h2><p>我们把问题的状态空间看作成一颗搜索树，深度优先搜索（DFS）就是在这颗搜索树上深度优先遍历。</p><p>深度优先搜索与<strong>递归</strong>和<strong>栈</strong>密切相关。</p><p>搜索问题没有模板，只有几种常见的类型，我们针对每道题目都需要考虑它的剪枝优化</p><p><strong>分支</strong></p><p>分支的前后顺序是有区别的：</p><ul><li>影响函数递归边界的输出字典序</li><li>在树的前序、中序、后序遍历中会有体现。</li></ul><p><strong>恢复现场recover</strong></p><p>递归N叉树，每个分支都要recover，不然可能会出现<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>e</mi><mi>g</mi><mi>m</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>F</mi><mi>a</mi><mi>u</mi><mi>l</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">Segmentation Fault</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault">a</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">t</span></span></span></span></p><h3 id="剪枝"><a class="markdownIt-Anchor" href="#剪枝"></a> 剪枝</h3><p>void dfs 和 bool dfs的剪枝对比</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>C</mi><mi>n</mi><mi>m</mi></msubsup></mrow><annotation encoding="application/x-tex">C_n^m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93033em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4530000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span>只输出一种情况，就要用<strong>bool</strong>来剪枝</p><p><a href="https://leetcode.cn/submissions/detail/405400164/">https://leetcode.cn/submissions/detail/405400164/</a></p><p><a href="https://leetcode.cn/problems/circular-permutation-in-binary-representation/submissions/405399005/">https://leetcode.cn/problems/circular-permutation-in-binary-representation/submissions/405399005/</a></p><h4 id="优化搜索顺序"><a class="markdownIt-Anchor" href="#优化搜索顺序"></a> 优化搜索顺序</h4><h4 id="排除等效冗余"><a class="markdownIt-Anchor" href="#排除等效冗余"></a> 排除等效冗余</h4><h4 id="可行性剪枝"><a class="markdownIt-Anchor" href="#可行性剪枝"></a> 可行性剪枝</h4><h4 id="最优性剪枝"><a class="markdownIt-Anchor" href="#最优性剪枝"></a> 最优性剪枝</h4>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x20字符串-(5)-AC自动机</title>
    <link href="/2021/03/05/Algorithm/Template/20210305-0x20-%E5%AD%97%E7%AC%A6%E4%B8%B2-(5)-AC%E8%87%AA%E5%8A%A8%E6%9C%BA/"/>
    <url>/2021/03/05/Algorithm/Template/20210305-0x20-%E5%AD%97%E7%AC%A6%E4%B8%B2-(5)-AC%E8%87%AA%E5%8A%A8%E6%9C%BA/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x20字符串-(4)-Trie</title>
    <link href="/2021/03/04/Algorithm/Template/20210304-0x20-%E5%AD%97%E7%AC%A6%E4%B8%B2-(4)-Trie%E6%A0%91/"/>
    <url>/2021/03/04/Algorithm/Template/20210304-0x20-%E5%AD%97%E7%AC%A6%E4%B8%B2-(4)-Trie%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<h2 id="trie字典树"><a class="markdownIt-Anchor" href="#trie字典树"></a> Trie(字典树)</h2><p>Trie是一种用来高效<strong>存储和查找</strong>字符串集合的数据结构。</p><p>字母的类型不会很多：要么全是小写字母，要么全是大写字母，要么全是数字，要么全是01。</p><h3 id="静态实现"><a class="markdownIt-Anchor" href="#静态实现"></a> 静态实现</h3><p>需要根据实际问题中字符出现的种类数目，修改<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>L</mi><mi>P</mi><mi>H</mi><mi>A</mi><mi>B</mi><mi>E</mi><mi>T</mi><mi mathvariant="normal">_</mi><mi>S</mi><mi>I</mi><mi>Z</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">ALPHABET\_SIZE</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.99333em;vertical-align:-0.31em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span>，一般都取26。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;using namespace std;const int N &#x3D; 1e5 + 7;const int M &#x3D; N * L;   &#x2F;&#x2F; N是字符串个数, L是字符串平均长度const int ALPHABETS_SIZE &#x3D; 26;struct Trie &#123;private:    int cnt[N];    int son[M][ALPHABETS_SIZE], idx &#x3D; 0;public:        void insert(const string&amp; s) &#123;        int p &#x3D; 0;        for (char c : s) &#123;            int t &#x3D; c - &#39;a&#39;;            if (!son[p][t]) &#123;                son[p][t] &#x3D; ++ idx;            &#125;            p &#x3D; son[p][t];        &#125;        cnt[p] ++;    &#125;        int query(const string&amp; s) &#123;        int p &#x3D; 0;        for (char c : s) &#123;            int t &#x3D; c - &#39;a&#39;;            if(!son[p][t]) return 0;            p &#x3D; son[p][t];        &#125;        return cnt[p];    &#125;&#125;;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><p>假设当前需要插入或查询的str[]的有效长度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>。</p><ul><li>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mi>n</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi>t</mi><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">insert()</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mclose">)</span></span></span></span>：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span>；<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>q</mi><mi>u</mi><mi>e</mi><mi>r</mi><mi>y</mi><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">query()</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mclose">)</span></span></span></span>：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span></li><li>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>M</mi><mo>∗</mo><mi>A</mi><mi>L</mi><mi>P</mi><mi>H</mi><mi>A</mi><mi>B</mi><mi>E</mi><mi>T</mi><mi mathvariant="normal">_</mi><mi>S</mi><mi>I</mi><mi>Z</mi><mi>E</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(M * ALPHABET\_SIZE)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span></span>。</li></ul><hr /><h3 id="动态实现"><a class="markdownIt-Anchor" href="#动态实现"></a> 动态实现</h3><h4 id="基于vector实现"><a class="markdownIt-Anchor" href="#基于vector实现"></a> 基于vector实现</h4><p>需要根据实际问题中字符出现的种类数目，修改<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>L</mi><mi>P</mi><mi>H</mi><mi>A</mi><mi>B</mi><mi>E</mi><mi>T</mi><mi mathvariant="normal">_</mi><mi>S</mi><mi>I</mi><mi>Z</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">ALPHABET\_SIZE</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.99333em;vertical-align:-0.31em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span>，一般都取26。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;string&gt;#include &lt;vector&gt;using namespace std;const int ALPHABET_SIZE &#x3D; 26;struct Trie &#123;private:    int cnt;    vector&lt;Trie*&gt; son;public:    Trie() : cnt(0), son(ALPHABET_SIZE, nullptr) &#123;&#125;    ~Trie() &#123;        for (auto &amp;s : son) &#123;            delete(s);        &#125;    &#125;        void insert(const string&amp; s) &#123;        Trie* p &#x3D; this;        for (char c : s) &#123;            int t &#x3D; c - &#39;a&#39;;            if (!p-&gt;son[t]) &#123;                p-&gt;son[t] &#x3D; new Trie();            &#125;            p &#x3D; p-&gt;son[t];        &#125;        p-&gt;cnt ++;    &#125;        int query(const string &amp; s) &#123;        Trie*p &#x3D; this;        for (char c : s) &#123;            int t &#x3D; c - &#39;a&#39;;            if (!p-&gt;son[t]) &#123;                return 0;            &#125;            p &#x3D; p-&gt;son[t];        &#125;        return p-&gt;cnt;    &#125;        int start_with(const string&amp; s) &#123;        int res &#x3D; 0;                Trie* p &#x3D; this;        for (char c : s) &#123;            int t &#x3D; c - &#39;a&#39;;            if (!p-&gt;son[t])&#123;                break;            &#125;            p &#x3D; p-&gt;son[t];            res +&#x3D; p-&gt;cnt;        &#125;                return res;    &#125;&#125;;</code></pre><h4 id="基于unordered_map实现"><a class="markdownIt-Anchor" href="#基于unordered_map实现"></a> 基于unordered_map实现</h4><p>能够动态调整字符种类的数目，无需把字符映射成数字，代码更简洁。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;string&gt;#include &lt;unordered_map&gt;using namespace std;struct Trie &#123;private:    int cnt;    unordered_map&lt;char, Trie*&gt; son;public:    Trie() : cnt(0) &#123;&#125;    ~Trie() &#123;        for (auto &amp;s : son) &#123;            delete(s.second);        &#125;    &#125;        void insert(const string&amp; s) &#123;        Trie* p &#x3D; this;        for (char c : s) &#123;            if (!p-&gt;son[c]) &#123;                p-&gt;son[c] &#x3D; new Trie();            &#125;            p &#x3D; p-&gt;son[c];        &#125;        p-&gt;cnt ++;    &#125;        int query(const string&amp; s) &#123;        Trie*p &#x3D; this;        for (char c : s) &#123;            if (!p-&gt;son[c]) &#123;                return 0;            &#125;            p &#x3D; p-&gt;son[c];        &#125;        return p-&gt;cnt;    &#125;        int start_with(const string&amp; s) &#123;        int res &#x3D; 0;         Trie* p &#x3D; this;        for (char c : s) &#123;            if (!p-&gt;son[c])&#123;                break;            &#125;            p &#x3D; p-&gt;son[c];            res +&#x3D; p-&gt;cnt;        &#125;            return res;    &#125;&#125;;</code></pre><p>算法竞赛，时间复杂度是王道，因此个人习惯使用vector的版本：</p><style>table{    font-size: 15px;}table th:first-of-type {    font-size: 15px;    width: 15%;}table th:nth-of-type(2) {    font-size: 15px;    width: 58%;}table th:nth-of-type(3) {    font-size: 15px;    width: 30%;}</style><table><thead><tr><th></th><th>基于vector实现</th><th>基于unordered_map实现</th></tr></thead><tbody><tr><td><strong>时间</strong></td><td>较快，比unordered_map版本接近快1倍</td><td>较慢，要处理hash冲突</td></tr><tr><td><strong>空间</strong></td><td><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>L</mi><mi>P</mi><mi>H</mi><mi>A</mi><mi>B</mi><mi>E</mi><mi>T</mi><mi mathvariant="normal">_</mi><mi>S</mi><mi>I</mi><mi>Z</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">ALPHABET\_SIZE</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.99333em;vertical-align:-0.31em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span>固定，会产生更多的内存碎片</td><td>内存碎片较少</td></tr></tbody></table><h4 id="复杂度分析-2"><a class="markdownIt-Anchor" href="#复杂度分析-2"></a> 复杂度分析</h4><p>Trie的复杂度与字符串的个数和长度有关。假设Trie中包含<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>个字符串，且平均字符串长度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>。</p><ul><li>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mi>n</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi>t</mi><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">insert()</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mclose">)</span></span></span></span>：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span>；<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>q</mi><mi>u</mi><mi>e</mi><mi>r</mi><mi>y</mi><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">query()</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mclose">)</span></span></span></span>：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span>；<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi><mi mathvariant="normal">_</mi><mi>w</mi><mi>i</mi><mi>t</mi><mi>h</mi><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">start\_with()</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">t</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mclose">)</span></span></span></span>：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span>，构建Trie为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>∗</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n*L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span></li><li>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>∗</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n*L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span>。</li></ul><p><strong>练习eg</strong>：</p><p><a href="https://www.acwing.com/problem/content/144/">Acwing-142.前缀统计</a></p><h3 id="应用"><a class="markdownIt-Anchor" href="#应用"></a> 应用：</h3><h4 id="01-trie01字典树"><a class="markdownIt-Anchor" href="#01-trie01字典树"></a> 01-Trie(01字典树)</h4><p>真神，不会被卡TLE;</p><pre class="language-c++" data-language="c++"><code class="language-c++">const int N &#x3D; 1e5 + 7, M &#x3D; N * 31;const int ALPHABETS_SIZE &#x3D; 2;struct Trie &#123;private:    int son[M][ALPHABETS_SIZE], idx;public:        void insert(int x) &#123;        int p &#x3D; 0;        for (int i &#x3D; 30; i &gt;&#x3D; 0; i --) &#123;            int t &#x3D; x &gt;&gt; i &amp; 1;            if (!son[p][t]) &#123;                son[p][t] &#x3D; ++idx;            &#125;            p &#x3D; son[p][t];        &#125;    &#125;        int query(int x) &#123;        int res &#x3D; 0;        int p &#x3D; 0;        for (int i &#x3D; 30; i &gt;&#x3D; 0; i --) &#123;            int t &#x3D; x &gt;&gt; i &amp; 1;            if (son[p][!t]) &#123;                p &#x3D; son[p][!t];                res &#x3D; (res &lt;&lt; 1) + !t;            &#125;            else &#123;                p &#x3D; son[p][t];                res &#x3D; (res &lt;&lt; 1) + t;            &#125;        &#125;        return res;    &#125;&#125;;</code></pre><p>这个应用应该整理一下：</p><p><a href="https://leetcode.cn/problems/number-of-matching-subsequences/description/">Leetcode-792.匹配子序列的单词数</a></p><pre class="language-c" data-language="c"><code class="language-c">&#x2F;&#x2F; query_dfs&#x2F;&#x2F; 枚举字典树每一层的可行路径 去匹配s, 而非去对s进行dfsvoid query_dfs(Trie* p,string&amp; s,int pos)&#123;    &#x2F;&#x2F; 当前位置存在结尾if (p-&gt;cnt) &#123;        ans +&#x3D; p-&gt;cnt;        p-&gt;cnt &#x3D; 0; &#x2F;&#x2F; 置0十分重要，避免重复计算    &#125;    for (int i &#x3D; 0; i &lt; 26; i ++) &#123;        &#x2F;&#x2F; 存在子节点        if (p-&gt;son[i]) &#123;            &#x2F;&#x2F; 可以看作pos ~ next_pos之间的全失效            int next_pos &#x3D; s.find_first_of(&#39;a&#39; + i, pos);            if (next_pos !&#x3D; string::npos) &#123;                query_dfs(p-&gt;son[i], s, next_pos + 1);            &#125;        &#125;    &#125;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x20字符串-(3)-Manacher</title>
    <link href="/2021/03/03/Algorithm/Template/20210303-0x20-%E5%AD%97%E7%AC%A6%E4%B8%B2-(3)-Manacher/"/>
    <url>/2021/03/03/Algorithm/Template/20210303-0x20-%E5%AD%97%E7%AC%A6%E4%B8%B2-(3)-Manacher/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x20字符串-(2)-KMP</title>
    <link href="/2021/03/02/Algorithm/Template/20210302-0x20-%E5%AD%97%E7%AC%A6%E4%B8%B2-(2)-KMP/"/>
    <url>/2021/03/02/Algorithm/Template/20210302-0x20-%E5%AD%97%E7%AC%A6%E4%B8%B2-(2)-KMP/</url>
    
    <content type="html"><![CDATA[<h2 id="kmp"><a class="markdownIt-Anchor" href="#kmp"></a> KMP</h2><p>KMP算法用于<strong>字符串匹配</strong>优化</p><p>假设主串S长度为n， 模式串P长度为m</p><p>暴力做法，时间复杂度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>∗</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n * m)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span></span></p><pre class="language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; 暴力匹配int i &#x3D; 0, j &#x3D; 0;while (i &lt; s.length())&#123;    if (s[i] &#x3D;&#x3D; p[j])        ++i, ++j;    else        i &#x3D; i - j + 1, j &#x3D; 0;    if (j &#x3D;&#x3D; p.length())  &#x2F;&#x2F; 匹配成功    &#123;        &#x2F;&#x2F; 对s[i - j .. i - 1]进行一些操作        cout &lt;&lt; i - j &lt;&lt; endl;        i &#x3D; i - j + 1;        j &#x3D; 0;    &#125;&#125;</code></pre><h3 id="kmp-2"><a class="markdownIt-Anchor" href="#kmp-2"></a> KMP</h3><p>kmp算法的思想是，sh去预处理模板串 nxt[i] = j</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>x</mi><mi>t</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">nxt[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>的含义：对于字符串的前缀子串<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mi>i</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">S[0, i - 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>x</mi><mi>t</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">nxt[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>是该前缀子串所有相等的前后缀里长度的最大值。</p><p>举个例子，假设模式串为&quot;ABABC&quot;，nxt[] = [-1, 0, 0, 1, 2]<br />nxt[0] = -1，因为在0位置之前没有字符串，所以不存在相等的前缀和后缀。<br />nxt[1] = 0， 因为在1位置之前的字符串为&quot;A&quot;，其相等的前缀和后缀长度为0(真前缀，要小于S[0,i - 1]长度)。<br />nxt[2] = 0， 因为在2位置之前的字符串为&quot;AB&quot;，其相等的前缀和后缀长度为0。<br />nxt[3] = 0， 因为在3位置之前的字符串为&quot;ABA&quot;，其相等的前缀和后缀长度为1。<br />nxt[4] = 0， 因为在4位置之前的字符串为&quot;ABAB&quot;，其相等的前缀和后缀长度为2。</p><p>有了nxt数组之后，KMP算法可以<strong>避免在匹配过程中对模式串进行无效的回溯，从而提高匹配的效率</strong>。具体而言，当匹配到文本串中的某个位置i和模式串中的某个位置j不匹配时，我们可以根据nxt[j]的值将模式串向右移动j - nxt[j]个字符，从而避免了匹配中出现无效的回溯.</p><p>nxt[i] = j记录的就是当前以i作为后缀末位时，j对应的前缀末位的位置，有使得<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">]</mo><mo>=</mo><mo>=</mo><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo>−</mo><mi>j</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">{p[1, j] == p[i - j + 1, i]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span></span>，这两段前后缀字符串相等，并且不难发现j就是模式串可移动的长度。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;string&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;string s; &#x2F;&#x2F; 主串sstring p; &#x2F;&#x2F; 模式串pvector&lt;int&gt; get_next(string&amp; p) &#123;    int m &#x3D; p.size();        vector&lt;int&gt; nxt(m);    nxt[0] &#x3D; -1;    for (int i &#x3D; 1, j &#x3D; -1; i &lt; m; i ++) &#123;        while (~j &amp;&amp; p[i] !&#x3D; p[j + 1]) j &#x3D; nxt[j];        if (p[i] &#x3D;&#x3D; p[j + 1]) j ++;        nxt[i] &#x3D; j;    &#125;        return nxt;&#125;vector&lt;int&gt; kmp(string&amp; s, string&amp; p) &#123;    int n &#x3D; s.size();    int m &#x3D; p.size();        vector&lt;int&gt; res;    vector&lt;int&gt; nxt &#x3D; get_next(p);    for (int i &#x3D; 0, j &#x3D; -1; i &lt; n; i ++) &#123;        while (~j &amp;&amp; s[i] !&#x3D; p[j + 1]) j &#x3D; nxt[j];        if (s[i] &#x3D;&#x3D; p[j + 1]) j ++;        if (j &#x3D;&#x3D; m - 1) &#123;            &#x2F;&#x2F; 匹配成功            res.emplace_back(i - m + 1);  &#x2F;&#x2F; 匹配成功时，p在s的起始下标            j &#x3D; nxt[j];        &#125;    &#125;        return res;&#125;int main() &#123;     cin &gt;&gt; s; cin &gt;&gt; p;        vector&lt;int&gt; res &#x3D; kmp(s, p);    for(auto&amp; r : res) printf(&quot;%d &quot;, r);    return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li><p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>2</mn><mi>m</mi><mo>+</mo><mn>2</mn><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(2m + 2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 。</p><blockquote><p><strong>分析</strong>:</p><ol><li>对于求nxt数组的过程</li></ol><p>外层for循环每当i++，j最多跟着一起++，所以 j 最多 + m次;<br />内层while循环，j 肯定是 &gt;= 0的，j最大为m，所以也最多要-m次; 因此while循环整个过程最多执行m次</p><ol start="2"><li>对于kmp匹配的过程，同理</li></ol><p>外层for循环每当i <ins>，j最多跟着一起</ins>，所以 j 最多 +n次;<br />内层while循环，j 肯定是 &gt;= 0的，j最大为n，所以也最多要 - n次; 因此while循环整个过程最多执行n次</p><p>所以总共是2m + 2n</p></blockquote></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，主要是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>x</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">nxt</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mi>e</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">res</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span></span></span></span>数组占用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>空间。</p></li></ul><p><strong>练习eg:</strong></p><p><a href="https://www.acwing.com/problem/content/description/833/">ACwing-831.KMP字符串</a></p><h4 id="应用循环节"><a class="markdownIt-Anchor" href="#应用循环节"></a> 应用：循环节</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>x</mi><mi>t</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">nxt[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>的含义：对于字符串的前缀子串<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">S[0, i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>x</mi><mi>t</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">nxt[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span>是该前缀子串所有相等的前后缀里长度的最大值。</p><p>令<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mo>=</mo><mi>n</mi><mo>−</mo><mi>n</mi><mi>x</mi><mi>t</mi><mo stretchy="false">[</mo><mi>n</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">T = n - nxt[n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">n</span><span class="mclose">]</span></span></span></span>，则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>是最小循环节，并且如果<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mo>∤</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">T\nmid n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.99253em;vertical-align:-0.25142em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">∤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>，则题目无解。</p><p>证明1：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>是一个最小循环节。</p><blockquote><p>反证法：假设<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∃</mi><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup><mo>&lt;</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">\exists T&#x27; &lt; T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.790992em;vertical-align:-0.0391em;"></span><span class="mord">∃</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>，<br />那么有<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>−</mo><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup><mo>&gt;</mo><mi>n</mi><mo>−</mo><mi>T</mi><mo>=</mo><mi>n</mi><mi>x</mi><mi>t</mi><mo stretchy="false">[</mo><mi>n</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">n - T&#x27; &gt; n - T = nxt[n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.790992em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">n</span><span class="mclose">]</span></span></span></span>，与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>x</mi><mi>t</mi><mo stretchy="false">[</mo><mi>n</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">nxt[n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">x</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">n</span><span class="mclose">]</span></span></span></span>是所有相等的前后缀里长度的最大值这一点矛盾。</p></blockquote><p>证明2：如果字符串中存在更大的循环节<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>，则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>必然是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>的整数倍，即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mo>∣</mo><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T \mid T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>。</p><blockquote><p>反证法：假设<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∃</mi><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup><mo>&gt;</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">\exists T&#x27; &gt; T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.790992em;vertical-align:-0.0391em;"></span><span class="mord">∃</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>，且<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mo>∤</mo><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T \nmid T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.99253em;vertical-align:-0.25142em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">∤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>,<br />那么设<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>=</mo><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>T</mi><mo separator="true">,</mo><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d = gcd(T, T&#x27;)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">c</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，易知<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>∣</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">d \mid T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>，因此<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>&lt;</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">d &lt; T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>。<br />由裴蜀定理，可知<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>=</mo><mi>x</mi><mi>T</mi><mo>+</mo><mi>y</mi><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">d = xT + yT&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.946332em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>成立，不妨假设<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>&gt;</mo><mn>0</mn><mo separator="true">,</mo><mi>y</mi><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x &gt; 0, y &lt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，那么对于原字符串<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>：<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∀</mi><mi>i</mi><mo>∈</mo><mi>n</mi><mo separator="true">,</mo><msub><mi>S</mi><mi>i</mi></msub><mo>=</mo><msub><mi>S</mi><mrow><mi>i</mi><mo>+</mo><mi>T</mi></mrow></msub><mo>=</mo><msub><mi>S</mi><mrow><mi>i</mi><mo>+</mo><mn>2</mn><mi>T</mi></mrow></msub><mo>=</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>S</mi><mi>i</mi></msub><mo>+</mo><mi>x</mi><mi>T</mi><mo>=</mo><msub><mi>S</mi><mrow><mi>i</mi><mo>+</mo><mi>x</mi><mi>T</mi><mo>−</mo><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow></msub><mo>=</mo><msub><mi>S</mi><mrow><mi>i</mi><mo>+</mo><mi>x</mi><mi>T</mi><mo>−</mo><mn>2</mn><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow></msub><mo>=</mo><msub><mi>S</mi><mrow><mi>i</mi><mo>+</mo><mi>x</mi><mi>T</mi><mo>−</mo><mi>y</mi><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow></msub><mo>=</mo><msub><mi>s</mi><mrow><mi>i</mi><mo>+</mo><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\forall i\in n,  S_i = S_{i + T} = S_{i + 2 T} = ... S_i+xT = S_{i + xT -T&#x27;} = S_{i + xT - 2T&#x27;} = S_{i + xT - yT&#x27;} = s_{i + d}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord">∀</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mbin mtight">−</span><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">x</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span><br />得到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub><mo>=</mo><msub><mi>S</mi><mrow><mi>i</mi><mo>+</mo><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">S_i = S_{i + d}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>，由定义可知<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span></span></span></span>是一个循环节，又因为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>&lt;</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">d &lt; T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>，与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>是最小循环节矛盾。</p></blockquote><p><strong>练习eg:</strong></p><p><a href="https://www.acwing.com/problem/content/143/">Acwing-141.周期</a></p><h3 id="最小表示法"><a class="markdownIt-Anchor" href="#最小表示法"></a> 最小表示法</h3>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x20字符串-(1)-字符串Hash</title>
    <link href="/2021/03/01/Algorithm/Template/20210301-0x20-%E5%AD%97%E7%AC%A6%E4%B8%B2-(1)-%E5%AD%97%E7%AC%A6%E4%B8%B2Hash/"/>
    <url>/2021/03/01/Algorithm/Template/20210301-0x20-%E5%AD%97%E7%AC%A6%E4%B8%B2-(1)-%E5%AD%97%E7%AC%A6%E4%B8%B2Hash/</url>
    
    <content type="html"><![CDATA[<h2 id="字符串hash"><a class="markdownIt-Anchor" href="#字符串hash"></a> 字符串Hash</h2><p>字符串Hash有很多种方式，最常用的一种就是字符串前缀哈希。</p><blockquote><p><strong>经验之谈</strong>：基本上，除了<strong>循环节</strong>只能用<strong>KMP</strong>来做，其它都可以用字符串hash来做</p></blockquote><h3 id="字符串前缀哈希"><a class="markdownIt-Anchor" href="#字符串前缀哈希"></a> 字符串前缀哈希</h3><h4 id="算法实现"><a class="markdownIt-Anchor" href="#算法实现"></a> 算法实现</h4><p>字符串前缀哈希是一种常用的字符串匹配算法，它可以<strong>在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 内计算出一个字符串的前缀子串的哈希值</strong>，从而实现快速匹配，其原理如下：</p><p>假设我们有一个字符串 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>，其长度为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>，哈希函数为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>，<br />取一固定值<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span>，把<strong>字符串看作<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span>进制数</strong>，取一固定值<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>，求出<strong>该<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span>进制数对<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>的余数</strong>，作为字符串Hash值：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">[</mo><mn>0</mn><mo>…</mo><mi>k</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mi>k</mi></munderover><mi>s</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>×</mo><msup><mi>P</mi><mi>i</mi></msup><mo stretchy="false">)</mo><mtext> </mtext><mi>m</mi><mi>o</mi><mi>d</mi><mtext> </mtext><mi>M</mi></mrow><annotation encoding="application/x-tex">h(s[0 \ldots k])=(\sum_{i=0}^k s[i] \times P^i )\ mod \ M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord">0</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">]</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.1137820000000005em;vertical-align:-1.277669em;"></span><span class="mopen">(</span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8361130000000003em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1246639999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8746639999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace"> </span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span></span></p><p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span> 通常取一个大于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 的质数，常用质数有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mo>=</mo><mn>131</mn></mrow><annotation encoding="application/x-tex">P=131</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">3</span><span class="mord">1</span></span></span></span> 或 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mo>=</mo><mn>13331</mn></mrow><annotation encoding="application/x-tex">P=13331</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">3</span><span class="mord">3</span><span class="mord">3</span><span class="mord">1</span></span></span></span>，此时字符串哈希冲突概率极低。<br />其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>通常取<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi><mo>=</mo><msup><mn>2</mn><mn>64</mn></msup></mrow><annotation encoding="application/x-tex">M = 2^{64}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span></span>，即直接使用 <strong><code>unsigned long long</code></strong> 类型存储这个Hash值，溢出时自动对<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mn>64</mn></msup></mrow><annotation encoding="application/x-tex">2^{64}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span></span>取模。</p><blockquote><p>个人认为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span>取131是因为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>S</mi><mi>C</mi><mi>I</mi><mi>I</mi></mrow><annotation encoding="application/x-tex">ASCII</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span></span></span></span>码表一共有128个字符，所以找了一个比128大的质数。</p></blockquote><p>对于该字符串<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>的任意子串<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">s[l, r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span>，其Hash值可以在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>内求出：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mo stretchy="false">[</mo><mi>r</mi><mo stretchy="false">]</mo><mo>−</mo><mi>s</mi><mo stretchy="false">[</mo><mi>l</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo><mo>∗</mo><msup><mi>p</mi><mrow><mi>r</mi><mo>−</mo><mi>l</mi><mo>+</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">h(s[l, r]) = s[r] - s[l -1] * p^{r - l + 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.093548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>总的来说，比较像前缀和的思想，因此叫字符串前缀哈希。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;string&gt;#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;typedef unsigned long long ULL;const int N &#x3D; 1e6 + 7;const int P &#x3D; 131; &#x2F;&#x2F; const int P &#x3D; 13331;vector&lt;ULL&gt; P(N); &#x2F;&#x2F; P次幂vector&lt;ULL&gt; get_prefix_hash(const string&amp; s) &#123;int n &#x3D; s.size();vector&lt;ULL&gt; h(n + 1);h[0] &#x3D; 0;    p[0] &#x3D; 1;for (int i &#x3D; 1; i &lt;&#x3D; n; i++) &#123;h[i] &#x3D; h[i - 1] * P + s[i - 1];        p[i] &#x3D; p[i - 1] * P;&#125;return h;&#125;ULL get_substr_hash(const vector&lt;ULL&gt;&amp; h, int l, int r) &#123;return h[r] - h[l - 1] * p[r - l + 1];&#125;int main() &#123;string s &#x3D; &quot;violet violence&quot;; vector&lt;ULL&gt; h &#x3D; get_prefix_hash(s);cout &lt;&lt; &quot;Prefix Hash of &quot; &lt;&lt; s &lt;&lt; &quot;:&quot; &lt;&lt; endl;for (int i &#x3D; 0; i &lt; s.size(); i ++) &#123;cout &lt;&lt; s.substr(0, i + 1) &lt;&lt; &quot; : &quot; &lt;&lt; h[i + 1] &lt;&lt; endl;&#125;cout &lt;&lt; endl;&#x2F;&#x2F; 计算violet的&#39;viole&#39; 与 violence的&#39;viole&#39;的Hash值是否相同cout &lt;&lt; get_substr_hash(h, 1, 5) &lt;&lt; &quot; and &quot; &lt;&lt; get_substr_hash(h, 8, 12) &lt;&lt; endl;return 0;&#125;</code></pre><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 预处理前缀和需要<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，查询字串的时间复杂度是常数级<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>。</li><li>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(N)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>，要花<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n + 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>的空间存储Hash前缀和，花<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>的空间存储P的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>次幂。</li></ul><hr /><p>求<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span>的次幂也可以用一个快速幂fast_pow()，用时间换空间，但这样每次查询就是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>r</mi><mo>−</mo><mi>l</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\log(r - l + 1))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>的了。</p><blockquote><p>总之，不要使用<code>&lt;cmath&gt;</code>中自带的<code>pow()</code>，其返回类型是double，而浮点型转为整型会有精度损失。</p></blockquote><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;string&gt;#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;typedef unsigned long long ULL;const int P &#x3D; 131; &#x2F;&#x2F; const int P &#x3D; 13331;ULL fast_pow(ULL x, ULL n) &#123;    ULL res &#x3D; 1;    for (; n; n &gt;&gt;&#x3D; 1) &#123;        if (n &amp; 1) &#123;            res &#x3D; res * x;        &#125;        x &#x3D; x * x;    &#125;      return res;&#125;vector&lt;ULL&gt; get_prefix_hash(const string&amp; s) &#123;int n &#x3D; s.size();vector&lt;ULL&gt; h(n + 1);h[0] &#x3D; 0;for (int i &#x3D; 1; i &lt;&#x3D; n; i++) &#123;h[i] &#x3D; h[i - 1] * P + s[i - 1];&#125;return h;&#125;ULL get_substr_hash(const vector&lt;ULL&gt;&amp; h, int l, int r) &#123;return h[r] - h[l - 1] * fast_pow(P, r - l + 1); &#x2F;&#x2F; 不要使用(ULL)pow(P, r - l + 1); &#125;int main() &#123;string s &#x3D; &quot;violet violence&quot;; vector&lt;ULL&gt; h &#x3D; get_prefix_hash(s);cout &lt;&lt; &quot;Prefix Hash of &quot; &lt;&lt; s &lt;&lt; &quot;:&quot; &lt;&lt; endl;for (int i &#x3D; 0; i &lt; s.size(); i ++) &#123;cout &lt;&lt; s.substr(0, i + 1) &lt;&lt; &quot; : &quot; &lt;&lt; h[i + 1] &lt;&lt; endl;&#125;cout &lt;&lt; endl;&#x2F;&#x2F; 计算violet的&#39;viole&#39; 与 violence的&#39;viole&#39;的Hash值是否相同cout &lt;&lt; get_substr_hash(h, 1, 5) &lt;&lt; &quot; and &quot; &lt;&lt; get_substr_hash(h, 8, 12) &lt;&lt; endl;return 0;&#125;</code></pre><ul><li>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>， 预处理前缀和需要<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，查询字串的时间复杂度是常数级<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>r</mi><mo>−</mo><mi>l</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(r - l + 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>。</li><li>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，要花<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n + 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>的空间存储Hash前缀和。</li></ul><p><strong>练习eg</strong>：</p><p><a href="https://www.acwing.com/problem/content/140/">Acwing-138.兔子与兔子</a></p><h4 id="应用求两个字符串的最长公共前缀长度"><a class="markdownIt-Anchor" href="#应用求两个字符串的最长公共前缀长度"></a> 应用：求两个字符串的最长公共前缀长度</h4><p>结合二分查找，可以求得两个字符串的最长公共前缀长度</p><pre class="language-c++" data-language="c++"><code class="language-c++">int get_max_common_prefix(string a, string b) &#123;   vector&lt;ULL&gt; ha &#x3D; get_prefix_hash(a);    vector&lt;ULL&gt; hb &#x3D; get_prefix_hash(b);        int l &#x3D; 0, r &#x3D; min(a.size(), b.size());    while (l !&#x3D; r + 1) &#123;        int mid &#x3D; l + r &gt;&gt; 1;        if (get_substr_hash(ha, 0, mid - 1) !&#x3D; get_substr_hash(hb, 0, mid - 1)) &#123;            &#x2F;&#x2F; 前缀不等，缩小len            r &#x3D; mid - 1;        &#125;        else &#123;            &#x2F;&#x2F; 前缀相等，扩大len            l &#x3D; mid + 1;        &#125;    &#125;    return r; &#x2F;&#x2F; 返回最长公共前缀长度&#125;</code></pre><p>更进一步，比较下一个字符，就能比较这两个字符串的字典序，详见练习题</p><p><strong>练习eg</strong>：</p><p><a href="https://www.acwing.com/problem/content/142/">Acwing-140.后缀数组</a></p><hr /><h3 id="stdhashstdstring"><a class="markdownIt-Anchor" href="#stdhashstdstring"></a> <code>std::hash&lt;std::string&gt;</code></h3><p><code>std::hash&lt;std::string&gt;</code> 是 C++ 标准库中提供的一种哈希函数，用于将 <code>std::string</code> 类型的字符串映射为一个无符号整数，可以用于标准库的哈希容器（例如 <code>unordered_map</code>）中作为 key 的类型。</p><p>在实现上，<code>std::hash&lt;std::string&gt;</code> 采用了基于 Horner 算法的哈希算法，其基本思路是将字符串视为一个进制数，每次遍历字符串时，将前面已经计算出的结果乘以一个固定的质数（通常选取 31），然后加上当前字符的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>S</mi><mi>C</mi><mi>I</mi><mi>I</mi></mrow><annotation encoding="application/x-tex">ASCII</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span></span></span></span> 码值，最后得到的值就是字符串的哈希值，可以说<strong>其思想与字符串前缀哈希的思想是差不多的</strong>。<code>std::hash&lt;std::string&gt;</code> 的实现方式类似于下面的代码：</p><pre class="language-c++" data-language="c++"><code class="language-c++">std::size_t operator()(const std::string&amp; s) const &#123;    std::size_t hash &#x3D; 0;    for (char c : s) &#123;        hash &#x3D; hash * 31 + c;    &#125;    return hash;&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>链表操作</title>
    <link href="/2021/02/06/Algorithm/LeetCode/20220206-%E9%93%BE%E8%A1%A8%E6%93%8D%E4%BD%9C/"/>
    <url>/2021/02/06/Algorithm/LeetCode/20220206-%E9%93%BE%E8%A1%A8%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<p>这种用指针表示的数据结构一般在leetcode上才会刷到，板子简单，浅浅总结一下。</p><p>但是链表操作还是有一点思维在里面</p><h2 id="链表操作"><a class="markdownIt-Anchor" href="#链表操作"></a> 链表操作</h2><h3 id="单链表"><a class="markdownIt-Anchor" href="#单链表"></a> 单链表</h3><h4 id="反转链表"><a class="markdownIt-Anchor" href="#反转链表"></a> 反转链表</h4><h3 id="双向链表"><a class="markdownIt-Anchor" href="#双向链表"></a> 双向链表</h3>]]></content>
    
    
    <categories>
      
      <category>leetcode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x10基础数据结构-(5)-Hash</title>
    <link href="/2021/02/05/Algorithm/Template/20210205-0x10-%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(5)-Hash/"/>
    <url>/2021/02/05/Algorithm/Template/20210205-0x10-%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(5)-Hash/</url>
    
    <content type="html"><![CDATA[<blockquote><p>如果题目已知了要统计的数据的范围，并且不离散不太大，可以直接用数组统计，不用解决Hash冲突，更快</p></blockquote><p>Hash 还有这样的初始化方法，很优雅，像python的Counters</p><p><a href="https://leetcode.cn/problems/make-array-zero-by-subtracting-equal-amounts/">https://leetcode.cn/problems/make-array-zero-by-subtracting-equal-amounts/</a></p><pre class="language-c++" data-language="c++"><code class="language-c++">unordered_set s(nums.begin(), nums.end());</code></pre><h3 id="复合类型作为hash的key"><a class="markdownIt-Anchor" href="#复合类型作为hash的key"></a> 复合类型作为hash的Key</h3><p><code>std::pair</code> 是标准模板库（STL）中定义的模板类，用于组合两个元素。</p><p><code>std::tuple</code> 是标准模板库（STL）中定义的模板类，用于组合三个及以上元素。</p><p><code>struct</code>结构体或<code>class</code>类是用户自定义类型，可以由多个数据成员组成，每个成员可以是不同类型。</p><p>这些复合类型不能直接作为Hash Table的key来使用。</p><h3 id="pair"><a class="markdownIt-Anchor" href="#pair"></a> pair</h3><p><code>std::pair</code> 表示一个有序的、固定大小的、两个值的元组，每个值可以有不同的类型。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;unordered_map&gt;#include &lt;functional&gt;  &#x2F;&#x2F; std:hashstruct PairHash &#123;    template&lt;typename T1, typename T2&gt;    std::size_t operator()(const std::pair&lt;T1, T2&gt;&amp; pair) const &#123;        return std::hash&lt;T1&gt;&#123;&#125;(pair.first) ^                std::hash&lt;T2&gt;&#123;&#125;(pair.second);    &#125;&#125;;std::unordered_map&lt;std::pair&lt;int, int&gt;, double, PairHash&gt; myMap;</code></pre><h3 id="tuple"><a class="markdownIt-Anchor" href="#tuple"></a> tuple</h3><p><code>std::tuple</code> 表示一个有序的、固定大小的、多个值的元组，每个值可以有不同的类型。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;unordered_map&gt;#include &lt;functional&gt;  &#x2F;&#x2F; std:hashstruct TupleHash &#123;    template&lt;typename... T&gt;    std::size_t operator()(const std::tuple&lt;T...&gt;&amp; tup) const &#123;        return std::hash&lt;std::string&gt;&#123;&#125;(std::get&lt;0&gt;(tup)) ^               std::hash&lt;std::string&gt;&#123;&#125;(std::get&lt;1&gt;(tup)) ^               std::hash&lt;std::string&gt;&#123;&#125;(std::get&lt;2&gt;(tup));    &#125;&#125;;std::unordered_map&lt;std::tuple&lt;int, int, std::string&gt;, double, TupleHash&gt; myMap;</code></pre><h3 id="struct-class"><a class="markdownIt-Anchor" href="#struct-class"></a> struct / class</h3><p>结构体作为hash表的key，除了要像<code>std::pair</code>、<code>std:tuple</code>那样实现hash函数，还要实现相等性比较函数：</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;unordered_map&gt;#include &lt;functional&gt;  &#x2F;&#x2F; std:hashstruct Person &#123;    std::string name;    int age;    std::string address;&#125;;&#x2F;&#x2F; 组合哈希函数struct PersonHash &#123;    std::size_t operator()(const Person&amp; p) const &#123;        std::size_t nameHash &#x3D; std::hash&lt;std::string&gt;&#123;&#125;(p.name);        std::size_t ageHash &#x3D; std::hash&lt;int&gt;&#123;&#125;(p.age);        std::size_t addressHash &#x3D; std::hash&lt;std::string&gt;&#123;&#125;(p.address);        return nameHash ^ (ageHash &lt;&lt; 1) ^ (addressHash &lt;&lt; 2);    &#125;&#125;;&#x2F;&#x2F; 相等性比较函数struct PersonEqual &#123;    bool operator()(const Person&amp; p1, const Person&amp; p2) const &#123;        return p1.name &#x3D;&#x3D; p2.name &amp;&amp; p1.age &#x3D;&#x3D; p2.age &amp;&amp; p1.address &#x3D;&#x3D; p2.address;    &#125;&#125;;std::unordered_map&lt;Person, std::string, PersonHash, PersonEqual&gt; peopleMap;</code></pre><p>也可以用另一种函数：</p><pre class="language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; 旋转哈希函数struct PersonHash &#123;    std::size_t operator()(const Person&amp; p) const &#123;        std::size_t nameHash &#x3D; std::hash&lt;std::string&gt;&#123;&#125;(p.name);        std::size_t ageHash &#x3D; std::hash&lt;int&gt;&#123;&#125;(p.age);        std::size_t addressHash &#x3D; std::hash&lt;std::string&gt;&#123;&#125;(p.address);        const std::size_t rotateBits &#x3D; sizeof(std::size_t) &#x2F; 2; &#x2F;&#x2F; 旋转的位数，这里假设是std::size_t的一半        nameHash &#x3D; (nameHash &lt;&lt; rotateBits) | (nameHash &gt;&gt; (sizeof(nameHash) * 8 - rotateBits));        ageHash &#x3D; (ageHash &lt;&lt; rotateBits) | (ageHash &gt;&gt; (sizeof(ageHash) * 8 - rotateBits));        addressHash &#x3D; (addressHash &lt;&lt; rotateBits) | (addressHash &gt;&gt; (sizeof(addressHash) * 8 - rotateBits));        return nameHash ^ ageHash ^ addressHash;    &#125;&#125;;</code></pre>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x10基础数据结构-(4)-二叉堆</title>
    <link href="/2021/02/04/Algorithm/Template/20210204-0x10-%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(4)-%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/"/>
    <url>/2021/02/04/Algorithm/Template/20210204-0x10-%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(4)-%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/</url>
    
    <content type="html"><![CDATA[<h2 id="二叉堆"><a class="markdownIt-Anchor" href="#二叉堆"></a> 二叉堆</h2><p>二叉堆（优先队列），是一颗满足&quot;堆&quot;性质的完全二叉树</p><p>手动实现，主要靠up 和 down操作。</p><h3 id="大根堆"><a class="markdownIt-Anchor" href="#大根堆"></a> 大根堆</h3><p>类内重载<code>operator &lt;</code>，以实现<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>e</mi><mi>s</mi><mi>s</mi><mo>&lt;</mo><mi>T</mi><mo>&gt;</mo></mrow><annotation encoding="application/x-tex">less&lt;T&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span></span></span>函数</p><h3 id="小根堆"><a class="markdownIt-Anchor" href="#小根堆"></a> 小根堆</h3><p>类内重载<code>operator &gt;</code>，以实现<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>r</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>r</mi><mo>&lt;</mo><mi>T</mi><mo>&gt;</mo></mrow><annotation encoding="application/x-tex">greater&lt;T&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span></span></span>函数</p><pre class="language-c++" data-language="c++"><code class="language-c++"></code></pre><h3 id="应用对顶堆求动态中位数"><a class="markdownIt-Anchor" href="#应用对顶堆求动态中位数"></a> 应用：对顶堆求动态中位数</h3><p><a href="https://www.acwing.com/problem/content/108/">https://www.acwing.com/problem/content/108/</a></p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x10基础数据结构-(3)-队列</title>
    <link href="/2021/02/03/Algorithm/Template/20210203-0x10-%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(3)-%E9%98%9F%E5%88%97/"/>
    <url>/2021/02/03/Algorithm/Template/20210203-0x10-%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(3)-%E9%98%9F%E5%88%97/</url>
    
    <content type="html"><![CDATA[<h2 id="队列"><a class="markdownIt-Anchor" href="#队列"></a> 队列</h2><p>###普通队列queue</p><h3 id="模拟队列"><a class="markdownIt-Anchor" href="#模拟队列"></a> 模拟队列</h3><p>可以用<strong>一个数组+一个头指针+一个尾指针</strong>模拟队列：</p><pre class="language-c++" data-language="c++"><code class="language-c++">const int N &#x3D; 1e5 + 7;int que[N], hh, tt &#x3D; -1; &#x2F;&#x2F; hh &#x3D;&gt; head指针，指向队头; tt &#x3D;&gt; tail指针，指向队尾 &#x2F;&#x2F; 注意tt初始化为-1，ss与tt重合时也表示有元素que[++ tt] &#x3D; x;          &#x2F;&#x2F; pushhh ++;                   &#x2F;&#x2F; popque[hh];                 &#x2F;&#x2F; topif (tt &gt;&#x3D; hh)            &#x2F;&#x2F; not emptyelse                     &#x2F;&#x2F;empty</code></pre><p>###双端队列deque</p><h3 id="单调队列"><a class="markdownIt-Anchor" href="#单调队列"></a> 单调队列</h3><h4 id="滑动窗口最值"><a class="markdownIt-Anchor" href="#滑动窗口最值"></a> 滑动窗口最值</h4><p><a href="https://www.luogu.com.cn/problem/P1886">洛谷-P1886.滑动窗口</a></p><h4 id="子区间长度不超过-k-的最大子区间和"><a class="markdownIt-Anchor" href="#子区间长度不超过-k-的最大子区间和"></a> 子区间长度不超过 k 的最大子区间和</h4><p>(<a href="https://www.acwing.com/problem/content/137/">https://www.acwing.com/problem/content/137/</a>)</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;deque&gt;#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;const int N &#x3D; 3e5 + 7;const int INF &#x3D; 0x3f3f3f3f;int n, m;vector&lt;int&gt; arr(N, 0);vector&lt;LL&gt; sum(N, 0);int main() &#123;    cin &gt;&gt; n &gt;&gt; m;        for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        scanf(&quot;%d&quot;, &amp;arr[i]);    &#125;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        sum[i] &#x3D; sum[i - 1] + arr[i];    &#125;        LL res &#x3D; -INF;    deque&lt;int&gt; Q;    Q.push_back(0); &#x2F;&#x2F; 插入sum[0]    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        while (!Q.empty() &amp;&amp; i - Q.front() + 1 &gt; m + 1) &#123;            Q.pop_front();        &#125;                res &#x3D; max(res, sum[i] - sum[Q.front()]);                while(!Q.empty() &amp;&amp; sum[Q.back()] &gt;&#x3D; sum[i]) &#123;            Q.pop_back();        &#125;        Q.push_back(i);    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><p><a href="https://www.luogu.com.cn/problem/P2627">luogu-[USACO11OPEN].Mowing the Lawn</a></p><p>这道题和上面那道最大K子序和非常像</p><p>子数组和至少为 k 的最短非空子数组长度</p><p><a href="https://leetcode-cn.com/problems/shortest-subarray-with-sum-at-least-k/">https://leetcode-cn.com/problems/shortest-subarray-with-sum-at-least-k/</a></p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x10基础数据结构-(2)-栈</title>
    <link href="/2021/02/02/Algorithm/Template/20210202-0x10-%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(2)-%E6%A0%88/"/>
    <url>/2021/02/02/Algorithm/Template/20210202-0x10-%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(2)-%E6%A0%88/</url>
    
    <content type="html"><![CDATA[<h2 id="栈"><a class="markdownIt-Anchor" href="#栈"></a> 栈</h2><h3 id="模拟栈"><a class="markdownIt-Anchor" href="#模拟栈"></a> 模拟栈</h3><p>可以用<strong>一个定长数组+一个栈顶指针</strong>来模拟栈：</p><pre class="language-c++" data-language="c++"><code class="language-c++">const int N &#x3D; 1e5 + 7;int stk[N], tt &#x3D; -1; &#x2F;&#x2F; tt &#x3D;&gt; top指针，指向栈顶stk[++ tt] &#x3D; x;      &#x2F;&#x2F; pushtt --;               &#x2F;&#x2F; popstk[tt];             &#x2F;&#x2F; topif(tt &gt;&#x3D; 0)          &#x2F;&#x2F; not emptyelse                 &#x2F;&#x2F; empty</code></pre><p><a href="https://leetcode-cn.com/problems/mini-parser/">385. 迷你语法分析器</a></p><h3 id="单调栈"><a class="markdownIt-Anchor" href="#单调栈"></a> 单调栈</h3><p>单调栈即满足单调性的栈结构，单调栈主要用于在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>内解决<strong>NGE问题</strong>（Next Greater Element）。</p><blockquote><p><strong>NGE问题</strong>：对于序列中的每个元素，找到下一个(或上一个)比当前元素大(或小)的元素。</p></blockquote><p>逆向遍历时，单调栈中存的是有可能成为前一个元素右边界的元素</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;stack&gt;#include &lt;iostream&gt;using namespace std;vector&lt;int&gt; arr;int n;int main() &#123;    cin &gt;&gt; n;    arr.resize(n + 1);    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        scanf(&quot;%d&quot;, &amp;arr[i]);    &#125;        vector&lt;int&gt; f(n + 1);    stack&lt;int&gt; S;    for (int i &#x3D; n; i &gt;&#x3D; 1; i --) &#123;        while (!S.empty() &amp;&amp; arr[S.top()] &lt;&#x3D; arr[i]) &#123;            S.pop(); &#x2F;&#x2F; 弹出栈顶比当前数小的        &#125;        &#x2F;&#x2F; 说明当前arr[S.top()] &gt; arr[i]        f[i] &#x3D; S.empty() ? 0 : S.top();        S.push(i);    &#125;        for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        printf(&quot;%d &quot;, f[i]);    &#125;        return 0;&#125;</code></pre><p>正向遍历时，栈中存的是还未找到右边界的元素</p><p>解决的暴力问题</p><p>变种？</p><p>有关单调栈的题目很灵活：单调栈的构造是固定模板，但实际问题的处理逻辑确是千变万化的，需要清晰的思维。</p><p>你要想清楚以下三个问题，才能掌握好单调栈：</p><ul><li>为什么能用单调栈？(是否需要构造单峰<code>/\</code> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>o</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">or</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span> 单谷<code>\/</code>)</li><li>单调性是否需要严格？</li><li>实际问题的逻辑该怎么处理？</li></ul><h4 id="接雨水"><a class="markdownIt-Anchor" href="#接雨水"></a> 接雨水</h4><p><a href="https://www.acwing.com/problem/content/1576/">Acwing-1574.接雨水</a></p><p>根据题意可知，需要构造一个单谷<code>\/</code>（中间低两边高)才能接到雨水，因此可以构造一个<strong>严格单调递减</strong>的单调栈来完成这个操作，并且对于当前的每个谷底<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>u</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">cur</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>，其能接到的雨水面积<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mrow><mi>a</mi><mi>r</mi><mi>e</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">S_{area}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mrow><mi>a</mi><mi>r</mi><mi>e</mi><mi>a</mi></mrow></msub><mo>=</mo><mi>w</mi><mo>∗</mo><mi>h</mi><mo>=</mo><mo stretchy="false">(</mo><mi>r</mi><mo>−</mo><mi>l</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>h</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy="false">[</mo><mi>l</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>h</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy="false">[</mo><mi>r</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo>−</mo><mi>h</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy="false">[</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">S_{area} = w * h = (r - l - 1) * (min(height[l], height[r]) - height[cur])</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">h</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">h</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">h</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">h</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">c</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span><span class="mclose">)</span></span></span></span></span></p><p>如果没有形成单谷<code>\/</code>，无法接到雨水，那么遍历完后留在单调栈中的数不弹出来也行，对计算结果无影响。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;stack&gt;#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;int n;vector&lt;int&gt; height;stack&lt;int&gt; S;int main() &#123;    cin &gt;&gt; n;    height.resize(n);    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        scanf(&quot;%d&quot;, &amp;height[i]);    &#125;    int res &#x3D; 0;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        while (!S.empty() &amp;&amp; height[S.top()] &lt;&#x3D; height[i]) &#123;            int cur &#x3D; S.top();            S.pop();            if (S.empty()) break;   &#x2F;&#x2F; 左侧不存在，无法构成单谷            int r &#x3D; i;            int l &#x3D; S.top();             res +&#x3D; (r - l - 1) * (min(height[r], height[l]) - height[cur]);        &#125;        S.push(i);    &#125;    cout &lt;&lt; res &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="直方图中的最大矩形"><a class="markdownIt-Anchor" href="#直方图中的最大矩形"></a> 直方图中的最大矩形</h4><p><a href="https://www.acwing.com/problem/content/133/">Acwing-131.直方图中的最大矩形</a></p><p>根据题意，需要构造一个单峰<code>/\</code>（中间高两边低）才能计算出<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>u</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">cur</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>矩形的最大面积，因此可以构造一个<strong>严格单调递增</strong>的单调栈来完成这个操作，并且对于当前的每个谷峰<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>u</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">cur</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>，其能形成的最大矩形面积<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mrow><mi>a</mi><mi>r</mi><mi>e</mi><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">S_{area}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mrow><mi>a</mi><mi>r</mi><mi>e</mi><mi>a</mi></mrow></msub><mo>=</mo><mi>w</mi><mo>∗</mo><mi>h</mi><mo>=</mo><mo stretchy="false">(</mo><mi>r</mi><mo>−</mo><mi>l</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>∗</mo><mi>h</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy="false">[</mo><mi>c</mi><mi>u</mi><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">S_{area} = w * h = (r - l - 1) * height[cur]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">h</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">h</span><span class="mord mathdefault">t</span><span class="mopen">[</span><span class="mord mathdefault">c</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span></span></p><p>如果没有形成单峰&quot;<code>/\</code>，其实当前单个上升区间<code>/</code>也能计算矩形面积，那么就有必要把遍历完后留在单调栈中的数全部弹出来算一次，但这样会导致代码冗余（逻辑重复），因此可以添加一个尾部哨兵来统一操作。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;stack&gt;#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;vector&lt;int&gt; height;stack&lt;int&gt; S;int main() &#123;    int n;    while (scanf(&quot;%d&quot;, &amp;n), n) &#123;        height.resize(n);                for (int i &#x3D; 0; i &lt; n; i ++) &#123;            scanf(&quot;%d&quot;, &amp;height[i]);        &#125;                height.push_back(0);       &#x2F;&#x2F; 尾部哨兵        n &#x3D; height.size();        LL res &#x3D; 0;        S &#x3D; stack&lt;int&gt;();        for (int i &#x3D; 0; i &lt; n; i ++) &#123;            while (!S.empty() &amp;&amp; height[S.top()] &gt;&#x3D; height[i]) &#123;                int cur &#x3D; S.top();                S.pop();                int r &#x3D; i;                  int l &#x3D; S.empty() ? -1 : S.top();                res &#x3D; max(res, (r - l - 1) * (LL)height[cur]);            &#125;            S.push(i);        &#125;               &#x2F;&#x2F; 如果没有尾部哨兵，需要添加以下代码，计算留在单调栈中的上升区间        &#x2F;&#x2F; while (!S.empty()) &#123;        &#x2F;&#x2F;     int cur &#x3D; S.top();        &#x2F;&#x2F;     S.pop();        &#x2F;&#x2F;     int r &#x3D; n;          &#x2F;&#x2F;     int l &#x3D; S.empty() ? -1 : S.top();                   &#x2F;&#x2F;     res &#x3D; max(res, (r - l - 1) * (LL)height[cur]);        &#x2F;&#x2F; &#125;                cout &lt;&lt; res &lt;&lt; endl;    &#125;        return 0;&#125;</code></pre><blockquote><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">⌈</mo><mi mathvariant="normal">接</mi><mi mathvariant="normal">雨</mi><mi mathvariant="normal">水</mi><mo fence="true">⌋</mo></mrow><annotation encoding="application/x-tex">\left \lceil 接雨水  \right \rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">⌈</span><span class="mord cjk_fallback">接</span><span class="mord cjk_fallback">雨</span><span class="mord cjk_fallback">水</span><span class="mclose delimcenter" style="top:0em;">⌋</span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">⌈</mo><mi mathvariant="normal">直</mi><mi mathvariant="normal">方</mi><mi mathvariant="normal">图</mi><mi mathvariant="normal">中</mi><mi mathvariant="normal">的</mi><mi mathvariant="normal">最</mi><mi mathvariant="normal">大</mi><mi mathvariant="normal">矩</mi><mi mathvariant="normal">形</mi><mo fence="true">⌋</mo></mrow><annotation encoding="application/x-tex">\left \lceil直方图中的最大矩形\right \rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">⌈</span><span class="mord cjk_fallback">直</span><span class="mord cjk_fallback">方</span><span class="mord cjk_fallback">图</span><span class="mord cjk_fallback">中</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">最</span><span class="mord cjk_fallback">大</span><span class="mord cjk_fallback">矩</span><span class="mord cjk_fallback">形</span><span class="mclose delimcenter" style="top:0em;">⌋</span></span></span></span></span>这两道题很相似，宽度都是用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mo>−</mo><mi>l</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">r - l - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>来求。</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x10基础数据结构-(1)-链表</title>
    <link href="/2021/02/01/Algorithm/Template/20210201-0x10-%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(1)-%E9%93%BE%E8%A1%A8/"/>
    <url>/2021/02/01/Algorithm/Template/20210201-0x10-%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-(1)-%E9%93%BE%E8%A1%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="链表"><a class="markdownIt-Anchor" href="#链表"></a> 链表</h2><p>这个在leetcode上刷的链表形式，可以分离到leetcode那边</p><h3 id="leetcode上的链表"><a class="markdownIt-Anchor" href="#leetcode上的链表"></a> LeetCode上的链表</h3><p>这种专门考动态链表本身的操作基本上只出现在工作面试和leetcode比赛中，一般在其它比赛中不太常见。</p><h4 id="链表定义"><a class="markdownIt-Anchor" href="#链表定义"></a> 链表定义</h4><pre class="language-c" data-language="c"><code class="language-c">struct ListNode &#123;    int val;    ListNode *next;    ListNode() : val(0), next(nullptr) &#123;&#125;    ListNode(int x) : val(x), next(nullptr) &#123;&#125;    ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;&#125;;</code></pre><p>主要要熟练掌握链表的<strong>递归</strong>和<strong>迭代</strong>操作。</p><h4 id="反转链表"><a class="markdownIt-Anchor" href="#反转链表"></a> 反转链表</h4><p><a href="https://leetcode.cn/problems/reverse-linked-list/">反转链表I</a></p><pre class="language-c" data-language="c"><code class="language-c">class Solution &#123;public:    ListNode* reverseList(ListNode* head) &#123;        ListNode* pre &#x3D; NULL;        ListNode* cur &#x3D; head;                while (cur !&#x3D; NULL) &#123;            ListNode* nxt &#x3D; cur-&gt;next;            cur-&gt;next &#x3D; pre;            pre &#x3D; cur;            cur &#x3D; nxt;        &#125;        return pre;    &#125;&#125;;</code></pre><p><a href="https://leetcode.cn/problems/reverse-linked-list-ii/">反转链表II</a></p><pre class="language-c" data-language="c"><code class="language-c">class Solution &#123;public:    ListNode* reverseBetween(ListNode* head, int left, int right) &#123;        ListNode* dummy_head &#x3D; new ListNode(-1, head);        ListNode* p &#x3D; dummy_head;        int i &#x3D; 1;        while (i &lt; left) &#123;            p &#x3D; p-&gt;next;            i ++;        &#125;        ListNode* pre &#x3D; p;        ListNode* cur &#x3D; p-&gt;next;        while (left &lt;&#x3D; i &amp;&amp; i &lt;&#x3D; right) &#123;            ListNode* nxt &#x3D; cur-&gt;next;            cur-&gt;next &#x3D; pre;            pre &#x3D; cur;            cur &#x3D; nxt;            i ++;        &#125;                p-&gt;next-&gt;next &#x3D; cur;        p-&gt;next &#x3D; pre;        return dummy_head-&gt;next;    &#125;&#125;;</code></pre><p>邻接表主要应用于</p><ol><li>树与图的存储</li><li>hash表的拉链法存储</li></ol><h3 id="单链表"><a class="markdownIt-Anchor" href="#单链表"></a> 单链表</h3><h3 id="双向链表"><a class="markdownIt-Anchor" href="#双向链表"></a> 双向链表</h3><p>很牛逼</p><p>[<a href="https://www.acwing.com/activity/content/code/content/5818478/">https://www.acwing.com/activity/content/code/content/5818478/</a>]</p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x00-基础算法-(6)-贪心</title>
    <link href="/2021/01/06/Algorithm/Template/20210106-0x00-%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95-(6)-%E8%B4%AA%E5%BF%83/"/>
    <url>/2021/01/06/Algorithm/Template/20210106-0x00-%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95-(6)-%E8%B4%AA%E5%BF%83/</url>
    
    <content type="html"><![CDATA[<h2 id="贪心"><a class="markdownIt-Anchor" href="#贪心"></a> 贪心</h2><p>贪心算法（greedy algorithm），是用计算机来模拟一个「贪心」的人做出决策的过程。这个人十分贪婪，每一步行动总是按某种指标选取最优的操作。而且他目光短浅，总是只看眼前，并不考虑以后可能造成的影响。</p><p>可想而知，并不是任何时候贪心法都能获得最优解，所以一般使用贪心法的时候，都要确保自己能证明其正确性（通常用反证法或数学归纳法证明）。</p><blockquote><p>贪心类问题无疑是基础算法中难度最大的，难点在于思维的跳跃性，没有固定的解题模式，往往是一类题一种解法或结论。</p></blockquote><p>总而言之：贪心是指每次找局部最优解，就可以找到全局最优解，所以贪心一般要求函数是单峰的。动态规划的限制会少一些，一般是枚举了空间中的所有值，找出了最优解。这两个算法一般是从经验出发来判断，所以要多做题。</p><p>下面介绍一些常见的贪心问题以及其对应的启发式策略。</p><h3 id="区间问题"><a class="markdownIt-Anchor" href="#区间问题"></a> 区间问题</h3><p>区间问题最重要的其实不是选择按左端点还是右端点排序【因为按左端点排序和按右端点排序的解法可以相互转换】，而是排序后，应该优先考虑包含区间还是被包含区间，这才是本质问题。</p><blockquote><ul><li><p>最少覆盖区间点数和最大不相交区间数，要优先考虑被包含区间</p></li><li><p>区间合并、区间分组、区间覆盖，要优先考虑包含区间</p></li></ul></blockquote><h4 id="最少覆盖区间点数"><a class="markdownIt-Anchor" href="#最少覆盖区间点数"></a> 最少覆盖区间点数</h4><p>数轴上有若干区间，在数轴上选点，使得每个区间内至少包含一个点，求选择的点的最小数量。</p><blockquote><p>贪心策略：</p><p>Step1: 区间按左端点从小到大排序</p><p>Step2: 按倒序依次枚举每个区间：<br />如果当前区间已经包含该点，则直接continue；<br />否则，选择当前区间左端点</p></blockquote><p><a href="https://www.acwing.com/problem/content/907/">AcWing-905.区间选点</a></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef pair&lt;int, int&gt; PII;const int INF &#x3D; 0x3f3f3f3f;int n;vector&lt;PII&gt; segs;int main() &#123;    cin &gt;&gt; n;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        int l, r;        scanf(&quot;%d %d&quot;, &amp;l, &amp;r);        segs.push_back(&#123;l, r&#125;);    &#125;        &#x2F;&#x2F; step1: 按左端点排序    sort(segs.begin(), segs.end());        int res &#x3D; 0;    int st &#x3D; INF;    &#x2F;&#x2F; step2: 倒序枚举    for (int i &#x3D; n - 1; i &gt;&#x3D; 0; i --) &#123;        &#x2F;&#x2F; 无交集        if (segs[i].second &lt; st) &#123;            res ++;            st &#x3D; segs[i].first;        &#125;    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="最大不相交区间数"><a class="markdownIt-Anchor" href="#最大不相交区间数"></a> 最大不相交区间数</h4><p>数轴上有若干区间，选择其中尽可能多的区间，使得选中的区间之间互不相交。</p><blockquote><p>贪心策略：</p><p>Step1: 区间按左端点从小到大排序</p><p>Step2: 按倒序依次枚举每个区间：<br />如果两个区间相交，则直接continue；<br />否则，选择当前区间(res ++)，并把比较区间更新为当前区间</p></blockquote><p><a href="https://www.acwing.com/problem/content/910/">AcWing-908.最大不相交区间数量</a></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef pair&lt;int, int&gt; PII;const int INF &#x3D; 0x3f3f3f3f;int n;vector&lt;PII&gt; segs;int main() &#123;    cin &gt;&gt; n;    for (int i &#x3D; 0; i &lt; n; i ++)  &#123;        int l, r;        scanf(&quot;%d %d&quot;, &amp;l, &amp;r);        segs.push_back(&#123;l, r&#125;);    &#125;    &#x2F;&#x2F; step1: 按左端点排序    sort(segs.begin(), segs.end());        int res &#x3D; 0;    int st &#x3D; INF;    &#x2F;&#x2F; step2: 倒序枚举    for (int i &#x3D; n - 1; i &gt;&#x3D; 0; i --) &#123;        &#x2F;&#x2F; 无交集        if (segs[i].second &lt; st) &#123;            res ++;            st &#x3D; segs[i].first;        &#125;    &#125;    cout &lt;&lt; res &lt;&lt; endl;    return 0;&#125;</code></pre><blockquote><p>综上，可得结论：<strong>最少覆盖区间点数 == 最大不相交区间数</strong></p><p>因为如果几个区间能被同一个点覆盖 ，说明它们相交了，所以有几个点就是有几个不相交区间</p></blockquote><hr /><h4 id="区间合并"><a class="markdownIt-Anchor" href="#区间合并"></a> 区间合并</h4><p>数轴上有若干区间，要求合并所有有交集的区间，求合并后的区间个数。</p><blockquote><p>贪心策略：</p><p>Step1: 区间按左端点从小到大排序</p><p>Step2: 按顺序依次枚举区间：<br />如果当前区间与上一个区间没有交集，则把上一个区间放入合并数组内，当前区间更新为上一个区间;<br />否则，把当前区间与上一个区间合并，更新上一个区间的右端点的最大值</p></blockquote><p><a href="https://www.acwing.com/problem/content/805/">AcWing-803.区间合并</a></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef pair&lt;int, int&gt; PII;const int INF &#x3D; 0x3f3f3f3f;int n;vector&lt;PII&gt; segs;void merge(vector&lt;PII&gt; &amp;segs) &#123;    vector&lt;PII&gt; res;        &#x2F;&#x2F; step1: 按左端点对区间排序    sort(segs.begin(), segs.end());        &#x2F;&#x2F; step2: 按顺序依次枚举区间    int st &#x3D; -INF, ed &#x3D; -INF;    for (int i &#x3D; 0; i &lt; segs.size(); i ++) &#123;        &#x2F;&#x2F; 无交集        if (ed &lt; segs[i].first) &#123;            if(st !&#x3D; -INF) res.push_back(&#123;st, ed&#125;);            st &#x3D; segs[i].first, ed &#x3D; segs[i].second;        &#125;        &#x2F;&#x2F; 有交集        else ed &#x3D; max(ed, segs[i].second);    &#125;    if(st !&#x3D; -INF) res.push_back(&#123;st, ed&#125;);    segs &#x3D; res;&#125;int main() &#123;    cin &gt;&gt; n;        for (int i &#x3D; 0; i &lt; n; i ++) &#123;        int l, r;        scanf(&quot;%d %d&quot;, &amp;l, &amp;r);        segs.push_back(&#123;l, r&#125;);    &#125;        merge(segs);        cout &lt;&lt; segs.size() &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="区间分组"><a class="markdownIt-Anchor" href="#区间分组"></a> 区间分组</h4><p>数轴上有若干区间，给这些区间分组，使得每组内的区间互不相交，求最小分组数量。</p><blockquote><p>贪心策略：</p><p>Step1: 区间按左端点从小到大排序</p><p>Step2: 用一个小根堆维护当前分组(<code>pair&lt;右端点, 分组id&gt;</code>)，按顺序依次枚举每个区间:<br />每次取出堆顶的组，如果组内区间与当前区间无交集，则让当前区间加入该组，并更新区间右端点;<br />否则，以当前区间右端点新建一个分组，加入到小根堆中</p></blockquote><p><a href="https://www.acwing.com/problem/content/908/">AcWing-906.区间分组</a></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;queue&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef pair&lt;int, int&gt; PII;vector&lt;PII&gt; seg;int n;int main() &#123;    cin &gt;&gt; n;    seg.resize(n);    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        scanf(&quot;%d %d&quot;, &amp;seg[i].first, &amp;seg[i].second);    &#125;    sort(seg.begin(), seg.end());    priority_queue&lt;PII, vector&lt;PII&gt;, greater&lt;PII&gt;&gt; pq;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        &#x2F;&#x2F; 组数不为空，并且组内区间与当前区间无交集        if (!pq.empty() &amp;&amp; pq.top().first &lt; seg[i].first) &#123;            auto t &#x3D; pq.top(); pq.pop();            t.first &#x3D; seg[i].second;            pq.push(t);        &#125;        &#x2F;&#x2F; 有交集        else &#123;            pq.push(&#123;seg[i].second, pq.size() + 1&#125;);        &#125;    &#125;    cout &lt;&lt; pq.size() &lt;&lt; endl;    return 0;&#125;</code></pre><p>区间分组也是最大区间厚度(最多区间重叠部分)，这里有一种<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>的解法:</p><p>思路：我们可以把所有开始时间和结束时间排序，遇到开始时间就把需要的教室加1，遇到结束时间就把需要的教室减1,在一系列需要的教室个数变化的过程中，峰值就是多同时进行的活动数，也是我们至少需要的教室数。</p><p>参考题解：<a href="https://www.acwing.com/solution/content/8902/">https://www.acwing.com/solution/content/8902/</a></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;const int N &#x3D; 100100;int n;int b[2 * N], idx;int main() &#123;    scanf (&quot;%d&quot;, &amp;n);    for(int i &#x3D; 0; i &lt; n; i ++) &#123;        int l, r;        scanf(&quot;%d %d&quot;, &amp;l, &amp;r);        b[idx ++] &#x3D; l * 2;&#x2F;&#x2F;标记左端点为偶数。        b[idx ++] &#x3D; r * 2 + 1;&#x2F;&#x2F; 标记右端点为奇数。    &#125;    sort(b, b + idx);    int res &#x3D; 1, t &#x3D; 0;    for(int i &#x3D; 0; i &lt; idx; i ++) &#123;        if(b[i] % 2 &#x3D;&#x3D; 0) t ++;        else t --;        res &#x3D; max(res, t);    &#125;    printf (&quot;%d\n&quot;, res);    return 0;&#125;</code></pre><h4 id="区间覆盖"><a class="markdownIt-Anchor" href="#区间覆盖"></a> 区间覆盖</h4><p>数轴上有若干区间，选择其中尽可能少的区间，覆盖一个题给指定线段。</p><blockquote><p>贪心策略：</p><p>Step1: 区间按左端点从小到大排序, 初始赋值 <code>st = tar.first, ed = tar.second</code></p><p>Step2: 按顺序依次枚举区间:<br />首先在这些segs中挑出满足左端点 &lt;=  st的线段，<br />然后在这些线段中 ，选择second最大的那个作为覆盖区间，并把st更新为该区间的second<br />重复Step2，直到<code>r &gt;= ed</code></p><p>首先在这些segs中挑出满足左端点 &lt;=  st的线段，</p><p>注意，会有无解情况，因此需要设置flag来判断:<br />① 找不到满足first &lt;=  st的线段，或者这些区间全与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mi>s</mi><mi>t</mi><mo separator="true">,</mo><mi>e</mi><mi>d</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[st,ed]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span><span class="mclose">]</span></span></span></span>不相交(<code>r &lt; st</code>)<br />② 遍历完整个区间后r仍然 &lt; ed</p></blockquote><p><a href="https://www.acwing.com/problem/content/909/">AcWing-907.区间覆盖</a></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef pair&lt;int, int&gt; PII;const int INF &#x3D; 0x3f3f3f3f;int n;PII tar;vector&lt;PII&gt; segs;int main() &#123;    cin &gt;&gt; tar.first &gt;&gt; tar.second;    cin &gt;&gt; n;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        int l, r;        scanf(&quot;%d %d&quot;, &amp;l, &amp;r);        segs.push_back(&#123;l, r&#125;);    &#125;    sort(segs.begin(), segs.end());    int res &#x3D; 0;    bool flag &#x3D; false;    int st &#x3D; tar.first, ed &#x3D; tar.second;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        int j &#x3D; i, r &#x3D; -INF;        while  (j &lt; n &amp;&amp; segs[j].first &lt;&#x3D; st) &#123;            r &#x3D; max(r, segs[j].second);            j ++;        &#125;        if (r &lt; st) &#123;            res &#x3D; -1;            break;        &#125;        res ++;        if (r &gt;&#x3D; ed)  &#123;            flag &#x3D; true;            break;        &#125;        st  &#x3D; r;        i &#x3D; j - 1;    &#125;    if (!flag) res &#x3D; -1;    cout &lt;&lt; res &lt;&lt; endl;    return 0;&#125;</code></pre><h3 id="其它经典贪心"><a class="markdownIt-Anchor" href="#其它经典贪心"></a> 其它经典贪心</h3><h4 id="合并果子"><a class="markdownIt-Anchor" href="#合并果子"></a> 合并果子</h4><p>有n堆果子，需要两两合并，经过n-1次合并成 1堆果子 ，求合并最少需要花费的体力。[把两堆果子合并到一起，消耗的体力等于两堆果子的重量之和]</p><blockquote><p><strong>贪心策略</strong></p><p>每次选择最小重量的两堆进行合并，即为最小花费体力。</p><p><strong>ps</strong>:整个合并过程就是一个二叉树，每个结点的<strong>贡献次数</strong>就是结点到根结点的距离。</p></blockquote><p><a href="https://www.acwing.com/problem/content/150/">AcWing-148.合并果子</a></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;queue&gt;#include &lt;iostream&gt;using namespace std;int n;int main() &#123;    cin &gt;&gt; n;    priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt;&gt; pq;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        int x;        scanf(&quot;%d&quot;, &amp;x);        pq.push(x);    &#125;        long long res &#x3D; 0;    while(pq.size() !&#x3D; 1) &#123;        int t1 &#x3D; pq.top(); pq.pop();        int t2 &#x3D; pq.top(); pq.pop();                int t &#x3D; t1 + t2;        res +&#x3D; t;        pq.push(t);    &#125;        cout &lt;&lt; res &lt;&lt; endl;    return 0;&#125;</code></pre><h4 id="排队打水"><a class="markdownIt-Anchor" href="#排队打水"></a> 排队打水</h4><p>有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 个人排队到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 个水龙头处打水，第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 个人装满水桶所需的时间是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>t</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">t_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，请问如何安排他们的打水顺序才能使所有人的等待时间之和最小？</p><blockquote><p><strong>贪心策略</strong></p><p>由<code>i</code>的任意性，打水的时间总和为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>t</mi><msub><mi>i</mi><mn>1</mn></msub></msub><mo>∗</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><msub><mi>t</mi><msub><mi>i</mi><mn>2</mn></msub></msub><mo>∗</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>2</mn><mo stretchy="false">)</mo><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>t</mi><msub><mi>i</mi><mi>n</mi></msub></msub><mo>∗</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{t_{i_1}*(n-1) + t_{i_2}*(n-2) + ...t_{i_n}*(n-n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，也就是<strong>前缀和之和</strong></p><p>要想让前缀和之和最小，显然从小到大排序即可</p></blockquote><p><a href="https://www.acwing.com/problem/content/915/">AcWing-913.排队打水</a></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;const int N &#x3D; 1e5 + 7;int n;int arr[N];LL sum[N];int main() &#123;    cin &gt;&gt; n;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        scanf(&quot;%d&quot;, &amp;arr[i]);    &#125;        sort(arr + 1, arr + n + 1);        sum[0] &#x3D; 0;    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;        sum[i] &#x3D; sum[i - 1] + arr[i];    &#125;        LL res &#x3D; 0;    &#x2F;&#x2F; 最后一个人的时间不用等    for (int i &#x3D; 1; i &lt; n; i ++) &#123;        res +&#x3D; sum[i];    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="货仓选址"><a class="markdownIt-Anchor" href="#货仓选址"></a> 货仓选址</h4><blockquote><p><strong>贪心策略</strong></p><p>显然，如果要使得<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mrow><mo fence="true">∣</mo><msub><mi>A</mi><mi>i</mi></msub><mo>−</mo><msub><mi>A</mi><mi>k</mi></msub><mo fence="true">∣</mo></mrow></mrow><annotation encoding="application/x-tex">\sum_{i=1}^n\left|A_i-A_k\right|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.104002em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">∣</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">∣</span></span></span></span></span>最小，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">∣</mo><msub><mi>A</mi><mi>i</mi></msub><mo>−</mo><msub><mi>A</mi><mi>k</mi></msub><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">{\left|A_i-A_k\right|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">∣</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">∣</span></span></span></span></span></span>的几何意义是数轴上两点之间的距离。<br />那么可以分情况讨论：</p><ul><li>当n是奇数，显然<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">A_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>取排序后的<strong>中位数</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mfrac><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mn>2</mn></mfrac></msub></mrow><annotation encoding="application/x-tex">A_{\frac{n + 1}{2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.17035em;vertical-align:-0.48701999999999995em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.7537800000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443142857142857em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.48701999999999995em;"><span></span></span></span></span></span></span></span></span></span>是最优解</li><li>当n是偶数，显然<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>A</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">A_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>取排序后的区间<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><msub><mi>A</mi><mfrac><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mn>2</mn></mfrac></msub><mo separator="true">,</mo><msub><mi>A</mi><mfrac><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mn>2</mn></mfrac></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[A_{\frac{n + 1}{2}},A_{\frac{n + 1}{2}}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.23702em;vertical-align:-0.48701999999999995em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.7537800000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443142857142857em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.48701999999999995em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.7537800000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443142857142857em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.48701999999999995em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>内任意一点都是最优解，不妨取<strong>中位数</strong></li></ul></blockquote><p><a href="https://www.acwing.com/problem/content/106/">AcWing-104.货仓选址</a></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef long long LL;int n;vector&lt;int&gt; a;int main() &#123;    cin &gt;&gt; n;    a.resize(n);    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        scanf(&quot;%d&quot;, &amp;a[i]);    &#125;        sort(a.begin(), a.end());        LL res &#x3D; 0;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        res +&#x3D; abs(a[i] - a[n &#x2F; 2]);    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><p><strong>练习eg</strong>:</p><p><a href="/2023/02/04/Algorithm/Comp/20230204-算法竞赛进阶指南-035-糖果传递/" target="_blank">Acwing-122.糖果传递</a></p><h4 id="耍杂技的牛国王游戏"><a class="markdownIt-Anchor" href="#耍杂技的牛国王游戏"></a> 耍杂技的牛/国王游戏</h4><blockquote><p><strong>贪心策略</strong></p><p>按照<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub><mo>+</mo><msub><mi>s</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">{w_{i} +  s_{i}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>从小到大的顺序，来从高往低叠罗汉</p></blockquote><p><a href="https://www.acwing.com/problem/content/127/">Acwing-125.耍杂技的牛</a></p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;typedef pair&lt;int, int&gt; PII;const int INF &#x3D; 0x3f3f3f3f;int n;vector&lt;PII&gt; cows;int main() &#123;    cin &gt;&gt; n;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        int w, s;        scanf(&quot;%d %d&quot;, &amp;w, &amp;s);        cows.push_back(&#123;w, s&#125;);    &#125;        sort(cows.begin(),cows.end(), [&amp;](const PII&amp;a,  const PII&amp; b) -&gt; bool&#123;       return a.first + a.second &lt; b.first + b.second;    &#125;);        int res &#x3D; -INF, sum &#x3D; 0;    for (int i &#x3D; 0; i &lt; n; i ++) &#123;        res &#x3D; max(res, sum - cows[i].second);        sum +&#x3D; cows[i].first;    &#125;        cout &lt;&lt; res &lt;&lt; endl;        return 0;&#125;</code></pre><p><strong>练习eg</strong>:</p><p><a href="https://www.acwing.com/problem/content/116/">Acwing-114.国王游戏</a></p><h4 id="else"><a class="markdownIt-Anchor" href="#else"></a> Else</h4><ul><li>一个序列中任意两个值绝对值之差的最小值，就是把该序列排序后，相邻元素之差的最小值</li></ul>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x00-基础算法-(5)-前缀和&amp;差分</title>
    <link href="/2021/01/05/Algorithm/Template/20210105-0x00-%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95-(5)-%E5%89%8D%E7%BC%80%E5%92%8C&amp;%E5%B7%AE%E5%88%86/"/>
    <url>/2021/01/05/Algorithm/Template/20210105-0x00-%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95-(5)-%E5%89%8D%E7%BC%80%E5%92%8C&amp;%E5%B7%AE%E5%88%86/</url>
    
    <content type="html"><![CDATA[<h2 id="前缀和"><a class="markdownIt-Anchor" href="#前缀和"></a> 前缀和</h2><p>前缀和主要起优化作用，只要花费<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>的预处理，它可以在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>内求出原数组某段的子数组和。</p><blockquote><p><strong>当你要多次求原数组中某一段子数组和，就可以考虑用前缀和优化</strong></p></blockquote><h3 id="一维前缀和"><a class="markdownIt-Anchor" href="#一维前缀和"></a> 一维前缀和</h3><p><strong>定义</strong></p><p>原数组: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>3</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{a_1 , a_2, a_3, ... ,a_n \}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></p><p>前缀和数组: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><msub><mi>S</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>S</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>S</mi><mn>3</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>S</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{S_1 , S_2, S_3, ... ,S_n \}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub><mo>=</mo><msub><mi>a</mi><mn>1</mn></msub><mo>+</mo><msub><mi>a</mi><mn>2</mn></msub><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S_i = a_1 + a_2 + ... + a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ，规定边界<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">S_0 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></p><h4 id="代码实现1-based"><a class="markdownIt-Anchor" href="#代码实现1-based"></a> 代码实现(1-based)</h4><p><strong>存储时for循环最好要让下标从1开始，让<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">S_0 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，这样就不用处理边界问题</strong></p><pre class="language-c" data-language="c"><code class="language-c">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;const int N &#x3D; 1e6 + 10;vector&lt;int&gt; arr(N);vector&lt;int&gt; sum(N);int main() &#123;    int n, m;cin &gt;&gt; n &gt;&gt; m;       for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) scanf(&quot;%d&quot;, &amp;arr[i]);        &#x2F;&#x2F; 预处理前缀和    for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) sum[i] &#x3D; sum[i - 1] + arr[i];        &#x2F;&#x2F; m次询问区间[l, r]    while (m --) &#123;        int l, r;        scanf(&quot;%d%d&quot;, &amp;l, &amp;r);        printf(&quot;%d\n&quot;, sum[r] - sum[l - 1]);    &#125;&#125;</code></pre><h4 id="时间复杂度分析"><a class="markdownIt-Anchor" href="#时间复杂度分析"></a> 时间复杂度分析</h4><p>以一维前缀和为例，<strong>当你要多次(假设m次)求原数组(长度为n)中某一段子数组和</strong>的时候:</p><ul><li>如果没有前缀和，每求一段需要循环遍历一次数组, 1次时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>,  m次时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(mn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>;</li><li>当你存储了前缀和(预处理花费时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>, 求其中某一段<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span>的子数组和, 只要用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mi>r</mi></msub><mo>−</mo><msub><mi>S</mi><mrow><mi>l</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">S_r-S_{l-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>即可, 1次时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，m次时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span>，共<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mo>+</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(m+n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>.</li></ul><h3 id="二维前缀和"><a class="markdownIt-Anchor" href="#二维前缀和"></a> 二维前缀和</h3><p><strong>定义</strong></p><p>原二维数组(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>×</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">n \times m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>):</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>a</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>a</mi><mn>12</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>a</mi><mrow><mn>1</mn><mi>m</mi></mrow></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>a</mi><mn>21</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>a</mi><mn>22</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>a</mi><mrow><mn>2</mn><mi>m</mi></mrow></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>a</mi><mrow><mi>n</mi><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>a</mi><mrow><mi>n</mi><mn>2</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>a</mi><mrow><mi>n</mi><mi>m</mi></mrow></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><annotation encoding="application/x-tex">\begin{bmatrix}a_{11}  &amp;a_{12}  &amp;...     &amp;a_{1m}\\a_{21}  &amp;a_{22}  &amp;...     &amp;a_{2m} \\...     &amp;...     &amp;...     &amp;... \\a_{n1}  &amp;a_{n2}  &amp;...     &amp;a_{nm}\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.80204em;vertical-align:-2.15003em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6520099999999998em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-2.80499em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎢</span></span></span><span style="top:-3.40599em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎢</span></span></span><span style="top:-4.65201em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6520099999999998em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-2.80499em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎥</span></span></span><span style="top:-3.40599em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎥</span></span></span><span style="top:-4.65201em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>二维前缀和数组(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>×</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">n \times m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>):</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mn>12</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mrow><mn>1</mn><mi>m</mi></mrow></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mn>21</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mn>22</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mrow><mn>2</mn><mi>m</mi></mrow></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mrow><mi>n</mi><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mrow><mi>n</mi><mn>2</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>S</mi><mrow><mi>n</mi><mi>m</mi></mrow></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><annotation encoding="application/x-tex">\begin{bmatrix}S_{11}  &amp;S_{12}  &amp;...     &amp;S_{1m}\\S_{21}  &amp;S_{22}  &amp;...     &amp;S_{2m} \\...     &amp;...     &amp;...     &amp;... \\S_{n1}  &amp;S_{n2}  &amp;...     &amp;S_{nm}\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.80204em;vertical-align:-2.15003em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6520099999999998em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-2.80499em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎢</span></span></span><span style="top:-3.40599em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎢</span></span></span><span style="top:-4.65201em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6500000000000004em;"><span style="top:-4.8100000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.2099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6520099999999998em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-2.80499em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎥</span></span></span><span style="top:-3.40599em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎥</span></span></span><span style="top:-4.65201em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>a</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>a</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>a</mi><mrow><mi>i</mi><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>a</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">S_{ij} = \begin{bmatrix}a_{11}  &amp;...     &amp;a_{1j}\\...     &amp;...     &amp;...   \\a_{i1}  &amp;...     &amp;a_{ij}\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-4.05002em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span>, 规定边界<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">S_0 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></p><h4 id="代码实现1-based-2"><a class="markdownIt-Anchor" href="#代码实现1-based-2"></a> 代码实现(1-based)</h4><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;const int N &#x3D; 1e3 + 10;vector&lt;vector&lt;int&gt;&gt; arr(N, vector&lt;int&gt;(N));vector&lt;vector&lt;int&gt;&gt; sum(N, vector&lt;int&gt;(N));int main() &#123;int n, m, q;cin &gt;&gt; n &gt;&gt; m &gt;&gt; q;for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;for (int j &#x3D; 1; j &lt;&#x3D; m; j ++) &#123;scanf(&quot;%d&quot;, &amp;arr[i][j]);&#125;&#125;    &#x2F;&#x2F; 预处理二维前缀和for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;for (int j &#x3D; 1; j &lt;&#x3D; m; j ++) &#123;sum[i][j] &#x3D; sum[i][j - 1] + sum[i - 1][j] - sum[i - 1][j - 1] + arr[i][j];&#125;&#125;    &#x2F;&#x2F; m次询问[(x1, y1),(x2, y2)]while (q --) &#123;int x1, y1, x2, y2;scanf(&quot;%d%d%d%d&quot;, &amp;x1, &amp;y1, &amp;x2, &amp;y2);int ans &#x3D; sum[x2][y2] - sum[x1 - 1][y2] - sum[x2][y1 - 1] + sum[x1 - 1][y1 - 1];printf(&quot;%d\n&quot;, ans);&#125;return 0;&#125;</code></pre><p>二维前缀和有两种询问方式：</p><ol><li>目标子矩阵之和：已知左上角<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mn>1</mn><mo separator="true">,</mo><mi>y</mi><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x1, y1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，右下角坐标<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mn>2</mn><mo separator="true">,</mo><mi>y</mi><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x2, y2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord">2</span><span class="mclose">)</span></span></span></span></li></ol><pre class="language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; 区间[(x1, y1), (x2, y2)]int tar &#x3D; sum[x2][y2] - sum[x1 - 1][y2] - sum[x2][y1 - 1] + sum[x1 - 1][y1 - 1];</code></pre><ol start="2"><li>目标子矩阵之和：已知宽<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span>，高<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">h</span></span></span></span>，右下角坐标<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span></li></ol><pre class="language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; 区间[(x - h + 1, y - w + 1), (x, y)]int tar &#x3D; sum[x][y] - sum[x - h][y] - sum[x][y - w] + sum[x - h][y - w];</code></pre><h4 id="时间复杂度分析-2"><a class="markdownIt-Anchor" href="#时间复杂度分析-2"></a> 时间复杂度分析</h4><p>待续</p><p><strong>练习eg</strong>:</p><p><a href="https://www.acwing.com/problem/content/123/">Acwing-121.赶牛入圈</a></p><p><a href="https://www.acwing.com/problem/content/128/">Acwing-126.最大的和</a></p><blockquote><p><strong>PS</strong>:</p><p>为了节省空间，可以原地处理（只要题目不需要同时使用前缀和）：</p><p>一维：</p><pre class="language-c++" data-language="c++"><code class="language-c++">for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;scanf(&quot;%d&quot;, &amp;arr[i]);arr[i] +&#x3D; arr[i - 1];&#125;</code></pre><p>二维：</p><pre class="language-c++" data-language="c++"><code class="language-c++">for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;    for (int j &#x3D; 1; j &lt;&#x3D; m; j ++) &#123;        scanf(&quot;%d&quot;, &amp;arr[i][j]);        arr[i][j] +&#x3D; arr[i - 1][j] + arr[i][j - 1] - arr[i - 1][j - 1];    &#125;&#125;</code></pre><p>用完前缀和之后可以再对前缀和数组差分，还原回原数组</p></blockquote><h2 id="差分"><a class="markdownIt-Anchor" href="#差分"></a> 差分</h2><p>差分主要起优化作用，只要花费<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>的预处理，它可以在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>内给原数组中的某一段<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">{[l,r]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span></span>子数组区间加上一个固定的常数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span></span>。</p><h3 id="一维差分"><a class="markdownIt-Anchor" href="#一维差分"></a> 一维差分</h3><p><strong>定义</strong></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>b</mi><mi>i</mi></msub><mo>=</mo><msub><mi>a</mi><mi>i</mi></msub><mo>−</mo><msub><mi>a</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">{b_{i} = a_{i} - a_{i-1}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.902771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span></span>  ,   规定<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>b</mi><mn>1</mn></msub><mo>=</mo><msub><mi>a</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">{b_1 = a_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><h4 id="一维差分数组与原数组的转换1-based"><a class="markdownIt-Anchor" href="#一维差分数组与原数组的转换1-based"></a> 一维差分数组与原数组的转换(1-based)</h4><p>构造差分数组时，可以看作是在所有初始值为0的一段区间中，在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mi>i</mi><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">{[i, i]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span></span>区间插入了<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">{arr[i]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span></span>。</p><h4 id="时间复杂度分析-3"><a class="markdownIt-Anchor" href="#时间复杂度分析-3"></a> 时间复杂度分析</h4><p>同理于一维前缀和，预处理需要花费<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，此后单次<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mi>n</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">{insert}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">t</span></span></span></span></span>操作时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">{m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">m</span></span></span></span></span>次时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span>，总共<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mo>+</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(m + n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></p><p><strong>练习eg</strong>:</p><p><a href="https://www.acwing.com/problem/content/102/">Acwing-100.增减序列</a></p><h3 id="二维差分"><a class="markdownIt-Anchor" href="#二维差分"></a> 二维差分</h3><p><strong>定义</strong></p><h4 id="二维差分数组与原数组的转换1-based"><a class="markdownIt-Anchor" href="#二维差分数组与原数组的转换1-based"></a> 二维差分数组与原数组的转换(1-based)</h4><p><strong>原数组=&gt;二维差分数组</strong></p><p>同理于一维，构造差分数组时，可以看作是在所有初始值为0的一片区间中，在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">{[(i, j), (i,j)]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mopen">[</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></span>点插入了<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">{arr[i][j]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span></span>。</p><pre class="language-c++" data-language="c++"><code class="language-c++">int a[N][N];   &#x2F;&#x2F; 原数组int d[N][N];   &#x2F;&#x2F; 二维差分数组&#x2F;&#x2F; 在以左上角(x1, y1), 右下角(x2, y2)包围的子矩阵[包含边界]中插入数值cinline void insert(int x1, int y1, int x2, int y2, int c) &#123;    d[x1][y1] +&#x3D; c;    d[x2 + 1][y1] -&#x3D; c;    d[x1][y2 + 1] -&#x3D; c;    d[x2 + 1][y2 + 1] +&#x3D; c;&#125;int main() &#123;    cin &gt;&gt; n;    &#x2F;&#x2F; 1-based    for (int i &#x3D; 1; i &lt;&#x3D; n; ++ i) &#123;        for (int j &#x3D; 1; j &lt;&#x3D; n; ++ j) &#123;            cin &gt;&gt; a[i][j];            insert(i, j, i, j, a[i][j]);        &#125;    &#125;&#125;</code></pre><p><strong>二维差分数组=&gt;原数组</strong></p><pre class="language-c++" data-language="c++"><code class="language-c++">int a[N][N];   &#x2F;&#x2F; 原数组int d[N][N];   &#x2F;&#x2F; 二维差分数组int main() &#123;    for (int i &#x3D; 1; i &lt;&#x3D; n; ++ i) &#123;        for (int j &#x3D; 1; j &lt;&#x3D; n; ++ j) &#123;            &#x2F;&#x2F; a[i][j] &#x3D; d[i][j] + d[i - 1][j] + d[i][j - 1] - d[i - 1][j - 1];            &#x2F;&#x2F; 通常直接在原地还原，节省空间            d[i][j] +&#x3D; d[i - 1][j] + d[i][j - 1] - d[i - 1][j - 1];        &#125;    &#125;&#125;</code></pre><h4 id="时间复杂度分析-4"><a class="markdownIt-Anchor" href="#时间复杂度分析-4"></a> 时间复杂度分析</h4><h2 id="0-based"><a class="markdownIt-Anchor" href="#0-based"></a> 0-based</h2><h3 id="leetcode上的前缀和后缀和"><a class="markdownIt-Anchor" href="#leetcode上的前缀和后缀和"></a> LeetCode上的前缀和&amp;后缀和</h3><p>做法：统一把前缀和和后缀和，往后偏移1位， 用下标[1-n]的位置 存储</p><p>这样做的好处，就是不用特殊判断数组越界。</p><pre class="language-C++" data-language="C++"><code class="language-C++">&#x2F;&#x2F; 一般传入参数会给一个 vector&lt;int&gt; arr; 那么应该怎么求前&#x2F;后缀和呢？class Solution &#123;public:    vector&lt;int&gt; preAndsuf(int arr) &#123;        int n &#x3D; arr.size();                &#x2F;&#x2F; 前缀和pre        vector&lt;int&gt; pre(n + 2); &#x2F;&#x2F;pre(n + 1);也可以，统一n + 2        &#x2F;&#x2F; 后缀和suf        vector&lt;int&gt; suf(n + 2);        &#x2F;&#x2F; pre        for (int i &#x3D; 1, c &#x3D; 0; i &lt;&#x3D; n; i ++) &#123;pre[i] &#x3D; pre[i - 1] + arr[i - 1];        &#125;        &#x2F;&#x2F; suf        for (int i &#x3D; n, c &#x3D; 0; i &gt;&#x3D; 1; i --) &#123;            suf[i] &#x3D; suf[i + 1] + arr[i - 1];        &#125;        &#x2F;&#x2F; 使用1: 利用前缀和&#x2F;后缀和，求arr中区间[l, r]的区间和        int l &#x3D; 0, r &#x3D; n - 1;        int sum_lr &#x3D; pre[r + 1] - pre[(l + 1) - 1]; &#x2F;&#x2F; 利用前缀和求        int sum_lr &#x3D; suf[l + 1] - suf[(r + 1) + 1]; &#x2F;&#x2F; 利用后缀和求        &#x2F;&#x2F; 使用2: 求对应位置的前后缀和之和        vector&lt;int&gt; res;        for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;            res.emplace_back(pre[i] + suf[i]);        &#125;        return res;    &#125;&#125;;</code></pre><h3 id="leetcode上的差分数组"><a class="markdownIt-Anchor" href="#leetcode上的差分数组"></a> LeetCode上的差分数组</h3><p><a href="https://leetcode.cn/problems/increment-submatrices-by-one/">LeetCode-2536.子矩阵元素+1</a></p><pre class="language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:    vector&lt;vector&lt;int&gt;&gt; rangeAddQueries(int n, vector&lt;vector&lt;int&gt;&gt;&amp; queries) &#123;        &#x2F;&#x2F; 差分矩阵        vector&lt;vector&lt;int&gt;&gt; b(n + 2, vector&lt;int&gt; (n + 2, 0));                for (auto q : queries) &#123;            &#x2F;&#x2F; 要整体偏移1个单位下标            int x1 &#x3D; q[0] + 1, y1 &#x3D; q[1] + 1;            int x2 &#x3D; q[2] + 1, y2 &#x3D; q[3] + 1;                        b[x1][y1] +&#x3D; 1;            b[x2 + 1][y1] -&#x3D; 1;            b[x1][y2 + 1] -&#x3D; 1;            b[x2 + 1][y2 + 1] +&#x3D; 1;        &#125;                for (int i &#x3D; 1; i &lt;&#x3D; n; i ++) &#123;            for (int j &#x3D; 1; j &lt;&#x3D; n; j ++) &#123;                b[i][j] &#x3D; b[i][j] + b[i - 1][j] + b[i][j - 1] - b[i - 1][j - 1];            &#125;        &#125;                     vector&lt;vector&lt;int&gt;&gt; res(n, vector&lt;int&gt; (n, 0));        for (int i &#x3D; 0; i &lt; n; i ++) &#123;            for (int j &#x3D; 0; j &lt; n; j ++) &#123;                res[i][j] &#x3D; b[i + 1][j + 1];            &#125;        &#125;                return res;    &#125;&#125;;</code></pre><h4 id="总结一下"><a class="markdownIt-Anchor" href="#总结一下"></a> 总结一下</h4><p>leetcode上的题目通常会给vector，因此是0-base的(下标从0开始)</p><p>一般比较好写的是1-base的，你就需要在使用前，偏移一个单位处理.</p><p>开(n + 2)大小的数组，转换成1-based的写</p><h2 id="应用"><a class="markdownIt-Anchor" href="#应用"></a> 应用</h2><h4 id="前缀和-哈希表"><a class="markdownIt-Anchor" href="#前缀和-哈希表"></a> 前缀和 + 哈希表</h4><p>找到一个最长子数组，其元素和等于 0</p><p><a href="https://leetcode.cn/problems/find-longest-subarray-lcci/">https://leetcode.cn/problems/find-longest-subarray-lcci/</a></p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x00-基础算法-(4)-高精度</title>
    <link href="/2021/01/04/Algorithm/Template/20210104-0x00-%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95-(4)-%E9%AB%98%E7%B2%BE%E5%BA%A6/"/>
    <url>/2021/01/04/Algorithm/Template/20210104-0x00-%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95-(4)-%E9%AB%98%E7%B2%BE%E5%BA%A6/</url>
    
    <content type="html"><![CDATA[<h2 id="高精度运算"><a class="markdownIt-Anchor" href="#高精度运算"></a> 高精度运算</h2><p>高精度运算是<strong>位运算</strong>中一种比较广泛应用，其中的<strong>进位/借位机制</strong>很容易拓展到<strong>N进制计算</strong>。</p><p>只有C++需要注意高精度的问题，Java有大整数类<code>BigInteger</code>，Python的范围默认无限大。</p><p><strong>Step1</strong>:大整数存储 (用vector)</p><p><strong>Step2</strong>:代码模拟人工计算</p><h3 id="大整数存储"><a class="markdownIt-Anchor" href="#大整数存储"></a> 大整数存储</h3><blockquote><p>倒着表示：[0]下标存储个位=&gt;方便需要进位时，push_back()直接移位覆盖</p></blockquote><pre class="language-c" data-language="c"><code class="language-c">int main() &#123;    string a, b;    vector&lt;int&gt; A, B;        cin &gt;&gt; a &gt;&gt; b;         &#x2F;&#x2F; a &#x3D; &quot;123456&quot;    &#x2F;&#x2F; A[6, 5, 4, 3, 2, 1]     for (int i &#x3D; a.size() - 1; i &gt;&#x3D; 0; i --) A.push_back(a[i] - &#39;0&#39;);     for (int i &#x3D; b.size() - 1; i &gt;&#x3D; 0; i --) B.push_back(b[i] - &#39;0&#39;);        return 0;&#125;</code></pre><h3 id="模拟人工运算"><a class="markdownIt-Anchor" href="#模拟人工运算"></a> 模拟人工运算</h3><p>注意以下默认传入参数A和B都是正整数(不带±号)，也可以理解为绝对值的运算。</p><p><code>|A| + |B|</code>、 <code>|A| - |B|</code>、<code>|A| * |b|</code>、<code>|A| / |b|</code></p><p>模拟运算过程中最主要的是理解<strong>进位/借位机制</strong>的模拟写法。</p><h4 id="a-b"><a class="markdownIt-Anchor" href="#a-b"></a> A + B</h4><p>高精度正整数A + 高精度正整数B，返回和C</p><p>加法的位运算结果范围<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mo>∈</mo><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>20</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">t\in[0,20)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65418em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mclose">)</span></span></span></span></p><p>再用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>来表示位运算的<strong>进位</strong>:</p><ul><li>当 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mo>∈</mo><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">t \in [0,10)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65418em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mclose">)</span></span></span></span>，<code>t / 10</code>为0，不进位，当位运算结果<code>t</code>(也可以写成(<code>t % 10</code>))；</li><li>当 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mo>∈</mo><mo stretchy="false">[</mo><mn>10</mn><mo separator="true">,</mo><mn>20</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">t \in [10,20)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65418em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mclose">)</span></span></span></span>，<code>t / 10</code>为1，进位，当位运算结果<code>t % 10</code>.</li></ul><pre class="language-c" data-language="c"><code class="language-c">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;&#x2F;&#x2F; A + Bvector&lt;int&gt; add(vector&lt;int&gt; &amp;A, vector&lt;int&gt; &amp;B) &#123;vector&lt;int&gt; C;        int t &#x3D; 0; &#x2F;&#x2F; 进位    for (int i &#x3D; 0; i &lt; A.size() || i &lt; B.size(); i ++) &#123;        if (i &lt; A.size()) t +&#x3D; A[i];        if (i &lt; B.size()) t +&#x3D; B[i];                C.push_back(t % 10);        &#x2F;&#x2F; 标记本次运算是否进位，用于下一位运算        t &#x2F;&#x3D; 10;    &#125;        &#x2F;&#x2F; 最高位进位, 如:11 + 99 &#x3D; 110    if(t) C.push_back(t);         return C;&#125;int main() &#123;    string a, b;    vector&lt;int&gt; A, B;        cin &gt;&gt; a &gt;&gt; b;        for (int i &#x3D; a.size() - 1; i &gt;&#x3D; 0; i --) A.push_back(a[i] - &#39;0&#39;);     for (int i &#x3D; b.size() - 1; i &gt;&#x3D; 0; i --) B.push_back(b[i] - &#39;0&#39;);        auto C &#x3D; add(A, B);        for (int i &#x3D; C.size() - 1; i &gt;&#x3D; 0; i --) printf(&quot;%d&quot;, C[i]);        return 0;&#125;</code></pre><h4 id="a-b-2"><a class="markdownIt-Anchor" href="#a-b-2"></a> A - B</h4><p>高精度正整数A - 高精度正整数B，返回差C</p><p>减法的位运算结果范围<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mo>∈</mo><mo stretchy="false">(</mo><mo>−</mo><mn>10</mn><mo separator="true">,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">t\in(-10,10)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65418em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mclose">)</span></span></span></span></p><p>再用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>来表示位运算的<strong>借位</strong>:</p><ul><li>当 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mo>∈</mo><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">t \in [0,10)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65418em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mclose">)</span></span></span></span>，<code>t &gt; 0</code>，无需借位，当位运算结果<code>t</code>(也可以写成<code>(t + 10) % 10</code>);</li><li>当 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mo>∈</mo><mo stretchy="false">(</mo><mo>−</mo><mn>10</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">t \in (-10, 0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65418em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span>，<code>t &lt; 0</code>，需要借位，当位运算结果<code>(t + 10) % 10</code>.</li></ul><pre class="language-c" data-language="c"><code class="language-c">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;&#x2F;&#x2F; 判断是否有 A &gt;&#x3D; Bbool cmp(vector&lt;int&gt; &amp;A, vector&lt;int&gt; &amp;B) &#123;    if (A.size() !&#x3D; B.size()) return A.size() &gt; B.size();    for (int i &#x3D; A.size() - 1; i &gt;&#x3D; 0; i --) &#123;        if(A[i] !&#x3D; B[i]) &#123;            return A[i] &gt; B[i];        &#125;    &#125;        return true; &#125;&#x2F;&#x2F; A - B : 默认传入的A &gt;&#x3D; B, 如果A &lt; B，算 -(sub(B, A))vector&lt;int&gt; sub(vector&lt;int&gt; &amp;A, vector&lt;int&gt; &amp;B) &#123;    vector&lt;int&gt; C;        int t &#x3D; 0; &#x2F;&#x2F; 借位    for (int i &#x3D; 0; i &lt; A.size() || i &lt; B.size(); i ++) &#123;        if (i &lt; A.size()) t &#x3D; A[i] - t;        if (i &lt; B.size()) t -&#x3D; B[i];                &#x2F;&#x2F; C.push_back((t + 10) % 10); &#x2F;&#x2F; 可以从if-else中提出来        &#x2F;&#x2F; 标记本次运算是否借位，用于下一位运算        if (t &gt; 0) &#123;            C.push_back((t + 10) % 10);            t &#x3D; 1;        &#125;        else &#123;            C.push_back(t); &#x2F;&#x2F; 也可以写成C.push_back((t + 10) % 10);            t &#x3D; 0;        &#125;    &#125;        &#x2F;&#x2F; 去掉高位的多个0[只保留个位的0], 如:123 - 120 &#x3D; 003    while (C.size() &gt; 1 &amp;&amp; C.back() &#x3D;&#x3D; 0) C.pop_back();        return C;&#125;int main() &#123;    string a, b;    vector&lt;int&gt; A, B;        cin &gt;&gt; a &gt;&gt; b;        for (int i &#x3D; a.size() - 1; i &gt;&#x3D; 0; i --) A.push_back(a[i] - &#39;0&#39;);     for (int i &#x3D; b.size() - 1; i &gt;&#x3D; 0; i --) B.push_back(b[i] - &#39;0&#39;);        if (cmp(A, B)) &#123;        &#x2F;&#x2F; A &gt; B        auto C &#x3D; sub(A, B);        for (int i &#x3D; C.size() - 1; i &gt;&#x3D; 0; i --) printf(&quot;%d&quot;, C[i]);&#125;     else &#123;        &#x2F;&#x2F; B &gt; A        auto C &#x3D; sub(B, A);        printf(&quot;-&quot;);        for (int i &#x3D; C.size() - 1; i &gt;&#x3D; 0; i --) printf(&quot;%d&quot;, C[i]);&#125;        return 0;&#125;</code></pre><h4 id="a-b-3"><a class="markdownIt-Anchor" href="#a-b-3"></a> A * b</h4><p>高精度正整数A * 低精度正整数b，返回乘积C</p><p>考虑思路和A + B差不多</p><pre class="language-c" data-language="c"><code class="language-c">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;&#x2F;&#x2F; A * bvector&lt;int&gt; mul(vector&lt;int&gt; &amp;A, int b) &#123;    vector&lt;int&gt; C;        int t &#x3D; 0;    &#x2F;&#x2F; 当进位t为0时停止循环，可以省去后面的[最高位进位]和[去掉高位的多个0]的操作    &#x2F;&#x2F; for(int i &#x3D; 0; i &lt; A.size() || t; i ++) ，    for(int i &#x3D; 0; i &lt; A.size(); i ++) &#123;        t +&#x3D; A[i] * b;        C.push_back(t % 10);        t &#x2F;&#x3D; 10;&#125;        &#x2F;&#x2F; 最高位进位    if(t) C.push_back(t);    &#x2F;&#x2F; 去掉高位的多个0[只保留个位的0], 如:12345 * 0 &#x3D; 00000;    while(C.size() &gt; 1 &amp;&amp; C.back() &#x3D;&#x3D; 0) C.pop_back();        return C;&#125;int main() &#123;    string a;    int b;        cin &gt;&gt; a &gt;&gt; b;        vector&lt;int&gt; A;    for (int i &#x3D; a.size() - 1; i &gt;&#x3D; 0; i --) A.push_back(a[i] - &#39;0&#39;);        auto C &#x3D; mul(A, b);            for (int i &#x3D; C.size() - 1; i &gt;&#x3D; 0; i --) printf(&quot;%d&quot;, C[i]);        return 0;&#125;</code></pre><h4 id="a-b-4"><a class="markdownIt-Anchor" href="#a-b-4"></a> A * B</h4><p>高精度正整数A * 高精度正整数b，返回乘积C</p><p>基本思想先将 A[i]*B[j] 放在 C[i+j] 上，然后过一遍 C 处理进位即可</p><pre class="language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; O(nm)&#x2F;&#x2F; C &#x3D; A * B, A &gt;&#x3D; 0, B &gt;&#x3D; 0vector&lt;int&gt; mul(const vector&lt;int&gt; &amp;A, const vector&lt;int&gt; &amp;B) &#123;    vector&lt;int&gt; C(A.size() + B.size());    for (int i &#x3D; 0; i &lt; A.size(); i++) &#123;        for (int j &#x3D; 0; j &lt; B.size(); j++) &#123;            C[i + j] +&#x3D; A[i] * B[j];        &#125;    &#125;    int t &#x3D; 0;    for (int i &#x3D; 0; i &lt; C.size(); i++) &#123;        t +&#x3D; C[i];        C[i] &#x3D; t % 10;        t &#x2F;&#x3D; 10;    &#125;    while (C.size() &gt; 1 &amp;&amp; C.back() &#x3D;&#x3D; 0) C.pop_back();    return C;&#125;</code></pre><p>也可以考虑用快速傅里叶变换实现，但我不会:</p><p><a href="https://www.luogu.com.cn/problem/P3803">https://www.luogu.com.cn/problem/P3803</a></p><p><a href="https://www.bilibili.com/video/BV1gY411d7Z1/?vd_source=2100aa14287ae4387e91fc75d3371399">https://www.bilibili.com/video/BV1gY411d7Z1/?vd_source=2100aa14287ae4387e91fc75d3371399</a></p><h4 id="a-b-5"><a class="markdownIt-Anchor" href="#a-b-5"></a> A / b</h4><p>高精度正整数A / 低精度正整数b， 返回商C和余数r</p><p>注意人工算除法是从<strong>最高位开始除</strong>的，<br />因此模拟时for循环要从后往前，并且结束后为了保持大整数存储的一致性，要reverse()反转C</p><pre class="language-c" data-language="c"><code class="language-c">#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;&#x2F;&#x2F; A &#x2F; b, 商是C, 余数是rvector&lt;int&gt; div(vector&lt;int&gt; &amp;A, int b, int &amp;r) &#123;    vector&lt;int&gt; C;        r &#x3D; 0;&#x2F;&#x2F; 因为C++函数只能返回一个值，所以使用传引用&amp;r来影响r的值    for (int i &#x3D; A.size() - 1; i &gt;&#x3D; 0; i --) &#123;        r &#x3D; r * 10 + A[i];        C.push_back(r &#x2F; b);        r %&#x3D; b;    &#125;        reverse(C.begin(), C.end());    &#x2F;&#x2F; 去掉高位的多个0[只保留个位的0], 如:100 &#x2F; 19 &#x3D; 005...5    while(C.size() &gt; 1 &amp;&amp; C.back() &#x3D;&#x3D; 0) C.pop_back();        return C;&#125;int main() &#123;    string a;    int b;        cin &gt;&gt; a &gt;&gt; b;        vector&lt;int&gt; A;    for (int i &#x3D; a.size() - 1; i &gt;&#x3D; 0; i --) A.push_back(a[i] - &#39;0&#39;);        int r;&#x2F;&#x2F;余数     auto C &#x3D; div(A, b, r);        &#x2F;&#x2F; 商    for (int i &#x3D; C.size() - 1; i &gt;&#x3D; 0; i --) printf(&quot;%d&quot;, C[i]);        cout &lt;&lt; endl;    cout &lt;&lt; r &lt;&lt; endl;        return 0;&#125;</code></pre><h4 id="阶乘"><a class="markdownIt-Anchor" href="#阶乘"></a> 阶乘</h4><p><a href="https://www.luogu.com.cn/problem/P1009">P1009.阶乘之和</a></p><h4 id="时间复杂度分析"><a class="markdownIt-Anchor" href="#时间复杂度分析"></a> 时间复杂度分析</h4><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span></span></span></span></span>取<code>max(A.size(), B.size())</code></p><p><strong>A + B</strong>  : <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></p><p><strong>A - B</strong>   : <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></p><p><strong>A * b</strong>   : <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></p><p><strong>A * B</strong>   : <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nm)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span></p><p><strong>A / b</strong>   : <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>， 尽管有reverse()函数，但是reverse也是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>的。</p><p><strong>练习eg</strong>:</p><p><a href="https://www.acwing.com/problem/content/126/">Acwing-124.数的进制转换</a></p><h3 id="补充一个string去除前导零的操作"><a class="markdownIt-Anchor" href="#补充一个string去除前导零的操作"></a> 补充一个:string去除前导零的操作</h3><p>如果给你一个用string从高位到低位存储的大数，怎么去把字符串中多余的前导零去掉。</p><p>主要是<code>0000000000102</code> 和<code>00102</code>去除掉前导零后，是相同的数102。</p><pre class="language-c" data-language="c"><code class="language-c">string trim(string s) &#123;    &#x2F;&#x2F; 由于是前导0， 因此最后一位不判断int i &#x3D; 0;    while (i &lt; s.size() - 1 &amp;&amp; s[i] &#x3D;&#x3D; &#39;0&#39;) &#123;        i ++;    &#125;        return s.substr(i);&#125;</code></pre>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x00-基础算法-(3)-离散化</title>
    <link href="/2021/01/03/Algorithm/Template/20210103-0x00-%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95-(3)-%E7%A6%BB%E6%95%A3%E5%8C%96/"/>
    <url>/2021/01/03/Algorithm/Template/20210103-0x00-%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95-(3)-%E7%A6%BB%E6%95%A3%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<h2 id="离散化"><a class="markdownIt-Anchor" href="#离散化"></a> 离散化</h2><p><strong>离散化(discrete)</strong>，就是当我们只关心数据的<strong>相对大小关系</strong>时，用<strong>排名</strong>代替<strong>原数据</strong>进行处理的一种预处理方法。</p><blockquote><p>离散化本质上是一种哈希，它在保持原序列大小关系的前提下把其映射成正整数。</p></blockquote><p>当原数据很大或含有负数、小数时，难以表示为数组下标，一些算法和数据结构（如BIT）无法运作，这时我们就可以考虑将其离散化。</p><p>离散化的排序可以用二分来实现。</p><h3 id="离散化二分查询"><a class="markdownIt-Anchor" href="#离散化二分查询"></a> 离散化+二分查询</h3><pre class="language-c++" data-language="c++"><code class="language-c++">vector&lt;int&gt; arr;  &#x2F;&#x2F; 待离散数组vector&lt;int&gt; dsc;  &#x2F;&#x2F; 离散后数组&#x2F;&#x2F; 离散化void discrete() &#123;    dsc &#x3D; arr;    sort(dsc.begin(), dsc.end());    dsc.erase(unique(dsc.begin(), dsc.end()), dsc.end());    &#x2F;*    &#x2F;&#x2F; 代替unique的做法    dsc &#x3D; arr;    sort(dsc.begin(), dsc.end());    int j &#x3D; 0;    for (int i &#x3D; 0; i &lt; dsc.size(); i ++) &#123;        if (!i || dsc[i] !&#x3D; dsc[i - 1]) &#123;            dsc[++ j] &#x3D; dsc[i];        &#125;    &#125;    dsc.erase(dsc.begin() + j, dic.end());    *&#x2F;&#125;&#x2F;&#x2F; 二分查询int query (int x)&#123;    int idx &#x3D; lower_bound(dsc.begin(), dsc.end(), x) - dsc.begin(); &#x2F;&#x2F; 下标从1开始    &#x2F;&#x2F; int idx &#x3D; upper_bound(dsc.begin(), dsc.end(), x) - dsc.begin(); &#x2F;&#x2F; 下标从0开始&#125;</code></pre><p>查询是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>的</p><h3 id="离散化哈希查询"><a class="markdownIt-Anchor" href="#离散化哈希查询"></a> 离散化+哈希查询</h3><pre class="language-c++" data-language="c++"><code class="language-c++">vector&lt;int&gt; arr;    &#x2F;&#x2F; 待离散数组unordered_map&lt;int, int&gt; dsc;    &#x2F;&#x2F; hash表&#x2F;&#x2F; 离散void discrete() &#123;    int idx &#x3D; 0;    for (int i &#x3D; 0 ; i &lt; arr,size(); i ++) &#123;        if (!dsc.count[arr[i]]) &#123;            dsc[arr[i]] &#x3D; ++idx;        &#125;    &#125;&#125;&#x2F;&#x2F; hash查询int query(int x) &#123;    return dsc[x];&#125;</code></pre><p><strong>练习eg:</strong></p><p><a href="https://leetcode.cn/problems/rank-transform-of-an-array/">LeetCode-1331. 数组序号转换</a></p><p><a href="/2023/02/03/Algorithm/Comp/0x00/20230203-算法竞赛进阶指南-034-赶牛入圈/" target="_blank">Acwing-121.赶牛入圈</a></p><hr /><h3 id="离散化树状数组"><a class="markdownIt-Anchor" href="#离散化树状数组"></a> 离散化+树状数组</h3>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x00-基础算法-(2)-二分搜索</title>
    <link href="/2021/01/02/Algorithm/Template/20210102-0x00-%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95-(2)-%E4%BA%8C%E5%88%86/"/>
    <url>/2021/01/02/Algorithm/Template/20210102-0x00-%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95-(2)-%E4%BA%8C%E5%88%86/</url>
    
    <content type="html"><![CDATA[<p>二分的本质是划分两个区间，使得满足某种条件处于左left区间，满足另外一种条件的处于right区间。</p><p><strong>有单调性的题目一定可以二分， 可以二分的题目不一定非要有单调性(可以先sort构造出单调性)</strong></p><p>更新l, r的思路: 每次更新区间l,r时，都要保证target在区间内</p><ul><li>因为arr[mid] <code>&lt;</code> / <code>&lt;=</code>target ，所以 target必定在<code>mid ~ r</code>之间，因此更新l；</li><li>因为arr[mid] <code>&gt;</code> / <code>&gt;=</code> target，所以 target必定在<code>l ~ mid</code>之间，因此更新r.</li></ul><h2 id="整数二分"><a class="markdownIt-Anchor" href="#整数二分"></a> 整数二分</h2><h3 id="相错终止模板"><a class="markdownIt-Anchor" href="#相错终止模板"></a> 相错终止模板</h3><blockquote><p>要领：</p><ul><li>l 与 r是数组的左右闭区间 ，即 <code>l = 0</code>且<code>r = arr.size() - 1</code></li><li>while()括号内的条件:  <code>while (l &lt;= r)</code>或<code>while (l != r + 1)</code></li><li>arr[mid]与tar，或者说是check(mid)函数:<ul><li>check(mid)函数该怎么写，并对应更新区间的哪个端点</li></ul></li></ul></blockquote><p><code>..., idx_upper] target [idx_lower, ...</code></p><p>其中 :  idx_upper = l - 1（r）; idx_lower = r + 1（l） 。</p><p>以<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><mi>w</mi><mi>e</mi><mi>r</mi><mi mathvariant="normal">_</mi><mi>b</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">lower \_ bound</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00444em;vertical-align:-0.31em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">b</span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span></span></span></span>举例:</p><ul><li>循环结束后一定满足: l == r + 1</li></ul><p><img src="/img/algorithm/0x00/binary_search_lower_bound.png" alt="" /></p><hr /><h4 id="lower_bound模板"><a class="markdownIt-Anchor" href="#lower_bound模板"></a> lower_bound模板</h4><p>lower_bound(以target为下界: <code>target [lower, ...</code>返回<strong>第一个</strong>[插入target后，arr仍然保持有序]的下标</p><pre class="language-c" data-language="c"><code class="language-c">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;int binary_search1(vector&lt;int&gt; &amp;arr, int target) &#123;    int l &#x3D; 0, r &#x3D; arr.size() - 1;        while (l !&#x3D; r + 1) &#123;        int mid &#x3D; l + (r - l) &#x2F; 2;        if (arr[mid] &gt;&#x3D; target) &#123;            &#x2F;&#x2F; r的右边(不包括r)全大于等于target            r &#x3D; mid - 1;        &#125; else &#123;            &#x2F;&#x2F; l的左边(不包括l)全小于target            l &#x3D; mid + 1;        &#125;    &#125;         return l; &#x2F;&#x2F; return r + 1; &#x2F;&#x2F; lower_bound&#125;</code></pre><h5 id="应用-在数组arr中找到大于等于target的最小值"><a class="markdownIt-Anchor" href="#应用-在数组arr中找到大于等于target的最小值"></a> <strong>应用</strong>: 在数组arr中找到大于等于target的最小值</h5><ul><li>使用binary_search1():</li></ul><pre class="language-c" data-language="c"><code class="language-c">#include &lt;vector&gt;#include &lt;algorithm&gt;   &#x2F;&#x2F; sort()using namespace std;vector&lt;int&gt; arr;sort(arr.begin(), arr.end());int idx_lower &#x3D; binary_search1(arr, target);int lower &#x3D; idx_lower &#x3D;&#x3D; arr.size() ? -1 : arr[idx_lower];</code></pre><ul><li>使用lower_bound()函数达到相同目的:</li></ul><p><a href="https://en.cppreference.com/w/cpp/algorithm/lower_bound">C++: lower_bound函数</a>(Defined in header <code>&lt;algorithm&gt;</code>)</p><p>返回第一个大于等于target的下标迭代器</p><pre class="language-c" data-language="c"><code class="language-c">#include &lt;vector&gt;#include &lt;algorithm&gt;   &#x2F;&#x2F; sort() &amp; lower_bound() &amp; upper_boundusing namespace std;vector&lt;int&gt; arr;sort(arr.begin(), arr.end());auto it_lower &#x3D; lower_bound(arr.begin(), arr.end(), target);&#x2F;&#x2F; int idx_lower &#x3D; it_lower - arr.begin(); &#x2F;&#x2F; 下标可以求但没必要int lower &#x3D; it_lower &#x3D;&#x3D; arr.end() ? -1 : *it_lower;</code></pre><hr /><h4 id="upper_bound模板"><a class="markdownIt-Anchor" href="#upper_bound模板"></a> upper_bound模板</h4><p>upper_bound(以target为上界: <code>... upper] target</code>) 返回<strong>最后一个</strong>[插入target后，arr仍然保持有序]的下标</p><pre class="language-c" data-language="c"><code class="language-c">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;int binary_search2(vector&lt;int&gt; &amp;arr, int target) &#123;    int l &#x3D; 0, r &#x3D; arr.size() - 1;        while (l !&#x3D; r + 1) &#123;        int mid &#x3D; l + (r - l) &#x2F; 2;        if (arr[mid] &lt;&#x3D; target) &#123;            &#x2F;&#x2F; l的左边(不包括l)全小于等于target            l &#x3D; mid + 1;        &#125; else &#123;            &#x2F;&#x2F; r的右边(不包括r)全大于target            r &#x3D; mid - 1;        &#125;    &#125;         return r; &#x2F;&#x2F; return l - 1;    &#x2F;&#x2F; return l;    &#x2F;&#x2F; upper_bound&#125;</code></pre><h5 id="应用-在数组arr中找到小于等于target的最大值"><a class="markdownIt-Anchor" href="#应用-在数组arr中找到小于等于target的最大值"></a> <strong>应用</strong>: 在数组arr中找到小于等于target的最大值</h5><ul><li>使用binary_search2():</li></ul><pre class="language-c" data-language="c"><code class="language-c">#include &lt;vector&gt;#include &lt;algorithm&gt;   &#x2F;&#x2F; sort()using namespace std;vector&lt;int&gt; arr;sort(arr.begin(),arr.end());int idx_upper &#x3D; binary_search2(arr, target);int upper &#x3D; idx_upper() &#x3D;&#x3D; -1 ? -1 : arr[idx_upper];</code></pre><ul><li>使用upper_bound()函数达到相同目的:</li></ul><p><a href="https://en.cppreference.com/w/cpp/algorithm/upper_bound">C++: upper_bound函数</a>(Defined in header <code>&lt;algorithm&gt;</code>)</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi><mi>p</mi><mi>p</mi><mi>e</mi><mi>r</mi><mi mathvariant="normal">_</mi><mi>b</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>d</mi><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">upper\_bound()</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord mathdefault">u</span><span class="mord mathdefault">p</span><span class="mord mathdefault">p</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">b</span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mclose">)</span></span></span></span>返回第一个大于target的下标迭代器，那么小于等于就是prev(it)</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;algorithm&gt;   &#x2F;&#x2F; sort() &amp; lower_bound() &amp; upper_boundusing namespace std;vector&lt;int&gt; arr;sort(arr.begin(), arr.end());auto it_upper &#x3D; upper_bound(arr.begin(), arr.end(), target);&#x2F;&#x2F; int idx_upper &#x3D; it_upper - arr.begin(); &#x2F;&#x2F; 下标可以求但没必要int upper &#x3D; it_upper &#x3D;&#x3D; arr.begin() ? -1 : *prev(it_upper);  &#x2F;&#x2F; 注意这里是it_upper的前一个迭代器**练习eg:**</code></pre><p><strong>练习eg:</strong></p><p><a href="https://www.acwing.com/problem/content/791/">Acwing-789.数的范围</a></p><hr /><h3 id="二分答案"><a class="markdownIt-Anchor" href="#二分答案"></a> 二分答案</h3><p>二分答案用于解决诸如&quot;最大值最小、 最小值最大&quot;等<strong>最优化</strong>问题。</p><p>二分答案值域， 然后check(mid)是否在定义域内，一步步收缩值域两端lr，最终得到答案(分界点)<br />check(mid)-&gt;bool true or false，实际上就是0-1可行性函数，要在这个函数上二分查找分界点。</p><p>要使得最大值最小，收缩右区间；</p><p>要使得最小值最大，收缩左区间。</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;algorithm&gt;&#x2F;&#x2F; check函数可以用lambda匿名函数写auto check &#x3D; [&amp;](int x) -&gt; bool &#123;    if (&#x2F;* 满足题目条件 *&#x2F;) return true;    else return false;&#125;&#x2F;&#x2F; 假设值域范围为闭区间[left, right]int l &#x3D; left, r &#x3D; right;while (l !&#x3D; r + 1) &#123;    int mid &#x3D; l + (r - l) &#x2F; 2;    if (check(mid)) &#123;        l &#x3D; mid + 1;    &#125;    else &#123;        r &#x3D; mid - 1;    &#125;&#125;return r;</code></pre><p><strong>练习eg:</strong></p><p><a href="https://www.acwing.com/problem/content/104/">Acwing-102.最佳牛围栏</a></p><h2 id="浮点数二分"><a class="markdownIt-Anchor" href="#浮点数二分"></a> 浮点数二分</h2><p>浮点数二分， 由于/号不会有向下取整的问题， 因此不需要考虑边界问题</p><blockquote><p>要领：</p><ul><li>l 与 r同样是数组的左右闭区间</li><li>while()  括号内是 r - l &gt; 题给精度1e5</li><li>只有一种模板，return l 还是 return r都一样</li></ul></blockquote><pre class="language-c" data-language="c"><code class="language-c">#include &lt;iostream&gt;using namespace std;int main() &#123;    double x;    cin &gt;&gt; x;    double l &#x3D; 0, r &#x3D; x;    while (r - l &gt; 1e-6) &#123;        double mid &#x3D; l + (r - l) &#x2F; 2; &#x2F;&#x2F; 浮点数二分 &#x2F;号不会有向下取整的问题        &#x2F;&#x2F; eg:找几何平均数        if (mid * mid &gt;&#x3D; x) &#123;            r &#x3D; mid;        &#125;        else &#123;            l &#x3D; mid;        &#125;    &#125;    return l; &#x2F;&#x2F;return r也可以    &#125;</code></pre><p><strong>练习eg:</strong></p><p><a href="https://www.acwing.com/problem/content/792/">Acwing-790.数的三次方根</a></p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>0x00-基础算法-(1)-排序</title>
    <link href="/2021/01/01/Algorithm/Template/20210101-0x00-%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95-(1)-%E6%8E%92%E5%BA%8F/"/>
    <url>/2021/01/01/Algorithm/Template/20210101-0x00-%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95-(1)-%E6%8E%92%E5%BA%8F/</url>
    
    <content type="html"><![CDATA[<h2 id="排序"><a class="markdownIt-Anchor" href="#排序"></a> 排序</h2><p>排序算法有很多，算法题中最常用就以下几种：</p><h3 id="stdsort"><a class="markdownIt-Anchor" href="#stdsort"></a> std::sort</h3><p>sort()函数(Defined in header <code>&lt;algorithm&gt;</code>)</p><p>这个算法是个缝合怪，它汲取了插入排序、堆排序以及快排的优点，通常可以看作快排。</p><p>一般都结合Lambda表达式，写一个匿名的比较函数使用:</p><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;algorithm&gt;struct Node &#123;    int value; &#x2F;&#x2F; 价值    int cost;  &#x2F;&#x2F; 花费&#125;vector&lt;Node&gt; arr;&#x2F;&#x2F; 按(value &#x2F; cost)排序std::sort(arr.begin(), arr.end(), [](const Node&amp; a, const Node&amp; b) -&gt; bool &#123;    &#x2F;&#x2F; a.value &#x2F; a.cost &lt; b.value &#x2F; b.cost，把除法改成乘法，避免精度问题    return a.value * b.cost &lt; b.value * a.cost;&#125;);</code></pre><blockquote><p>如果要体现命名规范，<code>a</code> 可以写成 <code>lhs</code>, <code>b</code> 可以写成<code>rhs</code></p></blockquote><h4 id="复杂度分析"><a class="markdownIt-Anchor" href="#复杂度分析"></a> 复杂度分析</h4><ul><li>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n\log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，通常跟快排的时间复杂度相同。</li></ul><h3 id="快速排序"><a class="markdownIt-Anchor" href="#快速排序"></a> 快速排序</h3><p>快排基于分治思想</p><p><strong>Step1</strong>: 确定分界点: 一般取中点<code>x = arr[l + (r - l) / 2]</code>(这个分界点会很大程度上决定时间复杂度的好坏)</p><p><strong>Step2</strong>: 调整区间，使得：左区间的数≤分界点 ， 右区间的数≥分界点; ⭐️</p><p><strong>Step3</strong>: 递归处理左右两个区间。</p><h4 id="算法实现"><a class="markdownIt-Anchor" href="#算法实现"></a> 算法实现</h4><p>实现难点主要在于<strong>Step2</strong>双指针实现：</p><ul><li><p>第一个指针最初指向最左端， 第二个指针最初指向最右端。</p></li><li><p>将左右两个指针不断往中间移动移动，<br />当左边的指针第一次遇到&gt;边界值的数，右边的指针第一次遇到&lt;边界值的数，交换指针指向两个元素。<br />直到两指针相遇，完成当轮次快排。</p></li></ul><p>快速排序模板:</p><pre class="language-c" data-language="c"><code class="language-c">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;void quick_sort(vector&lt;int&gt; &amp;arr, int l, int r) &#123;&#x2F;&#x2F; 递归边界：区间里没有数了或者只有一个数if (l &gt;&#x3D; r) return;    &#x2F;&#x2F; step1int x &#x3D; arr[l + (r - l) &#x2F; 2];        &#x2F;&#x2F; step2int i &#x3D; l - 1, j &#x3D; r + 1;while (i &lt; j) &#123;do i ++; while (arr[i] &lt; x);do j --; while (arr[j] &gt; x);if (i &lt; j) swap(arr[i], arr[j]);&#125;        &#x2F;&#x2F; step3quick_sort(arr, l , j);quick_sort(arr, j + 1, r); &#125;int main() &#123;int n;cin &gt;&gt; n;vector&lt;int&gt;arr(n);for (int i &#x3D; 0; i &lt; n; i ++) scanf(&quot;%d&quot;, &amp;arr[i]);quick_sort(arr, 0, n - 1);for (int i &#x3D; 0; i &lt; n; i ++) printf(&quot;%d &quot;, arr[i]);return 0;&#125;</code></pre><h4 id="复杂度分析-2"><a class="markdownIt-Anchor" href="#复杂度分析-2"></a> 复杂度分析</h4><ul><li><p>时间复杂度：平均<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>，最坏时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p></li><li><p>空间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(\log n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span> ，递归深度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">{\log n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span></span>，即函数栈开销<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">{\log n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span></span></p></li></ul><p>快速排序是一种不稳定排序：<a href="https://zhuanlan.zhihu.com/p/341201904">https://zhuanlan.zhihu.com/p/341201904</a></p><blockquote><p>下面列一些这个算法模板在写的过程中需要注意的细节问题:</p><p>细节1： step3中必须要同时使用 <code>i - 1, i</code> 或 <code>j , j + 1</code></p><p>当使用<code>i - 1, i</code>， x不能取左边界[l]， 当使用<code>j, j + 1</code>时, x不能取右边界arr[r]<br />否则就会出现边界问题，陷入无限递归死循环</p><p>细节2:    <code>l + (r - l) / 2</code>和 <code>l + (r - l + 1) / 2</code></p><p>C++的/是向下取整的，因此<code>l + (r - l) / 2</code>偏向左边界[l]  =&gt;用<code>j , j + 1</code>;<br />人为+1/2进行四舍五入，因此<code>l + (r - l + 1) / 2</code>偏向右边界[r] =&gt; <code>用 i - 1, i</code></p><p>细节3:   <code>while (arr[i] &lt; x);</code> <code>while (arr[j] &gt; x);</code>就连等于边界值x时都要交换</p><p>细节4:  <code>int i = l - 1, j = r + 1;</code>初始化时i, j在两边界外</p><p>不难发现这个算法有许多边界问题需要注意，因此还是建议背模板的!</p></blockquote><p><strong>练习eg:</strong></p><p><a href="https://www.acwing.com/problem/content/787/">ACwing-785.快速排序</a></p><p>注意灵活应用，如：</p><p><a href="https://leetcode.cn/problems/custom-sort-string/description/">LeetCode-791.自定义字符串排序</a>     把arr[i]/arr[j]与x的比较方式重写一个cmp，可以写出自定义快排</p><p><a href="https://www.luogu.com.cn/problem/P1923">P1923 【深基9.例4】求第 k 小的数</a>  利用快排，可以<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>求第k大/第k小的数，而非<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></p><h3 id="归并排序"><a class="markdownIt-Anchor" href="#归并排序"></a> 归并排序</h3><p>归并排序基于分治思想</p><p><strong>Step1</strong>: 以中间点为分界点: <code>mid = l + (r - l) / 2</code></p><p><strong>Step2</strong>: 递归排序left, right区间;</p><p><strong>Step3</strong>: 归并，把两个有序子数组合二为一 。⭐️</p><h4 id="算法实现-2"><a class="markdownIt-Anchor" href="#算法实现-2"></a> 算法实现</h4><p>实现难点主要在于<strong>Step3</strong>双指针实现：</p><ul><li><p>第一个指针最初指向第一个有序子数组(从小到大)的开头，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>i</mi><msub><mi>n</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">min_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><br />第二个指针最初指向第一个有序子数组(从小到大)的开头，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>i</mi><msub><mi>n</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">min_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p></li><li><p>对两个指针指向的数循环比较，将较小的数归并回原数组，然后将其指针右移，继续比较；<br />直到两个指针都指向其数组的末端，完成当轮次归并。</p></li></ul><p>归并排序模板：</p><pre class="language-c" data-language="c"><code class="language-c">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;vector&lt;int&gt; tmp;&#x2F;&#x2F;要开辟一个数组做归并时的临时存储void merge_sort(vector&lt;int&gt; &amp;arr, int l, int r) &#123;    &#x2F;&#x2F; 递归边界if (l &gt;&#x3D; r) return;        &#x2F;&#x2F; step1    int mid &#x3D; l + (r - l) &#x2F; 2;        &#x2F;&#x2F; step2    merge_sort(arr, l, mid);    merge_sort(, mid + 1, r);        &#x2F;&#x2F; step3    int k &#x3D; 0;&#x2F;&#x2F; tmp数组中已经归并的元素数量    int i &#x3D; l, j &#x3D; mid + 1;    while (i &lt;&#x3D; mid &amp;&amp; j &lt;&#x3D; r) &#123;        if (arr[i] &lt;&#x3D; arr[j]) tmp[k ++ ] &#x3D; arr[i ++];        else tmp[k ++] &#x3D; arr[j ++];    &#125;    &#x2F;&#x2F;复制末尾    while (i &lt;&#x3D; mid) tmp[k ++] &#x3D; arr[i ++];    while (j &lt;&#x3D; r) tmp[k ++] &#x3D; arr[j ++];    &#x2F;&#x2F;复制回原数组进行覆盖    for (int i &#x3D; l, j &#x3D; 0; j &lt; k; i ++, j ++) arr[i] &#x3D; tmp[j];&#125;int main() &#123;int n;cin &gt;&gt; n;vector&lt;int&gt;arr(n);    tmp.resize(n);    for (int i &#x3D; 0; i &lt; n; i ++) scanf(&quot;%d&quot;, &amp;arr[i]);merge_sort(arr, 0, n - 1);for (int i &#x3D; 0; i &lt; n; i ++) printf(&quot;%d &quot;, arr[i]);return 0;&#125;</code></pre><h4 id="复杂度分析-3"><a class="markdownIt-Anchor" href="#复杂度分析-3"></a> 复杂度分析</h4><p>时间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(nlog_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span> (妥妥的)   空间复杂度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>（有额外数组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mi>m</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">tmp</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault">m</span><span class="mord mathdefault">p</span></span></span></span>）稳定</p><p><strong>时间复杂度</strong>: 比较和赋值的时间复杂度都是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，每次递归数组规模减半，即递归深度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi></mrow><annotation encoding="application/x-tex">{log_2n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span></span></span></span></span> ，也即总共需要<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi></mrow><annotation encoding="application/x-tex">{log_2n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span></span></span></span></span>次<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>的比较和赋值，因此总时间复杂度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(nlog_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span> 。</p><p><strong>空间复杂度</strong>: 递归深度<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi></mrow><annotation encoding="application/x-tex">{log_2n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span></span></span></span></span>，即函数栈开销<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi></mrow><annotation encoding="application/x-tex">{log_2n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span></span></span></span></span>，额外数组<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mi>m</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">tmp</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault">m</span><span class="mord mathdefault">p</span></span></span></span>为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，因此总空间复杂度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>。</p><blockquote><p>不要忘记了归并排序的tmp数组的define或resize，不然会出现段错误</p></blockquote><p><strong>练习eg:</strong></p><p><a href="https://www.acwing.com/problem/content/789/">ACwing-787.归并排序</a></p><h4 id="应用求逆序对"><a class="markdownIt-Anchor" href="#应用求逆序对"></a> 应用:求逆序对</h4><p>使用归并排序可以在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">{O(nlog_2n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span>，求一个长度为n的序列的逆序对的个数。</p><ol><li><p>递归对左右两半排序时，可以把左右两半各自内部的逆序对数作为子问题，在合并时只需要考虑“左边一半里一个较大的数”与“右边一半里一个较小的数”构成逆序对的情形:</p><blockquote><p><code>res = merge_sort(arr, l, mid) + merge_sort(arr, mid + 1, r)</code></p></blockquote></li><li><p>合并两个有序子序列<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>l</mi><mo>∼</mo><mi>m</mi><mi>i</mi><mi>d</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">{arr[l \sim mid]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mclose">]</span></span></span></span></span>与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>m</mi><mi>i</mi><mi>d</mi><mo>+</mo><mn>1</mn><mo>∼</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">{arr[mid + 1 \sim r]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span></span></span></span></span>，采用两个指针<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mi mathvariant="normal">，</mi><mi>j</mi></mrow><annotation encoding="application/x-tex">i，j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">i</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span></span></span></span>分别扫描，当出现<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>&gt;</mo><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">arr[i] &gt; arr[j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span>时，说明<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>i</mi><mo>∼</mo><mi>m</mi><mi>i</mi><mi>d</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">{arr[i \sim mid]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mclose">]</span></span></span></span></span>中所有元素都与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>r</mi><mi>r</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">arr[j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span>满足逆序对，数量为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>i</mi><mi>d</mi><mo>−</mo><mi>i</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">mid - i + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。</p><blockquote><p><code>if(arr[i] &gt; arr[j]) res += mid - i + 1;</code></p></blockquote></li></ol><pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;iostream&gt;using namespace std;typedef long long LL;const int N &#x3D; 5e5 + 7;int n;vector&lt;int&gt; tmp;LL merge_sort(vector&lt;int&gt; &amp;arr, int l, int r) &#123;    if (l &gt;&#x3D; r) return 0;    int mid &#x3D; l + (r - l) &#x2F; 2;    LL res &#x3D; merge_sort(arr, l, mid) + merge_sort(arr, mid + 1, r);    int k &#x3D; 0;    int i &#x3D; l, j &#x3D; mid + 1;    while (i &lt;&#x3D; mid &amp;&amp; j &lt;&#x3D; r) &#123;        if (arr[i] &lt;&#x3D; arr[j]) tmp[k ++] &#x3D; arr[i ++];        else &#123;            tmp[k ++] &#x3D; arr[j ++];            res +&#x3D; mid - i + 1; &#x2F;&#x2F; 从i到mid全是满足的逆序对        &#125;    &#125;    while (i &lt;&#x3D; mid) tmp[k ++] &#x3D; arr[i ++];    while (j &lt;&#x3D; r) tmp[k ++] &#x3D; arr[j ++];    for (int i &#x3D; l, j &#x3D; 0; j &lt; k; i ++, j ++) arr[i] &#x3D; tmp[j];    return res;&#125;</code></pre><p><strong>练习eg:</strong></p><p><a href="https://www.acwing.com/problem/content/109/">Acwing-107.超快速排序</a></p>]]></content>
    
    
    <categories>
      
      <category>数据结构与算法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Algorithm</tag>
      
      <tag>C++</tag>
      
      <tag>Template</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>虚拟机VMware搭建Hadoop3.2.2</title>
    <link href="/2020/12/01/Programing/20210331-VMware%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%90%AD%E5%BB%BAHadoop3/"/>
    <url>/2020/12/01/Programing/20210331-VMware%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%90%AD%E5%BB%BAHadoop3/</url>
    
    <content type="html"><![CDATA[<h2 id="1准备linux主机环境"><a class="markdownIt-Anchor" href="#1准备linux主机环境"></a> 1.准备Linux主机环境</h2><p>VMware:  VMware Workstation 15Pro    <a href="https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html">VMware下载地址</a></p><p>CenOS:  CentOS-8.3.2011-x86_64-dvd1.iso    <a href="http://isoredirect.centos.org/centos/8/isos/x86_64/">CenOS下载地址</a></p><p>免密登录 可以帮助解决Permission denied（publickey,gssapi-keyex,gssapi-with-mic)）</p><p><strong>Step1</strong>: 安装Vmware Workstation 15Pro</p><p>​       该步骤不是实验内容核心，具体省略跳过。</p><p><strong>Step2</strong>: 安装3台CenOS8虚拟机</p><p>由于不是实验内容核心，这里只放我所参照的教程:</p><p>Vmware安装CenOS8: <a href="https://www.cnblogs.com/Dear-XiaoLe/articles/12201099.html">https://www.cnblogs.com/Dear-XiaoLe/articles/12201099.html</a></p><p>​       按照教程配置，成功创建3台CenOS虚拟机</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>置顶文章测试</title>
    <link href="/2020/11/27/20191010-Test/"/>
    <url>/2020/11/27/20191010-Test/</url>
    
    <content type="html"><![CDATA[<p>你好，有任何问题欢迎在该置顶文章下留言。</p><p>页内跳转 :<a href="/2023/02/03/Algorithm/Comp/0x00/20230203-%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-034-%E8%B5%B6%E7%89%9B%E5%85%A5%E5%9C%88/">Acwing121-赶牛入圈</a></p><p>markdown语法不支持新页面打开，要用html标签</p><p>新页面打开：<a href="/2023/02/03/Algorithm/Comp/0x00/20230203-算法竞赛进阶指南-034-赶牛入圈/" target="_blank">Acwing121-赶牛入圈</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>密码文章测试</title>
    <link href="/2020/11/04/Diary/20210504-%E9%9A%8F%E6%84%8F%E8%AE%B0%E5%BD%95/"/>
    <url>/2020/11/04/Diary/20210504-%E9%9A%8F%E6%84%8F%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="4396f566be317e10a2ddeb6e5e3e3b2e6f62aa575437c3c19957bfc521e100f6">10d79030e8222445804370796b90fca137368a758ff1e0290f9ccb56396bdfee34be4d9e4d03c00b6264c747a4adf98d329fedd9bf054613f907fd75d03ee87d7fae7080e8d49bc5ba7bb12120897cbff51eccd0c1f00178af7206883381cff22567c35a6c156f19e5ecd7ea83e73718255980ed0cd7e01e11c62b8f8581a110b72d7d3d270503158fcc56ec6fa47d9e5ca2856f757866abe33ac8cefc0bb3d024e86c13620f6aa22ad10791953f505c6b87f84adccf483cd128127f6c018dde589ba4ef48267aa16d0f793e034d6443f8e8042fe39504e45fc8a86105a6d0087ea516573b8b40406f8aee38d763b945add8341c5a40a9861068e9666d05a699051cc7bebfd7ed9ce59bb07d5c13c1a6ac76b451f866090f3be89351351cc13d8932fd56ca345713e0f418d7830ac0252ce6b17662076513d12037980d3149339d785ccdc3a2b29b95ebaa3d2f58860c47edb480ca09d6901d1539bb0a4f4e9b4a53a44a3fcf98061bf515a4c764c7e568ce6e3ca5e3eca7ec56b451409b6360510933c0b7ce694061629dadb3c5301d0a39bb180f024926979fa682d7da170023e4f7ae6c34faa89e256c8ba20fec21</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Plz enter the password.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Git命令推送简记</title>
    <link href="/2020/07/29/Programing/20200729-Git%E5%91%BD%E4%BB%A4%E7%AE%80%E8%AE%B0/"/>
    <url>/2020/07/29/Programing/20200729-Git%E5%91%BD%E4%BB%A4%E7%AE%80%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="git-help"><a class="markdownIt-Anchor" href="#git-help"></a> Git-Help</h1><p>Git命令基础操作=&gt;自用</p><p>这个闯关式Web网页用来学习git挺好的，</p><p><a href="https://learngitbranching.js.org/?locale=zh_CN">https://learngitbranching.js.org/?locale=zh_CN</a></p><p>可以用来解决branch分支恐惧症，rebase恐惧症，conflict冲突恐惧症</p><h2 id="本地推送流程"><a class="markdownIt-Anchor" href="#本地推送流程"></a> 本地推送流程</h2><ul><li><p><strong>Step1</strong>: 右键=&gt; git bash here,弹出git命令行窗口</p></li><li><p><strong>Step2</strong>: 初始化本地仓库</p><pre class="language-bash" data-language="bash"><code class="language-bash">git init</code></pre><blockquote><p>本地默认创建主分支master</p></blockquote></li><li><p><strong>Step3</strong>: 本地仓库链接远程仓库</p><pre class="language-bash" data-language="bash"><code class="language-bash">git remote add [&#96;远程仓库名&#96;] [&#96;远程仓库地址&#96;]</code></pre><blockquote><p>这里的远程仓库名，习惯上一般使用 origin</p></blockquote></li><li><p><strong>Step4</strong>: 查看本地仓库状态</p><pre class="language-bash" data-language="bash"><code class="language-bash">git status  </code></pre><blockquote><p>该命令显示已修改但未同步的文件</p></blockquote></li><li><p><strong>Step5</strong>: 将文件同步添加到暂存区</p><pre class="language-bash" data-language="bash"><code class="language-bash">git add [&#96;状态里的新文件&#96;]  </code></pre><blockquote><p>可用<code>git add -A</code>一键添加</p></blockquote></li><li><p><strong>Step6</strong>: 将文件添加到仓库</p><pre class="language-bash" data-language="bash"><code class="language-bash">git commit -m &#39;[&#96;相关注释文字&#96;]&#39; </code></pre><blockquote><p>注意-m后的 注释文字要用引号</p></blockquote></li><li><p><strong>Step7</strong>: 将本地某分支推送到远程仓库，如果远程没有此分支会自动创建该分支，默认为master</p><pre class="language-bash" data-language="bash"><code class="language-bash">git push origin [&#96;本地分支名&#96;]</code></pre><blockquote><p>origin 为上面提到的默认远程仓库名</p></blockquote></li></ul><hr /><h2 id="tips额外需求"><a class="markdownIt-Anchor" href="#tips额外需求"></a> Tips[额外需求]</h2><h3 id="git-add"><a class="markdownIt-Anchor" href="#git-add"></a> git add</h3><ol><li>一键添加</li></ol><pre class="language-bash" data-language="bash"><code class="language-bash">git add -A</code></pre><p><em># Changes to be committed:</em></p><p><em>#   new file:   add-me</em></p><p><em>#   modified:   change-me</em></p><p><em>#   deleted:    delete-me</em></p><blockquote><p>​可以一键添加所有未跟踪(new)、修改(modified)、被删除(deleted)文件，修改本地仓库再次提交很方便</p></blockquote><h3 id="git-push-origin"><a class="markdownIt-Anchor" href="#git-push-origin"></a> git push origin</h3><ol><li>删除远程仓库的指定远程分支</li></ol><pre class="language-bash" data-language="bash"><code class="language-bash">git push origin --delete [&#96;远程分支名&#96;]</code></pre><ol start="2"><li>强制推送</li></ol><pre class="language-bash" data-language="bash"><code class="language-bash">git push -f </code></pre><blockquote><p>用于解决一些本地和远程始终不能同步[当前git pull无效]的问题，比如</p><p>Updates were rejected because the tip of your current branch is behind  its remote counterpart. Integrate the remote changes(e.g.‘git pull …’) before pushing again.</p></blockquote><h3 id="git-remote"><a class="markdownIt-Anchor" href="#git-remote"></a> git remote</h3><ol><li>查看远程仓库</li></ol><pre class="language-bash" data-language="bash"><code class="language-bash">git remote</code></pre><blockquote><p>显示当前已链接的<code>[远程仓库名]</code>  (但不显示远程仓库地址)</p></blockquote><ol start="2"><li>取消指定链接的远程仓库</li></ol><pre class="language-bash" data-language="bash"><code class="language-bash">git remote remove [&#96;远程仓库名&#96;]   </code></pre><ol start="3"><li>链接的远程仓库端口不是默认的port:22</li></ol><pre class="language-bash" data-language="bash"><code class="language-bash">git remote origin ssh:&#x2F;&#x2F;[&#96;用户名&#96;]@xx.xx.xx.xx:[&#96;端口号&#96;]&#x2F;..&#x2F;..&#x2F;xxx.git</code></pre><blockquote><p>当远程开放的ssh不是port:22时，使用2、3命令重写绑定链接远程仓库</p><p><strong>PS</strong>:一般github的.git开放ssh端口都是port:22，不用管这个;</p><p>git远程推送你自己的云服务器时，需要查看你自己设定的ssh端口,当然一般也是port:22，但可自主修改</p></blockquote><h2 id="常见问题"><a class="markdownIt-Anchor" href="#常见问题"></a> 常见问题</h2><ul><li><p>Step7推送时: error: src refspec <code>[branchName]</code> does not match any</p><p>修改本地分支名称</p><pre class="language-bash" data-language="bash"><code class="language-bash">git branch -m [oldBranchName] [newBranchName]</code></pre></li></ul><hr />]]></content>
    
    
    <categories>
      
      <category>常用命令</category>
      
    </categories>
    
    
    <tags>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
